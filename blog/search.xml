<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‘¨æŠ¥-20201002</title>
      <link href="/blog/2020/10/02/weekly-report-20201002/"/>
      <url>/blog/2020/10/02/weekly-report-20201002/</url>
      
        <content type="html"><![CDATA[<center><table><thead><tr><th style="text-align:center">2020-10-02</th><th style="text-align:center">å‘¨æŠ¥#06</th><th style="text-align:center">åˆ˜æ½˜</th></tr></thead><tbody></tbody></table></center><a id="more"></a><h2 id="i-task-achieved-last-week"><a class="header-anchor" href="#i-task-achieved-last-week">#</a>I. Task achieved last week</h2><hr><ul><li></li></ul><h2 id="ii-reports"><a class="header-anchor" href="#ii-reports">#</a>II. Reports</h2><hr><h2 id="iii-plan-for-this-week"><a class="header-anchor" href="#iii-plan-for-this-week">#</a>III. Plan for this week</h2><hr>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> weekly report </tag>
            
            <tag> lab406 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¦ç”¨Acrobatçš„è‡ªåŠ¨æ›´æ–°</title>
      <link href="/blog/2020/10/02/disable-auto-update-in-acrobat/"/>
      <url>/blog/2020/10/02/disable-auto-update-in-acrobat/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘å…¶å®åšäº†å¾ˆå¤šäº‹ï¼Œåªæ˜¯çœŸçš„æ²¡æœ‰æ—¶é—´æ¥å†™åšå®¢è®°å½•è¿™äº›äº† ğŸ˜” ï¼Œæ¯•ä¸šçœŸçš„å¥½éš¾ ğŸ˜­ ã€‚<br>å¸Œæœ›ä»¥åå¯ä»¥å‘¨æ›´æˆ–ä¸‰æ—¥ä¸€æ›´å§ï½è€Œä¸”æ›´è‡ªå·±çš„ä¸œè¥¿ã€‚</p><a id="more"></a><h2 id="ç¦ç”¨-acrobat-çš„è‡ªåŠ¨æ›´æ–°"><a class="header-anchor" href="#ç¦ç”¨-acrobat-çš„è‡ªåŠ¨æ›´æ–°">#</a>ç¦ç”¨ Acrobat çš„è‡ªåŠ¨æ›´æ–°</h2><p>æœ¬æ¥æˆ‘åœ¨<code>Creative Cloud</code>é‡Œéƒ½å·²ç»ç¦ç”¨è‡ªåŠ¨æ›´æ–°äº†ï¼Œä½†æ˜¯<code>Acrobat</code>è¿˜æ˜¯è‡ªåŠ¨å¼ºåˆ¶æ›´æ–°ï¼Œç ´è§£éƒ½æ˜¯æœ‰ä¸€ä¸ªæ—¶å»¶çš„ï¼Œæ‰€ä»¥å¿…é¡»æƒ³åŠæ³•ç¦æ‰è‡ªåŠ¨æ›´æ–°ã€‚</p><p><code>System Preferences</code> -&gt; <code>Security &amp; Privacy</code> -&gt; <code>Firewall</code>ï¼š</p><p>æ‰“å¼€<code>é˜²ç«å¢™</code>ï¼Œç„¶åè®¾ç½®<code>é˜²ç«å¢™é€‰é¡¹</code>ï¼ŒæŠŠ<code>Acrobat</code>çš„ç›¸å…³å†…å®¹å…¨æ‹‰è¿›æ¥ï¼Œç„¶å<code>Block incoming connections</code>ã€‚</p><center><p><img src="//onns.xyz/blog/image/20201002-1.jpg" alt="ç¤ºæ„å›¾"></p></center><p>ä¸è¿‡å¥½åƒå¤±æ•ˆäº†ã€‚ã€‚ã€‚è¯•è¯•çœ‹å§= =</p><h2 id="æ–°æ–¹æ³•"><a class="header-anchor" href="#æ–°æ–¹æ³•">#</a>æ–°æ–¹æ³•</h2><p>å‚ç…§ã€Š<a href="https://tieba.baidu.com/p/6852244355" target="_blank" rel="noopener">Adobe Acrobat DC 2020 for mac è‡ªåŠ¨æ›´æ–°ç‚¹ä¸æ‰</a>ã€‹ï¼Œå…ˆå¸è½½æ‰ç ´è§£å¥½çš„<code>Acrobat</code>ï¼Œç„¶åé‡æ–°ä¸‹ä¸€ä¸ªæ­£ç‰ˆçš„ï¼Œå…ˆä¸ç ´è§£ï¼Œç„¶åå¿«é€Ÿè¿›åˆ°è½¯ä»¶é‡ŒæŠŠè‡ªåŠ¨æ›´æ–°å…³æ‰ï¼Œå†ç ´è§£ï¼Œåæ­£<code>Acrobat</code>é‡Œçš„è‡ªåŠ¨æ›´æ–°å·²ç»è¢«å…³äº†ï¼Œä¹‹å‰éƒ½æ˜¯å…³ä¸æ‰çš„ï¼Œä¸”çœ‹çœ‹æ•ˆæœï¼</p><h2 id="adobe-zii-å¼€å¯"><a class="header-anchor" href="#adobe-zii-å¼€å¯">#</a>Adobe Zii å¼€å¯</h2><ol><li>å…ˆæŠŠ<code>Adobe Zii</code>ä»é™„åŠ ç£ç›˜ä¸­æ‹–å‡ºæ¥ï¼ˆä¸ç„¶åªæœ‰åªè¯»æƒé™ï¼‰ï¼Œç„¶åéšä¾¿æ”¾åœ¨å“ªé‡Œã€‚</li><li>æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼Œé”®å…¥ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xattr -rd com.apple.quarantine [è¿™ä¸ªæ˜¯é‚£ä¸ªappçš„ä½ç½®ï¼Œå¯ä»¥ç›´æ¥ä»Finderé‡Œæ‹–è¿›æ¥å°±è¡Œ]</span><br></pre></td></tr></table></figure></li><li>ç›´æ¥æ‰“å¼€å³å¯ã€‚</li></ol><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://www.zhihu.com/question/270067688/answer/1127977865" target="_blank" rel="noopener">macOS Adobe Acrobat Pro DC 2018.009.20044 å¦‚ä½•å–æ¶ˆè‡ªåŠ¨æ›´æ–°ï¼Ÿ</a></li><li><a href="https://www.adobezii.com/adobe-zii-cant-be-opened-catalina/" target="_blank" rel="noopener">Adobe Zii Canâ€™t be opened Catalina 2020 Solved</a></li><li><a href="https://blog.csdn.net/ly869915532/article/details/107739591" target="_blank" rel="noopener">é˜»æ­¢ Mac ç‰ˆ Adobe Acrobat Pro DC çš„é¡½å›ºçš„è‡ªåŠ¨æ›´æ–°</a></li><li><a href="https://tieba.baidu.com/p/6852244355" target="_blank" rel="noopener">Adobe Acrobat DC 2020 for mac è‡ªåŠ¨æ›´æ–°ç‚¹ä¸æ‰</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> adobe </tag>
            
            <tag> macos </tag>
            
            <tag> acrobat </tag>
            
            <tag> adobe zii </tag>
            
            <tag> creative cloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Temporal Segment Networks for Action Recognition in Videos</title>
      <link href="/blog/2020/09/28/temporal-segment-networks-for-action-recognition-in-videos/"/>
      <url>/blog/2020/09/28/temporal-segment-networks-for-action-recognition-in-videos/</url>
      
        <content type="html"><![CDATA[<h2 id="temporal-segment-networks-for-action-recognition-in-videos"><a class="header-anchor" href="#temporal-segment-networks-for-action-recognition-in-videos">#</a>Temporal Segment Networks for Action Recognition in Videos</h2><p>è¿™ç¯‡æ˜¯æœ€è¿‘ç ”ç©¶çš„è®ºæ–‡çš„èµ·å§‹è®ºæ–‡ï¼Œæå‡ºäº†ä¸€ç§<code>åŸºäºåˆ†ç‰‡é‡‡æ ·</code>çš„ç­–ç•¥ï¼Œä¼ ç»Ÿçš„ä¸è®ºæ˜¯åŒæµæ³•è¿˜æ˜¯ä¸‰ç»´å·ç§¯æ³•ï¼Œå—é™äºGPUèµ„æºå’Œç½‘ç»œç»“æ„çš„é™åˆ¶ï¼Œéƒ½åªèƒ½å¤„ç†ä¸€æ®µæ—¶é—´å†…çš„è§†é¢‘å¸§ï¼Œæ²¡æœ‰åŠæ³•åšåˆ°é•¿æ—¶é—´çš„é‡‡æ ·ã€‚</p><blockquote><p>As discussed in Sec. 1, long-range temporal modeling is important for action understanding in videos. The existing deep architectures such as two-stream ConvNets [1] and 3D convolutional networks [16] are designed to operate on a single frame or a stack of frames (e.g., 16 frames) with limited temporal durations. Therefore, these structures lack capacity of incorporating long-range temporal information of videos into the learning of action models.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MMTM Multimodal Transfer Module for CNN Fusion</title>
      <link href="/blog/2020/09/23/mmtm-multimodal-transfer-module-for-cnn-fusion/"/>
      <url>/blog/2020/09/23/mmtm-multimodal-transfer-module-for-cnn-fusion/</url>
      
        <content type="html"><![CDATA[<blockquote><p>In general, fusion can be achieved at the input level (i.e. early fusion), decision level (i.e. late fusion), or intermediately [8]. Although studies in neuroscience [9, 10] and machine learning [1, 3] suggest that mid-level feature fusion could benefit learning, late fusion is still the predominant method utilized for mulitmodal learning [11â€“13]. This is mostly due to practical reasons.</p></blockquote><blockquote><p>Another reason for the popularity of late fusion is that the architecture of each unimodal stream is carefully designed over years to achieve state-of-the-art performance for each modality.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘¨æŠ¥-20200918</title>
      <link href="/blog/2020/09/18/weekly-report-20200918/"/>
      <url>/blog/2020/09/18/weekly-report-20200918/</url>
      
        <content type="html"><![CDATA[<center><table><thead><tr><th style="text-align:center">2020-09-18</th><th style="text-align:center">å‘¨æŠ¥#05</th><th style="text-align:center">åˆ˜æ½˜</th></tr></thead><tbody></tbody></table></center><a id="more"></a><h2 id="i-task-achieved-last-week"><a class="header-anchor" href="#i-task-achieved-last-week">#</a>I. Task achieved last week</h2><hr><ul><li>ã€ŠLate Temporal Modeling in 3D CNN Architectures with BERT for Action Recognitionã€‹</li><li>ã€ŠGFNET A LIGHTWEIGHT GROUP FRAME NETWORK FOR EFFICIENT HUMAN ACTION RECOGNITIONã€‹</li><li>çœ‹ PAN çš„æºç </li></ul><h2 id="ii-reports"><a class="header-anchor" href="#ii-reports">#</a>II. Reports</h2><hr><h3 id="late-temporal-modeling-in-3d-cnn-architectures-with-bert-for-action-recognition"><a class="header-anchor" href="#late-temporal-modeling-in-3d-cnn-architectures-with-bert-for-action-recognition">#</a>Late Temporal Modeling in 3D CNN Architectures with BERT for Action Recognition</h3><p><code>HMDB51</code>å’Œ<code>UCF101</code>çš„<code>top-1</code>è¾¾åˆ°ç°é˜¶æ®µæœ€å¥½çš„æ°´å¹³ï¼Œåˆ†åˆ«ä¸º<code>85.10%</code>å’Œ<code>98.69%</code>ã€‚</p><p>æ—¶åºå…¨å±€å¹³å‡æ± åŒ–é˜»ç¢äº†æ—¶åºä¿¡æ¯çš„æ›´ä¸°å¯Œè¡¨è¾¾ã€‚è™½ç„¶æ„Ÿå—é‡å¯èƒ½åˆ†å¸ƒåœ¨æ•´ä¸ªè§†é¢‘åˆ‡ç‰‡ä¸­ï¼Œä½†æ˜¯å¯¹äºä¸åŒçš„åˆ‡ç‰‡ï¼Œå®ƒæ‰€èƒ½æä¾›çš„ä¿¡æ¯æ˜¯æœä»é«˜æ–¯åˆ†å¸ƒçš„ï¼Œç®€å•çš„å¹³å‡å¯èƒ½ä¼šæŸå¤±ä¿¡æ¯ã€‚</p><blockquote><p>temporal global average pooling (TGAP) layer is used at the end of all 3D CNN architectures hinders the richness of final temporal information.<br>the receptive field might cover the whole clip, the effective receptive field has a Gaussian distribution</p></blockquote><h3 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h3><ul><li><a href="https://github.com/artest08/LateTemporalModeling3DCNN" target="_blank" rel="noopener">https://github.com/artest08/LateTemporalModeling3DCNN</a></li></ul><h3 id="gfnet-a-lightweight-group-frame-network-for-efficient-human-action-recognition"><a class="header-anchor" href="#gfnet-a-lightweight-group-frame-network-for-efficient-human-action-recognition">#</a>GFNET A LIGHTWEIGHT GROUP FRAME NETWORK FOR EFFICIENT HUMAN ACTION RECOGNITION</h3><p>ä¸ºäº†è§£å†³ç°æœ‰çš„è¡Œä¸ºè¯†åˆ«æ–¹æ³•<code>è®¡ç®—é‡å¤§</code>ã€<code>å‚æ•°å¤š</code>çš„é—®é¢˜ï¼Œä½œè€…æå‡ºäº†<code>GFNet</code>ã€‚</p><blockquote><p>To handle these issues, we propose a lightweight neural network called Group Frame Network (GFNet).</p></blockquote><p>GFNet é€šè¿‡å¸§çº§åˆ†è§£ï¼Œä»¥æå°çš„ä»£ä»·æå–æ¯ä¸€å¸§çš„ç‰¹å¾ã€‚</p><blockquote><p>GFNet adds frame-level decomposition to extract features of each frame at a minuscule cost.</p></blockquote><p>è®¾è®¡äº†ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œèƒ½å¤Ÿä»…ä»<code>RGBå›¾åƒ</code>ä¸­æå–æ—¶ç©ºä¿¡æ¯ï¼Œè€Œä¸éœ€è¦å€ŸåŠ©<code>å…‰æµ</code>æˆ–<code>multi-scale testing</code>ç­‰ã€‚</p><blockquote><p>There are two core components: <code>Group Temporal Module</code> (GTM) and <code>Group Spatial Module</code> (GSM). These two modules enable GFNet to obtain temporal-spatial information only from RGB images.</p></blockquote><p>ä¸ºäº†è¯æ˜æ¨¡å‹çš„æœ‰æ•ˆæ€§ï¼Œä»–ä»¬æ²¡æœ‰ä½¿ç”¨é¢„è®­ç»ƒç­–ç•¥ã€‚</p><blockquote><p>To verify the validity of the model, no pre-training strategy is used in our experiments.</p></blockquote><p>ç½‘ç»œçš„è¾“å…¥æ˜¯<code>ä¸€å®šæ•°é‡</code>çš„<code>è§†é¢‘å¸§</code>ï¼Œå¯¹è§†é¢‘è¿›è¡Œåˆ†æ®µé‡‡æ ·å¾—åˆ°ç»“æœã€‚</p><blockquote><p>The entire video with a variable number of frames is provided as the input of the network. Through an average sampling strategy, the video is divided into N equal-length segments and only one frame is selected from each segment. Due to the repeatability of adjacent frames, this sampling strategy can reduce inter-frame redundancy while preserving long-temporal information.</p></blockquote><p>K ä¸ªå±‚åŒæ—¶è¾“å…¥ç½‘ç»œè·å–æ—¶é—´ä¿¡æ¯ã€‚</p><blockquote><p>The first part is a feature extraction layer consisting of K separated branches. The sampled frames are simultaneously fed into the network to maintain the temporal information among these frames.</p></blockquote><p>å„è‡ªçš„åˆ†æ”¯ç‹¬ç«‹è®¡ç®—è·å¾—ç©ºé—´ä¿¡æ¯ã€‚</p><blockquote><p>In the feature extraction layer, each frame is learned independently using a network branch to get its spatial features.</p></blockquote><p>æ²¡å¤ªç†è§£ã€‚</p><blockquote><p>all the sampled frames are stacked by channel-wise convolution.<br>It means that the input channel of GFNet is 3N when using RGB images as input.</p></blockquote><p>ç”±äºæ®‹å·®ç½‘ç»œå…·æœ‰é«˜åº¦çš„æ³›åŒ–èƒ½åŠ›å’Œæ€§èƒ½ï¼Œæ‰€ä»¥åç»­çš„å—é€‰æ‹©é«˜åº¦æ¨¡å—åŒ–æ®‹å·®å•å…ƒã€‚</p><blockquote><p>Owing to the impressive performance and strong generalization abil- ity of residual architecture, the block is based on the highly modularized residual unit.</p></blockquote><p>è¿™å¥è¯æ²¡å¤ªç†è§£ã€‚</p><blockquote><p>Considering the extraneous motion and identical texture features in sampled frames, GFNet decomposes frames and reduces the number of channels for each frame to lessen spatial redundancy. To be specific, the number of channels is equally divided among branches. It means that only a small number of channels are used per frame.</p></blockquote><h3 id="group-temporal-module"><a class="header-anchor" href="#group-temporal-module">#</a>Group Temporal Module</h3><p>å› ä¸ºæ¯ä¸ªåˆ†æ”¯éƒ½æ˜¯å•ç‹¬è®¡ç®—çš„ï¼Œæ‰€ä»¥åŠ¿å¿…ä¼šé™ä½å‡†ç¡®ç‡ï¼ˆæ²¡æœ‰æå–å¸§é—´çš„è”ç³»ï¼‰ï¼Œæ‰€ä»¥æå‡ºäº†<code>GTM</code>æ¨¡å—ã€‚</p><blockquote><p>To leverage the inter-frame information effectively and better strengthen temporal relationships, GTM is proposed to efficiently overcome the side effects brought by the separated branch.</p></blockquote><blockquote><p>GTM consists of a translation layer and a 3D convolution layer.</p></blockquote><blockquote><p>The translation layer makes the replacement of the data dimension. It includes the channel merger and the channel separation, which achieves the conversion of the feature map from four-dimensional data to five-dimensional data.</p></blockquote><h3 id="group-spatial-module"><a class="header-anchor" href="#group-spatial-module">#</a>Group Spatial Module</h3><p>For the convolution layer of ResNet50, the computational cost is closely related to the number of channels. Motivated by this, a novel module called GSM is designed to significantly decrease the number of parameters and computational efforts.</p><p>GSM ä¹Ÿæ˜¯é€šè¿‡åªå–çº¹ç†æ¥æœ€å°åŒ–è®¡ç®—æˆæœ¬ã€‚</p><blockquote><p>Because of the similarity among frames, the texture information is repetitive. Meanwhile, irrelevant motion inside frames increases the intra-frame redundancy. Aiming at minimizing the interference of redundant information, GSM diminishes the number of channels to extract features per frame.</p></blockquote><h2 id="iii-plan-for-this-week"><a class="header-anchor" href="#iii-plan-for-this-week">#</a>III. Plan for this week</h2><hr><ul><li>çœ‹è®ºæ–‡</li><li>çœ‹ä»£ç </li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> weekly report </tag>
            
            <tag> lab406 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaçš„ThreadLocalç±»</title>
      <link href="/blog/2020/09/16/java-threadlocal/"/>
      <url>/blog/2020/09/16/java-threadlocal/</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.juc;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/16 9:06 PM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadLocalTest</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ThreadLocal&lt;String&gt; stringThreadLocal = <span class="keyword">new</span> ThreadLocal&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Thread thread = Thread.currentThread();</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": "</span>);</span><br><span class="line">stringThreadLocal.set(<span class="string">"This is a"</span>);</span><br><span class="line">System.out.println(stringThreadLocal.get());</span><br><span class="line">stringThreadLocal.remove();</span><br><span class="line">System.out.println(stringThreadLocal.get());</span><br><span class="line">&#125;, <span class="string">"A"</span>).start();</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">": "</span>);</span><br><span class="line">stringThreadLocal.set(<span class="string">"This is b"</span>);</span><br><span class="line">System.out.println(stringThreadLocal.get());</span><br><span class="line">stringThreadLocal.remove();</span><br><span class="line">System.out.println(stringThreadLocal.get());</span><br><span class="line">&#125;, <span class="string">"B"</span>).start();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p><code>get</code>æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Sets the current thread's copy of this thread-local variable</span></span><br><span class="line"><span class="comment"> * to the specified value.  Most subclasses will have no need to</span></span><br><span class="line"><span class="comment"> * override this method, relying solely on the &#123;<span class="doctag">@link</span> #initialValue&#125;</span></span><br><span class="line"><span class="comment"> * method to set the values of thread-locals.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value the value to be stored in the current thread's copy of</span></span><br><span class="line"><span class="comment"> *        this thread-local.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(T value)</span> </span>&#123;</span><br><span class="line">Thread t = Thread.currentThread();</span><br><span class="line">ThreadLocalMap map = getMap(t);</span><br><span class="line"><span class="keyword">if</span> (map != <span class="keyword">null</span>) &#123;</span><br><span class="line">map.set(<span class="keyword">this</span>, value);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">createMap(t, value);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>getMap</code>æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get the map associated with a ThreadLocal. Overridden in</span></span><br><span class="line"><span class="comment"> * InheritableThreadLocal.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  t the current thread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the map</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">ThreadLocalMap <span class="title">getMap</span><span class="params">(Thread t)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> t.threadLocals;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>createMap</code>æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Create the map associated with a ThreadLocal. Overridden in</span></span><br><span class="line"><span class="comment"> * InheritableThreadLocal.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> t the current thread</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> firstValue value for the initial entry of the map</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">createMap</span><span class="params">(Thread t, T firstValue)</span> </span>&#123;</span><br><span class="line">t.threadLocals = <span class="keyword">new</span> ThreadLocalMap(<span class="keyword">this</span>, firstValue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>ThreadLocalMap</code>æ„é€ å‡½æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Construct a new map initially containing (firstKey, firstValue).</span></span><br><span class="line"><span class="comment"> * ThreadLocalMaps are constructed lazily, so we only create</span></span><br><span class="line"><span class="comment"> * one when we have at least one entry to put in it.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">ThreadLocalMap(ThreadLocal&lt;?&gt; firstKey, Object firstValue) &#123;</span><br><span class="line">table = <span class="keyword">new</span> Entry[INITIAL_CAPACITY];</span><br><span class="line"><span class="keyword">int</span> i = firstKey.threadLocalHashCode &amp; (INITIAL_CAPACITY - <span class="number">1</span>);</span><br><span class="line">table[i] = <span class="keyword">new</span> Entry(firstKey, firstValue);</span><br><span class="line">size = <span class="number">1</span>;</span><br><span class="line">setThreshold(INITIAL_CAPACITY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Set the value associated with key.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> key the thread local object</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value the value to be set</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(ThreadLocal&lt;?&gt; key, Object value)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// We don't use a fast path as with get() because it is at</span></span><br><span class="line"><span class="comment">// least as common to use set() to create new entries as</span></span><br><span class="line"><span class="comment">// it is to replace existing ones, in which case, a fast</span></span><br><span class="line"><span class="comment">// path would fail more often than not.</span></span><br><span class="line"></span><br><span class="line">Entry[] tab = table;</span><br><span class="line"><span class="keyword">int</span> len = tab.length;</span><br><span class="line"><span class="keyword">int</span> i = key.threadLocalHashCode &amp; (len-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (Entry e = tab[i];</span><br><span class="line"> e != <span class="keyword">null</span>;</span><br><span class="line"> e = tab[i = nextIndex(i, len)]) &#123;</span><br><span class="line">ThreadLocal&lt;?&gt; k = e.get();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (k == key) &#123;</span><br><span class="line">e.value = value;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (k == <span class="keyword">null</span>) &#123;</span><br><span class="line">replaceStaleEntry(key, value, i);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tab[i] = <span class="keyword">new</span> Entry(key, value);</span><br><span class="line"><span class="keyword">int</span> sz = ++size;</span><br><span class="line"><span class="keyword">if</span> (!cleanSomeSlots(i, sz) &amp;&amp; sz &gt;= threshold)</span><br><span class="line">rehash();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Removes the current thread's value for this thread-local</span></span><br><span class="line"><span class="comment"> * variable.  If this thread-local variable is subsequently</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@linkplain</span> #get read&#125; by the current thread, its value will be</span></span><br><span class="line"><span class="comment"> * reinitialized by invoking its &#123;<span class="doctag">@link</span> #initialValue&#125; method,</span></span><br><span class="line"><span class="comment"> * unless its value is &#123;<span class="doctag">@linkplain</span> #set set&#125; by the current thread</span></span><br><span class="line"><span class="comment"> * in the interim.  This may result in multiple invocations of the</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> initialValue&#125; method in the current thread.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> ThreadLocalMap m = getMap(Thread.currentThread());</span><br><span class="line"> <span class="keyword">if</span> (m != <span class="keyword">null</span>) &#123;</span><br><span class="line"> m.remove(<span class="keyword">this</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> source code </tag>
            
            <tag> threadlocal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šç¿»è½¬äºŒå‰æ ‘</title>
      <link href="/blog/2020/09/16/solution-of-invert-binary-tree/"/>
      <url>/blog/2020/09/16/solution-of-invert-binary-tree/</url>
      
        <content type="html"><![CDATA[<h2 id="226-ç¿»è½¬äºŒå‰æ ‘"><a class="header-anchor" href="#226-ç¿»è½¬äºŒå‰æ ‘">#</a><a href="https://leetcode-cn.com/problems/invert-binary-tree/" target="_blank" rel="noopener">226. ç¿»è½¬äºŒå‰æ ‘</a></h2><p>ç¿»è½¬ä¸€æ£µäºŒå‰æ ‘ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p>è¾“å…¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     4</span><br><span class="line">   &#x2F;   \</span><br><span class="line">  2     7</span><br><span class="line"> &#x2F; \   &#x2F; \</span><br><span class="line">1   3 6   9</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">     4</span><br><span class="line">   &#x2F;   \</span><br><span class="line">  7     2</span><br><span class="line"> &#x2F; \   &#x2F; \</span><br><span class="line">9   6 3   1</span><br></pre></td></tr></table></figure><p>å¤‡æ³¨ï¼š</p><p>è¿™ä¸ªé—®é¢˜æ˜¯å—åˆ°<a href="https://twitter.com/mxcl" target="_blank" rel="noopener">Max Howell</a>çš„<a href="https://twitter.com/mxcl/status/608682016205344768" target="_blank" rel="noopener">åŸé—®é¢˜</a>å¯å‘çš„ï¼š</p><blockquote><p>è°·æ­Œï¼šæˆ‘ä»¬ 90ï¼…çš„å·¥ç¨‹å¸ˆä½¿ç”¨æ‚¨ç¼–å†™çš„è½¯ä»¶(Homebrew)ï¼Œä½†æ˜¯æ‚¨å´æ— æ³•åœ¨é¢è¯•æ—¶åœ¨ç™½æ¿ä¸Šå†™å‡ºç¿»è½¬äºŒå‰æ ‘è¿™é“é¢˜ï¼Œè¿™å¤ªç³Ÿç³•äº†ã€‚</p></blockquote><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/16 9:41 AM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InvertBinaryTree</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> * int val;</span></span><br><span class="line"><span class="comment"> * TreeNode left;</span></span><br><span class="line"><span class="comment"> * TreeNode right;</span></span><br><span class="line"><span class="comment"> * TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> val;</span><br><span class="line">TreeNode left;</span><br><span class="line">TreeNode right;</span><br><span class="line"></span><br><span class="line">TreeNode(<span class="keyword">int</span> x) &#123;</span><br><span class="line">val = x;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">invertTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">exchange(root);</span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exchange</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">TreeNode t = root.left;</span><br><span class="line">root.left = root.right;</span><br><span class="line">root.right = t;</span><br><span class="line"><span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">exchange(root.left);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">exchange(root.right);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> é€’å½’ </tag>
            
            <tag> recursion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»Šæ—¥çš„å¤§å‘ï¼šsshå¯†é’¥å¤±æ•ˆ</title>
      <link href="/blog/2020/09/16/ssh-key-can-not-work/"/>
      <url>/blog/2020/09/16/ssh-key-can-not-work/</url>
      
        <content type="html"><![CDATA[<p>åƒå¾€å¸¸ä¸€æ ·ï¼Œæ—¥å¸¸å¤‡ä»½ä¸€ä¸‹æœåŠ¡å™¨ä¸Šçš„å¤‡ä»½æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -auv -e <span class="string">"ssh -i /home/deploy/.ssh/mi"</span> --progress /home/deploy/common/ android@xm.onns.xyz:/home/android/</span><br></pre></td></tr></table></figure><p>çªç„¶é—´æˆ‘æœåŠ¡å™¨ç‚¸äº†ï¼Œ<code>ssh</code>ä»€ä¹ˆçš„éƒ½è¿ä¸ä¸Šäº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android@xm.onns.xyz: Permission denied (publickey,gssapi-keyex,gssapi-with-mic).</span><br></pre></td></tr></table></figure><a id="more"></a><p>ä¹‹å‰ä»æ²¡é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼Œæ­£å› ä¸ºä»æ¥æ²¡é‡åˆ°è¿‡ï¼Œæ‰€ä»¥æˆ‘æœåŠ¡å™¨ä¸Šåªæœ‰ä¸€ä¸ªè´¦æˆ·ï¼Œè¿™ä¸ªè´¦æˆ·æ²¡æ³•ç™»å½•ï¼Œæˆ‘æ•´ä¸ªæœåŠ¡å™¨å°±è¿æ¥ä¸ä¸Šäº†ï¼Œç‰©ç†æœºä¹Ÿè¿æ¥ä¸ä¸ŠğŸ˜­ã€‚</p><p>åé¢é‡æ–°å®‰è£…äº†sshä¹‹åæ€»ç®—å¯ä»¥ç™»å½•äº†ï¼Œä¸Šå»æ’æŸ¥é—®é¢˜ã€‚</p><p>é¦–å…ˆç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å¯èƒ½æ˜¯ï¼Œæˆ‘çš„<code>rsync</code>ç›®çš„è·¯å¾„æ˜¯æˆ‘ç”¨æˆ·çš„æ ¹ç›®å½•ï¼Œä¼šä¸ä¼šå‘ç”Ÿäº†<code>è¦†ç›–å†™</code>æ“ä½œï¼ŒæŠŠæˆ‘çš„<code>æ ¹ç›®å½•</code>ä¸‹çš„<code>.ssh/</code>ç›®å½•åˆ é™¤äº†ï¼Œå¯¼è‡´<code>ssh</code>æ‰¾ä¸åˆ°<code>authorized_keys</code>æ–‡ä»¶ã€‚</p><p>è¿™ä¸ªé—®é¢˜é¦–å…ˆå»çœ‹äº†ä¸‹<code>rsync</code>çš„å‚æ•°ï¼Œæˆ‘æ²¡æœ‰å¸¦<code>--delete</code>æ‰€ä»¥è‚¯å®šä¸ä¼šæœ‰<code>åˆ é™¤</code>çš„é—®é¢˜ï¼Œè€Œä¸”åé¢ç™»å½•ä¸Šå»ä¹‹åä¹Ÿç¡®å®<code>æ ¹ç›®å½•</code>ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ï¼Œæ­¤é—®é¢˜æ’é™¤ã€‚</p><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ ¹æ®æˆ‘ç°æœ‰çš„çŸ¥è¯†ï¼Œæ²¡æœ‰åŠæ³•ç¡®å®šé—®é¢˜å‘ç”Ÿçš„åŸå› ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—é‡æ–°é…ç½®ä¸€ä¸‹<code>ssh</code>å¯†é’¥ï¼Œç„¶å<code>å†æ¬¡å¤ç°</code>ä¸€ä¸‹ä¹‹å‰çš„æ“ä½œã€‚</p><p>åˆ°è¿™é‡Œå°±å‡ºç°äº†é—®é¢˜ï¼Œ<code>ssh</code>å¯†é’¥ä¸è®ºæˆ‘æ€ä¹ˆé…ç½®ï¼Œ<code>android</code>ç”¨æˆ·éƒ½æ— æ³•é€šè¿‡<code>å¯†é’¥</code>ç™»å½•ã€‚</p><p>æŸ¥çœ‹äº†ä¸€ä¸‹<code>/etc/ssh/sshd_config</code>ï¼Œå‘ç°ç›¸å…³çš„é…ç½®éƒ½æ²¡é—®é¢˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PubkeyAuthentication yes</span><br><span class="line"></span><br><span class="line"><span class="comment"># The default is to check both .ssh/authorized_keys and .ssh/authorized_keys2</span></span><br><span class="line"><span class="comment"># but this is overridden so installations will only check .ssh/authorized_keys</span></span><br><span class="line">AuthorizedKeysFile      .ssh/authorized_keys</span><br></pre></td></tr></table></figure><p><code>PubkeyAuthentication</code>è®¾ç½®äº†<code>yes</code>ï¼Œå…è®¸å¯†é’¥ç™»å½•ï¼ŒéªŒè¯æ–‡ä»¶ä¹Ÿæ²¡é—®é¢˜ï¼Œæ˜¯<code>.ssh/authorized_keys</code>ã€‚</p><p>æ²¡åŠæ³•è§£å†³ï¼Œæ‰€ä»¥æˆ‘åˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç”¨æˆ·ï¼Œç„¶ååŒæ ·çš„<code>ç”Ÿæˆå¯†é’¥</code>ï¼Œæµ‹è¯•ç™»å½•ï¼Œå‘ç°æ–°ç”¨æˆ·æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œ<code>å¯ä»¥ä½¿ç”¨å¯†é’¥ç™»å½•</code>ã€‚</p><p>å†æ¬¡å›åˆ°<code>android</code>ç”¨æˆ·çš„ç™»å½•æµ‹è¯•ï¼ŒæŠŠæœ¬åœ°çš„ç§é’¥æƒé™è°ƒæˆ<code>777</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ ssh android@192.168.1.116 -i mi</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">Permissions 0777 <span class="keyword">for</span> <span class="string">'mi'</span> are too open.</span><br><span class="line">It is required that your private key files are NOT accessible by others.</span><br><span class="line">This private key will be ignored.</span><br><span class="line">Load key <span class="string">"mi"</span>: bad permissions</span><br></pre></td></tr></table></figure><p>æŒ‰ç†æ¥è¯´æ²¡é—®é¢˜çš„ï¼Œè¿™å·²ç»åœ¨èµ°å¯†é’¥éªŒè¯æµç¨‹äº†ï¼Œæ‰€ä»¥è¯´ï¼Œå¤§æ¦‚ç‡è¿˜æ˜¯<code>android</code>çš„æœåŠ¡å™¨é‚£è¾¹é…ç½®å‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚</p><p>æ‰¾äº†ä¸€äº›<code>ssh</code>å¯†é’¥ç™»å½•çš„é…ç½®æ•™ç¨‹ï¼Œåœ¨é…ç½®<code>authorized_keys</code>çš„æ—¶å€™ï¼Œæ•™ç¨‹é‡ŒæŠŠ<code>.ssh</code>ç›®å½•çš„æƒé™è®¾ç½®ä¸º<code>700</code>ï¼ŒæŠŠ<code>authorized_keys</code>æ–‡ä»¶çš„æƒé™è®¾ç½®ä¸º<code>600</code>ï¼Œè¿™æ˜¯æˆ‘ä¹‹å‰ä»æ¥ä¸çŸ¥é“çš„ï¼ŒåŸæ¥æœåŠ¡å™¨ç«¯è¿™è¾¹çš„<code>å…¬é’¥</code>ä¹Ÿéœ€è¦ç›¸å…³çš„æƒé™ã€‚</p><p>å—æ­¤å¯å‘ï¼ŒåŒæ—¶æˆ‘åˆå»æŸ¥äº†ä¸€ä¸‹<code>rsync</code>çš„ç›¸å…³æ–‡æ¡£ï¼Œå…¶ä¸­ä¸€ä¸ªæ•™ç¨‹æœ‰å¦‚ä¸‹è¯´æ˜ï¼š</p><blockquote><p>3.æºç›®å½•å¦‚æœä¸å¸¦åç¼€â€œ/â€è¡¨ç¤ºåœ¨ç›®æ ‡ç›®å½•ä¸‹åˆ›å»ºè¯¥ç›®å½•å¹¶æŠŠæºç›®å½•ä¸‹æ–‡ä»¶ä¸€å¹¶åŒæ­¥è¿‡å»ï¼Œå¸¦â€œ/â€è¡¨ç¤ºåªæ˜¯æŠŠæºç›®å½•ä¸‹çš„æ–‡ä»¶å…¨éƒ¨åŒæ­¥è¿‡å»ã€‚</p></blockquote><p>æ‰€ä»¥æˆ‘çš„<code>/home/android/</code>çš„æƒé™ææœ‰å¯èƒ½æ˜¯è¢«ä¿®æ”¹äº†ï¼Œå¯¼è‡´<code>ssh</code>çš„æ–‡ä»¶å¤¹ä¿¡ä»»è·¯å¾„æ²¡æœ‰åŠæ³•èµ°å®Œã€‚</p><p>é‡æ–°ä¿®æ”¹äº†ä¸€ä¸‹<code>/home/android/</code>ç›®å½•çš„æƒé™ï¼Œä¿®æ”¹æˆ<code>700</code>ï¼Œå‘ç°<code>android</code>ç”¨æˆ·çš„<code>ssh</code>å·²ç»å¯ä»¥æ­£å¸¸åœ°ç”¨å¯†é’¥ç™»å½•äº†ã€‚</p><p>å†æ¬¡å¤ç°ä¸€ä¸‹é—®é¢˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -auv -e <span class="string">"ssh -i /home/deploy/.ssh/mi"</span> --progress /home/deploy/common/ android@xm.onns.xyz:/home/android/</span><br><span class="line">sending incremental file list</span><br><span class="line">./</span><br><span class="line"></span><br><span class="line">sent 84 bytes  received 19 bytes  41.20 bytes/sec</span><br><span class="line">total size is 2,183,563  speedup is 21,199.64</span><br></pre></td></tr></table></figure><p>å›åˆ°æœåŠ¡å™¨æŸ¥çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l</span><br><span class="line">total 8</span><br><span class="line">drwxrwxr-x. 6 android android    4096 Sep 15 18:37 android</span><br><span class="line">drwx------. 5 onns    aid_system 4096 Sep 15 18:37 onns</span><br></pre></td></tr></table></figure><p>æœç„¶æ˜¯è¿™ä¸ªé—®é¢˜ã€‚</p><p>è‡³æ­¤ï¼ŒèŠ±äº†å‡ ä¸ªå°æ—¶æ—¶é—´ï¼Œç»ˆäºæŠŠé—®é¢˜è§£å†³äº†ï¼Œå› ä¸ºåŒæ­¥çš„æ˜¯æ•°æ®åº“çš„å¤‡ä»½æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘å½“æ—¶ä»¥ä¸ºæœåŠ¡å™¨è¢«é»‘äº†ï¼Œèµ¶ç´§æŠŠæœåŠ¡å™¨ä»äº’è”ç½‘ä¸Šæ–­ç½‘äº†ï¼Œæ‰€å¹¸ï¼Œæ˜¯å°é—®é¢˜ã€‚</p><h2 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">#</a>æ€»ç»“</h2><p>ä¹Ÿç®—æ˜¯ï¼Œå¤šäº†è§£äº†ä¸€äº›å…³äº<code>ssh</code>çš„ä½¿ç”¨ç›¸å…³é—®é¢˜å§ï¼Œå¦‚æœæœªæ¥æ²¡æœ‰ç›¸å…³çš„ç³»ç»Ÿå­¦ä¹ ï¼Œé‚£ä»Šå¤©æ‰€åšçš„ï¼Œå¾€å¥½äº†è¯´ï¼Œå°±æ˜¯åœ¨æå‰ä¸ºä»¥å<code>å¡«å‘</code>å•¦ï¼</p><ul><li><code>ssh</code>æœ¬åœ°çš„ç§é’¥æƒé™å¿…é¡»ä¿è¯ä¸º<code>600</code>ï¼Œç›¸å…³è·¯å¾„çš„æƒé™ä¸º<code>700</code>ï¼Œè¿™ä¸ªè·¯å¾„æ˜¯ä»<code>/</code>å¼€å§‹ç®—çš„æ‰€æœ‰è·¯å¾„ï¼Œä»»æ„ä¸­é—´ä¸€ç‚¹æƒé™è¿‡é«˜éƒ½ä¸è¡Œã€‚</li><li><code>ssh</code>æœåŠ¡å™¨å…¬é’¥æƒé™å¿…é¡»ä¿è¯ä¸º<code>600</code>ï¼Œç›¸å…³è·¯å¾„çš„æƒé™ä¸º<code>700</code>ï¼Œè¿™ä¸ªè·¯å¾„æ˜¯ä»<code>/</code>å¼€å§‹ç®—çš„æ‰€æœ‰è·¯å¾„ï¼Œä»»æ„ä¸­é—´ä¸€ç‚¹æƒé™è¿‡é«˜éƒ½ä¸è¡Œã€‚</li><li><code>rsync</code>æˆ–è€…è¯´<code>Linux</code>ä¸‹çš„æ–‡ä»¶æ‹·è´å¤åˆ¶ï¼Œç»“å°¾å¸¦<code>/</code>æˆ–è€…ä¸å¸¦<code>/</code>å½±å“çœŸçš„å¾ˆå¤§ï¼Œè¿™ä¸ªè¦æ ¹æ®æ¯ä¸ªæŒ‡ä»¤è‡ªå·±çš„ç›¸å…³å®ç°ï¼Œä»¥<code>rsync</code>ä¸ºä¾‹ï¼Œæºæ–‡ä»¶å¤¹è·¯å¾„å¦‚ä¸‹ï¼š  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;</span><br><span class="line">â”œâ”€â”€ home</span><br><span class="line">|â”œâ”€â”€ deploy</span><br><span class="line">||â”œâ”€â”€ common</span><br><span class="line">|||â”œâ”€â”€ daily_backup.db</span><br><span class="line">|||â”œâ”€â”€ ...</span><br><span class="line">||â”œâ”€â”€ ...</span><br><span class="line">|â”œâ”€â”€ ...</span><br><span class="line">â”œâ”€â”€ ...</span><br></pre></td></tr></table></figure><code>daily_backup.db</code>åŠå…¶ç›¸å…³æ–‡ä»¶æ˜¯æˆ‘ä»¬è¦å¤‡ä»½çš„æ–‡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -auv -e <span class="string">"ssh -i /home/deploy/.ssh/mi"</span> --progress /home/deploy/common/ android@xm.onns.xyz:/home/android/</span><br></pre></td></tr></table></figure>åœ¨ç›®æ ‡æ–‡ä»¶ç”Ÿæˆçš„æ–‡ä»¶ä¼šå¦‚ä¸‹ï¼š  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;</span><br><span class="line">â”œâ”€â”€ home</span><br><span class="line">|â”œâ”€â”€ android</span><br><span class="line">||â”œâ”€â”€ daily_backup.db</span><br><span class="line">||â”œâ”€â”€ ...</span><br><span class="line">|â”œâ”€â”€ ...</span><br><span class="line">â”œâ”€â”€ ...</span><br></pre></td></tr></table></figure>ä¼šç›´æ¥æŠŠæ‰€æœ‰æ–‡ä»¶æ”¾åˆ°æ ¹ç›®å½•ï¼Œæ‰€ä»¥ä¸å¯é¿å…çš„ä¼šä¿®æ”¹æ ¹ç›®å½•çš„ç›¸å…³æƒé™ã€‚ä½†å‡å¦‚æ¢æˆå¦‚ä¸‹å‘½ä»¤ï¼š  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -auv -e <span class="string">"ssh -i /home/deploy/.ssh/mi"</span> --progress /home/deploy/common android@xm.onns.xyz:/home/android/</span><br></pre></td></tr></table></figure>åœ¨ç›®æ ‡æ–‡ä»¶ç”Ÿæˆçš„æ–‡ä»¶ä¼šå¦‚ä¸‹ï¼š  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;</span><br><span class="line">â”œâ”€â”€ home</span><br><span class="line">|â”œâ”€â”€ android</span><br><span class="line">||â”œâ”€â”€ common</span><br><span class="line">|||â”œâ”€â”€ daily_backup.db</span><br><span class="line">|||â”œâ”€â”€ ...</span><br><span class="line">||â”œâ”€â”€ ...</span><br><span class="line">|â”œâ”€â”€ ...</span><br><span class="line">â”œâ”€â”€ ...</span><br></pre></td></tr></table></figure>ä¸€ä¸ª<code>/</code>çœŸçš„å·®åˆ«å¥½å¤§ï¼</li></ul><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://www.cnblogs.com/sunju/p/11073530.html" target="_blank" rel="noopener">å…³äºsshå¯†é’¥é…ç½®è¿˜éœ€è¦è¾“å…¥å¯†ç çš„ç»ˆæè§£å†³åŠæ³•</a></li><li><a href="https://www.cnblogs.com/fanggege/p/10631903.html" target="_blank" rel="noopener">rsync åŒæ­¥</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> work </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> ssh </tag>
            
            <tag> rsync </tag>
            
            <tag> sshd </tag>
            
            <tag> chmod </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šé›¶é’±å…‘æ¢</title>
      <link href="/blog/2020/09/15/solution-of-coin-change/"/>
      <url>/blog/2020/09/15/solution-of-coin-change/</url>
      
        <content type="html"><![CDATA[<h2 id="322-é›¶é’±å…‘æ¢"><a class="header-anchor" href="#322-é›¶é’±å…‘æ¢">#</a><a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">322. é›¶é’±å…‘æ¢</a></h2><p>ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸<code>coins</code>å’Œä¸€ä¸ªæ€»é‡‘é¢<code>amount</code>ã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å›<code>-1</code>ã€‚</p><p>ç¤ºä¾‹<code>1</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: coins &#x3D; [1, 2, 5], amount &#x3D; 11</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: 11 &#x3D; 5 + 5 + 1</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹<code>2</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: coins &#x3D; [2], amount &#x3D; 3</span><br><span class="line">è¾“å‡º: -1</span><br></pre></td></tr></table></figure><p>è¯´æ˜:<br>ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯<code>æ— é™çš„</code>ã€‚</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/15 12:06 PM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CoinChange</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> CoinChange().<span class="keyword">new</span> Solution().test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">coinChange</span><span class="params">(<span class="keyword">int</span>[] coins, <span class="keyword">int</span> amount)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n = coins.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[amount + <span class="number">1</span>];</span><br><span class="line">Arrays.fill(dp, amount + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// base case:</span></span><br><span class="line"><span class="comment">// dp[0] = 0</span></span><br><span class="line">dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// all conditions:</span></span><br><span class="line"><span class="comment">// amount from 1 to amount</span></span><br><span class="line"><span class="comment">// coin from 0 to coins.length - 1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= amount; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line"><span class="comment">// state transition:</span></span><br><span class="line"><span class="comment">// f(i) = f(i-coins[i]) + 1, if f(i-coins[i]) + 1 &lt; f(i)</span></span><br><span class="line"><span class="comment">// f(i) = f(i), otherwise</span></span><br><span class="line"><span class="keyword">int</span> t = i - coins[j];</span><br><span class="line"><span class="keyword">if</span> (t &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">dp[i] = Math.min(dp[t] + <span class="number">1</span>, dp[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dp[amount] == (amount + <span class="number">1</span>) ? -<span class="number">1</span> : dp[amount];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(coinChange(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>&#125;, <span class="number">5</span>));</span><br><span class="line">System.out.println(coinChange(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>&#125;, <span class="number">10</span>));</span><br><span class="line">System.out.println(coinChange(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>&#125;, <span class="number">11</span>));</span><br><span class="line">System.out.println(coinChange(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">2</span>&#125;, <span class="number">3</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> dynamic programming </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šæ–æ³¢é‚£å¥‘æ•°</title>
      <link href="/blog/2020/09/15/solution-of-fibonacci-number/"/>
      <url>/blog/2020/09/15/solution-of-fibonacci-number/</url>
      
        <content type="html"><![CDATA[<h2 id="509-æ–æ³¢é‚£å¥‘æ•°"><a class="header-anchor" href="#509-æ–æ³¢é‚£å¥‘æ•°">#</a><a href="https://leetcode-cn.com/problems/fibonacci-number/" target="_blank" rel="noopener">509. æ–æ³¢é‚£å¥‘æ•°</a></h2><p>æ–æ³¢é‚£å¥‘æ•°ï¼Œé€šå¸¸ç”¨<code>F(n)</code>è¡¨ç¤ºï¼Œå½¢æˆçš„åºåˆ—ç§°ä¸º<strong>æ–æ³¢é‚£å¥‘æ•°åˆ—</strong>ã€‚è¯¥æ•°åˆ—ç”±<code>0</code>å’Œ<code>1</code>å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">F(0) &#x3D; 0,Â  Â F(1)Â &#x3D; 1</span><br><span class="line">F(N) &#x3D; F(N - 1) + F(N - 2), å…¶ä¸­ N &gt; 1.</span><br></pre></td></tr></table></figure><p>ç»™å®š<code>N</code>ï¼Œè®¡ç®—<code>F(N)</code>ã€‚</p><p>ç¤ºä¾‹<code>1</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š2</span><br><span class="line">è¾“å‡ºï¼š1</span><br><span class="line">è§£é‡Šï¼šF(2) &#x3D; F(1) + F(0) &#x3D; 1 + 0 &#x3D; 1.</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹<code>2</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š3</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šF(3) &#x3D; F(2) + F(1) &#x3D; 1 + 1 &#x3D; 2.</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹<code>3</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š4</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šF(4) &#x3D; F(3) + F(2) &#x3D; 2 + 1 &#x3D; 3.</span><br></pre></td></tr></table></figure><p>æç¤ºï¼š</p><p>0 â‰¤<code>N</code>â‰¤ 30</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/15 11:59 AM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FibonacciNumber</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> FibonacciNumber().<span class="keyword">new</span> Solution().test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fib</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line"><span class="comment">// base case:</span></span><br><span class="line"><span class="comment">// f(0) = 0, f(1) = 1</span></span><br><span class="line"><span class="keyword">int</span> pre = <span class="number">0</span>, cur = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (N == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">// all conditions:</span></span><br><span class="line"><span class="comment">// i from 2 to N</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; i++) &#123;</span><br><span class="line"><span class="comment">// state transition:</span></span><br><span class="line"><span class="comment">// f(i) = f(i-1) + f(i-2)</span></span><br><span class="line"><span class="keyword">int</span> t = pre + cur;</span><br><span class="line">pre = cur;</span><br><span class="line">cur = t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(fib(<span class="number">2</span>));</span><br><span class="line">System.out.println(fib(<span class="number">3</span>));</span><br><span class="line">System.out.println(fib(<span class="number">4</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> dynamic programming </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šäºŒå‰æ ‘çš„ä¸­åºéå†</title>
      <link href="/blog/2020/09/14/solution-of-binary-tree-inorder-traversal/"/>
      <url>/blog/2020/09/14/solution-of-binary-tree-inorder-traversal/</url>
      
        <content type="html"><![CDATA[<h2 id="94-äºŒå‰æ ‘çš„ä¸­åºéå†"><a class="header-anchor" href="#94-äºŒå‰æ ‘çš„ä¸­åºéå†">#</a><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/" target="_blank" rel="noopener">94. äºŒå‰æ ‘çš„ä¸­åºéå†</a></h2><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œè¿”å›å®ƒçš„<em>ä¸­åº</em>éå†ã€‚</p><p>ç¤ºä¾‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [1,null,2,3]</span><br><span class="line">   1</span><br><span class="line">    \</span><br><span class="line">     2</span><br><span class="line">    &#x2F;</span><br><span class="line">   3</span><br><span class="line"></span><br><span class="line">è¾“å‡º: [1,3,2]</span><br></pre></td></tr></table></figure><p>è¿›é˜¶:Â  é€’å½’ç®—æ³•å¾ˆç®€å•ï¼Œä½ å¯ä»¥é€šè¿‡è¿­ä»£ç®—æ³•å®Œæˆå—ï¼Ÿ</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/14 2:36 PM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BinaryTreeInorderTraversal</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> BinaryTreeInorderTraversal().<span class="keyword">new</span> Solution1().test();</span><br><span class="line">System.out.println();</span><br><span class="line"><span class="keyword">new</span> BinaryTreeInorderTraversal().<span class="keyword">new</span> Solution2().test();</span><br><span class="line">System.out.println();</span><br><span class="line"><span class="keyword">new</span> BinaryTreeInorderTraversal().<span class="keyword">new</span> Solution().test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> * int val;</span></span><br><span class="line"><span class="comment"> * TreeNode left;</span></span><br><span class="line"><span class="comment"> * TreeNode right;</span></span><br><span class="line"><span class="comment"> * TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> val;</span><br><span class="line">TreeNode left;</span><br><span class="line">TreeNode right;</span><br><span class="line"></span><br><span class="line">TreeNode(<span class="keyword">int</span> x) &#123;</span><br><span class="line">val = x;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">List&lt;Integer&gt; r = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">TreeNode t = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">t = root.left;</span><br><span class="line"><span class="keyword">while</span> (t.right != <span class="keyword">null</span> &amp;&amp; t.right != root) &#123;</span><br><span class="line">t = t.right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (t.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">t.right = root;</span><br><span class="line">root = root.left;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">r.add(t.right.val);</span><br><span class="line">root = root.right;</span><br><span class="line">t.right = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">r.add(root.val);</span><br><span class="line">root = root.right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">TreeNode root = <span class="keyword">new</span> TreeNode(<span class="number">1</span>);</span><br><span class="line">root.left = <span class="keyword">new</span> TreeNode(<span class="number">2</span>);</span><br><span class="line">root.left.left = <span class="keyword">new</span> TreeNode(<span class="number">4</span>);</span><br><span class="line">root.left.right = <span class="keyword">new</span> TreeNode(<span class="number">5</span>);</span><br><span class="line">root.right = <span class="keyword">new</span> TreeNode(<span class="number">3</span>);</span><br><span class="line">root.right.left = <span class="keyword">new</span> TreeNode(<span class="number">6</span>);</span><br><span class="line">root.right.right = <span class="keyword">new</span> TreeNode(<span class="number">7</span>);</span><br><span class="line">List&lt;Integer&gt; r = inorderTraversal(root);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : r) &#123;</span><br><span class="line">System.out.print(i + <span class="string">" "</span>); <span class="comment">// 4 2 5 1 6 3 7</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution2</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">List&lt;Integer&gt; r = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"><span class="keyword">while</span> (root != <span class="keyword">null</span> || !s.isEmpty()) &#123;</span><br><span class="line"><span class="keyword">while</span> (root != <span class="keyword">null</span>) &#123;</span><br><span class="line">s.push(root);</span><br><span class="line">root = root.left;</span><br><span class="line">&#125;</span><br><span class="line">root = s.pop();</span><br><span class="line">r.add(root.val);</span><br><span class="line">root = root.right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">TreeNode root = <span class="keyword">new</span> TreeNode(<span class="number">1</span>);</span><br><span class="line">root.left = <span class="keyword">new</span> TreeNode(<span class="number">2</span>);</span><br><span class="line">root.left.left = <span class="keyword">new</span> TreeNode(<span class="number">4</span>);</span><br><span class="line">root.left.right = <span class="keyword">new</span> TreeNode(<span class="number">5</span>);</span><br><span class="line">root.right = <span class="keyword">new</span> TreeNode(<span class="number">3</span>);</span><br><span class="line">root.right.left = <span class="keyword">new</span> TreeNode(<span class="number">6</span>);</span><br><span class="line">root.right.right = <span class="keyword">new</span> TreeNode(<span class="number">7</span>);</span><br><span class="line">List&lt;Integer&gt; r = inorderTraversal(root);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : r) &#123;</span><br><span class="line">System.out.print(i + <span class="string">" "</span>); <span class="comment">// 4 2 5 1 6 3 7</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution1</span> </span>&#123;</span><br><span class="line">List&lt;Integer&gt; r;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">r = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">visit(root);</span><br><span class="line"><span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">visit(root.left);</span><br><span class="line">&#125;</span><br><span class="line">r.add(root.val);</span><br><span class="line"><span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">visit(root.right);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">TreeNode root = <span class="keyword">new</span> TreeNode(<span class="number">1</span>);</span><br><span class="line">root.left = <span class="keyword">new</span> TreeNode(<span class="number">2</span>);</span><br><span class="line">root.left.left = <span class="keyword">new</span> TreeNode(<span class="number">4</span>);</span><br><span class="line">root.left.right = <span class="keyword">new</span> TreeNode(<span class="number">5</span>);</span><br><span class="line">root.right = <span class="keyword">new</span> TreeNode(<span class="number">3</span>);</span><br><span class="line">root.right.left = <span class="keyword">new</span> TreeNode(<span class="number">6</span>);</span><br><span class="line">root.right.right = <span class="keyword">new</span> TreeNode(<span class="number">7</span>);</span><br><span class="line">List&lt;Integer&gt; r = inorderTraversal(root);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : r) &#123;</span><br><span class="line">System.out.print(i + <span class="string">" "</span>); <span class="comment">// 4 2 5 1 6 3 7</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Morris éå†ç®—æ³•</strong>æ˜¯å‚ç…§å®˜æ–¹è§£åšçš„ï¼š</p><p><a href="https://leetcode-cn.com/problems/binary-tree-inorder-traversal/solution/er-cha-shu-de-zhong-xu-bian-li-by-leetcode-solutio/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/binary-tree-inorder-traversal/solution/er-cha-shu-de-zhong-xu-bian-li-by-leetcode-solutio/</a></p><p><strong>Morris éå†ç®—æ³•</strong>æ˜¯å¦ä¸€ç§éå†äºŒå‰æ ‘çš„æ–¹æ³•ï¼Œå®ƒèƒ½å°†éé€’å½’çš„ä¸­åºéå†ç©ºé—´å¤æ‚åº¦é™ä¸º <em>O(1)</em>ã€‚</p><p><strong>Morris éå†ç®—æ³•</strong>æ•´ä½“æ­¥éª¤å¦‚ä¸‹ï¼ˆå‡è®¾å½“å‰éå†åˆ°çš„èŠ‚ç‚¹ä¸º <em>x</em>ï¼‰ï¼š</p><ol><li>å¦‚æœ <em>x</em> æ— å·¦å­©å­ï¼Œå…ˆå°† <em>x</em> çš„å€¼åŠ å…¥ç­”æ¡ˆæ•°ç»„ï¼Œå†è®¿é—® <em>x</em> çš„å³å­©å­ï¼Œå³ <span>$x=x.\textit{right}$</span><!-- Has MathJax --> ã€‚</li><li>å¦‚æœ <em>x</em> æœ‰å·¦å­©å­ï¼Œåˆ™æ‰¾åˆ° <em>x</em> å·¦å­æ ‘ä¸Šæœ€å³çš„èŠ‚ç‚¹ï¼ˆ<strong>å³å·¦å­æ ‘ä¸­åºéå†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œ<em>x</em> åœ¨ä¸­åºéå†ä¸­çš„å‰é©±èŠ‚ç‚¹</strong>ï¼‰ï¼Œæˆ‘ä»¬è®°ä¸º <span>$\textit{predecessor}$</span><!-- Has MathJax --> ã€‚æ ¹æ® <span>$\textit{predecessor}$</span><!-- Has MathJax --> çš„å³å­©å­æ˜¯å¦ä¸ºç©ºï¼Œè¿›è¡Œå¦‚ä¸‹æ“ä½œã€‚<ul><li>å¦‚æœ <span>$\textit{predecessor}$</span><!-- Has MathJax --> çš„å³å­©å­ä¸ºç©ºï¼Œåˆ™å°†å…¶å³å­©å­æŒ‡å‘ <em>x</em>ï¼Œç„¶åè®¿é—® <em>x</em> çš„å·¦å­©å­ï¼Œå³ <span>$x=x.\textit{left}$</span><!-- Has MathJax --> ã€‚</li><li>å¦‚æœ <span>$\textit{predecessor}$</span><!-- Has MathJax --> çš„å³å­©å­ä¸ä¸ºç©ºï¼Œåˆ™æ­¤æ—¶å…¶å³å­©å­æŒ‡å‘ <em>x</em>ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»éå†å®Œ <em>x</em> çš„å·¦å­æ ‘ï¼Œæˆ‘ä»¬å°† <span>$\textit{predecessor}$</span><!-- Has MathJax --> çš„å³å­©å­ç½®ç©ºï¼Œå°† <em>x</em> çš„å€¼åŠ å…¥ç­”æ¡ˆæ•°ç»„ï¼Œç„¶åè®¿é—® <em>x</em> çš„å³å­©å­ï¼Œå³ <span>$x=x.\textit{right}$</span><!-- Has MathJax --> ã€‚</li></ul></li><li>é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´è‡³è®¿é—®å®Œæ•´æ£µæ ‘ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> inorder </tag>
            
            <tag> binary tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨MacOSè‡ªå¸¦çš„Quicktime Playerå½•åˆ¶ç³»ç»Ÿå£°éŸ³</title>
      <link href="/blog/2020/09/13/screen-record-with-internal-audio-on-quicktime-player/"/>
      <url>/blog/2020/09/13/screen-record-with-internal-audio-on-quicktime-player/</url>
      
        <content type="html"><![CDATA[<p>ä¹‹å‰èˆå‹ç›´æ’­æ±‚å©šï¼Œå¯æƒœå½•å±çš„æ—¶å€™æ²¡æŠŠå£°éŸ³å½•è¿›å»ï¼Œç ”ç©¶ä¸€ç•ªï¼Œè®°å½•ä¹‹ã€‚</p><a id="more"></a><h2 id="soundflower-blackhole"><a class="header-anchor" href="#soundflower-blackhole">#</a>Soundflower / BlackHole</h2><p>ç¬¬ä¸€æ­¥æ˜¯å®‰è£…ä¸€ä¸ªè™šæ‹Ÿçš„é©±åŠ¨ï¼Œè¿™ä¸ªè™šæ‹Ÿçš„é©±åŠ¨å°±é€šè¿‡è½¯ä»¶çš„æ–¹æ³•æŠŠè¾“å…¥è½¬æˆè¾“å‡ºï¼ŒæŠŠè¾“å‡ºè½¬æˆè¾“å…¥ã€‚</p><p>æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p><ul><li><a href="https://soundflower.en.softonic.com/mac" target="_blank" rel="noopener">Soundflower</a></li><li><a href="https://github.com/ExistentialAudio/BlackHole" target="_blank" rel="noopener">BlackHole</a></li></ul><p>æ•ˆæœåº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œå‰è€…ä¼°è®¡å¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥ç”¨ï¼Œåè€…æ˜¯è¿˜åœ¨æœ‰äººç»´æŠ¤å¹¶æœ‰ç›¸å…³çš„èµåŠ©å’Œæ–‡æ¡£ï¼Œæˆ‘å› ä¸ºå…ˆçŸ¥é“çš„ç¬¬ä¸€ä¸ªï¼Œå°±ç”¨ç¬¬ä¸€ä¸ªåšä¾‹å­äº†ã€‚å¦‚æœéƒ½æ²¡è£…è¿‡ï¼Œå»ºè®®è£…ç¬¬äºŒä¸ª<code>BlackHole</code>ã€‚</p><h3 id="soundflower-å®‰è£…å¤±è´¥"><a class="header-anchor" href="#soundflower-å®‰è£…å¤±è´¥">#</a>Soundflower å®‰è£…å¤±è´¥</h3><p>æ–°ç³»ç»Ÿä¸‹ä¼šæœ‰ç›¸å…³æƒé™é—®é¢˜ï¼Œå¦‚æœå¤±è´¥äº†ï¼Œå°±å‚è€ƒè¿™ä¸ª<a href="https://tieba.baidu.com/p/5765573933" target="_blank" rel="noopener">https://tieba.baidu.com/p/5765573933</a>çš„<code>14æ¥¼</code>ï¼Œå¦‚æœè¿˜ä¸è¡Œï¼Œç›´æ¥ç™¾åº¦ï¼Œè‚¯å®šå¯ä»¥è§£å†³çš„ï¼Œæˆ‘<code>MacOS 10.15</code>éƒ½æ˜¯å¯ä»¥å®‰è£…çš„ã€‚</p><h2 id="è®¾ç½®"><a class="header-anchor" href="#è®¾ç½®">#</a>è®¾ç½®</h2><p>åœ¨åº”ç”¨é‡Œæ‰¾ä¸€ä¸ªå«<code>Audio MIDI Setup</code>çš„åº”ç”¨ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-4.png" alt="Audio MIDI Setup"></p></center><p>å³ä¸‹è§’é€‰æ‹©<code>Create Aggregate Device</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-5.png" alt="Create Aggregate Device"></p></center><p>æ”¹ä¸ªåå­—å«<code>Quicktime Player Input</code>ï¼Œä¸æ”¹ä¹Ÿæ²¡å…³ç³»ï¼Œæ”¹äº†<code>æ–¹ä¾¿æ‰¾</code>ã€‚ç„¶åæŠŠ<code>Built-in Microphone</code>å’Œ<code>Soundflower (2ch)</code>å‹¾ä¸Šï¼Œå¦‚æœå®‰è£…çš„æ˜¯<code>BlackHole</code>ï¼Œåº”è¯¥ä¹Ÿæ˜¯ä¸ªç±»ä¼¼çš„åå­—ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-6.jpg" alt="Quicktime Player Input"></p></center><p>å†æ¥ï¼Œå³ä¸‹è§’é€‰æ‹©<code>Create Multi-Output Device</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-7.png" alt="Create Multi-Output Device"></p></center><p>æŠŠ<code>Built-in Output</code>å’Œ<code>Soundflower (2ch)</code>å‹¾ä¸Šï¼Œ<code>Drift Correction</code>éšæ„ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-8.jpg" alt="Multi-Output Device"></p></center><h2 id="ä½¿ç”¨"><a class="header-anchor" href="#ä½¿ç”¨">#</a>ä½¿ç”¨</h2><p><code>System Preferences</code> -&gt; <code>Sound</code> -&gt; <code>Output</code> -&gt; <code>Multi-Output Device</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-9.jpg" alt="Output"></p></center><p>æ³¨æ„ï¼<br>ä¸æ˜¯ä¹‹å‰æ”¹åçš„é‚£ä¸ª<code>Quicktime Player Input</code>ï¼<br>è¦å…ˆè°ƒæ•´å¥½ç³»ç»ŸéŸ³é‡ï¼Œæ”¹åˆ°è¿™ä¸ªæ¨¡å¼ä¸‹æ˜¯ä¸èƒ½ä¿®æ”¹éŸ³é‡çš„ï¼</p><p>ç„¶åæ‰“å¼€<code>QuickTime Player</code> -&gt; <code>File</code> -&gt; <code>New Screen Recording</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-10.png" alt="QuickTime Player"></p></center><p><code>Options</code>é‡Œé€‰<code>Quicktime Player Input</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-11.jpg" alt="Options"></p></center><p>å¼€å§‹å½•åˆ¶ï¼</p><p>å®Œã€‚</p><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://tieba.baidu.com/p/5765573933" target="_blank" rel="noopener">æ±‚åŠ©ï¼soundflower ä¸€ç›´å®‰è£…å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</a></li><li><a href="https://soundflower.en.softonic.com/mac" target="_blank" rel="noopener">Soundflower</a></li><li><a href="https://github.com/ExistentialAudio/BlackHole" target="_blank" rel="noopener">BlackHole</a></li><li><a href="https://www.youtube.com/watch?v=K7UE8fZjox4" target="_blank" rel="noopener">How to Screen Record with Internal Audio on QuickTime Player | BlackHole Tutorial on Mac</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> quicktime player </tag>
            
            <tag> internal audio </tag>
            
            <tag> screen record </tag>
            
            <tag> blackhole </tag>
            
            <tag> soundflower </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šå•è¯æœç´¢</title>
      <link href="/blog/2020/09/13/solution-of-word-search/"/>
      <url>/blog/2020/09/13/solution-of-word-search/</url>
      
        <content type="html"><![CDATA[<h2 id="79-å•è¯æœç´¢"><a class="header-anchor" href="#79-å•è¯æœç´¢">#</a><a href="https://leetcode-cn.com/problems/word-search/" target="_blank" rel="noopener">79. å•è¯æœç´¢</a></h2><p>ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚</p><p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p><p></p><p>ç¤ºä¾‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">board &#x3D;</span><br><span class="line">[</span><br><span class="line">  [&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;E&#39;],</span><br><span class="line">  [&#39;S&#39;,&#39;F&#39;,&#39;C&#39;,&#39;S&#39;],</span><br><span class="line">  [&#39;A&#39;,&#39;D&#39;,&#39;E&#39;,&#39;E&#39;]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">ç»™å®š word &#x3D; &quot;ABCCED&quot;, è¿”å› true</span><br><span class="line">ç»™å®š word &#x3D; &quot;SEE&quot;, è¿”å› true</span><br><span class="line">ç»™å®š word &#x3D; &quot;ABCB&quot;, è¿”å› false</span><br></pre></td></tr></table></figure><p>æç¤ºï¼š</p><p><code>board</code>å’Œ<code>word</code>ä¸­åªåŒ…å«å¤§å†™å’Œå°å†™è‹±æ–‡å­—æ¯ã€‚<br>1 &lt;= <code>board.length</code> &lt;= 200<br>1 &lt;= <code>board[i].length</code> &lt;= 200<br>1 &lt;= <code>word.length</code> &lt;= 10^3</p><a id="more"></a><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/13 2:57 PM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WordSearch</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> WordSearch().<span class="keyword">new</span> Solution().test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exist</span><span class="params">(<span class="keyword">char</span>[][] board, String word)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = board.length;</span><br><span class="line"><span class="keyword">int</span> m = board[<span class="number">0</span>].length;</span><br><span class="line"><span class="keyword">boolean</span>[][] use = <span class="keyword">new</span> <span class="keyword">boolean</span>[n][m];</span><br><span class="line"><span class="keyword">char</span> first = word.charAt(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (board[i][j] == first) &#123;</span><br><span class="line">use[i][j] = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">if</span> (dfs(board, word.toCharArray(), use, <span class="number">1</span>, n, m, i, j)) &#123;</span><br><span class="line">use[i][j] = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">use[i][j] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, <span class="keyword">char</span>[] word, <span class="keyword">boolean</span>[][] use, <span class="keyword">int</span> index, <span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (index == word.length) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span>[] opx = &#123;-<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] opy = &#123;<span class="number">0</span>, -<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; opx.length; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> x = a + opx[i];</span><br><span class="line"><span class="keyword">int</span> y = b + opy[i];</span><br><span class="line"><span class="keyword">if</span> (legal(x, y, n, m) &amp;&amp; board[x][y] == word[index] &amp;&amp; !use[x][y]) &#123;</span><br><span class="line">use[x][y] = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">if</span> (dfs(board, word, use, index + <span class="number">1</span>, n, m, x, y)) &#123;</span><br><span class="line">use[x][y] = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">use[x][y] = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">legal</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> i &gt;= <span class="number">0</span> &amp;&amp; i &lt; n &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(exist(<span class="keyword">new</span> <span class="keyword">char</span>[][]&#123;&#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'E'</span>&#125;, &#123;<span class="string">'S'</span>, <span class="string">'F'</span>, <span class="string">'C'</span>, <span class="string">'S'</span>&#125;, &#123;<span class="string">'A'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>&#125;&#125;, <span class="string">"ABCCED"</span>));</span><br><span class="line">System.out.println(exist(<span class="keyword">new</span> <span class="keyword">char</span>[][]&#123;&#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'E'</span>&#125;, &#123;<span class="string">'S'</span>, <span class="string">'F'</span>, <span class="string">'C'</span>, <span class="string">'S'</span>&#125;, &#123;<span class="string">'A'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>&#125;&#125;, <span class="string">"SEE"</span>));</span><br><span class="line">System.out.println(exist(<span class="keyword">new</span> <span class="keyword">char</span>[][]&#123;&#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'E'</span>&#125;, &#123;<span class="string">'S'</span>, <span class="string">'F'</span>, <span class="string">'C'</span>, <span class="string">'S'</span>&#125;, &#123;<span class="string">'A'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>&#125;&#125;, <span class="string">"ABCB"</span>));</span><br><span class="line">System.out.println(exist(<span class="keyword">new</span> <span class="keyword">char</span>[][]&#123;&#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'E'</span>&#125;, &#123;<span class="string">'S'</span>, <span class="string">'F'</span>, <span class="string">'E'</span>, <span class="string">'S'</span>&#125;, &#123;<span class="string">'A'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'E'</span>&#125;&#125;, <span class="string">"ABCESEEEFS"</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> dfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
      <link href="/blog/2020/09/13/solution-of-longest-substring-without-repeating-characters/"/>
      <url>/blog/2020/09/13/solution-of-longest-substring-without-repeating-characters/</url>
      
        <content type="html"><![CDATA[<h2 id="3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a class="header-anchor" href="#3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²">#</a><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„<code>æœ€é•¿å­ä¸²</code>çš„é•¿åº¦ã€‚</p><p>ç¤ºä¾‹<code>1</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;abcabcbb&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹<code>2</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;bbbbb&quot;</span><br><span class="line">è¾“å‡º: 1</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;b&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹<code>3</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: &quot;pwwkew&quot;</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯Â &quot;wke&quot;ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚</span><br><span class="line">Â     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ&quot;pwke&quot;Â æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚</span><br></pre></td></tr></table></figure><a id="more"></a><p>ç™¾åº¦ä¸€é¢ã€‚ğŸ™ƒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/13 2:31 PM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LongestSubstringWithoutRepeatingCharacters</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> LongestSubstringWithoutRepeatingCharacters().<span class="keyword">new</span> Solution().test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span>[] c = s.toCharArray();</span><br><span class="line"><span class="keyword">int</span> n = c.length;</span><br><span class="line"><span class="keyword">int</span> l = <span class="number">0</span>, r = <span class="number">0</span>, max = <span class="number">0</span>;</span><br><span class="line">Set&lt;Character&gt; hashSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="keyword">while</span> (r &lt; n) &#123;</span><br><span class="line"><span class="keyword">while</span> (hashSet.contains(c[r])) &#123;</span><br><span class="line">hashSet.remove(c[l++]);</span><br><span class="line">&#125;</span><br><span class="line">hashSet.add(c[r++]);</span><br><span class="line">max = Math.max(max, r - l);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(lengthOfLongestSubstring(<span class="string">"bbbbbbbbb"</span>));</span><br><span class="line">System.out.println(lengthOfLongestSubstring(<span class="string">"abcabcbb"</span>));</span><br><span class="line">System.out.println(lengthOfLongestSubstring(<span class="string">"pwwkew"</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> jobs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> interview </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> double pointer </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
            <tag> baidu </tag>
            
            <tag> ç™¾åº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨IntelliJ IDEAä¸­æ·»åŠ è‡ªåŠ¨æ³¨é‡Š</title>
      <link href="/blog/2020/09/13/add-file-header-in-idea/"/>
      <url>/blog/2020/09/13/add-file-header-in-idea/</url>
      
        <content type="html"><![CDATA[<p>æ¯æ¬¡éƒ½è¦ç»™æ–‡æ¡£æ·»åŠ æ—¥æœŸç­‰æ³¨é‡Šå¤ªç¹çï¼Œè®¾ç½®ä¸ªè‡ªåŠ¨æ·»åŠ æ³¨é‡Šã€‚</p><a id="more"></a><p><code>IntelliJ IDEA</code> -&gt; <code>Preferences</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-1.png" alt="Preferences"></p></center><p><code>Editor</code> -&gt; <code>File and Code Templates</code> -&gt; <code>Includes</code> -&gt; <code>File Header</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-2.png" alt="File Header"></p></center><p>ä»¥ä¸‹ä¸¤ç§ä»…ä¾›å‚è€ƒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by $&#123;USER&#125; on $&#123;DATE&#125; $&#123;TIME&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> $&#123;DATE&#125; $&#123;TIME&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>ç„¶åä¸‹æ¬¡æ–°å»º<code>class</code>çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°è‡ªåŠ¨æ³¨é‡Šäº†ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200913-3.png" alt="æ•ˆæœå›¾"></p></center><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.cnblogs.com/miracle-luna/p/10638510.html" target="_blank" rel="noopener">IntelliJ IDEA å¦‚ä½•è®¾ç½®æ–°å»ºç±»æ—¶ï¼Œè‡ªåŠ¨æ³¨é‡Šä½œè€…ä¿¡æ¯å’Œæ—¥æœŸæ—¶é—´</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> idea </tag>
            
            <tag> jetbrain </tag>
            
            <tag> auto annotation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šæœ€å¤§å­åºå’Œ</title>
      <link href="/blog/2020/09/13/solution-of-maximum-subarray/"/>
      <url>/blog/2020/09/13/solution-of-maximum-subarray/</url>
      
        <content type="html"><![CDATA[<h2 id="53-æœ€å¤§å­åºå’Œ"><a class="header-anchor" href="#53-æœ€å¤§å­åºå’Œ">#</a><a href="https://leetcode-cn.com/problems/maximum-subarray/" target="_blank" rel="noopener">53. æœ€å¤§å­åºå’Œ</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„<code>nums</code>ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</p><p>ç¤ºä¾‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4]</span><br><span class="line">è¾“å‡º: 6</span><br><span class="line">è§£é‡Š:Â è¿ç»­å­æ•°ç»„Â [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸ºÂ 6ã€‚</span><br><span class="line">è¿›é˜¶:</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ å·²ç»å®ç°å¤æ‚åº¦ä¸º<code>O(n)</code>çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„åˆ†æ²»æ³•æ±‚è§£ã€‚</p><a id="more"></a><h2 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h2><p>ç¾å›¢äºŒé¢çš„ç¬”è¯•é¢˜ï¼Œè‡ªå·±å½“æ—¶çœŸçš„ä¸€ç‚¹æ€è·¯éƒ½æ²¡æœ‰ï¼Œæ²¡åšå‡ºæ¥ï¼Œä¸»è¦æ˜¯<code>O(n)</code>æ—¶é—´å¤æ‚åº¦çš„é™åˆ¶ï¼Œå†åŠ ä¸Šæˆ‘è„‘å­é‡Œçš„åŠ¨æ€è§„åˆ’ä¸€ç›´éƒ½æ˜¯ï¼Œä»<code>i</code>åˆ°<code>j</code>çš„æœ€å¤§å’Œï¼Œç»“æœå°±æŠŠè‡ªå·±ç»•åœ¨é‚£é‡Œå‡ºä¸æ¥äº†ã€‚</p><p>ä½†å…¶å®ï¼Œå¦‚æœå½“æ—¶çŸ¥é“äº†æ€è·¯ï¼ŒçœŸçš„å°±æ˜¯ä¸€é“ï¼Œå¦‚åŠ›æ‰£æ‰€è¯´çš„ï¼Œä¸€é“<code>ç®€å•éš¾åº¦</code>çš„é¢˜ ğŸ˜­</p><h2 id="åŠ¨æ€è§„åˆ’"><a class="header-anchor" href="#åŠ¨æ€è§„åˆ’">#</a>åŠ¨æ€è§„åˆ’</h2><p>æ€è·¯æ˜¯ç”¨äºŒç»´æ•°ç»„æ¥å­˜å±€éƒ¨çš„å’Œï¼Œè¿™æ ·ä¸å¿…æ¯æ¬¡éƒ½ç®—ä¸€æ¬¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line"><span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">dp[i][i] = nums[i];</span><br><span class="line"><span class="keyword">if</span> (max &lt; nums[i]) &#123;</span><br><span class="line">max = nums[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">dp[i][j] = dp[i][j - <span class="number">1</span>] + nums[j];</span><br><span class="line"><span class="keyword">if</span> (dp[i][j] &gt; max) &#123;</span><br><span class="line">max = dp[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™ä¸ªä»£ç ï¼Œè¿æµ‹è¯•ç”¨ä¾‹éƒ½è·‘ä¸è¿‡ï¼Œ<strong>è¶…å‡ºå†…å­˜é™åˆ¶</strong>ã€‚</p><h2 id="é™ä½ç©ºé—´å¤æ‚åº¦"><a class="header-anchor" href="#é™ä½ç©ºé—´å¤æ‚åº¦">#</a>é™ä½ç©ºé—´å¤æ‚åº¦</h2><p>é¦–å…ˆè§‚å¯Ÿä»£ç ï¼Œå…¶å®<code>d[i][j]</code>åªä¸<code>d[i][j-1]</code>æœ‰å…³ï¼Œæ‰€ä»¥åªéœ€ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå³å¯æ»¡è¶³å­˜å‚¨ä»»åŠ¡ã€‚</p><p>è¿›è€Œï¼Œ<code>d[i][j]</code>æœ¬è´¨ä¸Šåªä¸å‰ä¸€ä¸ªæ•°æœ‰å…³ï¼Œé‚£ä¹ˆå…¶å®åªéœ€ç”¨ä¸€ä¸ªå€¼å»å­˜å‰ä¸€ä¸ªå€¼å³å¯ã€‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; n; j++) &#123;</span><br><span class="line">t += nums[j];</span><br><span class="line"><span class="keyword">if</span> (t &gt; max) max = t;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Success:</span><br><span class="line">Runtime:137 ms, faster than 5.09% of Java online submissions.</span><br><span class="line">Memory Usage:40.1 MB, less than 5.10% of Java online submissions.</span><br></pre></td></tr></table></figure><p>é€šè¿‡äº†æ˜¯é€šè¿‡äº†ï¼Œä½†æ˜¯è¿™é¢˜æœ¬è´¨ä¸Šæ˜¯éœ€è¦<code>O(n)</code>æ—¶é—´å¤æ‚åº¦æ±‚è§£çš„ï¼Œå¾ˆæ˜æ˜¾ï¼Œæ²¡æœ‰è¾¾åˆ°è¦æ±‚ã€‚</p><h2 id="é™ä½æ—¶é—´å¤æ‚åº¦"><a class="header-anchor" href="#é™ä½æ—¶é—´å¤æ‚åº¦">#</a>é™ä½æ—¶é—´å¤æ‚åº¦</h2><p>å¦‚æœå‰é¢çš„æ•°è´¡çŒ®ä¸º<code>æ­£çš„</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æœ€å¤§å€¼å°±æ˜¯å‰é¢çš„æ•°åŠ ä¸Šå½“å‰çš„æ•°ï¼Œå¦‚æœå‰é¢çš„æ•°æ˜¯<code>è´Ÿçš„</code>ï¼Œé‚£ä¹ˆå¦‚æœå½“å‰çš„å€¼æ¯”å‰é¢çš„æ•°è¿˜å¤§ï¼Œé‚£è¯æ˜å‰é¢çš„â€œå·¥ä½œâ€è¿˜ä¸å¦‚å½“å‰ä¸€ä¸ªäººçš„å·¥ä½œæ¥å¾—å¤šï¼Œé‚£å‰é¢æ‰€æœ‰äººçš„å·¥ä½œéƒ½å¯ä»¥è¢«å½“å‰çš„äººæ‰€æ›¿ä»£ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line"><span class="keyword">int</span> pre = Integer.MIN_VALUE;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (pre &lt; <span class="number">0</span> &amp;&amp; pre &lt; nums[i]) &#123;</span><br><span class="line">pre = nums[i];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">pre += nums[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (pre &gt; max) &#123;</span><br><span class="line">max = pre;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Success:</span><br><span class="line">Runtime:1 ms, faster than 95.99% of Java online submissions.</span><br><span class="line">Memory Usage:40 MB, less than 17.17% of Java online submissions.</span><br></pre></td></tr></table></figure><h2 id="å®˜æ–¹è§£ç­”"><a class="header-anchor" href="#å®˜æ–¹è§£ç­”">#</a>å®˜æ–¹è§£ç­”</h2><p>å‡è®¾ <code>nums</code> æ•°ç»„çš„é•¿åº¦æ˜¯ <em>n</em>ï¼Œä¸‹æ ‡ä» <em>0</em> åˆ° <em>n - 1</em>ã€‚</p><p>æˆ‘ä»¬ç”¨ <em>a<sub>i</sub></em> ä»£è¡¨ <code>nums[i]</code>ï¼Œç”¨ <em>f(i)</em> ä»£è¡¨ä»¥ç¬¬ <em>i</em> ä¸ªæ•°ç»“å°¾çš„ã€Œè¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œã€ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶æˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆå°±æ˜¯ï¼š</p><span>$$\begin{aligned}\max\_{0 \leq i \leq n-1}\{f(i)\}\end{aligned}$$</span><!-- Has MathJax --><p>å› æ­¤æˆ‘ä»¬åªéœ€è¦æ±‚å‡ºæ¯ä¸ªä½ç½®çš„ <em>f(i)</em>ï¼Œç„¶åè¿”å› <code>f</code> æ•°ç»„ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ±‚ <em>f(i)</em> å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è€ƒè™‘ <em>a_i</em> å•ç‹¬æˆä¸ºä¸€æ®µè¿˜æ˜¯åŠ å…¥ <em>f(i - 1)</em> å¯¹åº”çš„é‚£ä¸€æ®µï¼Œè¿™å–å†³äº <em>a_i</em> å’Œ <em>f(i - 1) + a_i</em> çš„å¤§å°ï¼Œæˆ‘ä»¬å¸Œæœ›è·å¾—ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ï¼Œäºæ˜¯å¯ä»¥å†™å‡ºè¿™æ ·çš„åŠ¨æ€è§„åˆ’è½¬ç§»æ–¹ç¨‹ï¼š</p><span>$$\begin{aligned}f(i)=\max\{f(i-1)+a_i,a_i\}\end{aligned}$$</span><!-- Has MathJax --><p>ä¸éš¾ç»™å‡ºä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ <em>O(n)</em>ã€ç©ºé—´å¤æ‚åº¦ <em>O(n)</em> çš„å®ç°ï¼Œå³ç”¨ä¸€ä¸ª <code>f</code> æ•°ç»„æ¥ä¿å­˜ <em>f(i)</em> çš„å€¼ï¼Œç”¨ä¸€ä¸ªå¾ªç¯æ±‚å‡ºæ‰€æœ‰ <em>f(i)</em>ã€‚è€ƒè™‘åˆ° <em>f(i)</em> åªå’Œ <em>f(i - 1)</em> ç›¸å…³ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åªç”¨ä¸€ä¸ªå˜é‡ <code>pre</code> æ¥ç»´æŠ¤å¯¹äºå½“å‰ <em>f(i)</em> çš„ <em>f(i - 1)</em> çš„å€¼æ˜¯å¤šå°‘ï¼Œä»è€Œè®©ç©ºé—´å¤æ‚åº¦é™ä½åˆ° <em>O(1)</em>ï¼Œè¿™æœ‰ç‚¹ç±»ä¼¼ã€Œæ»šåŠ¨æ•°ç»„ã€çš„æ€æƒ³ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> max = nums[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> pre = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> n:nums)&#123;</span><br><span class="line">pre = Math.max(pre+n,n);</span><br><span class="line">max = Math.max(pre,max);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Success:</span><br><span class="line">Runtime:1 ms, faster than 95.99% of Java online submissions.</span><br><span class="line">Memory Usage:39.6 MB, less than 85.18% of Java online submissions.</span><br></pre></td></tr></table></figure><h2 id="åˆ†æ²»"><a class="header-anchor" href="#åˆ†æ²»">#</a>åˆ†æ²»</h2><p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ“ä½œ <code>get(a, l, r)</code> è¡¨ç¤ºæŸ¥è¯¢ <em>a</em> åºåˆ— <em>[l, r]</em> åŒºé—´å†…çš„æœ€å¤§å­æ®µå’Œï¼Œé‚£ä¹ˆæœ€ç»ˆæˆ‘ä»¬è¦æ±‚çš„ç­”æ¡ˆå°±æ˜¯ <code>get(nums, 0, nums.size() - 1)</code>ã€‚å¦‚ä½•åˆ†æ²»å®ç°è¿™ä¸ªæ“ä½œå‘¢ï¼Ÿå¯¹äºä¸€ä¸ªåŒºé—´ <em>[l, r]</em>ï¼Œæˆ‘ä»¬å–<span>$m=\lfloor\frac{l+r}{2}\rfloor$</span><!-- Has MathJax -->ï¼Œå¯¹åŒºé—´ <em>[l, m]</em> å’Œ <em>[m + 1, r]</em> åˆ†æ²»æ±‚è§£ã€‚å½“é€’å½’é€å±‚æ·±å…¥ç›´åˆ°åŒºé—´é•¿åº¦ç¼©å°ä¸º <em>1</em> çš„æ—¶å€™ï¼Œé€’å½’ã€Œå¼€å§‹å›å‡ã€ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è€ƒè™‘å¦‚ä½•é€šè¿‡ <em>[l, m]</em> åŒºé—´çš„ä¿¡æ¯å’Œ <em>[m + 1, r]</em> åŒºé—´çš„ä¿¡æ¯åˆå¹¶æˆåŒºé—´ <em>[l, r]</em> çš„ä¿¡æ¯ã€‚æœ€å…³é”®çš„ä¸¤ä¸ªé—®é¢˜æ˜¯ï¼š</p><ul><li>æˆ‘ä»¬è¦ç»´æŠ¤åŒºé—´çš„å“ªäº›ä¿¡æ¯å‘¢ï¼Ÿ</li><li>æˆ‘ä»¬å¦‚ä½•åˆå¹¶è¿™äº›ä¿¡æ¯å‘¢ï¼Ÿ</li></ul><p>å¯¹äºä¸€ä¸ªåŒºé—´ <em>[l, r]</em>ï¼Œæˆ‘ä»¬å¯ä»¥ç»´æŠ¤å››ä¸ªé‡ï¼š</p><ul><li><code>lSum</code> è¡¨ç¤º <em>[l, r]</em> å†…ä»¥ <em>l</em> ä¸ºå·¦ç«¯ç‚¹çš„æœ€å¤§å­æ®µå’Œ</li><li><code>rSum</code> è¡¨ç¤º <em>[l, r]</em> å†…ä»¥ <em>r</em> ä¸ºå³ç«¯ç‚¹çš„æœ€å¤§å­æ®µå’Œ</li><li><code>mSum</code> è¡¨ç¤º <em>[l, r]</em> å†…çš„æœ€å¤§å­æ®µå’Œ</li><li><code>iSum</code> è¡¨ç¤º <em>[l, r]</em> çš„åŒºé—´å’Œ</li></ul><p>ä»¥ä¸‹ç®€ç§° <em>[l, m]</em> ä¸º <em>[l, r]</em> çš„ã€Œå·¦å­åŒºé—´ã€ï¼Œ<em>[m + 1, r]</em> ä¸º <em>[l, r]</em> çš„ã€Œå³å­åŒºé—´ã€ã€‚æˆ‘ä»¬è€ƒè™‘å¦‚ä½•ç»´æŠ¤è¿™äº›é‡å‘¢ï¼ˆå¦‚ä½•é€šè¿‡å·¦å³å­åŒºé—´çš„ä¿¡æ¯åˆå¹¶å¾—åˆ° <em>[l, r]</em> çš„ä¿¡æ¯ï¼‰ï¼Ÿå¯¹äºé•¿åº¦ä¸º <em>1</em> çš„åŒºé—´ <em>[i, i]</em>ï¼Œå››ä¸ªé‡çš„å€¼éƒ½å’Œ <em>a<sub>i</sub></em> ç›¸ç­‰ã€‚å¯¹äºé•¿åº¦å¤§äº <em>1</em> çš„åŒºé—´ï¼š</p><ul><li>é¦–å…ˆæœ€å¥½ç»´æŠ¤çš„æ˜¯ <code>iSum</code>ï¼ŒåŒºé—´ <em>[l, r]</em> çš„ <code>iSum</code> å°±ç­‰äºã€Œå·¦å­åŒºé—´ã€çš„ <code>iSum</code> åŠ ä¸Šã€Œå³å­åŒºé—´ã€çš„ <code>iSum</code>ã€‚</li><li>å¯¹äº <em>[l, r]</em> çš„ <code>lSum</code>ï¼Œå­˜åœ¨ä¸¤ç§å¯èƒ½ï¼Œå®ƒè¦ä¹ˆç­‰äºã€Œå·¦å­åŒºé—´ã€çš„ <code>lSum</code>ï¼Œè¦ä¹ˆç­‰äºã€Œå·¦å­åŒºé—´ã€çš„ <code>iSum</code> åŠ ä¸Šã€Œå³å­åŒºé—´ã€çš„ <code>lSum</code>ï¼ŒäºŒè€…å–å¤§ã€‚</li><li>å¯¹äº <em>[l, r]</em> çš„ <code>rSum</code>ï¼ŒåŒç†ï¼Œå®ƒè¦ä¹ˆç­‰äºã€Œå³å­åŒºé—´ã€çš„ <code>rSum</code>ï¼Œè¦ä¹ˆç­‰äºã€Œå³å­åŒºé—´ã€çš„ <code>iSum</code> åŠ ä¸Šã€Œå·¦å­åŒºé—´ã€çš„ <code>rSum</code>ï¼ŒäºŒè€…å–å¤§ã€‚</li><li>å½“è®¡ç®—å¥½ä¸Šé¢çš„ä¸‰ä¸ªé‡ä¹‹åï¼Œå°±å¾ˆå¥½è®¡ç®— <em>[l, r]</em> çš„ <code>mSum</code> äº†ã€‚æˆ‘ä»¬å¯ä»¥è€ƒè™‘ <em>[l, r]</em> çš„ <code>mSum</code> å¯¹åº”çš„åŒºé—´æ˜¯å¦è·¨è¶Š <em>m</em>â€”â€”å®ƒå¯èƒ½ä¸è·¨è¶Š <em>m</em>ï¼Œä¹Ÿå°±æ˜¯è¯´ <em>[l, r]</em> çš„ <code>mSum</code> å¯èƒ½æ˜¯ã€Œå·¦å­åŒºé—´ã€çš„ <code>mSum</code> å’Œ ã€Œå³å­åŒºé—´ã€çš„ <code>mSum</code> ä¸­çš„ä¸€ä¸ªï¼›å®ƒä¹Ÿå¯èƒ½è·¨è¶Š <em>m</em>ï¼Œå¯èƒ½æ˜¯ã€Œå·¦å­åŒºé—´ã€çš„ <code>rSum</code> å’Œ ã€Œå³å­åŒºé—´ã€çš„ <code>lSum</code> æ±‚å’Œã€‚ä¸‰è€…å–å¤§ã€‚</li></ul><p>è¿™æ ·é—®é¢˜å°±å¾—åˆ°äº†è§£å†³ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> get(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>).mSum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Status <span class="title">get</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (l == r) <span class="keyword">return</span> <span class="keyword">new</span> Status(nums[l], nums[l], nums[l], nums[l]);</span><br><span class="line"><span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">Status lSub = get(nums, l, mid);</span><br><span class="line">Status rSub = get(nums, mid + <span class="number">1</span>, r);</span><br><span class="line"><span class="keyword">int</span> iSum = lSub.iSum + rSub.iSum;</span><br><span class="line"><span class="keyword">int</span> lSum = Math.max(lSub.iSum + rSub.lSum, lSub.lSum);</span><br><span class="line"><span class="keyword">int</span> rSum = Math.max(rSub.iSum + lSub.rSum, rSub.rSum);</span><br><span class="line"><span class="keyword">int</span> mSum = Math.max(Math.max(lSub.mSum, rSub.mSum), lSub.rSum + rSub.lSum);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Status(lSum, rSum, mSum, iSum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Status</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> lSum, rSum, mSum, iSum;</span><br><span class="line"></span><br><span class="line">Status(<span class="keyword">int</span> lSum, <span class="keyword">int</span> rSum, <span class="keyword">int</span> mSum, <span class="keyword">int</span> iSum) &#123;</span><br><span class="line"><span class="keyword">this</span>.lSum = lSum;</span><br><span class="line"><span class="keyword">this</span>.rSum = rSum;</span><br><span class="line"><span class="keyword">this</span>.mSum = mSum;</span><br><span class="line"><span class="keyword">this</span>.iSum = iSum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Success:</span><br><span class="line">Runtime:1 ms, faster than 95.99% of Java online submissions.</span><br><span class="line">Memory Usage:39.9 MB, less than 30.01% of Java online submissions.</span><br></pre></td></tr></table></figure><h2 id="å®Œæ•´ä»£ç "><a class="header-anchor" href="#å®Œæ•´ä»£ç ">#</a>å®Œæ•´ä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.leetcode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Onns</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2020/9/13 11:10 AM</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Website</span> https://onns.xyz/blog/</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaximumSubarray</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> MaximumSubarray().<span class="keyword">new</span> Solution().test();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> get(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>).mSum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Status <span class="title">get</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (l == r) <span class="keyword">return</span> <span class="keyword">new</span> Status(nums[l], nums[l], nums[l], nums[l]);</span><br><span class="line"><span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">Status lSub = get(nums, l, mid);</span><br><span class="line">Status rSub = get(nums, mid + <span class="number">1</span>, r);</span><br><span class="line"><span class="keyword">int</span> iSum = lSub.iSum + rSub.iSum;</span><br><span class="line"><span class="keyword">int</span> lSum = Math.max(lSub.iSum + rSub.lSum, lSub.lSum);</span><br><span class="line"><span class="keyword">int</span> rSum = Math.max(rSub.iSum + lSub.rSum, rSub.rSum);</span><br><span class="line"><span class="keyword">int</span> mSum = Math.max(Math.max(lSub.mSum, rSub.mSum), lSub.rSum + rSub.lSum);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Status(lSum, rSum, mSum, iSum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Status</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> lSum, rSum, mSum, iSum;</span><br><span class="line"></span><br><span class="line">Status(<span class="keyword">int</span> lSum, <span class="keyword">int</span> rSum, <span class="keyword">int</span> mSum, <span class="keyword">int</span> iSum) &#123;</span><br><span class="line"><span class="keyword">this</span>.lSum = lSum;</span><br><span class="line"><span class="keyword">this</span>.rSum = rSum;</span><br><span class="line"><span class="keyword">this</span>.mSum = mSum;</span><br><span class="line"><span class="keyword">this</span>.iSum = iSum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution4</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> max = nums[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> pre = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> n : nums) &#123;</span><br><span class="line">pre = Math.max(pre + n, n);</span><br><span class="line">max = Math.max(pre, max);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution3</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line"><span class="keyword">int</span> pre = Integer.MIN_VALUE;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (pre &lt; <span class="number">0</span> &amp;&amp; pre &lt; nums[i]) &#123;</span><br><span class="line">pre = nums[i];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">pre += nums[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (pre &gt; max) &#123;</span><br><span class="line">max = pre;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution2</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; n; j++) &#123;</span><br><span class="line">t += nums[j];</span><br><span class="line"><span class="keyword">if</span> (t &gt; max) max = t;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">System.out.println(maxSubArray(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>&#125;));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution1</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = nums.length;</span><br><span class="line"><span class="keyword">int</span> max = Integer.MIN_VALUE;</span><br><span class="line"><span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">dp[i][i] = nums[i];</span><br><span class="line"><span class="keyword">if</span> (max &lt; nums[i]) &#123;</span><br><span class="line">max = nums[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">dp[i][j] = dp[i][j - <span class="number">1</span>] + nums[j];</span><br><span class="line"><span class="keyword">if</span> (dp[i][j] &gt; max) &#123;</span><br><span class="line">max = dp[i][j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">2</span>, <span class="number">1</span>, -<span class="number">3</span>, <span class="number">4</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, -<span class="number">5</span>, <span class="number">4</span>&#125;;</span><br><span class="line">System.out.println(maxSubArray(nums));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/wilson_m/article/details/81840214" target="_blank" rel="noopener">ã€Javaã€‘å¦‚ä½•æ±‚æœ€å¤§å­æ•°ç»„ä¹‹å’Œ</a></li><li><a href="https://leetcode-cn.com/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode-solution/" target="_blank" rel="noopener">æœ€å¤§å­åºå’Œ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> jobs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> interview </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> dynamic programming </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
            <tag> segment tree </tag>
            
            <tag> çº¿æ®µæ ‘ </tag>
            
            <tag> ç¾å›¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>concurrentå·¥å…·ç±»</title>
      <link href="/blog/2020/09/12/concurrent-utility-class/"/>
      <url>/blog/2020/09/12/concurrent-utility-class/</url>
      
        <content type="html"><![CDATA[<p>concurrent å·¥å…·ç±»</p><a id="more"></a><h2 id="countdownlatch"><a class="header-anchor" href="#countdownlatch">#</a>CountDownLatch</h2><p><strong>é˜»å¡ç›´åˆ°æ•°å®Œä¸ºæ­¢</strong></p><p>æ¯”å¦‚è¯´ä¸‹ç­é”é—¨ï¼Œå¿…é¡»è¦ç­‰å±‹å­é‡Œæ‰€æœ‰äººéƒ½èµ°äº†ä¹‹åï¼Œæ‰èƒ½é”é—¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.juc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountDownLatchTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">CountDownLatch countDownLatch = <span class="keyword">new</span> CountDownLatch(<span class="number">9</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">" count down!"</span>);</span><br><span class="line">countDownLatch.countDown();</span><br><span class="line">&#125;, String.valueOf(i + <span class="number">1</span>)).start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">countDownLatch.await();</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">"Done"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=57648:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/jvm/out/production/jvm xyz.onns.juc.CountDownLatchTest</span><br><span class="line">1 count down!</span><br><span class="line">2 count down!</span><br><span class="line">3 count down!</span><br><span class="line">4 count down!</span><br><span class="line">5 count down!</span><br><span class="line">6 count down!</span><br><span class="line">7 count down!</span><br><span class="line">8 count down!</span><br><span class="line">9 count down!</span><br><span class="line">Done</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><p>å‡å¦‚ä¸Šé¢çš„<code>i</code>å˜æˆ<code>10</code>ï¼Œç¬¬åä¸ªäººæ˜¯å¦ä¼šâ€œè¢«é”åœ¨é‡Œé¢â€æ˜¯ä¸å›ºå®šçš„ã€‚</p><h2 id="cyclicbarrier"><a class="header-anchor" href="#cyclicbarrier">#</a>CyclicBarrier</h2><p><strong>ç­‰å¾…å‰ç½®æ¡ä»¶å…¨éƒ¨æ»¡è¶³ä¹‹åï¼Œæ‰ä¼šæ‰§è¡Œåé¢çš„æ“ä½œ</strong></p><p>å¿…é¡»è¦é›†é½<code>ä¸ƒé¢—é¾™ç </code>ï¼Œæ‰èƒ½å¬å”¤ç¥é¾™ ğŸ²ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.juc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BrokenBarrierException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CyclicBarrier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CyclicBarrierTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">CyclicBarrier cyclicBarrier = <span class="keyword">new</span> CyclicBarrier(<span class="number">7</span>, () -&gt; &#123;</span><br><span class="line">System.out.println(<span class="string">"å¬å”¤ç¥é¾™ï¼"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"æ”¶é›†ç¬¬"</span> + (i + <span class="number">1</span>) + <span class="string">"ä¸ªé¾™ç "</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">cyclicBarrier.await();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;, <span class="string">"çº¿ç¨‹"</span> + String.valueOf(i + <span class="number">1</span>)).start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†™ï¼Œç¬¬åä¸‰è¡Œä¼šæŠ¥é”™ï¼š</p><blockquote><p>Variable used in lambda expression should be final or effectively final</p></blockquote><p>æŸ¥äº†ä¸€ä¸‹ï¼Œé¦–å…ˆï¼Œè¿™æ ·åšçš„åŸå› æ˜¯ï¼Œå› ä¸º Java æ˜¯è¿™æ ·è§„å®šçš„ï¼š<a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2" target="_blank" rel="noopener">Lambda Expressions</a></p><blockquote><p>Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final (Â§4.12.4), or a compile-time error occurs where the use is attempted.</p></blockquote><p>è‡³äºä¸ºä»€ä¹ˆä¼šè¿™æ ·è§„å®šï¼Œå‚ç…§è¿™é‡Œï¼š<a href="https://stackoverflow.com/a/4732617/13182099" target="_blank" rel="noopener">Why are only final variables accessible in anonymous class?</a></p><blockquote><p>When you create an instance of an anonymous inner class, any variables which are used within that class have their values copied in via the autogenerated constructor. This avoids the compiler having to autogenerate various extra types to hold the logical state of the â€œlocal variablesâ€, as for example the C# compiler doesâ€¦ (When C# captures a variable in an anonymous function, it really captures the variable - the closure can update the variable in a way which is seen by the main body of the method, and vice versa.)<br>As the value has been copied into the instance of the anonymous inner class, it would look odd if the variable could be modified by the rest of the method - you could have code which appeared to be working with an out-of-date variable (because thatâ€™s effectively what would be happeningâ€¦ youâ€™d be working with a copy taken at a different time). Likewise if you could make changes within the anonymous inner class, developers might expect those changes to be visible within the body of the enclosing method.<br>Making the variable final removes all these possibilities - as the value canâ€™t be changed at all, you donâ€™t need to worry about whether such changes will be visible. The only ways to allow the method and the anonymous inner class see each otherâ€™s changes is to use a mutable type of some description. This could be the enclosing class itself, an array, a mutable wrapper typeâ€¦ anything like that. Basically itâ€™s a bit like communicating between one method and another: changes made to the parameters of one method arenâ€™t seen by its caller, but changes made to the objects referred to by the parameters are seen.</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œå®ç°å¯ä¿®æ”¹çš„å˜é‡åŠŸèƒ½æ‰€å¸¦æ¥ä¾¿åˆ©ï¼Œæ²¡æœ‰éšä¹‹è€Œæ¥çš„é—®é¢˜å¤šã€‚</p><p>è§£å†³åŠæ³•å°±æ˜¯ï¼ŒåŠ ä¸€ä¸ª<code>final</code>å˜é‡ï¼Œå…¶å®ä»<code>Java 1.8</code>ä¹‹åï¼Œä½ ä¸åŠ <code>final</code>å…³é”®å­—ï¼Œåªè¦è¿™ä¸ªå€¼æ²¡è¢«ä¿®æ”¹ï¼Œä¹Ÿä¼šé»˜è®¤è§†ä½œ<code>final</code>çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.juc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BrokenBarrierException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CyclicBarrier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CyclicBarrierTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">CyclicBarrier cyclicBarrier = <span class="keyword">new</span> CyclicBarrier(<span class="number">7</span>, () -&gt; &#123;</span><br><span class="line">System.out.println(<span class="string">"å¬å”¤ç¥é¾™ï¼"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> finalI = i;</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"æ”¶é›†ç¬¬"</span> + (finalI + <span class="number">1</span>) + <span class="string">"ä¸ªé¾™ç "</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">cyclicBarrier.await();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;, <span class="string">"çº¿ç¨‹"</span> + String.valueOf(i + <span class="number">1</span>)).start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=57758:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/jvm/out/production/jvm xyz.onns.juc.CyclicBarrierTest</span><br><span class="line">çº¿ç¨‹4æ”¶é›†ç¬¬4ä¸ªé¾™ç </span><br><span class="line">çº¿ç¨‹5æ”¶é›†ç¬¬5ä¸ªé¾™ç </span><br><span class="line">çº¿ç¨‹7æ”¶é›†ç¬¬7ä¸ªé¾™ç </span><br><span class="line">çº¿ç¨‹6æ”¶é›†ç¬¬6ä¸ªé¾™ç </span><br><span class="line">çº¿ç¨‹2æ”¶é›†ç¬¬2ä¸ªé¾™ç </span><br><span class="line">çº¿ç¨‹3æ”¶é›†ç¬¬3ä¸ªé¾™ç </span><br><span class="line">çº¿ç¨‹1æ”¶é›†ç¬¬1ä¸ªé¾™ç </span><br><span class="line">å¬å”¤ç¥é¾™ï¼</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/qq_36221788/article/details/100584500" target="_blank" rel="noopener">Variable used in lambda expression should be final or effectively final</a></li><li><a href="https://www.jianshu.com/p/e7a51617c568" target="_blank" rel="noopener">ç¼–è¯‘å™¨è¯´ Lambda è¡¨è¾¾å¼ä¸­çš„å˜é‡å¿…é¡»æ˜¯ final çš„ï¼Œæˆ‘åä¸ä¿¡</a></li><li><a href="https://stackoverflow.com/questions/50456920/why-does-variables-in-lambdas-have-to-be-final-or-effectively-final/50457016" target="_blank" rel="noopener">Why does variables in lambdas have to be final or effectively final? [duplicate]</a></li><li><a href="https://stackoverflow.com/questions/25055392/lambdas-local-variables-need-final-instance-variables-dont" target="_blank" rel="noopener">Lambdas: local variables need final, instance variables donâ€™t</a></li><li><a href="https://stackoverflow.com/a/4732617/13182099" target="_blank" rel="noopener">Why are only final variables accessible in anonymous class?</a></li></ul><h2 id="semaphore"><a class="header-anchor" href="#semaphore">#</a>Semaphore</h2><p><strong>ä¿¡å·é‡</strong></p><p>æŠ¢è½¦ä½ï¼Œæœ‰ç©ºè½¦ä½æ‰èƒ½åœè½¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.juc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SemaphoreTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Semaphore semaphore = <span class="keyword">new</span> Semaphore(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> finalI = i % <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">semaphore.acquire(finalI);</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"è·å¾—äº†"</span> + finalI + <span class="string">"ä¸ªè½¦ä½"</span>);</span><br><span class="line">TimeUnit.SECONDS.sleep(<span class="number">2</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; finalI; j++) &#123;</span><br><span class="line">semaphore.release();</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"é‡Šæ”¾äº†ç¬¬"</span> + (j + <span class="number">1</span>) + <span class="string">"ä¸ªè½¦ä½"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;, String.valueOf(i + <span class="number">1</span>)).start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$ /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=58074:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/jvm/out/production/jvm xyz.onns.juc.SemaphoreTest</span><br><span class="line">1è·å¾—äº†1ä¸ªè½¦ä½</span><br><span class="line">2è·å¾—äº†2ä¸ªè½¦ä½</span><br><span class="line">1é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">2é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">2é‡Šæ”¾äº†ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">3è·å¾—äº†3ä¸ªè½¦ä½</span><br><span class="line">4è·å¾—äº†1ä¸ªè½¦ä½</span><br><span class="line">3é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">3é‡Šæ”¾äº†ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">3é‡Šæ”¾äº†ç¬¬3ä¸ªè½¦ä½</span><br><span class="line">5è·å¾—äº†2ä¸ªè½¦ä½</span><br><span class="line">5é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">4é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">6è·å¾—äº†3ä¸ªè½¦ä½</span><br><span class="line">5é‡Šæ”¾äº†ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">6é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">6é‡Šæ”¾äº†ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">7è·å¾—äº†1ä¸ªè½¦ä½</span><br><span class="line">6é‡Šæ”¾äº†ç¬¬3ä¸ªè½¦ä½</span><br><span class="line">8è·å¾—äº†2ä¸ªè½¦ä½</span><br><span class="line">8é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">8é‡Šæ”¾äº†ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">7é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">9è·å¾—äº†3ä¸ªè½¦ä½</span><br><span class="line">9é‡Šæ”¾äº†ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">9é‡Šæ”¾äº†ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">9é‡Šæ”¾äº†ç¬¬3ä¸ªè½¦ä½</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><p>åœ¨æ•™ç¨‹çš„åŸºç¡€ä¸Šæ”¹å˜äº†äº›ï¼Œå‘ç°å‡º bug äº†= =</p><center><p><img src="//onns.xyz/blog/image/20200912-14.jpg" alt="å‡ºç°é—®é¢˜"></p></center><p>æ‰¾äº†åŠä¸ªå¤šå°æ—¶ï¼Œè§£å†³äº†ï¼</p><p>é‡Šæ”¾è½¦ä½è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä¸åº”è¯¥åœ¨åœ¨é‡Šæ”¾ä¹‹åï¼Œè¿™æ ·å¯èƒ½ä¼šï¼Œé‡Šæ”¾äº†ä½†æ˜¯æ¥ä¸åŠæ‰“å°ï¼Œé‚£è¾¹çº¿ç¨‹å°±å·²ç»æ‹¿åˆ°è½¦ä½äº†ã€‚</p><p><code>é‡Šæ”¾è½¦ä½</code> -&gt; <code>è·å¾—è½¦ä½</code> -&gt; <code>æ‰“å°è¾“å‡º</code></p><p><code>é‡Šæ”¾è½¦ä½</code> -&gt; <code>æ‰“å°è¾“å‡º</code> -&gt; <code>è·å¾—è½¦ä½</code></p><p>ç¬¬ä¸€æ­¥ä¹‹åï¼Œå¦å¤–çš„ä¸¤æ­¥æ˜¯æ²¡æœ‰åŠæ³•ä¿è¯é¡ºåºçš„ï¼æ‰€ä»¥æ”¹ä¸ºï¼š</p><p><code>æ‰“å°è¾“å‡º</code> -&gt; <code>é‡Šæ”¾è½¦ä½</code> -&gt; <code>è·å¾—è½¦ä½</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.juc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Semaphore;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SemaphoreTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Semaphore semaphore = <span class="keyword">new</span> Semaphore(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> finalI = i % <span class="number">3</span> + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">semaphore.acquire(finalI);</span><br><span class="line">System.out.println(<span class="string">"çº¿ç¨‹"</span> + Thread.currentThread().getName() + <span class="string">"è·å¾—äº†"</span> + finalI + <span class="string">"ä¸ªè½¦ä½"</span>);</span><br><span class="line">TimeUnit.SECONDS.sleep(<span class="number">2</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; finalI; j++) &#123;</span><br><span class="line">System.out.println(<span class="string">"çº¿ç¨‹"</span> + Thread.currentThread().getName() + <span class="string">"é‡Šæ”¾ç¬¬"</span> + (j + <span class="number">1</span>) + <span class="string">"ä¸ªè½¦ä½"</span>);</span><br><span class="line">semaphore.release();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;, String.valueOf(i + <span class="number">1</span>)).start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$ /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=58503:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/jvm/out/production/jvm xyz.onns.juc.SemaphoreTest</span><br><span class="line">çº¿ç¨‹1è·å¾—äº†1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹2è·å¾—äº†2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹1é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹2é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹2é‡Šæ”¾ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹3è·å¾—äº†3ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹3é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹3é‡Šæ”¾ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹4è·å¾—äº†1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹3é‡Šæ”¾ç¬¬3ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹5è·å¾—äº†2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹4é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹5é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹5é‡Šæ”¾ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹6è·å¾—äº†3ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹6é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹6é‡Šæ”¾ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹7è·å¾—äº†1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹6é‡Šæ”¾ç¬¬3ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹8è·å¾—äº†2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹8é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹7é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹8é‡Šæ”¾ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹9è·å¾—äº†3ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹9é‡Šæ”¾ç¬¬1ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹9é‡Šæ”¾ç¬¬2ä¸ªè½¦ä½</span><br><span class="line">çº¿ç¨‹9é‡Šæ”¾ç¬¬3ä¸ªè½¦ä½</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><p>å®Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> juc </tag>
            
            <tag> concurrent </tag>
            
            <tag> countdownlatch </tag>
            
            <tag> cyclicbarrier </tag>
            
            <tag> semaphore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Excelä¸­ä½¿ç”¨å®</title>
      <link href="/blog/2020/09/12/use-vba-in-excel/"/>
      <url>/blog/2020/09/12/use-vba-in-excel/</url>
      
        <content type="html"><![CDATA[<p>å·¥ä½œäº¤æ¥ï½</p><a id="more"></a><h2 id="xls-è½¬-xlsx"><a class="header-anchor" href="#xls-è½¬-xlsx">#</a>xls è½¬ xlsx</h2><p>ä¸€èˆ¬æ‹¿åˆ°çš„è¯¾ç¨‹<code>excel</code>æ–‡ä»¶éƒ½æ˜¯<code>xls</code>çš„è€ç‰ˆåç¼€ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯å¦å­˜ä¸ºä¸€ä¸ªæ–°ç‰ˆçš„<code>xlsx</code>åç¼€çš„æ–‡ä»¶ï¼š<code>new.xlsx</code>ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200912-1.png" alt="å¦å­˜ä¸º"></p></center><h2 id="å»æ‰è¯¾ç¨‹ç¼–å·"><a class="header-anchor" href="#å»æ‰è¯¾ç¨‹ç¼–å·">#</a>å»æ‰è¯¾ç¨‹ç¼–å·</h2><p>æ­£å¸¸ä¸€ä¸ªè¯¾ç¨‹çš„åå­—æ˜¯<code>è¯¾ç¨‹ä»£å·-è¯¾ç¨‹å</code>è¿™ç§æ ¼å¼ï¼Œæ¯”å¦‚ï¼š<code>0410303-ä¸­å…±é‡è¦ä¼šè®®è¿°è¯„åŠä¸“é¢˜ç ”ç©¶</code>ï¼Œéœ€è¦å…ˆæŠŠå‰é¢çš„<code>è¯¾ç¨‹ä»£å·</code>å’Œ<code>-</code>å»æ‰ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200912-2.png" alt="è¯¾ç¨‹å"></p></center><p>é€‰ä¸­è¯¾ç¨‹çš„åˆ—ï¼Œ<code>å³é”®</code>-&gt;<code>æ’å…¥</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-3.png" alt="æ’å…¥"></p></center><h2 id="é”®å…¥å…¬å¼"><a class="header-anchor" href="#é”®å…¥å…¬å¼">#</a>é”®å…¥å…¬å¼</h2><p>å»é™¤çš„å…¬å¼å¦‚ä¸‹ï¼š</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">MID</span>(<span class="symbol">F2</span>,<span class="built_in">SEARCH</span>(<span class="string">"-"</span>,<span class="symbol">F2</span>)+<span class="number">1</span>,<span class="built_in">LEN</span>(<span class="symbol">F2</span>))</span><br></pre></td></tr></table></figure><center><p><img src="//onns.xyz/blog/image/20200912-4.png" alt="å…¬å¼"></p></center><p>è¿™é‡Œé¢çš„<code>F2</code>æ˜¯åŒè¡Œçš„è¯¾ç¨‹ç¼–å·æ‰€åœ¨çš„è¡¨æ ¼ä½ç½®ï¼Œåˆ°æ—¶å€™ä½ çœ‹ç€æ”¹ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200912-5.png" alt="æ‹–åŠ¨"></p></center><p>ç„¶å<code>å·¦é”®</code>æ”¾åˆ°<code>å•å…ƒæ ¼</code>çš„<code>å³ä¸‹è§’</code>ï¼Œæ‹‰åŠ¨åˆ°æœ€åä¸€è¡Œï¼Œå°±å¯ä»¥å®Œæˆæ‰€æœ‰çš„æ›¿æ¢ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-6.png" alt="æ•ˆæœå›¾"></p></center><p>å¯¹äº†ï¼Œè®°å¾—æŠŠ<code>æ ‡é¢˜æ </code>é‚£è¡Œå¡«ä¸€ç‚¹ä¸œè¥¿ï¼Œä¸ç„¶å¾…ä¼šä¼šæŠ¥é”™ï¼Œéšä¾¿å¡«ä»€ä¹ˆéƒ½è¡Œï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-13.png" alt="æ ‡é¢˜æ "></p></center><h2 id="å¼€å¯å®"><a class="header-anchor" href="#å¼€å¯å®">#</a>å¼€å¯å®</h2><p><code>è§†å›¾</code> -&gt; <code>å®</code> -&gt; <code>å½•åˆ¶å®</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-7.png" alt="å½•åˆ¶å®"></p></center><p><code>ç¡®å®š</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-8.png" alt="ç¡®å®š"></p></center><p>ç„¶åä»€ä¹ˆéƒ½ä¸ç”¨ç‚¹ï¼Œ<code>è§†å›¾</code> -&gt; <code>å®</code> -&gt; <code>åœæ­¢å½•åˆ¶</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-9.png" alt="åœæ­¢å½•åˆ¶"></p></center><p><code>è§†å›¾</code> -&gt; <code>å®</code> -&gt; <code>æŸ¥çœ‹å®</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-10.png" alt="æŸ¥çœ‹å®"></p></center><p><code>ç¼–è¾‘</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-11.png" alt="ç¼–è¾‘"></p></center><p>ç„¶åä¼šæœ‰ä¸€ä¸ªå¦‚ä¸‹çš„é¡µé¢ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-12.png" alt="vbaç•Œé¢"></p></center><h2 id="é”®å…¥å®"><a class="header-anchor" href="#é”®å…¥å®">#</a>é”®å…¥å®</h2><p>å‚è€ƒ<a href="https://onns.xyz/blog/2020/02/19/find-string-in-excel/#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81">å®Œæ•´ä»£ç </a>ï¼ŒæŠŠ<code>1-64</code>è¡Œçš„ä»£ç ï¼Œ<code>ctrl c</code>å¤åˆ¶ä¸€ä¸‹ï¼Œå›åˆ°ä¸Šä¸€ä¸ªç•Œé¢ï¼Œ<code>ctrl a</code>é€‰æ‹©å½“å‰æ‰€æœ‰å†…å®¹ï¼Œ<code>ctrl v</code>æ›¿æ¢ã€‚</p><p>æ³¨æ„çš„æ˜¯<code>nameRow</code>è¿™ä¸ªå˜é‡æ˜¯æ¯æ¬¡éƒ½å˜çš„ï¼Œè¿™æ¬¡æˆ‘ä»¬æ˜¯<code>E</code>åˆ—ï¼Œæ‰€ä»¥æ˜¯<code>5</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-14.png" alt="Eåˆ—"></p></center><center><p><img src="//onns.xyz/blog/image/20200912-15.png" alt="5"></p></center><p><code>ä¿å­˜</code>æŒ‰é’®ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-16.png" alt="ä¿å­˜"></p></center><p><code>æ˜¯</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-17.png" alt="æ˜¯"></p></center><p><code>è§†å›¾</code> -&gt; <code>å®</code> -&gt; <code>æŸ¥çœ‹å®</code> -&gt; <code>FindAndMark</code> -&gt; <code>æ‰§è¡Œ</code>ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200912-18.png" alt="æ‰§è¡Œ"></p></center><p>æ”¶å·¥</p><h2 id="åç»­"><a class="header-anchor" href="#åç»­">#</a>åç»­</h2><p>æ³¨æ„äº‹é¡¹éƒ½åœ¨è¿™è¾¹ï¼š<a href="https://onns.xyz/blog/2020/02/19/find-string-in-excel/">https://onns.xyz/blog/2020/02/19/find-string-in-excel/</a>ï¼Œä¹Ÿå»çœ‹ä¸‹ã€‚</p><p>å®Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> xmu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> excel </tag>
            
            <tag> windows </tag>
            
            <tag> vba </tag>
            
            <tag> liberal </tag>
            
            <tag> xls </tag>
            
            <tag> xlsx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSP</title>
      <link href="/blog/2020/09/10/jsp-1/"/>
      <url>/blog/2020/09/10/jsp-1/</url>
      
        <content type="html"><![CDATA[<h2 id="jsp-çƒ­æ›´æ–°"><a class="header-anchor" href="#jsp-çƒ­æ›´æ–°">#</a>JSP çƒ­æ›´æ–°</h2><p>ä¹‹å‰å†™ Java Servlet çš„æ—¶å€™ï¼Œæ¯å†™ä¸€ä¸ªå°±è¦é‡æ–°å¯åŠ¨ä¸€æ¬¡<code>tomcat</code>ï¼Œéº»çƒ¦æ­»ï¼Œç»ˆäºåˆ°<code>jsp</code>è¿™é‡Œå¯ä»¥çƒ­æ›´æ–°äº†ã€‚</p><p>åœ¨<code>Deployment</code>çš„ç•Œé¢é‡Œé€‰å¸¦<strong>exploded</strong>åç¼€çš„ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-9.png" alt="Deploymentç•Œé¢"></p></center><p>ç„¶ååœ¨<code>Server</code>ç•Œé¢ï¼ŒæŠŠ<code>On 'Update' action:</code>å’Œ<code>On frame deactivation:</code>æ”¹æ‰ï¼Œé‡å¯å°±å¯ä»¥äº†ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-10.png" alt="Serverç•Œé¢"></p></center><p>æˆ‘è¿™æ ·é…äº†ä¹‹åä¸ç”Ÿæ•ˆï¼Œæ‰¾äº†åŠå¤©åŸå› ï¼Œå‘ç°é‡å¯å°±å¯ä»¥äº†ï¼Œå”‰ â•®(â•¯â–½â•°)â•­</p><a id="more"></a><h2 id="jsp-è¯­æ³•"><a class="header-anchor" href="#jsp-è¯­æ³•">#</a>JSP è¯­æ³•</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%----%&gt;</span><br><span class="line">&lt;%%&gt;</span><br><span class="line">&lt;%=%&gt;</span><br><span class="line">&lt;%!%&gt;</span><br></pre></td></tr></table></figure><h2 id="jsp-æŒ‡ä»¤"><a class="header-anchor" href="#jsp-æŒ‡ä»¤">#</a>JSP æŒ‡ä»¤</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: onns</span><br><span class="line">  Date: <span class="number">2020</span>/<span class="number">9</span>/<span class="number">10</span></span><br><span class="line">  Time: <span class="number">12</span>:<span class="number">11</span> AM</span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">"common/header.jsp"</span>%&gt;</span><br><span class="line">&lt;h1&gt;Main!&lt;/h1&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">"common/footer.jsp"</span>%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³é”™è¯¯é¡µ"><a class="header-anchor" href="#ç›¸å…³é”™è¯¯é¡µ">#</a>ç›¸å…³é”™è¯¯é¡µ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>404<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/error/404.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">error-code</span>&gt;</span>500<span class="tag">&lt;/<span class="name">error-code</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">location</span>&gt;</span>/error/500.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="jsp-æœ¬è´¨"><a class="header-anchor" href="#jsp-æœ¬è´¨">#</a>JSP æœ¬è´¨</h2><p><code>JSP</code>çš„æœ¬è´¨æ˜¯ï¼Œåœ¨è®¿é—®æŸä¸€ä¸ªæ¯”å¦‚<code>hello.jsp</code>é¡µé¢çš„æ—¶å€™ï¼Œ<code>tomcat</code>å°†<code>hello.jsp</code>æ–‡ä»¶ç”Ÿæˆäº†<code>hello.java</code>æ–‡ä»¶ï¼Œå¹¶ç¼–è¯‘æˆ<code>hello.class</code>æ–‡ä»¶ï¼Œæœ€ç»ˆè¢«<code>tomcat</code>æ‰€è§£æï¼Œç„¶åè¿”å›ç»™æµè§ˆå™¨ã€‚</p><h2 id="jsp-å†…ç½®å¯¹è±¡"><a class="header-anchor" href="#jsp-å†…ç½®å¯¹è±¡">#</a>JSP å†…ç½®å¯¹è±¡</h2><ul><li>PageContext å­˜ä¸œè¥¿</li><li>Request å­˜ä¸œè¥¿</li><li>Response</li><li>Session å­˜ä¸œè¥¿</li><li>Application (ServletContext) å­˜ä¸œè¥¿</li><li>Config (ServletConfig)</li><li>Out</li><li>Page</li><li>Exception</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pageContext.setAttribute(<span class="string">"nameCon"</span>,<span class="string">"Con"</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®åªä¼šåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</span></span><br><span class="line">request.setAttribute(<span class="string">"nameReq"</span>,<span class="string">"Req"</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®åªä¼šåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®</span></span><br><span class="line">session.setAttribute(<span class="string">"nameSes"</span>,<span class="string">"Ses"</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®åªä¼šåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨</span></span><br><span class="line">application.setAttribute(<span class="string">"nameApp"</span>,<span class="string">"App"</span>); <span class="comment">// ä¿å­˜çš„æ•°æ®ä¼šåœ¨æœåŠ¡å™¨è¿è¡Œæ—¶ä¸€ç›´æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://www.bilibili.com/video/BV12J411M7Sj?p=19" target="_blank" rel="noopener">æ•™ç¨‹åœ°å€</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> java </tag>
            
            <tag> maven </tag>
            
            <tag> servlet </tag>
            
            <tag> idea </tag>
            
            <tag> jsp </tag>
            
            <tag> tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘¨æŠ¥-20200910</title>
      <link href="/blog/2020/09/10/weekly-report-20200910/"/>
      <url>/blog/2020/09/10/weekly-report-20200910/</url>
      
        <content type="html"><![CDATA[<center><table><thead><tr><th style="text-align:center">2020-09-10</th><th style="text-align:center">å‘¨æŠ¥#04</th><th style="text-align:center">åˆ˜æ½˜</th></tr></thead><tbody></tbody></table></center><a id="more"></a><h2 id="i-task-achieved-last-week"><a class="header-anchor" href="#i-task-achieved-last-week">#</a>I. Task achieved last week</h2><hr><ul><li>ã€ŠGate-Shift Networks for Video Action Recognitionã€‹</li><li>ã€ŠTSM Temporal Shift Module for Efficient Video Understandingã€‹</li><li>ã€ŠPAN: Towards Fast Action Recognition via Learning Persistence of Appearanceã€‹è¿™ç¯‡æ˜¯ä»Šå¹´å…«æœˆæ–°å‘çš„ï¼Œåœ¨something-something-v1æ•°æ®é›†æ˜¯ç›®å‰çš„top1ã€‚</li><li>TSMå’ŒPANè·‘äº†å®éªŒæµ‹è¯•äº†ä¸€ä¸‹ã€‚</li></ul><h2 id="ii-reports"><a class="header-anchor" href="#ii-reports">#</a>II. Reports</h2><hr><h3 id="gate-shift-networks-for-video-action-recognition"><a class="header-anchor" href="#gate-shift-networks-for-video-action-recognition">#</a>Gate-Shift Networks for Video Action Recognition</h3><p>ç”¨äºè¡Œä¸ºè¯†åˆ«çš„<code>Gate-Shift</code>ç½‘ç»œ</p><p>åœ¨å®è·µä¸­ï¼Œç”±äºæ¶‰åŠå¤§é‡çš„å‚æ•°å’Œè®¡ç®—ï¼Œåœ¨ç¼ºä¹è¶³å¤Ÿå¤§çš„æ•°æ®é›†è¿›è¡Œå¤§è§„æ¨¡è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œ<code>C3D</code>å¯èƒ½è¡¨ç°ä¸ä½³ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-5.png" alt="GSM"></p></center><p>æå‡ºäº†ä¸€ç§<code>Gate-Shift Module(GSM)</code>ï¼Œå°†<code>2D-CNN</code>è½¬æ¢ä¸ºé«˜æ•ˆçš„æ—¶ç©ºç‰¹å¾æŠ½å–å™¨ã€‚</p><p>é€šè¿‡<code>GSM</code>æ’ä»¶ï¼Œä¸€ä¸ª<code>2D-CNN</code>å¯ä»¥é€‚åº”æ€§åœ°å­¦ä¹ æ—¶é—´è·¯ç”±ç‰¹æ€§å¹¶å°†å®ƒä»¬ç»“åˆèµ·æ¥ï¼Œå¹¶ä¸”å‡ ä¹æ²¡æœ‰é¢å¤–çš„é™„åŠ å‚æ•°å’Œè®¡ç®—å¼€é”€ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-4.png" alt="æ€è·¯å¯¹æ¯”"></p></center><p>ä¼ ç»Ÿçš„æ–¹æ³•æ¼”å˜ï¼š<code>C3D</code> -&gt; <code>2D spatial + 1D temporal</code> -&gt; <code>CSN</code> -&gt; <code>GST</code>ï¼ˆä¸åˆ†ç¦»ä¿¡é“ç»„ä¸Šçš„äºŒç»´å’Œä¸‰ç»´å·ç§¯å¹¶è¡Œç©ºé—´å’Œæ—¶ç©ºäº¤äº’å»ºæ¨¡ï¼‰ -&gt; <code>TSM</code>ï¼ˆæ—¶åŸŸå·ç§¯å¯ä»¥è¢«é™åˆ¶ä¸ºç¡¬ç¼–ç çš„æ—¶ç§»ï¼Œä½¿ä¸€äº›ä¿¡é“åœ¨æ—¶é—´ä¸Šå‘å‰æˆ–å‘åç§»åŠ¨ï¼‰</p><p>æ‰€æœ‰è¿™äº›ç°æœ‰çš„æ–¹æ³•éƒ½å­¦ä¹ å…·æœ‰ç¡¬è¿çº¿è¿æ¥å’Œè·¨ç½‘ç»œä¼ æ’­æ¨¡å¼çš„ç»“æ„åŒ–å†…æ ¸ã€‚<br>åœ¨ç½‘ç»œä¸­çš„ä»»ä½•ä¸€ç‚¹ä¸Šéƒ½æ²¡æœ‰æ•°æ®ä¾èµ–çš„å†³ç­–æ¥é€‰æ‹©åœ°é€šè¿‡ä¸åŒçš„åˆ†æ”¯æ¥è·¯ç”±ç‰¹æ€§ï¼Œåˆ†ç»„å’Œéšæœºçš„æ¨¡å¼æ˜¯åœ¨è®¾è®¡ä¹‹åˆå°±å›ºå®šçš„ï¼Œå¹¶ä¸”å­¦ä¹ å¦‚ä½•éšæœºæ˜¯å…·æœ‰ç»„åˆå¤æ‚æ€§çš„ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-6.png" alt="å®éªŒ"></p></center><blockquote><p>From the experiments we conclude that adding GSM to the branch with the least number of convolution layers performs the best.</p></blockquote><p>åœ¨å·ç§¯å±‚æœ€å°‘çš„åˆ†æ”¯ä¸Šæ·»åŠ <code>GSM</code>æ¨¡å—è¡¨ç°æœ€å¥½ã€‚</p><h3 id="tsm-temporal-shift-module-for-efficient-video-understanding"><a class="header-anchor" href="#tsm-temporal-shift-module-for-efficient-video-understanding">#</a>TSM Temporal Shift Module for Efficient Video Understanding</h3><center><p><img src="//onns.xyz/blog/image/20200910-1.png" alt="æ ¸å¿ƒæ€æƒ³"></p></center><p>å®ç°åœ¨ 2D æ¨¡å‹ä¸Šè¾¾åˆ° 3D æ¨¡å‹çš„ç²¾åº¦ï¼Œæå¤§çš„é™ä½äº†è®¡ç®—ã€‚</p><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„<code>shift</code>æ“ä½œéƒ½å¯ä»¥è¾¾åˆ°æ•ˆæœçš„ï¼Œè™½ç„¶<code>shift</code>æ“ä½œä¸éœ€è¦é¢å¤–çš„è¿ç®—ä½†æ˜¯ä»ç„¶éœ€è¦æ•°æ®çš„ç§»åŠ¨ï¼Œå¤ªå¤šçš„ç§»åŠ¨ä¼šå¸¦æ¥å»¶è¿Ÿã€‚</p><p><code>shift</code>æ˜¯å¢åŠ æ—¶é—´ç‰¹å¾çš„æå–ï¼Œå¤ªå¤šçš„<code>shift</code>æ“ä½œä¹Ÿä¼šå¯¼è‡´ç©ºé—´ç‰¹å¾çš„æå–å—åˆ°å½±å“ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-2.png" alt="ä½œè€…æ€è·¯"></p></center><p>æ”¹è¿›çš„<code>shift</code>ç­–ç•¥ï¼šå¹¶ä¸æ˜¯<code>shift</code>æ‰€æœ‰çš„<code>channels</code>ï¼Œè€Œæ˜¯åªé€‰æ‹©æ€§çš„<code>shift</code>å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥ç­–ç•¥èƒ½å¤Ÿæœ‰æ•ˆçš„å‡å°‘æ•°æ®ç§»åŠ¨æ‰€å¸¦æ¥çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>TSM å¹¶ä¸æ˜¯ç›´æ¥è¢«æ’å…¥åˆ°ä»å‰å¾€åçš„å¹²é“ä¸­çš„ï¼Œè€Œæ˜¯ä»¥æ—è·¯çš„å½¢å¼è¿›è¡Œï¼Œå› æ­¤åœ¨è·å¾—äº†æ—¶åºä¿¡æ¯çš„åŒæ—¶ä¸ä¼šå¯¹äºŒç»´å·ç§¯çš„ç©ºé—´ä¿¡æ¯è¿›è¡ŒæŸå®³ã€‚</p><p>åŒæ—¶ä½œè€…å¯¹äºä¸€äº›å®æ—¶çš„åœ¨çº¿æ£€æµ‹æå‡ºäº†ç›¸åº”çš„æ¨¡å‹ç­–ç•¥ï¼Œä¸åŒäºå°†ç¬¬ä¸€å±‚ä¸‹ç§»ç¬¬äºŒå±‚ä¸Šç§»è¿™ç§ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200910-3.png" alt="åœ¨çº¿æ¨¡å‹"></p></center><p>å¯ä»¥æœ‰ç›¸åº”çš„å€Ÿé‰´æ€è·¯ï¼Œå¹¶ä¸”è¿™ç¯‡ä¹Ÿæ˜¯ä¸Šä¸€ç¯‡çš„åŸºå‡†ä¹‹ä¸€ã€‚</p><h4 id="å®éªŒç»“æœ"><a class="header-anchor" href="#å®éªŒç»“æœ">#</a>å®éªŒç»“æœ</h4><center><p><img src="//onns.xyz/blog/image/20200910-7.png" alt="è¿‡ç¨‹"></p></center><center><p><img src="//onns.xyz/blog/image/20200910-8.png" alt="ç»“æœ"></p></center><h4 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h4><ul><li><a href="https://github.com/mit-han-lab/temporal-shift-module" target="_blank" rel="noopener">https://github.com/mit-han-lab/temporal-shift-module</a></li><li><a href="https://blog.csdn.net/justsolow/article/details/105127296" target="_blank" rel="noopener">ã€ŠTSM: Temporal Shift Module for Efficient Video Understandingã€‹å­¦ä¹ å°è®°</a></li><li><a href="https://zhuanlan.zhihu.com/p/66251207" target="_blank" rel="noopener">Temporal Shift Module</a></li><li><a href="https://zhuanlan.zhihu.com/p/64525610" target="_blank" rel="noopener">TSMï¼šTemporal Shift Module for è§†é¢‘ç†è§£</a></li><li><a href="https://blog.csdn.net/Amazingren/article/details/100715768" target="_blank" rel="noopener">ã€è§†é¢‘ç†è§£è®ºæ–‡ã€‘â€”â€”TSMï¼šTemporal Shift Module for Efficient Video Understanding</a></li><li><a href="https://zhuanlan.zhihu.com/p/64525610" target="_blank" rel="noopener">TSMï¼šTemporal Shift Module for è§†é¢‘ç†è§£</a></li><li><a href="https://blog.csdn.net/strawqqhat/article/details/105292687" target="_blank" rel="noopener">Temporal Shift Module for Efficient Video Understanding</a></li></ul><h3 id="pan-towards-fast-action-recognition-via-learning-persistence-of-appearance"><a class="header-anchor" href="#pan-towards-fast-action-recognition-via-learning-persistence-of-appearance">#</a>PAN: Towards Fast Action Recognition via Learning Persistence of Appearance</h3><p>æ¯”å…‰æµç½‘ç»œå¿«äº†1000å€</p><blockquote><p>Our PA is over 1000Ã— faster (8196fps vs. 8fps) than conventional optical flow in terms of motion modeling speed</p></blockquote><p>è¿åŠ¨è¾¹ç•Œçš„å¾®å°ä½ç§»åœ¨åŠ¨ä½œè¯†åˆ«ä¸­èµ·é‡è¦ä½œç”¨çš„è§’è‰²ã€‚</p><blockquote><p>According to the aforementioned anal- ysis, we can conclude that small displacements of motion boundaries play a vital role in action recognition.</p></blockquote><p>ä½å±‚çš„<code>feature map</code>ä¹‹é—´çš„å·®å¼‚èƒ½æ›´å¤šåœ°å…³æ³¨è¾¹ç•Œçš„å˜åŒ–ã€‚</p><blockquote><p>the differences among low-level feature maps will pay more attention to the variations at boundaries.<br>In summary, differences in low-level feature maps can reflect small displacements of motion boundaries due to convolutional operations.</p></blockquote><p>åœ¨<code>UCF101</code>ä¸Šåšå®éªŒè¡¨æ˜åœ¨ç¬¬ä¸€å±‚æ•ˆæœæœ€å¥½ã€‚</p><blockquote><p>We define the basic conv-layer as eight 7Ã—7 convolutions with stride=1 and padding=3, so that the spatial resolutions of the obtained feature maps are not reduced.</p></blockquote><p>ä¸¤ç§ç¼–ç ç­–ç•¥ï¼š</p><p><strong>PA as motion modality</strong></p><p><strong>PA as attention</strong></p><p>ç¬¬ä¸€ç§æ— è®ºæ˜¯ä»è®¡ç®—é‡ä¸Šè¿˜æ˜¯ä»å‡†ç¡®ç‡ä¸Šéƒ½è¦æ›´å¥½ã€‚</p><p>å¯èƒ½åŸå› æ˜¯ç¬¬äºŒç§èåˆæ–¹æ³•å¯¼è‡´å›¾åƒçš„ä¸å¹³è¡¡ã€‚</p><blockquote><p>However, for e2, attending appearance feature maps with PA will highlight the motion boundaries, leading to the imbalanced appearance responses both inside and at the boundaries of the moving objects.</p></blockquote><p><strong>Various-timescale Aggregation Pooling</strong></p><h4 id="å®éªŒç»“æœ-2"><a class="header-anchor" href="#å®éªŒç»“æœ-2">#</a>å®éªŒç»“æœ</h4><h5 id="lite"><a class="header-anchor" href="#lite">#</a>Lite</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">somethingv2: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Downloading: <span class="string">"https://download.pytorch.org/models/resnet50-19c8e357.pth"</span> to /home/xiangyi/.cache/torch/hub/checkpoints/resnet50-19c8e357.pth</span><br><span class="line">100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 97.8M/97.8M [00:06&lt;00:00, 14.8MB/s]</span><br><span class="line">=&gt; Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">video number:24777</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/24777, average 0.879 sec/video, moving Prec@1 65.625 Prec@5 87.500</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/24777, average 0.239 sec/video, moving Prec@1 60.491 Prec@5 85.640</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/24777, average 0.230 sec/video, moving Prec@1 60.518 Prec@5 85.671</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/24777, average 0.227 sec/video, moving Prec@1 60.015 Prec@5 85.374</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/24777, average 0.225 sec/video, moving Prec@1 60.031 Prec@5 85.475</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/24777, average 0.226 sec/video, moving Prec@1 59.855 Prec@5 85.334</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/24777, average 0.224 sec/video, moving Prec@1 59.775 Prec@5 85.292</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/24777, average 0.223 sec/video, moving Prec@1 59.519 Prec@5 85.284</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/24777, average 0.224 sec/video, moving Prec@1 59.530 Prec@5 85.423</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/24777, average 0.224 sec/video, moving Prec@1 59.686 Prec@5 85.497</span><br><span class="line">video 12800 <span class="keyword">done</span>, total 12800/24777, average 0.224 sec/video, moving Prec@1 59.678 Prec@5 85.487</span><br><span class="line">video 14080 <span class="keyword">done</span>, total 14080/24777, average 0.225 sec/video, moving Prec@1 59.637 Prec@5 85.464</span><br><span class="line">video 15360 <span class="keyword">done</span>, total 15360/24777, average 0.225 sec/video, moving Prec@1 59.349 Prec@5 85.315</span><br><span class="line">video 16640 <span class="keyword">done</span>, total 16640/24777, average 0.225 sec/video, moving Prec@1 59.327 Prec@5 85.327</span><br><span class="line">video 17920 <span class="keyword">done</span>, total 17920/24777, average 0.226 sec/video, moving Prec@1 59.058 Prec@5 85.204</span><br><span class="line">video 19200 <span class="keyword">done</span>, total 19200/24777, average 0.226 sec/video, moving Prec@1 59.121 Prec@5 85.206</span><br><span class="line">video 20480 <span class="keyword">done</span>, total 20480/24777, average 0.226 sec/video, moving Prec@1 59.200 Prec@5 85.295</span><br><span class="line">video 21760 <span class="keyword">done</span>, total 21760/24777, average 0.227 sec/video, moving Prec@1 59.283 Prec@5 85.337</span><br><span class="line">video 23040 <span class="keyword">done</span>, total 23040/24777, average 0.227 sec/video, moving Prec@1 59.254 Prec@5 85.422</span><br><span class="line">video 24320 <span class="keyword">done</span>, total 24320/24777, average 0.227 sec/video, moving Prec@1 59.277 Prec@5 85.421</span><br><span class="line">[0.84482759 0.38815789 0.51633987 0.58252427 0.58974359 0.54385965</span><br><span class="line"> 0.76738609 0.63636364 0.67716535 0.60264901 0.53932584 0.68613139</span><br><span class="line"> 0.26923077 0.425      0.7122807  0.51914894 0.42639594 0.38157895</span><br><span class="line"> 0.46025105 0.57345972 0.51574803 0.62280702 0.55232558 0.56382979</span><br><span class="line"> 0.56818182 0.52631579 0.6        0.48514851 0.71818182 0.77394636</span><br><span class="line"> 0.78378378 0.77477477 0.82954545 0.11650485 0.36144578 0.203125</span><br><span class="line"> 0.84331797 0.82129278 0.22222222 0.79411765 0.71584699 0.73214286</span><br><span class="line"> 0.59624413 0.62057878 0.72972973 0.51253482 0.5873494  0.40703518</span><br><span class="line"> 0.42857143 0.80430108 0.7257384  0.06666667 0.40625    0.68571429</span><br><span class="line"> 0.25       0.42       0.4109589  0.60377358 0.17647059 0.81654676</span><br><span class="line"> 0.92       0.21568627 0.73417722 0.30841121 0.21621622 0.53301887</span><br><span class="line"> 0.30188679 0.40298507 0.6754386  0.43       0.64285714 0.47826087</span><br><span class="line"> 0.54411765 0.61538462 0.66981132 0.36842105 0.5        0.30769231</span><br><span class="line"> 0.2962963  0.77586207 0.296875   0.168      0.36170213 0.44680851</span><br><span class="line"> 0.64       0.44444444 0.85882353 0.792      0.25       0.19277108</span><br><span class="line"> 0.56521739 0.85       0.57894737 0.764      0.76694915 0.13888889</span><br><span class="line"> 0.14705882 0.2892562  0.51020408 0.67765568 0.46792453 0.62637363</span><br><span class="line"> 0.29310345 0.8125     0.7480315  0.73333333 0.52054795 0.66502463</span><br><span class="line"> 0.39189189 0.48       0.6056338  0.05555556 0.49640288 0.27777778</span><br><span class="line"> 0.69097222 0.54347826 0.25925926 0.77777778 0.40677966 0.64356436</span><br><span class="line"> 0.80314961 0.80681818 0.34975369 0.69230769 0.36538462 0.63761468</span><br><span class="line"> 0.55339806 0.42608696 0.1302682  0.70955882 0.32142857 0.35616438</span><br><span class="line"> 0.44827586 0.24561404 0.79619565 0.62269939 0.23529412 0.45</span><br><span class="line"> 0.24770642 0.72727273 0.6627907  0.359375   0.59375    0.63311688</span><br><span class="line"> 0.56050955 0.44680851 0.74166667 0.0859375  0.55230126 0.90754717</span><br><span class="line"> 0.76902174 0.33152174 0.3877551  0.75229358 0.51181102 0.29268293</span><br><span class="line"> 0.5        0.58695652 0.55045872 0.34545455 0.41284404 0.46052632</span><br><span class="line"> 0.43925234 0.45       0.84398977 0.88709677 0.96428571 0.94444444</span><br><span class="line"> 0.81666667 0.70666667 0.45098039 0.72115385 0.74418605 0.65693431]</span><br><span class="line">upper bound: 0.548518228331384</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 53.84%</span><br><span class="line">Overall Prec@1 59.26% Prec@5 85.45%</span><br><span class="line">/home/xiangyi/miniconda3/envs/pan/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure><h4 id="ç›¸å…³é“¾æ¥-2"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥-2">#</a>ç›¸å…³é“¾æ¥</h4><ul><li><a href="https://arxiv.org/pdf/2008.03462v1.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2008.03462v1.pdf</a></li><li><a href="https://github.com/zhang-can/PAN-PyTorch" target="_blank" rel="noopener">https://github.com/zhang-can/PAN-PyTorch</a></li></ul><h2 id="iii-plan-for-this-week"><a class="header-anchor" href="#iii-plan-for-this-week">#</a>III. Plan for this week</h2><hr><ul><li>çœ‹ä¸€ä¸‹ç›¸å…³ä»£ç ï¼Œäº†è§£ä¸€ä¸‹ä»–ä»¬æ”¹è¿›çš„æ€è·¯ã€‚</li><li>ç»§ç»­è¯»è®ºæ–‡ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> weekly report </tag>
            
            <tag> lab406 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°çš„é™æ€åšå®¢æ‰˜ç®¡å•†</title>
      <link href="/blog/2020/09/09/new-site-host/"/>
      <url>/blog/2020/09/09/new-site-host/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©ç»ˆäºä¸‹å®šå†³å¿ƒè¦æ¢åšå®¢æ‰˜ç®¡äº†ï¼Œä¹‹å‰ä¸€ç›´åœ¨<code>GitHub Page</code>ï¼Œå›½å†…è®¿é—®ç®€ç›´é¾Ÿé€Ÿï¼Œå…¶å®è‡ªå·±æœ‰æœåŠ¡å™¨çš„ï¼Œä½†æ˜¯çº¯é™æ€æ”¾ä¸Šå»æ„Ÿè§‰æœ‰ç‚¹æµªè´¹ï¼Œæœç´¢äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªçœŸçš„å¯ä»¥çš„ï¼ä¼ é€é—¨ï¼š<a href="https://vercel.com/dashboard" target="_blank" rel="noopener">https://vercel.com/dashboard</a>ã€‚</p><a id="more"></a><center><p><img src="//onns.xyz/blog/image/20200909-1.png" alt="è®¿é—®æµ‹é€Ÿ"></p></center><p>Happy Using!</p><p>å’Œ GitHub æ˜¯ç›¸è¿çš„ï¼Œè‡ªåŠ¨éƒ¨ç½²ï¼Œä¸ç”¨å¤šæ¬¡æ“ä½œï¼Œå¾€ GitHub<code>push</code>å³å¯ï¼</p>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
            <tag> github </tag>
            
            <tag> static </tag>
            
            <tag> onns.xyz </tag>
            
            <tag> host </tag>
            
            <tag> vercel </tag>
            
            <tag> github page </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxä»£ç†websocket</title>
      <link href="/blog/2020/09/09/nginx-proxy-websocket/"/>
      <url>/blog/2020/09/09/nginx-proxy-websocket/</url>
      
        <content type="html"><![CDATA[<p>ä¹‹å‰åšçš„é‚£ä¸ª<code>chromeæ’ä»¶</code>çš„é¡¹ç›®<code>Sync Sofa</code>ï¼Œå…¶å®ä¸šåŠ¡é‡å¾ˆå°ä½†æ˜¯å¿…é¡»è¦èµ°<code>443</code>çš„ç«¯å£ï¼Œå¼ºè¡Œå äº†ä¸€å°æœåŠ¡å™¨ï¼ä¸èƒ½å¿ï¼Œæ— å¥ˆå¥½å‡ æ¬¡<code>Nginx</code>åå‘ä»£ç†éƒ½å¤±è´¥äº†ï¼Œå‰ä¸¤æ¬¡ç´¯è®¡èŠ±äº†<strong>ä¸ƒå…«ä¸ªå°æ—¶</strong>éƒ½æ²¡æˆåŠŸï¼Œåœ¨æœ‹å‹çš„å¸®åŠ©ä¸‹<code>3å°æ—¶</code>æ‰‹å·¥ï¼</p><p>æ„Ÿè°¢ï¼<a href="https://her-cat.com/" target="_blank" rel="noopener">å¥¹å’Œå¥¹çš„çŒ«</a></p><a id="more"></a><h2 id="é…ç½®-websocket"><a class="header-anchor" href="#é…ç½®-websocket">#</a>é…ç½® websocket</h2><p>é¦–å…ˆç¡®ä¿æœ‰<code>golang</code>çš„ç¯å¢ƒï¼Œå¦‚æœæ²¡æœ‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install golang -y</span><br></pre></td></tr></table></figure><p>å®‰è£…å®¢æˆ·ç«¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å›½å†…è®¿é—®ç‚’é¸¡æ…¢ï¼ŒæŒ‚ä¸ªä»£ç†</span></span><br><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.io</span><br><span class="line"></span><br><span class="line">go get github.com/LouisYLWang/Sync-Sofa/server</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$GOPATH</span>/src/github.com/LouisYLWang/Sync-Sofa/server</span><br><span class="line">go install</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$GOPATH</span>/bin</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ª<code>config.json</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi config.json</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"addr"</span>: <span class="string">":81"</span>,</span><br><span class="line">  <span class="attr">"runmode"</span>: <span class="string">"dev"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é…ç½®-nginx"><a class="header-anchor" href="#é…ç½®-nginx">#</a>é…ç½® nginx</h2><p>æŠŠ<code>SSL</code>çš„ç›¸å…³è¯ä¹¦æ‹·è´åˆ° nginx ç›¸å…³ç›®å½•ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv sync.pem /etc/nginx/cert/</span><br><span class="line">mv sync.key /etc/nginx/cert/</span><br></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">...</span><br><span class="line"><span class="attribute">map</span> <span class="variable">$http_upgrade</span> <span class="variable">$connection_upgrade</span> &#123;</span><br><span class="line"><span class="attribute">default</span> upgrade;</span><br><span class="line">'' close;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attribute">upstream</span> websocket &#123;</span><br><span class="line"><span class="attribute">server</span> <span class="number">127.0.0.1:81</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attribute">upstream</span> web&#123;</span><br><span class="line"><span class="attribute">server</span> <span class="number">127.0.0.1:81</span>;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="section">server</span> &#123;</span><br><span class="line"><span class="attribute">listen</span> <span class="number">443</span>  default ssl;</span><br><span class="line"><span class="attribute">server_name</span> sync-cn.onns.xyz;</span><br><span class="line"><span class="attribute">ssl_certificate</span> /etc/nginx/cert/sync.pem;</span><br><span class="line"><span class="attribute">ssl_certificate_key</span> /etc/nginx/cert/sync.key;</span><br><span class="line"><span class="attribute">ssl_session_timeout</span> <span class="number">5m</span>;</span><br><span class="line"><span class="attribute">ssl_ciphers</span> ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span><br><span class="line"><span class="attribute">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line"><span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">location</span> / &#123;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host  <span class="variable">$http_host</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Nginx-Proxy <span class="literal">true</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Connection <span class="string">""</span>;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://web;</span><br><span class="line">&#125;</span><br><span class="line"><span class="attribute">location</span> /ws &#123;</span><br><span class="line"><span class="attribute">proxy_pass</span> http://websocket;</span><br><span class="line"><span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Connection <span class="variable">$connection_upgrade</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»è¦å¯ä»¥å‚è€ƒä¸€ä¸‹ Nginx çš„å®˜æ–¹åšå®¢ï¼š<a href="https://www.nginx.com/blog/websocket-nginx/" target="_blank" rel="noopener">NGINX as a WebSocket Proxy</a>ï¼Œä½†æ˜¯ä¹Ÿåªæ˜¯èƒ½å‚è€ƒã€‚ã€‚é‡Œé¢ç»™çš„å‘½ä»¤éƒ½è¿‡æœŸäº†ï¼Œå°¤å…¶æ˜¯ï¼Œ<code>node</code>ä¸è¦ç”¨<code>yum</code>è£…ï¼Œå„ç§æ—§ç‰ˆæœ¬ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.nginx.com/blog/websocket-nginx/" target="_blank" rel="noopener">NGINX as a WebSocket Proxy</a></li><li><a href="https://blog.csdn.net/nfq6612/article/details/88555092" target="_blank" rel="noopener">nginx é…ç½® ws wss å’Œ http https å’Œè®¿é—®å®ä¾‹</a></li><li><a href="https://help.aliyun.com/document_detail/98728.html" target="_blank" rel="noopener">åœ¨ Nginx æˆ– Tengine æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> nginx </tag>
            
            <tag> socket </tag>
            
            <tag> websocket </tag>
            
            <tag> ws </tag>
            
            <tag> golang </tag>
            
            <tag> wss </tag>
            
            <tag> ssl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>rsyncå®ç°æ–‡ä»¶åŒæ­¥</title>
      <link href="/blog/2020/09/08/rsync-usage/"/>
      <url>/blog/2020/09/08/rsync-usage/</url>
      
        <content type="html"><![CDATA[<p>Linux ä¸‹çš„æ–‡ä»¶åŒæ­¥ï¼Œ<code>rsync</code>çœŸçš„å¥½ç”¨ï¼</p><a id="more"></a><p>å› ä¸ºæˆ‘çš„<code>Mac</code>å’Œ<code>Ubuntu</code>éƒ½è‡ªå¸¦è¿™ä¸ª<code>rsync</code>äº†ï¼Œä¸å¿…è‡ªå·±è£…ï¼Œæƒ³è£…çš„å¯ä»¥å»å®˜ç½‘ï¼Œå¼€æºè½¯ä»¶ï¼š<a href="http://rsync.samba.org/" target="_blank" rel="noopener">å¼€æºåœ°å€</a>ï¼Œä¹Ÿæœ‰<code>Windows</code>ä¸‹çš„å®ç°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -h</span><br><span class="line">rsync  version 2.6.9  protocol version 29</span><br><span class="line">Copyright (C) 1996-2006 by Andrew Tridgell, Wayne Davison, and others.</span><br><span class="line">&lt;http://rsync.samba.org/&gt;</span><br><span class="line">Capabilities: 64-bit files, socketpairs, hard links, symlinks, batchfiles,</span><br><span class="line">              inplace, IPv6, 64-bit system inums, 64-bit internal inums</span><br><span class="line"></span><br><span class="line">rsync comes with ABSOLUTELY NO WARRANTY.  This is free software, and you</span><br><span class="line">are welcome to redistribute it under certain conditions.  See the GNU</span><br><span class="line">General Public Licence <span class="keyword">for</span> details.</span><br><span class="line"></span><br><span class="line">rsync is a file transfer program capable of efficient remote update</span><br><span class="line">via a fast differencing algorithm.</span><br><span class="line"></span><br><span class="line">Usage: rsync [OPTION]... SRC [SRC]... DEST</span><br><span class="line">  or   rsync [OPTION]... SRC [SRC]... [USER@]HOST:DEST</span><br><span class="line">  or   rsync [OPTION]... SRC [SRC]... [USER@]HOST::DEST</span><br><span class="line">  or   rsync [OPTION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST</span><br><span class="line">  or   rsync [OPTION]... [USER@]HOST:SRC [DEST]</span><br><span class="line">  or   rsync [OPTION]... [USER@]HOST::SRC [DEST]</span><br><span class="line">  or   rsync [OPTION]... rsync://[USER@]HOST[:PORT]/SRC [DEST]</span><br><span class="line">The <span class="string">':'</span> usages connect via remote shell, <span class="keyword">while</span> <span class="string">'::'</span> &amp; <span class="string">'rsync://'</span> usages connect</span><br><span class="line">to an rsync daemon, and require SRC or DEST to start with a module name.</span><br><span class="line"></span><br><span class="line">Options</span><br><span class="line"> -v, --verbose               increase verbosity</span><br><span class="line"> -q, --quiet                 suppress non-error messages</span><br><span class="line">     --no-motd               suppress daemon-mode MOTD (see manpage caveat)</span><br><span class="line"> -c, --checksum              skip based on checksum, not mod-time &amp; size</span><br><span class="line"> -a, --archive               archive mode; same as -rlptgoD (no -H)</span><br><span class="line">     --no-OPTION             turn off an implied OPTION (e.g. --no-D)</span><br><span class="line"> -r, --recursive             recurse into directories</span><br><span class="line"> -R, --relative              use relative path names</span><br><span class="line">     --no-implied-dirs       don<span class="string">'t send implied dirs with --relative</span></span><br><span class="line"><span class="string"> -b, --backup                make backups (see --suffix &amp; --backup-dir)</span></span><br><span class="line"><span class="string">     --backup-dir=DIR        make backups into hierarchy based in DIR</span></span><br><span class="line"><span class="string">     --suffix=SUFFIX         set backup suffix (default ~ w/o --backup-dir)</span></span><br><span class="line"><span class="string"> -u, --update                skip files that are newer on the receiver</span></span><br><span class="line"><span class="string">     --inplace               update destination files in-place (SEE MAN PAGE)</span></span><br><span class="line"><span class="string">     --append                append data onto shorter files</span></span><br><span class="line"><span class="string"> -d, --dirs                  transfer directories without recursing</span></span><br><span class="line"><span class="string"> -l, --links                 copy symlinks as symlinks</span></span><br><span class="line"><span class="string"> -L, --copy-links            transform symlink into referent file/dir</span></span><br><span class="line"><span class="string">     --copy-unsafe-links     only "unsafe" symlinks are transformed</span></span><br><span class="line"><span class="string">     --safe-links            ignore symlinks that point outside the source tree</span></span><br><span class="line"><span class="string"> -k, --copy-dirlinks         transform symlink to a dir into referent dir</span></span><br><span class="line"><span class="string"> -K, --keep-dirlinks         treat symlinked dir on receiver as dir</span></span><br><span class="line"><span class="string"> -H, --hard-links            preserve hard links</span></span><br><span class="line"><span class="string"> -p, --perms                 preserve permissions</span></span><br><span class="line"><span class="string">     --executability         preserve the file'</span>s executability</span><br><span class="line">     --chmod=CHMOD           affect file and/or directory permissions</span><br><span class="line"> -o, --owner                 preserve owner (super-user only)</span><br><span class="line"> -g, --group                 preserve group</span><br><span class="line">     --devices               preserve device files (super-user only)</span><br><span class="line">     --specials              preserve special files</span><br><span class="line"> -D                          same as --devices --specials</span><br><span class="line"> -t, --<span class="built_in">times</span>                 preserve <span class="built_in">times</span></span><br><span class="line"> -O, --omit-dir-times        omit directories when preserving <span class="built_in">times</span></span><br><span class="line">     --super                 receiver attempts super-user activities</span><br><span class="line"> -S, --sparse                handle sparse files efficiently</span><br><span class="line"> -n, --dry-run               show what would have been transferred</span><br><span class="line"> -W, --whole-file            copy files whole (without rsync algorithm)</span><br><span class="line"> -x, --one-file-system       don<span class="string">'t cross filesystem boundaries</span></span><br><span class="line"><span class="string"> -B, --block-size=SIZE       force a fixed checksum block-size</span></span><br><span class="line"><span class="string"> -e, --rsh=COMMAND           specify the remote shell to use</span></span><br><span class="line"><span class="string">     --rsync-path=PROGRAM    specify the rsync to run on the remote machine</span></span><br><span class="line"><span class="string">     --existing              skip creating new files on receiver</span></span><br><span class="line"><span class="string">     --ignore-existing       skip updating files that already exist on receiver</span></span><br><span class="line"><span class="string">     --remove-source-files   sender removes synchronized files (non-dirs)</span></span><br><span class="line"><span class="string">     --del                   an alias for --delete-during</span></span><br><span class="line"><span class="string">     --delete                delete extraneous files from destination dirs</span></span><br><span class="line"><span class="string">     --delete-before         receiver deletes before transfer (default)</span></span><br><span class="line"><span class="string">     --delete-during         receiver deletes during transfer, not before</span></span><br><span class="line"><span class="string">     --delete-after          receiver deletes after transfer, not before</span></span><br><span class="line"><span class="string">     --delete-excluded       also delete excluded files from destination dirs</span></span><br><span class="line"><span class="string">     --ignore-errors         delete even if there are I/O errors</span></span><br><span class="line"><span class="string">     --force                 force deletion of directories even if not empty</span></span><br><span class="line"><span class="string">     --max-delete=NUM        don'</span>t delete more than NUM files</span><br><span class="line">     --max-size=SIZE         don<span class="string">'t transfer any file larger than SIZE</span></span><br><span class="line"><span class="string">     --min-size=SIZE         don'</span>t transfer any file smaller than SIZE</span><br><span class="line">     --partial               keep partially transferred files</span><br><span class="line">     --partial-dir=DIR       put a partially transferred file into DIR</span><br><span class="line">     --delay-updates         put all updated files into place at transfer<span class="string">'s end</span></span><br><span class="line"><span class="string"> -m, --prune-empty-dirs      prune empty directory chains from the file-list</span></span><br><span class="line"><span class="string">     --numeric-ids           don'</span>t map uid/gid values by user/group name</span><br><span class="line">     --timeout=TIME          <span class="built_in">set</span> I/O timeout <span class="keyword">in</span> seconds</span><br><span class="line"> -I, --ignore-times          don<span class="string">'t skip files that match in size and mod-time</span></span><br><span class="line"><span class="string">     --size-only             skip files that match in size</span></span><br><span class="line"><span class="string">     --modify-window=NUM     compare mod-times with reduced accuracy</span></span><br><span class="line"><span class="string"> -T, --temp-dir=DIR          create temporary files in directory DIR</span></span><br><span class="line"><span class="string"> -y, --fuzzy                 find similar file for basis if no dest file</span></span><br><span class="line"><span class="string">     --compare-dest=DIR      also compare destination files relative to DIR</span></span><br><span class="line"><span class="string">     --copy-dest=DIR         ... and include copies of unchanged files</span></span><br><span class="line"><span class="string">     --link-dest=DIR         hardlink to files in DIR when unchanged</span></span><br><span class="line"><span class="string"> -z, --compress              compress file data during the transfer</span></span><br><span class="line"><span class="string">     --compress-level=NUM    explicitly set compression level</span></span><br><span class="line"><span class="string"> -C, --cvs-exclude           auto-ignore files the same way CVS does</span></span><br><span class="line"><span class="string"> -f, --filter=RULE           add a file-filtering RULE</span></span><br><span class="line"><span class="string"> -F                          same as --filter='</span>dir-merge /.rsync-filter<span class="string">'</span></span><br><span class="line"><span class="string">                             repeated: --filter='</span>- .rsync-filter<span class="string">'</span></span><br><span class="line"><span class="string">     --exclude=PATTERN       exclude files matching PATTERN</span></span><br><span class="line"><span class="string">     --exclude-from=FILE     read exclude patterns from FILE</span></span><br><span class="line"><span class="string">     --include=PATTERN       don'</span>t exclude files matching PATTERN</span><br><span class="line">     --include-from=FILE     <span class="built_in">read</span> include patterns from FILE</span><br><span class="line">     --files-from=FILE       <span class="built_in">read</span> list of <span class="built_in">source</span>-file names from FILE</span><br><span class="line"> -0, --from0                 all *-from/filter files are delimited by 0s</span><br><span class="line">     --address=ADDRESS       <span class="built_in">bind</span> address <span class="keyword">for</span> outgoing socket to daemon</span><br><span class="line">     --port=PORT             specify double-colon alternate port number</span><br><span class="line">     --sockopts=OPTIONS      specify custom TCP options</span><br><span class="line">     --blocking-io           use blocking I/O <span class="keyword">for</span> the remote shell</span><br><span class="line">     --stats                 give some file-transfer stats</span><br><span class="line"> -8, --8-bit-output          leave high-bit chars unescaped <span class="keyword">in</span> output</span><br><span class="line"> -h, --human-readable        output numbers <span class="keyword">in</span> a human-readable format</span><br><span class="line">     --progress              show progress during transfer</span><br><span class="line"> -P                          same as --partial --progress</span><br><span class="line"> -i, --itemize-changes       output a change-summary <span class="keyword">for</span> all updates</span><br><span class="line">     --out-format=FORMAT     output updates using the specified FORMAT</span><br><span class="line">     --<span class="built_in">log</span>-file=FILE         <span class="built_in">log</span> what we<span class="string">'re doing to the specified FILE</span></span><br><span class="line"><span class="string">     --log-file-format=FMT   log updates using the specified FMT</span></span><br><span class="line"><span class="string">     --password-file=FILE    read password from FILE</span></span><br><span class="line"><span class="string">     --list-only             list the files instead of copying them</span></span><br><span class="line"><span class="string">     --bwlimit=KBPS          limit I/O bandwidth; KBytes per second</span></span><br><span class="line"><span class="string">     --write-batch=FILE      write a batched update to FILE</span></span><br><span class="line"><span class="string">     --only-write-batch=FILE like --write-batch but w/o updating destination</span></span><br><span class="line"><span class="string">     --read-batch=FILE       read a batched update from FILE</span></span><br><span class="line"><span class="string">     --protocol=NUM          force an older protocol version to be used</span></span><br><span class="line"><span class="string"> -E, --extended-attributes   copy extended attributes</span></span><br><span class="line"><span class="string">     --cache                 disable fcntl(F_NOCACHE)</span></span><br><span class="line"><span class="string"> -4, --ipv4                  prefer IPv4</span></span><br><span class="line"><span class="string"> -6, --ipv6                  prefer IPv6</span></span><br><span class="line"><span class="string">     --version               print version number</span></span><br><span class="line"><span class="string">(-h) --help                  show this help (-h works with no other options)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Use "rsync --daemon --help" to see the daemon-mode command-line options.</span></span><br><span class="line"><span class="string">Please see the rsync(1) and rsyncd.conf(5) man pages for full documentation.</span></span><br><span class="line"><span class="string">See http://rsync.samba.org/ for updates, bug reports, and answers</span></span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ¨¡å¼è¦é…ç½®å¤§é‡çš„ä¿¡æ¯ï¼Œä¸‹æ¬¡ç”¨åˆ°å†è¯´å§ï¼Œè¿™æ¬¡å°±ç”¨ç®€å•çš„ ssh æ¨¡å¼ã€‚</p><p>æŠŠè‡ªå·±çš„ç”µè„‘æš´éœ²åœ¨å…¬ç½‘ä¸å¤ªå¥½ï¼Œæ‰¾è‡ªå·±çš„å°ç±³æ‰‹æœºåšäº†ä¸ªä¸­è½¬ï¼Œå› ä¸ºæˆ‘çš„ç™»å½•å¯†ç å®åœ¨å¤ªç®€å•äº†å¯æ˜¯æˆ‘åˆ<code>ä¸æƒ³æ”¹</code>ã€‚</p><p>é¦–å…ˆéœ€è¦æŠŠè‡ªå·±çš„æ–‡ä»¶åŒæ­¥åˆ°ä¸­è½¬ç«¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -auv -e <span class="string">"ssh -i /Users/onns/mi"</span> --progress /Users/onns/Documents/common android@192.168.1.116:/home/android/</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿èƒ½åœ¨ä»»ä½•ä½ç½®ä½¿ç”¨å‘½ä»¤ï¼Œå»ºè®®æ‰€æœ‰çš„æ–‡ä»¶/æ–‡ä»¶å¤¹éƒ½æ˜¯ç»å¯¹è·¯å¾„ã€‚</p><p>æ³¨æ„ä¸€ä¸‹<code>-e</code>å‚æ•°ï¼Œå› ä¸ºæœåŠ¡å™¨è®¾ç½®äº†<code>å¯†é’¥ä½“ç³»</code>ï¼Œæ‰€ä»¥è¿™ä¸ª<code>-e</code>çš„å‚æ•°å…¶å®æ˜¯åœ¨å‘Šè¯‰<code>rsync</code>æ€ä¹ˆè¿æœåŠ¡å™¨ï¼Œç­‰ä»·äºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh android@192.168.1.116 -i /Users/onns/mi</span><br></pre></td></tr></table></figure><p>å¹³æ—¶<code>ssh</code>åŠ å¯†é’¥çš„æ—¶å€™éƒ½æ˜¯<code>-i</code>å‚æ•°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -auv -e <span class="string">"ssh -i /Users/onns/mi"</span> --progress /Users/onns/Documents/common android@192.168.1.116:/home/android/</span><br><span class="line">building file list ...</span><br><span class="line">196 files to consider</span><br><span class="line"></span><br><span class="line">sent 4488 bytes  received 20 bytes  3005.33 bytes/sec</span><br><span class="line">total size is 719894  speedup is 159.69</span><br></pre></td></tr></table></figure><p>åŒæ ·åœ°ï¼Œè¿œç¨‹å†æ‹‰å–ä¸€ä¸‹ä¸­è½¬ç«¯çš„æ•°æ®å°±å¥½äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -auv -e <span class="string">"ssh -i ~/Documents/common/key/mi"</span> --progress android@xm.onns.xyz:/home/android/common ~/Documents/</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„äº‹æƒ…æ˜¯ï¼Œç±»ä¼¼<code>cp</code>å’Œ<code>mv</code>ä¸€æ ·ï¼Œ<code>from</code>ç«¯æ˜¯è¦æŒ‡æ˜å½“å‰ç›®å½•çš„ï¼Œä½†æ˜¯<code>to</code>ç›®å½•åªéœ€è¦æŒ‡æ˜ä½ æƒ³è¦æ”¾çš„ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•å³å¯ã€‚çœ‹ä¸æ‡‚ï¼Œæ‹·è´ä¸€æ¬¡å°±ç†è§£äº†ï¼</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/super_YC/article/details/83543088" target="_blank" rel="noopener">rsync è¿œç¨‹èµ„æºåŒæ­¥</a></li><li><a href="https://www.91linux.org/archives/77.html" target="_blank" rel="noopener">rsync ä½¿ç”¨ ssh å¯†é’¥åŒæ­¥æ–‡ä»¶</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> linux </tag>
            
            <tag> ssh </tag>
            
            <tag> rsync </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹åˆ†å·å‹ç¼©åŒ…è§£å‹</title>
      <link href="/blog/2020/09/07/multi-part-archive-extract-in-windows/"/>
      <url>/blog/2020/09/07/multi-part-archive-extract-in-windows/</url>
      
        <content type="html"><![CDATA[<blockquote><p>The video data is provided as one large TGZ archive, split into parts of 1 GB max. The total download size is 19.4 GB. The archive contains webm-files using the VP9 codec. Files are numbered from 1 to 220847.</p></blockquote><p>20bn-something-something-v2-00<br>20bn-something-something-v2-01<br>20bn-something-something-v2-02<br>20bn-something-something-v2-03<br>20bn-something-something-v2-04<br>20bn-something-something-v2-05<br>20bn-something-something-v2-06<br>20bn-something-something-v2-07<br>20bn-something-something-v2-08<br>20bn-something-something-v2-09<br>20bn-something-something-v2-10<br>20bn-something-something-v2-11<br>20bn-something-something-v2-12<br>20bn-something-something-v2-13<br>20bn-something-something-v2-14<br>20bn-something-something-v2-15<br>20bn-something-something-v2-16<br>20bn-something-something-v2-17<br>20bn-something-something-v2-18<br>20bn-something-something-v2-19</p><p><code>Linux</code>ä¸‹å¾ˆå¥½è§£å‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat 20bn-something-something-v2-?? | tar zx</span><br></pre></td></tr></table></figure><p><code>Windows</code>ä¸‹éœ€è¦å°†æ‰€æœ‰çš„åˆ†å·å…ˆåˆå¹¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy /b 20bn* temp.tar.gz</span><br></pre></td></tr></table></figure><p>ç„¶åç”¨è§£å‹è½¯ä»¶æ‰“å¼€å³å¯ã€‚</p><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/XX_123_1_RJ/article/details/95237636" target="_blank" rel="noopener">Windows ä¸­è§£å‹ Linux ä¸­äº§ç”Ÿçš„ tar.gz åˆ†å·å‹ç¼©åŒ…</a></li><li><a href="https://20bn.com/datasets/something-something/v2#download" target="_blank" rel="noopener">The 20BN-something-something Dataset V2</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> tar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxä¸‹å¯†é’¥ç™»å½•</title>
      <link href="/blog/2020/09/07/ssh-key-in-linux/"/>
      <url>/blog/2020/09/07/ssh-key-in-linux/</url>
      
        <content type="html"><![CDATA[<p>æ¯æ¬¡éƒ½æ•™ä¸€éï¼Œè®°å½•ä¸€ä¸‹ï¼Œä¸‹æ¬¡ç›´æ¥ç”©é“¾æ¥å§ã€‚</p><a id="more"></a><h2 id="ç”Ÿæˆå¯†é’¥å¯¹"><a class="header-anchor" href="#ç”Ÿæˆå¯†é’¥å¯¹">#</a>ç”Ÿæˆå¯†é’¥å¯¹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen  -t rsa</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/root/.ssh/id_rsa):</span><br><span class="line"><span class="comment"># å›è½¦</span></span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line"><span class="comment"># å›è½¦</span></span><br><span class="line">Enter same passphrase again:</span><br><span class="line"><span class="comment"># å›è½¦</span></span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="æ‹·è´ç”Ÿæ•ˆ"><a class="header-anchor" href="#æ‹·è´ç”Ÿæ•ˆ">#</a>æ‹·è´ç”Ÿæ•ˆ</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> .ssh/</span><br><span class="line">$ ls</span><br><span class="line">authorized_keys  id_rsa  id_rsa.pub</span><br><span class="line">$ cp id_rsa.pub authorized_keys</span><br><span class="line">cp: overwrite â€˜authorized_keysâ€™? y</span><br><span class="line"><span class="comment"># è¦†ç›–ä¹‹å‰ç¡®è®¤ä¸€ä¸‹ç¡®å®æ˜¯å¯ä»¥è¦†ç›–çš„</span></span><br></pre></td></tr></table></figure><h2 id="ä¿å­˜ç§é’¥"><a class="header-anchor" href="#ä¿å­˜ç§é’¥">#</a>ä¿å­˜ç§é’¥</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat id_rsa</span><br><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">...</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure><p>æ‰“å¼€è®°äº‹æœ¬ï¼Œéšä¾¿å‘½åä¸€ä¸ªç©ºåç¼€æ–‡ä»¶ï¼šæ¯”å¦‚æˆ‘å‘½åä¸ºï¼š<code>node</code>ï¼ŒæŠŠä»<code>-----BEGIN RSA PRIVATE KEY-----</code>åˆ°<code>-----END RSA PRIVATE KEY-----</code>ç²˜è´´è¿›å»ï¼Œä¿å­˜ã€‚</p><h2 id="ä¿®æ”¹ç§é’¥æƒé™"><a class="header-anchor" href="#ä¿®æ”¹ç§é’¥æƒé™">#</a>ä¿®æ”¹ç§é’¥æƒé™</h2><p><code>Linux</code>å’Œ<code>MacOS</code>å°±å¾ˆç®€å•äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 node</span><br></pre></td></tr></table></figure><p><code>Windows</code>æ¯”è¾ƒéº»çƒ¦ï¼Œå‚ç…§è¿™ç¯‡ï¼š<a href="https://onns.xyz/blog/2020/08/10/log-write-test/#%E4%BF%AE%E6%94%B9%E7%A7%81%E9%92%A5%E6%9D%83%E9%99%90">Linux è¿½åŠ æ—¥å¿—æµ‹è¯•</a>ã€‚</p><h2 id="ä¿®æ”¹-sshd-config"><a class="header-anchor" href="#ä¿®æ”¹-sshd-config">#</a>ä¿®æ”¹ sshd_config</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å¦‚ä¸‹ä¸€è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># PubkeyAuthentication yes</span></span><br><span class="line"><span class="comment"># æŠŠ"#"å»æ‰</span></span><br><span class="line">PubkeyAuthentication yes</span><br></pre></td></tr></table></figure><p>ä¿å­˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@node.onns.xyz -i node</span><br><span class="line">Last login: Mon Sep  7 13:27:19 2020 from 120.35.73.25</span><br><span class="line"></span><br><span class="line">Welcome to Alibaba Cloud Elastic Compute Service !</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> work </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> ssh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Late Temporal Modeling in 3D CNN Architectures with BERT for Action Recognition</title>
      <link href="/blog/2020/09/07/late-temporal-modeling-in-3d-cnn-architectures-with-bert-for-action-recognition/"/>
      <url>/blog/2020/09/07/late-temporal-modeling-in-3d-cnn-architectures-with-bert-for-action-recognition/</url>
      
        <content type="html"><![CDATA[<h2 id="late-temporal-modeling-in-3d-cnn-architectures-with-bert-for-action-recognition"><a class="header-anchor" href="#late-temporal-modeling-in-3d-cnn-architectures-with-bert-for-action-recognition">#</a>Late Temporal Modeling in 3D CNN Architectures with BERT for Action Recognition</h2><p><code>HMDB51</code>å’Œ<code>UCF101</code>çš„<code>top-1</code>è¾¾åˆ°ç°é˜¶æ®µæœ€å¥½çš„æ°´å¹³ï¼Œåˆ†åˆ«ä¸º<code>85.10%</code>å’Œ<code>98.69%</code>ã€‚</p><p>æ—¶åºå…¨å±€å¹³å‡æ± åŒ–é˜»ç¢äº†æ—¶åºä¿¡æ¯çš„æ›´ä¸°å¯Œè¡¨è¾¾ã€‚è™½ç„¶æ„Ÿå—é‡å¯èƒ½åˆ†å¸ƒåœ¨æ•´ä¸ªè§†é¢‘åˆ‡ç‰‡ä¸­ï¼Œä½†æ˜¯å¯¹äºä¸åŒçš„åˆ‡ç‰‡ï¼Œå®ƒæ‰€èƒ½æä¾›çš„ä¿¡æ¯æ˜¯æœä»é«˜æ–¯åˆ†å¸ƒçš„ï¼Œç®€å•çš„å¹³å‡å¯èƒ½ä¼šæŸå¤±ä¿¡æ¯ã€‚</p><blockquote><p>temporal global average pooling (TGAP) layer is used at the end of all 3D CNN architectures hinders the richness of final temporal information.<br>the receptive field might cover the whole clip, the effective receptive field has a Gaussian distribution</p></blockquote><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://github.com/artest08/LateTemporalModeling3DCNN" target="_blank" rel="noopener">https://github.com/artest08/LateTemporalModeling3DCNN</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
            <tag> bert </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…‰æµæ³•</title>
      <link href="/blog/2020/09/07/optical-flow/"/>
      <url>/blog/2020/09/07/optical-flow/</url>
      
        <content type="html"><![CDATA[<center><p><img src="//onns.xyz/blog/image/20200907-1.png" alt="è®¡ç®—å…¬å¼"></p></center><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/qq_41368247/article/details/82562165" target="_blank" rel="noopener">è®¡ç®—æœºè§†è§‰â€“å…‰æµæ³•(optical flow)ç®€ä»‹</a></li><li><a href="https://zhuanlan.zhihu.com/p/42942198" target="_blank" rel="noopener">è¿åŠ¨ç›®æ ‡æ£€æµ‹(3)â€”å…‰æµæ³•</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
            <tag> optical flow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»æµä¸­è·å– properties</title>
      <link href="/blog/2020/09/06/servlet-in-java-1/"/>
      <url>/blog/2020/09/06/servlet-in-java-1/</url>
      
        <content type="html"><![CDATA[<h2 id="idea-å°æŠ€å·§"><a class="header-anchor" href="#idea-å°æŠ€å·§">#</a>IDEA å°æŠ€å·§</h2><ul><li><code>alt</code>æŒ‰ä½ç§»åŠ¨é¼ æ ‡å¯ä»¥å¤šè¡Œç¼–è¾‘ã€‚</li><li><code>cmd + n</code>å¯ä»¥å¿«é€Ÿåˆ›å»ºæ„é€ å™¨ï¼ˆè‡ªè¡Œé€‰æ‹©å‚æ•°ï¼‰æˆ–è€…é‡å†™ç»§æ‰¿æ–¹æ³•ã€‚</li></ul><a id="more"></a><h2 id="ä»æµä¸­è·å–-properties"><a class="header-anchor" href="#ä»æµä¸­è·å–-properties">#</a>ä»æµä¸­è·å– properties</h2><p>æ–°å»ºäº†ä¸€ä¸ª<code>Maven Module</code>ï¼Œä»<code>archetype</code>ä¸­åˆ›å»ºçš„ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200906-1.png" alt="Maven Moduleæˆªå›¾"></p></center><h3 id="åˆ›å»º-properties-æ–‡ä»¶"><a class="header-anchor" href="#åˆ›å»º-properties-æ–‡ä»¶">#</a>åˆ›å»º properties æ–‡ä»¶</h3><p>æ–‡ä»¶è·¯å¾„ä¸ºï¼š<code>servlet-02/src/main/resources/</code></p><p>æ–‡ä»¶åï¼š<code>db.properties</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">username&#x3D;root</span><br><span class="line">password&#x3D;123456</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-class"><a class="header-anchor" href="#åˆ›å»º-class">#</a>åˆ›å»º class</h3><p>æ–‡ä»¶è·¯å¾„ä¸ºï¼š<code>servlet-02/src/main/java/</code></p><p>åŒ…åä¸ºï¼š<code>xyz.onns.servlet</code></p><p>æ–‡ä»¶åï¼š<code>TestResourceStream.java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestResourceStream</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">InputStream resourceAsStream = <span class="keyword">this</span>.getServletContext().getResourceAsStream(<span class="string">"/WEB-INF/classes/db.properties"</span>);</span><br><span class="line">Properties properties = <span class="keyword">new</span> Properties();</span><br><span class="line">properties.load(resourceAsStream);</span><br><span class="line">String username = properties.getProperty(<span class="string">"username"</span>);</span><br><span class="line">String password = properties.getProperty(<span class="string">"password"</span>);</span><br><span class="line">String maybenull = properties.getProperty(<span class="string">"maybenull"</span>);</span><br><span class="line">System.out.println(<span class="string">"TestResourceStream"</span>);</span><br><span class="line">resp.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line"></span><br><span class="line">PrintWriter writer = resp.getWriter();</span><br><span class="line">writer.print(<span class="string">"Success!æˆåŠŸäº†ï¼"</span>);</span><br><span class="line">writer.print(<span class="string">"&lt;br/&gt;"</span>);</span><br><span class="line">writer.print(username);</span><br><span class="line">writer.print(password);</span><br><span class="line">writer.print(maybenull);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">doGet(req, resp);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè·¯ç”±"><a class="header-anchor" href="#åˆ›å»ºè·¯ç”±">#</a>åˆ›å»ºè·¯ç”±</h3><p>æ–‡ä»¶è·¯å¾„ä¸ºï¼š<code>servlet-02/src/main/webapp/WEB-INF/</code></p><p>æ–‡ä»¶åï¼š<code>web.xml</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee</span></span></span><br><span class="line"><span class="tag"><span class="string">                      http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">metadata-complete</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>TestResourceStream<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>xyz.onns.servlet.TestResourceStream<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>TestResourceStream<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/testr<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å°ç»“"><a class="header-anchor" href="#å°ç»“">#</a>å°ç»“</h2><p>å¦‚æœå…ˆå†™è¿™å¥è¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter writer = resp.getWriter();</span><br></pre></td></tr></table></figure><p>å†å†™è¿™å¥è¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resp.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/html;charset=utf-8"</span>);</span><br></pre></td></tr></table></figure><p>åœ¨å¤„ç†ä¸­æ–‡çš„æ—¶å€™ä¹Ÿè¿˜æ˜¯ä¼šä¹±ç ï¼Œå¤§æ¦‚åœ¨åˆ›å»º<code>PrintWriter</code>å¯¹è±¡çš„æ—¶å€™å°±å·²ç»æŠŠç›¸å…³å‚æ•°ä¼ è¿‡å»äº†å§ã€‚</p><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://www.bilibili.com/video/BV12J411M7Sj?p=11" target="_blank" rel="noopener">æ•™ç¨‹åœ°å€</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> java </tag>
            
            <tag> maven </tag>
            
            <tag> servlet </tag>
            
            <tag> idea </tag>
            
            <tag> tips </tag>
            
            <tag> idea tips </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GFNET A LIGHTWEIGHT GROUP FRAME NETWORK FOR EFFICIENT HUMAN ACTION RECOGNITION</title>
      <link href="/blog/2020/09/05/gfnet-a-lightweight-group-frame-network-for-efficient-human-action-recognition/"/>
      <url>/blog/2020/09/05/gfnet-a-lightweight-group-frame-network-for-efficient-human-action-recognition/</url>
      
        <content type="html"><![CDATA[<h2 id="gfnet-a-lightweight-group-frame-network-for-efficient-human-action-recognition"><a class="header-anchor" href="#gfnet-a-lightweight-group-frame-network-for-efficient-human-action-recognition">#</a>GFNET: A LIGHTWEIGHT GROUP FRAME NETWORK FOR EFFICIENT HUMAN ACTION RECOGNITION</h2><p>ä¸ºäº†è§£å†³ç°æœ‰çš„è¡Œä¸ºè¯†åˆ«æ–¹æ³•<code>è®¡ç®—é‡å¤§</code>ã€<code>å‚æ•°å¤š</code>çš„é—®é¢˜ï¼Œä½œè€…æå‡ºäº†<code>GFNet</code>ã€‚</p><blockquote><p>To handle these issues, we propose a lightweight neural network called Group Frame Network (GFNet).</p></blockquote><p>GFNet é€šè¿‡å¸§çº§åˆ†è§£ï¼Œä»¥æå°çš„ä»£ä»·æå–æ¯ä¸€å¸§çš„ç‰¹å¾ã€‚</p><blockquote><p>GFNet adds frame-level decomposition to extract features of each frame at a minuscule cost.</p></blockquote><p>è®¾è®¡äº†ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œèƒ½å¤Ÿä»…ä»<code>RGBå›¾åƒ</code>ä¸­æå–æ—¶ç©ºä¿¡æ¯ï¼Œè€Œä¸éœ€è¦å€ŸåŠ©<code>å…‰æµ</code>æˆ–<code>multi-scale testing</code>ç­‰ã€‚</p><blockquote><p>There are two core components: <code>Group Temporal Module</code> (GTM) and <code>Group Spatial Module</code> (GSM). These two modules enable GFNet to obtain temporal-spatial information only from RGB images.</p></blockquote><p>ä¸ºäº†è¯æ˜æ¨¡å‹çš„æœ‰æ•ˆæ€§ï¼Œä»–ä»¬æ²¡æœ‰ä½¿ç”¨é¢„è®­ç»ƒç­–ç•¥ã€‚</p><blockquote><p>To verify the validity of the model, no pre-training strategy is used in our experiments.</p></blockquote><p>ç½‘ç»œçš„è¾“å…¥æ˜¯<code>ä¸€å®šæ•°é‡</code>çš„<code>è§†é¢‘å¸§</code>ï¼Œå¯¹è§†é¢‘è¿›è¡Œåˆ†æ®µé‡‡æ ·å¾—åˆ°ç»“æœã€‚</p><blockquote><p>The entire video with a variable number of frames is provided as the input of the network. Through an average sampling strategy, the video is divided into N equal-length segments and only one frame is selected from each segment. Due to the repeatability of adjacent frames, this sampling strategy can reduce inter-frame redundancy while preserving long-temporal information.</p></blockquote><p>K ä¸ªå±‚åŒæ—¶è¾“å…¥ç½‘ç»œè·å–æ—¶é—´ä¿¡æ¯ã€‚</p><blockquote><p>The first part is a feature extraction layer consisting of K separated branches. The sampled frames are simultaneously fed into the network to maintain the temporal information among these frames.</p></blockquote><p>å„è‡ªçš„åˆ†æ”¯ç‹¬ç«‹è®¡ç®—è·å¾—ç©ºé—´ä¿¡æ¯ã€‚</p><blockquote><p>In the feature extraction layer, each frame is learned independently using a network branch to get its spatial features.</p></blockquote><p>æ²¡å¤ªç†è§£ã€‚</p><blockquote><p>all the sampled frames are stacked by channel-wise convolution.<br>It means that the input channel of GFNet is 3N when using RGB images as input.</p></blockquote><p>ç”±äºæ®‹å·®ç½‘ç»œå…·æœ‰é«˜åº¦çš„æ³›åŒ–èƒ½åŠ›å’Œæ€§èƒ½ï¼Œæ‰€ä»¥åç»­çš„å—é€‰æ‹©é«˜åº¦æ¨¡å—åŒ–æ®‹å·®å•å…ƒã€‚</p><blockquote><p>Owing to the impressive performance and strong generalization abil- ity of residual architecture, the block is based on the highly modularized residual unit.</p></blockquote><p>è¿™å¥è¯æ²¡å¤ªç†è§£ã€‚</p><blockquote><p>Considering the extraneous motion and identical texture features in sampled frames, GFNet decomposes frames and reduces the number of channels for each frame to lessen spatial redundancy. To be specific, the number of channels is equally divided among branches. It means that only a small number of channels are used per frame.</p></blockquote><h2 id="group-temporal-module"><a class="header-anchor" href="#group-temporal-module">#</a>Group Temporal Module</h2><p>å› ä¸ºæ¯ä¸ªåˆ†æ”¯éƒ½æ˜¯å•ç‹¬è®¡ç®—çš„ï¼Œæ‰€ä»¥åŠ¿å¿…ä¼šé™ä½å‡†ç¡®ç‡ï¼ˆæ²¡æœ‰æå–å¸§é—´çš„è”ç³»ï¼‰ï¼Œæ‰€ä»¥æå‡ºäº†<code>GTM</code>æ¨¡å—ã€‚</p><blockquote><p>To leverage the inter-frame information effectively and better strengthen temporal relationships, GTM is proposed to efficiently overcome the side effects brought by the separated branch.</p></blockquote><blockquote><p>GTM consists of a translation layer and a 3D convolution layer.</p></blockquote><blockquote><p>The translation layer makes the replacement of the data dimension. It includes the channel merger and the channel separation, which achieves the conversion of the feature map from four-dimensional data to five-dimensional data.</p></blockquote><h2 id="group-spatial-module"><a class="header-anchor" href="#group-spatial-module">#</a>Group Spatial Module</h2><p>For the convolution layer of ResNet50, the computational cost is closely related to the number of channels. Motivated by this, a novel module called GSM is designed to significantly decrease the number of parameters and computational efforts.</p><p>GSM ä¹Ÿæ˜¯é€šè¿‡åªå–çº¹ç†æ¥æœ€å°åŒ–è®¡ç®—æˆæœ¬ã€‚</p><blockquote><p>Because of the similarity among frames, the texture information is repetitive. Meanwhile, irrelevant motion inside frames increases the intra-frame redundancy. Aiming at minimizing the interference of redundant information, GSM diminishes the number of channels to extract features per frame.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
            <tag> gfnet </tag>
            
            <tag> group frame network </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOSä¸‹é…ç½®maven</title>
      <link href="/blog/2020/09/02/maven-in-mac/"/>
      <url>/blog/2020/09/02/maven-in-mac/</url>
      
        <content type="html"><![CDATA[<p>å®˜æ–¹ä¸‹è½½åœ°å€ï¼š<a href="http://maven.apache.org/download.cgi" target="_blank" rel="noopener">http://maven.apache.org/download.cgi</a></p><p>ä¸‹è½½ï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz</a></p><p>è§£å‹ä¹‹åï¼Œå¤åˆ¶ç›®å½•ï¼š<code>/Users/onns/Downloads/java/apache-maven-3.6.3</code></p><p>å› ä¸ºç³»ç»Ÿæ›´æ–°åï¼Œå‘½ä»¤è¡Œä»<code>bash</code>æ¢æˆäº†<code>zsh</code>æ‰€ä»¥ç¯å¢ƒå˜é‡æ–‡ä»¶ä¹Ÿæ”¹äº†ï¼š<code>.zshrc</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'export M2_HOME=/Users/onns/Downloads/java/apache-maven-3.6.3/bin'</span> &gt;&gt; .zshrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export MAVEN_HOME=/Users/onns/Downloads/java/apache-maven-3.6.3'</span> &gt;&gt; .zshrc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=$MAVEN_HOME/bin:$PATH'</span> &gt;&gt; .zshrc</span><br></pre></td></tr></table></figure><p>è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> .zshrc</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ mvn --version</span><br><span class="line">Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)</span><br><span class="line">Maven home: &#x2F;Users&#x2F;onns&#x2F;Downloads&#x2F;java&#x2F;apache-maven-3.6.3</span><br><span class="line">Java version: 13.0.2, vendor: Oracle Corporation, runtime: &#x2F;Library&#x2F;Java&#x2F;JavaVirtualMachines&#x2F;jdk-13.0.2.jdk&#x2F;Contents&#x2F;Home</span><br><span class="line">Default locale: en_CN, platform encoding: UTF-8</span><br><span class="line">OS name: &quot;mac os x&quot;, version: &quot;10.15.5&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é•œåƒæº"><a class="header-anchor" href="#ä¿®æ”¹é•œåƒæº">#</a>ä¿®æ”¹é•œåƒæº</h2><p>å‚ç…§é˜¿é‡Œäº‘çš„ä½¿ç”¨æŒ‡å—ï¼š<a href="https://maven.aliyun.com/mvn/guide" target="_blank" rel="noopener">https://maven.aliyun.com/mvn/guide</a></p><p>æ‰“å¼€<code>$MAVEN_HOME/conf/settings.xml</code></p><p>åœ¨<code>&lt;mirrors&gt;&lt;/mirrors&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ <code>mirror</code>å­èŠ‚ç‚¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyunmaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>é˜¿é‡Œäº‘å…¬å…±ä»“åº“<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®æœ¬åœ°ä»“åº“"><a class="header-anchor" href="#é…ç½®æœ¬åœ°ä»“åº“">#</a>é…ç½®æœ¬åœ°ä»“åº“</h2><p>æ‰“å¼€<code>$MAVEN_HOME/conf/settings.xml</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- localRepository</span></span><br><span class="line"><span class="comment"> | The path to the local repository maven will use to store artifacts.</span></span><br><span class="line"><span class="comment"> |</span></span><br><span class="line"><span class="comment"> | Default: $&#123;user.home&#125;/.m2/repository</span></span><br><span class="line"><span class="comment">&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>/Users/onns/Downloads/java/apache-maven-3.6.3/repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œ</p><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://www.bilibili.com/video/BV12J411M7Sj?p=5" target="_blank" rel="noopener">æ•™ç¨‹åœ°å€</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> java </tag>
            
            <tag> maven </tag>
            
            <tag> zsh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PAN Towards Fast Action Recognition via Learning Persistence of Appearance</title>
      <link href="/blog/2020/09/01/pan-towards-fast-action-recognition-via-learning-persistence-of-appearance/"/>
      <url>/blog/2020/09/01/pan-towards-fast-action-recognition-via-learning-persistence-of-appearance/</url>
      
        <content type="html"><![CDATA[<h2 id="pan-towards-fast-action-recognition-via-learning-persistence-of-appearance"><a class="header-anchor" href="#pan-towards-fast-action-recognition-via-learning-persistence-of-appearance">#</a>PAN: Towards Fast Action Recognition via Learning Persistence of Appearance</h2><p>æ¯”å…‰æµç½‘ç»œå¿«äº†1000å€</p><blockquote><p>Our PA is over 1000Ã— faster (8196fps vs. 8fps) than conventional optical flow in terms of motion modeling speed</p></blockquote><p>è¿åŠ¨è¾¹ç•Œçš„å¾®å°ä½ç§»åœ¨åŠ¨ä½œè¯†åˆ«ä¸­èµ·é‡è¦ä½œç”¨çš„è§’è‰²ã€‚</p><blockquote><p>According to the aforementioned anal- ysis, we can conclude that small displacements of motion boundaries play a vital role in action recognition.</p></blockquote><p>ä½å±‚çš„<code>feature map</code>ä¹‹é—´çš„å·®å¼‚èƒ½æ›´å¤šåœ°å…³æ³¨è¾¹ç•Œçš„å˜åŒ–ã€‚</p><blockquote><p>the differences among low-level feature maps will pay more attention to the variations at boundaries.<br>In summary, differences in low-level feature maps can reflect small displacements of motion boundaries due to convolutional operations.</p></blockquote><p>åœ¨<code>UCF101</code>ä¸Šåšå®éªŒè¡¨æ˜åœ¨ç¬¬ä¸€å±‚æ•ˆæœæœ€å¥½ã€‚</p><blockquote><p>We define the basic conv-layer as eight 7Ã—7 convolutions with stride=1 and padding=3, so that the spatial resolutions of the obtained feature maps are not reduced.</p></blockquote><p>ä¸¤ç§ç¼–ç ç­–ç•¥ï¼š</p><p><strong>PA as motion modality</strong></p><p><strong>PA as attention</strong></p><p>ç¬¬ä¸€ç§æ— è®ºæ˜¯ä»è®¡ç®—é‡ä¸Šè¿˜æ˜¯ä»å‡†ç¡®ç‡ä¸Šéƒ½è¦æ›´å¥½ã€‚</p><p>å¯èƒ½åŸå› æ˜¯ç¬¬äºŒç§èåˆæ–¹æ³•å¯¼è‡´å›¾åƒçš„ä¸å¹³è¡¡ã€‚</p><blockquote><p>However, for e2, attending appearance feature maps with PA will highlight the motion boundaries, leading to the imbalanced appearance responses both inside and at the boundaries of the moving objects.</p></blockquote><p><strong>Various-timescale Aggregation Pooling</strong></p><h2 id="å®‰è£…æµ‹è¯•"><a class="header-anchor" href="#å®‰è£…æµ‹è¯•">#</a>å®‰è£…æµ‹è¯•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pip install torch torchvision</span><br><span class="line">pip install tensorboardX</span><br><span class="line">pip install tqdm</span><br><span class="line">pip install scikit-learn</span><br><span class="line">pip install lmdb</span><br></pre></td></tr></table></figure><h2 id="å®éªŒç»“æœ"><a class="header-anchor" href="#å®éªŒç»“æœ">#</a>å®éªŒç»“æœ</h2><h3 id="lite"><a class="header-anchor" href="#lite">#</a>Lite</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">somethingv2: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Downloading: <span class="string">"https://download.pytorch.org/models/resnet50-19c8e357.pth"</span> to /home/xiangyi/.cache/torch/hub/checkpoints/resnet50-19c8e357.pth</span><br><span class="line">100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 97.8M/97.8M [00:06&lt;00:00, 14.8MB/s]</span><br><span class="line">=&gt; Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">video number:24777</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/24777, average 0.879 sec/video, moving Prec@1 65.625 Prec@5 87.500</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/24777, average 0.239 sec/video, moving Prec@1 60.491 Prec@5 85.640</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/24777, average 0.230 sec/video, moving Prec@1 60.518 Prec@5 85.671</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/24777, average 0.227 sec/video, moving Prec@1 60.015 Prec@5 85.374</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/24777, average 0.225 sec/video, moving Prec@1 60.031 Prec@5 85.475</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/24777, average 0.226 sec/video, moving Prec@1 59.855 Prec@5 85.334</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/24777, average 0.224 sec/video, moving Prec@1 59.775 Prec@5 85.292</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/24777, average 0.223 sec/video, moving Prec@1 59.519 Prec@5 85.284</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/24777, average 0.224 sec/video, moving Prec@1 59.530 Prec@5 85.423</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/24777, average 0.224 sec/video, moving Prec@1 59.686 Prec@5 85.497</span><br><span class="line">video 12800 <span class="keyword">done</span>, total 12800/24777, average 0.224 sec/video, moving Prec@1 59.678 Prec@5 85.487</span><br><span class="line">video 14080 <span class="keyword">done</span>, total 14080/24777, average 0.225 sec/video, moving Prec@1 59.637 Prec@5 85.464</span><br><span class="line">video 15360 <span class="keyword">done</span>, total 15360/24777, average 0.225 sec/video, moving Prec@1 59.349 Prec@5 85.315</span><br><span class="line">video 16640 <span class="keyword">done</span>, total 16640/24777, average 0.225 sec/video, moving Prec@1 59.327 Prec@5 85.327</span><br><span class="line">video 17920 <span class="keyword">done</span>, total 17920/24777, average 0.226 sec/video, moving Prec@1 59.058 Prec@5 85.204</span><br><span class="line">video 19200 <span class="keyword">done</span>, total 19200/24777, average 0.226 sec/video, moving Prec@1 59.121 Prec@5 85.206</span><br><span class="line">video 20480 <span class="keyword">done</span>, total 20480/24777, average 0.226 sec/video, moving Prec@1 59.200 Prec@5 85.295</span><br><span class="line">video 21760 <span class="keyword">done</span>, total 21760/24777, average 0.227 sec/video, moving Prec@1 59.283 Prec@5 85.337</span><br><span class="line">video 23040 <span class="keyword">done</span>, total 23040/24777, average 0.227 sec/video, moving Prec@1 59.254 Prec@5 85.422</span><br><span class="line">video 24320 <span class="keyword">done</span>, total 24320/24777, average 0.227 sec/video, moving Prec@1 59.277 Prec@5 85.421</span><br><span class="line">[0.84482759 0.38815789 0.51633987 0.58252427 0.58974359 0.54385965</span><br><span class="line"> 0.76738609 0.63636364 0.67716535 0.60264901 0.53932584 0.68613139</span><br><span class="line"> 0.26923077 0.425      0.7122807  0.51914894 0.42639594 0.38157895</span><br><span class="line"> 0.46025105 0.57345972 0.51574803 0.62280702 0.55232558 0.56382979</span><br><span class="line"> 0.56818182 0.52631579 0.6        0.48514851 0.71818182 0.77394636</span><br><span class="line"> 0.78378378 0.77477477 0.82954545 0.11650485 0.36144578 0.203125</span><br><span class="line"> 0.84331797 0.82129278 0.22222222 0.79411765 0.71584699 0.73214286</span><br><span class="line"> 0.59624413 0.62057878 0.72972973 0.51253482 0.5873494  0.40703518</span><br><span class="line"> 0.42857143 0.80430108 0.7257384  0.06666667 0.40625    0.68571429</span><br><span class="line"> 0.25       0.42       0.4109589  0.60377358 0.17647059 0.81654676</span><br><span class="line"> 0.92       0.21568627 0.73417722 0.30841121 0.21621622 0.53301887</span><br><span class="line"> 0.30188679 0.40298507 0.6754386  0.43       0.64285714 0.47826087</span><br><span class="line"> 0.54411765 0.61538462 0.66981132 0.36842105 0.5        0.30769231</span><br><span class="line"> 0.2962963  0.77586207 0.296875   0.168      0.36170213 0.44680851</span><br><span class="line"> 0.64       0.44444444 0.85882353 0.792      0.25       0.19277108</span><br><span class="line"> 0.56521739 0.85       0.57894737 0.764      0.76694915 0.13888889</span><br><span class="line"> 0.14705882 0.2892562  0.51020408 0.67765568 0.46792453 0.62637363</span><br><span class="line"> 0.29310345 0.8125     0.7480315  0.73333333 0.52054795 0.66502463</span><br><span class="line"> 0.39189189 0.48       0.6056338  0.05555556 0.49640288 0.27777778</span><br><span class="line"> 0.69097222 0.54347826 0.25925926 0.77777778 0.40677966 0.64356436</span><br><span class="line"> 0.80314961 0.80681818 0.34975369 0.69230769 0.36538462 0.63761468</span><br><span class="line"> 0.55339806 0.42608696 0.1302682  0.70955882 0.32142857 0.35616438</span><br><span class="line"> 0.44827586 0.24561404 0.79619565 0.62269939 0.23529412 0.45</span><br><span class="line"> 0.24770642 0.72727273 0.6627907  0.359375   0.59375    0.63311688</span><br><span class="line"> 0.56050955 0.44680851 0.74166667 0.0859375  0.55230126 0.90754717</span><br><span class="line"> 0.76902174 0.33152174 0.3877551  0.75229358 0.51181102 0.29268293</span><br><span class="line"> 0.5        0.58695652 0.55045872 0.34545455 0.41284404 0.46052632</span><br><span class="line"> 0.43925234 0.45       0.84398977 0.88709677 0.96428571 0.94444444</span><br><span class="line"> 0.81666667 0.70666667 0.45098039 0.72115385 0.74418605 0.65693431]</span><br><span class="line">upper bound: 0.548518228331384</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 53.84%</span><br><span class="line">Overall Prec@1 59.26% Prec@5 85.45%</span><br><span class="line">/home/xiangyi/miniconda3/envs/pan/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line">$ python test_models.py somethingv2 --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8 --weights=pretrained/PAN_Lite_somethingv2_resnet50_shift8_blockres_avg_segment8_e80.pth.tar</span><br><span class="line">somethingv2: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">=&gt; Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">video number:24777</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/24777, average 4.263 sec/video, moving Prec@1 56.250 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/24777, average 0.481 sec/video, moving Prec@1 65.476 Prec@5 86.310</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/24777, average 0.399 sec/video, moving Prec@1 60.976 Prec@5 85.213</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/24777, average 0.452 sec/video, moving Prec@1 60.246 Prec@5 85.348</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/24777, average 0.424 sec/video, moving Prec@1 60.880 Prec@5 85.802</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/24777, average 0.400 sec/video, moving Prec@1 60.458 Prec@5 85.334</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/24777, average 0.397 sec/video, moving Prec@1 60.227 Prec@5 85.537</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/24777, average 0.398 sec/video, moving Prec@1 60.151 Prec@5 85.594</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/24777, average 0.390 sec/video, moving Prec@1 60.404 Prec@5 85.637</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/24777, average 0.388 sec/video, moving Prec@1 60.290 Prec@5 85.463</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/24777, average 0.386 sec/video, moving Prec@1 60.261 Prec@5 85.572</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/24777, average 0.380 sec/video, moving Prec@1 60.436 Prec@5 85.605</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/24777, average 0.372 sec/video, moving Prec@1 60.062 Prec@5 85.425</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/24777, average 0.368 sec/video, moving Prec@1 59.962 Prec@5 85.321</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/24777, average 0.367 sec/video, moving Prec@1 59.831 Prec@5 85.343</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/24777, average 0.365 sec/video, moving Prec@1 59.884 Prec@5 85.507</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/24777, average 0.362 sec/video, moving Prec@1 60.008 Prec@5 85.533</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/24777, average 0.358 sec/video, moving Prec@1 60.392 Prec@5 85.521</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/24777, average 0.355 sec/video, moving Prec@1 60.336 Prec@5 85.457</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/24777, average 0.352 sec/video, moving Prec@1 60.285 Prec@5 85.400</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/24777, average 0.351 sec/video, moving Prec@1 59.804 Prec@5 85.318</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/24777, average 0.348 sec/video, moving Prec@1 59.650 Prec@5 85.125</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/24777, average 0.347 sec/video, moving Prec@1 59.736 Prec@5 85.204</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/24777, average 0.344 sec/video, moving Prec@1 59.585 Prec@5 85.182</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/24777, average 0.342 sec/video, moving Prec@1 59.771 Prec@5 85.265</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/24777, average 0.341 sec/video, moving Prec@1 59.681 Prec@5 85.292</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/24777, average 0.339 sec/video, moving Prec@1 59.633 Prec@5 85.281</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/24777, average 0.337 sec/video, moving Prec@1 59.635 Prec@5 85.386</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/24777, average 0.336 sec/video, moving Prec@1 59.548 Prec@5 85.316</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/24777, average 0.334 sec/video, moving Prec@1 59.477 Prec@5 85.273</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/24777, average 0.333 sec/video, moving Prec@1 59.536 Prec@5 85.358</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/24777, average 0.331 sec/video, moving Prec@1 59.652 Prec@5 85.397</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/24777, average 0.331 sec/video, moving Prec@1 59.565 Prec@5 85.413</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/24777, average 0.330 sec/video, moving Prec@1 59.503 Prec@5 85.354</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/24777, average 0.329 sec/video, moving Prec@1 59.554 Prec@5 85.380</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/24777, average 0.330 sec/video, moving Prec@1 59.576 Prec@5 85.396</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/24777, average 0.329 sec/video, moving Prec@1 59.639 Prec@5 85.480</span><br><span class="line">video 11840 <span class="keyword">done</span>, total 11840/24777, average 0.327 sec/video, moving Prec@1 59.691 Prec@5 85.417</span><br><span class="line">video 12160 <span class="keyword">done</span>, total 12160/24777, average 0.326 sec/video, moving Prec@1 59.675 Prec@5 85.422</span><br><span class="line">video 12480 <span class="keyword">done</span>, total 12480/24777, average 0.325 sec/video, moving Prec@1 59.675 Prec@5 85.451</span><br><span class="line">video 12800 <span class="keyword">done</span>, total 12800/24777, average 0.325 sec/video, moving Prec@1 59.691 Prec@5 85.471</span><br><span class="line">video 13120 <span class="keyword">done</span>, total 13120/24777, average 0.324 sec/video, moving Prec@1 59.645 Prec@5 85.490</span><br><span class="line">video 13440 <span class="keyword">done</span>, total 13440/24777, average 0.323 sec/video, moving Prec@1 59.617 Prec@5 85.486</span><br><span class="line">video 13760 <span class="keyword">done</span>, total 13760/24777, average 0.322 sec/video, moving Prec@1 59.640 Prec@5 85.475</span><br><span class="line">video 14080 <span class="keyword">done</span>, total 14080/24777, average 0.321 sec/video, moving Prec@1 59.641 Prec@5 85.464</span><br><span class="line">video 14400 <span class="keyword">done</span>, total 14400/24777, average 0.322 sec/video, moving Prec@1 59.600 Prec@5 85.502</span><br><span class="line">video 14720 <span class="keyword">done</span>, total 14720/24777, average 0.323 sec/video, moving Prec@1 59.521 Prec@5 85.437</span><br><span class="line">video 15040 <span class="keyword">done</span>, total 15040/24777, average 0.323 sec/video, moving Prec@1 59.358 Prec@5 85.355</span><br><span class="line">video 15360 <span class="keyword">done</span>, total 15360/24777, average 0.323 sec/video, moving Prec@1 59.365 Prec@5 85.341</span><br><span class="line">video 15680 <span class="keyword">done</span>, total 15680/24777, average 0.322 sec/video, moving Prec@1 59.353 Prec@5 85.302</span><br><span class="line">video 16000 <span class="keyword">done</span>, total 16000/24777, average 0.321 sec/video, moving Prec@1 59.328 Prec@5 85.340</span><br><span class="line">video 16320 <span class="keyword">done</span>, total 16320/24777, average 0.322 sec/video, moving Prec@1 59.341 Prec@5 85.327</span><br><span class="line">video 16640 <span class="keyword">done</span>, total 16640/24777, average 0.320 sec/video, moving Prec@1 59.312 Prec@5 85.315</span><br><span class="line">video 16960 <span class="keyword">done</span>, total 16960/24777, average 0.320 sec/video, moving Prec@1 59.295 Prec@5 85.315</span><br><span class="line">video 17280 <span class="keyword">done</span>, total 17280/24777, average 0.320 sec/video, moving Prec@1 59.256 Prec@5 85.291</span><br><span class="line">video 17600 <span class="keyword">done</span>, total 17600/24777, average 0.321 sec/video, moving Prec@1 59.191 Prec@5 85.280</span><br><span class="line">video 17920 <span class="keyword">done</span>, total 17920/24777, average 0.321 sec/video, moving Prec@1 59.066 Prec@5 85.220</span><br><span class="line">video 18240 <span class="keyword">done</span>, total 18240/24777, average 0.321 sec/video, moving Prec@1 59.109 Prec@5 85.232</span><br><span class="line">video 18560 <span class="keyword">done</span>, total 18560/24777, average 0.321 sec/video, moving Prec@1 59.189 Prec@5 85.255</span><br><span class="line">video 18880 <span class="keyword">done</span>, total 18880/24777, average 0.320 sec/video, moving Prec@1 59.113 Prec@5 85.198</span><br><span class="line">video 19200 <span class="keyword">done</span>, total 19200/24777, average 0.319 sec/video, moving Prec@1 59.128 Prec@5 85.205</span><br><span class="line">video 19520 <span class="keyword">done</span>, total 19520/24777, average 0.319 sec/video, moving Prec@1 59.142 Prec@5 85.227</span><br><span class="line">video 19840 <span class="keyword">done</span>, total 19840/24777, average 0.319 sec/video, moving Prec@1 59.136 Prec@5 85.244</span><br><span class="line">video 20160 <span class="keyword">done</span>, total 20160/24777, average 0.320 sec/video, moving Prec@1 59.199 Prec@5 85.255</span><br><span class="line">video 20480 <span class="keyword">done</span>, total 20480/24777, average 0.320 sec/video, moving Prec@1 59.202 Prec@5 85.290</span><br><span class="line">video 20800 <span class="keyword">done</span>, total 20800/24777, average 0.319 sec/video, moving Prec@1 59.204 Prec@5 85.295</span><br><span class="line">video 21120 <span class="keyword">done</span>, total 21120/24777, average 0.319 sec/video, moving Prec@1 59.226 Prec@5 85.328</span><br><span class="line">video 21440 <span class="keyword">done</span>, total 21440/24777, average 0.318 sec/video, moving Prec@1 59.270 Prec@5 85.314</span><br><span class="line">video 21760 <span class="keyword">done</span>, total 21760/24777, average 0.318 sec/video, moving Prec@1 59.285 Prec@5 85.342</span><br><span class="line">video 22080 <span class="keyword">done</span>, total 22080/24777, average 0.318 sec/video, moving Prec@1 59.314 Prec@5 85.355</span><br><span class="line">video 22400 <span class="keyword">done</span>, total 22400/24777, average 0.318 sec/video, moving Prec@1 59.284 Prec@5 85.377</span><br><span class="line">video 22720 <span class="keyword">done</span>, total 22720/24777, average 0.318 sec/video, moving Prec@1 59.236 Prec@5 85.340</span><br><span class="line">video 23040 <span class="keyword">done</span>, total 23040/24777, average 0.317 sec/video, moving Prec@1 59.256 Prec@5 85.414</span><br><span class="line">video 23360 <span class="keyword">done</span>, total 23360/24777, average 0.317 sec/video, moving Prec@1 59.274 Prec@5 85.417</span><br><span class="line">video 23680 <span class="keyword">done</span>, total 23680/24777, average 0.317 sec/video, moving Prec@1 59.246 Prec@5 85.403</span><br><span class="line">video 24000 <span class="keyword">done</span>, total 24000/24777, average 0.318 sec/video, moving Prec@1 59.231 Prec@5 85.389</span><br><span class="line">video 24320 <span class="keyword">done</span>, total 24320/24777, average 0.317 sec/video, moving Prec@1 59.291 Prec@5 85.413</span><br><span class="line">video 24640 <span class="keyword">done</span>, total 24640/24777, average 0.317 sec/video, moving Prec@1 59.259 Prec@5 85.436</span><br><span class="line">[0.84482759 0.38815789 0.51633987 0.58252427 0.58974359 0.54385965</span><br><span class="line"> 0.76738609 0.63636364 0.67716535 0.60264901 0.53932584 0.68613139</span><br><span class="line"> 0.26923077 0.425      0.7122807  0.51914894 0.42639594 0.38157895</span><br><span class="line"> 0.46025105 0.57345972 0.51574803 0.62280702 0.55232558 0.56382979</span><br><span class="line"> 0.56818182 0.52631579 0.6        0.48514851 0.71818182 0.77394636</span><br><span class="line"> 0.78378378 0.77477477 0.82954545 0.11650485 0.36144578 0.203125</span><br><span class="line"> 0.84331797 0.82129278 0.22222222 0.79411765 0.71584699 0.73214286</span><br><span class="line"> 0.59624413 0.62057878 0.72972973 0.51253482 0.5873494  0.40703518</span><br><span class="line"> 0.42857143 0.80430108 0.7257384  0.06666667 0.40625    0.68571429</span><br><span class="line"> 0.25       0.42       0.4109589  0.60377358 0.17647059 0.81654676</span><br><span class="line"> 0.92       0.21568627 0.73417722 0.30841121 0.21621622 0.53301887</span><br><span class="line"> 0.30188679 0.40298507 0.6754386  0.43       0.64285714 0.47826087</span><br><span class="line"> 0.54411765 0.61538462 0.66981132 0.36842105 0.5        0.30769231</span><br><span class="line"> 0.2962963  0.77586207 0.296875   0.168      0.36170213 0.44680851</span><br><span class="line"> 0.64       0.44444444 0.85882353 0.792      0.25       0.19277108</span><br><span class="line"> 0.56521739 0.85       0.57894737 0.764      0.76694915 0.13888889</span><br><span class="line"> 0.14705882 0.2892562  0.51020408 0.67765568 0.46792453 0.62637363</span><br><span class="line"> 0.29310345 0.8125     0.7480315  0.73333333 0.52054795 0.66502463</span><br><span class="line"> 0.39189189 0.48       0.6056338  0.05555556 0.49640288 0.27777778</span><br><span class="line"> 0.69097222 0.54347826 0.25925926 0.77777778 0.40677966 0.64356436</span><br><span class="line"> 0.80314961 0.80681818 0.34975369 0.69230769 0.36538462 0.63761468</span><br><span class="line"> 0.55339806 0.42608696 0.1302682  0.70955882 0.32142857 0.35616438</span><br><span class="line"> 0.44827586 0.24561404 0.79619565 0.62269939 0.23529412 0.45</span><br><span class="line"> 0.24770642 0.72727273 0.6627907  0.359375   0.59375    0.63311688</span><br><span class="line"> 0.56050955 0.44680851 0.74166667 0.0859375  0.55230126 0.90754717</span><br><span class="line"> 0.76902174 0.33152174 0.3877551  0.75229358 0.51181102 0.29268293</span><br><span class="line"> 0.5        0.58695652 0.55045872 0.34545455 0.41284404 0.46052632</span><br><span class="line"> 0.43925234 0.45       0.84398977 0.88709677 0.96428571 0.94444444</span><br><span class="line"> 0.81666667 0.70666667 0.45098039 0.72115385 0.74418605 0.65693431]</span><br><span class="line">upper bound: 0.548518228331384</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 53.84%</span><br><span class="line">Overall Prec@1 59.26% Prec@5 85.45%</span><br><span class="line">E:\Program Files\Anaconda3\envs\tsm\lib\site-packages\numpy\core\_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://arxiv.org/pdf/2008.03462v1.pdf" target="_blank" rel="noopener">https://arxiv.org/pdf/2008.03462v1.pdf</a></li><li><a href="https://github.com/zhang-can/PAN-PyTorch" target="_blank" rel="noopener">https://github.com/zhang-can/PAN-PyTorch</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
            <tag> pan </tag>
            
            <tag> persistent appearance network </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TSM Temporal Shift Module for Efficient Video Understanding</title>
      <link href="/blog/2020/08/30/tsm-temporal-shift-module-for-efficient-video-understanding/"/>
      <url>/blog/2020/08/30/tsm-temporal-shift-module-for-efficient-video-understanding/</url>
      
        <content type="html"><![CDATA[<center><p><img src="//onns.xyz/blog/image/20200910-1.png" alt="æ ¸å¿ƒæ€æƒ³"></p></center><p>å®ç°åœ¨ 2D æ¨¡å‹ä¸Šè¾¾åˆ° 3D æ¨¡å‹çš„ç²¾åº¦ï¼Œæå¤§çš„é™ä½äº†è®¡ç®—ã€‚</p><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„<code>shift</code>æ“ä½œéƒ½å¯ä»¥è¾¾åˆ°æ•ˆæœçš„ï¼Œè™½ç„¶<code>shift</code>æ“ä½œä¸éœ€è¦é¢å¤–çš„è¿ç®—ä½†æ˜¯ä»ç„¶éœ€è¦æ•°æ®çš„ç§»åŠ¨ï¼Œå¤ªå¤šçš„ç§»åŠ¨ä¼šå¸¦æ¥å»¶è¿Ÿã€‚</p><p><code>shift</code>æ˜¯å¢åŠ æ—¶é—´ç‰¹å¾çš„æå–ï¼Œå¤ªå¤šçš„<code>shift</code>æ“ä½œä¹Ÿä¼šå¯¼è‡´ç©ºé—´ç‰¹å¾çš„æå–å—åˆ°å½±å“ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-2.png" alt="ä½œè€…æ€è·¯"></p></center><p>æ”¹è¿›çš„<code>shift</code>ç­–ç•¥ï¼šå¹¶ä¸æ˜¯<code>shift</code>æ‰€æœ‰çš„<code>channels</code>ï¼Œè€Œæ˜¯åªé€‰æ‹©æ€§çš„<code>shift</code>å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥ç­–ç•¥èƒ½å¤Ÿæœ‰æ•ˆçš„å‡å°‘æ•°æ®ç§»åŠ¨æ‰€å¸¦æ¥çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p>TSM å¹¶ä¸æ˜¯ç›´æ¥è¢«æ’å…¥åˆ°ä»å‰å¾€åçš„å¹²é“ä¸­çš„ï¼Œè€Œæ˜¯ä»¥æ—è·¯çš„å½¢å¼è¿›è¡Œï¼Œå› æ­¤åœ¨è·å¾—äº†æ—¶åºä¿¡æ¯çš„åŒæ—¶ä¸ä¼šå¯¹äºŒç»´å·ç§¯çš„ç©ºé—´ä¿¡æ¯è¿›è¡ŒæŸå®³ã€‚</p><p>åŒæ—¶ä½œè€…å¯¹äºä¸€äº›å®æ—¶çš„åœ¨çº¿æ£€æµ‹æå‡ºäº†ç›¸åº”çš„æ¨¡å‹ç­–ç•¥ï¼Œä¸åŒäºå°†ç¬¬ä¸€å±‚ä¸‹ç§»ç¬¬äºŒå±‚ä¸Šç§»è¿™ç§ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200910-3.png" alt="åœ¨çº¿æ¨¡å‹"></p></center><p>å¯ä»¥æœ‰ç›¸åº”çš„å€Ÿé‰´æ€è·¯ï¼Œå¹¶ä¸”è¿™ç¯‡ä¹Ÿæ˜¯ä¸Šä¸€ç¯‡çš„åŸºå‡†ä¹‹ä¸€ã€‚</p><h2 id="å®éªŒç»“æœ"><a class="header-anchor" href="#å®éªŒç»“æœ">#</a>å®éªŒç»“æœ</h2><center><p><img src="//onns.xyz/blog/image/20200910-7.png" alt="è¿‡ç¨‹"></p></center><center><p><img src="//onns.xyz/blog/image/20200910-8.png" alt="ç»“æœ"></p></center><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://github.com/mit-han-lab/temporal-shift-module" target="_blank" rel="noopener">https://github.com/mit-han-lab/temporal-shift-module</a></li><li><a href="https://blog.csdn.net/justsolow/article/details/105127296" target="_blank" rel="noopener">ã€ŠTSM: Temporal Shift Module for Efficient Video Understandingã€‹å­¦ä¹ å°è®°</a></li><li><a href="https://zhuanlan.zhihu.com/p/66251207" target="_blank" rel="noopener">Temporal Shift Module</a></li><li><a href="https://zhuanlan.zhihu.com/p/64525610" target="_blank" rel="noopener">TSMï¼šTemporal Shift Module for è§†é¢‘ç†è§£</a></li><li><a href="https://blog.csdn.net/Amazingren/article/details/100715768" target="_blank" rel="noopener">ã€è§†é¢‘ç†è§£è®ºæ–‡ã€‘â€”â€”TSMï¼šTemporal Shift Module for Efficient Video Understanding</a></li><li><a href="https://zhuanlan.zhihu.com/p/64525610" target="_blank" rel="noopener">TSMï¼šTemporal Shift Module for è§†é¢‘ç†è§£</a></li><li><a href="https://blog.csdn.net/strawqqhat/article/details/105292687" target="_blank" rel="noopener">Temporal Shift Module for Efficient Video Understanding</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
            <tag> tsm </tag>
            
            <tag> temporal shift module </tag>
            
            <tag> shift </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gate-Shift Networks for Video Action Recognition</title>
      <link href="/blog/2020/08/30/gate-shift-networks-for-video-action-recognition/"/>
      <url>/blog/2020/08/30/gate-shift-networks-for-video-action-recognition/</url>
      
        <content type="html"><![CDATA[<h2 id="gate-shift-networks-for-video-action-recognition"><a class="header-anchor" href="#gate-shift-networks-for-video-action-recognition">#</a>Gate-Shift Networks for Video Action Recognition</h2><p>ç”¨äºè¡Œä¸ºè¯†åˆ«çš„<code>Gate-Shift</code>ç½‘ç»œ</p><p>åœ¨å®è·µä¸­ï¼Œç”±äºæ¶‰åŠå¤§é‡çš„å‚æ•°å’Œè®¡ç®—ï¼Œåœ¨ç¼ºä¹è¶³å¤Ÿå¤§çš„æ•°æ®é›†è¿›è¡Œå¤§è§„æ¨¡è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œ<code>C3D</code>å¯èƒ½è¡¨ç°ä¸ä½³ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-5.png" alt="GSM"></p></center><p>æå‡ºäº†ä¸€ç§<code>Gate-Shift Module(GSM)</code>ï¼Œå°†<code>2D-CNN</code>è½¬æ¢ä¸ºé«˜æ•ˆçš„æ—¶ç©ºç‰¹å¾æŠ½å–å™¨ã€‚</p><p>é€šè¿‡<code>GSM</code>æ’ä»¶ï¼Œä¸€ä¸ª<code>2D-CNN</code>å¯ä»¥é€‚åº”æ€§åœ°å­¦ä¹ æ—¶é—´è·¯ç”±ç‰¹æ€§å¹¶å°†å®ƒä»¬ç»“åˆèµ·æ¥ï¼Œå¹¶ä¸”å‡ ä¹æ²¡æœ‰é¢å¤–çš„é™„åŠ å‚æ•°å’Œè®¡ç®—å¼€é”€ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-4.png" alt="æ€è·¯å¯¹æ¯”"></p></center><p>ä¼ ç»Ÿçš„æ–¹æ³•æ¼”å˜ï¼š<code>C3D</code> -&gt; <code>2D spatial + 1D temporal</code> -&gt; <code>CSN</code> -&gt; <code>GST</code>ï¼ˆä¸åˆ†ç¦»ä¿¡é“ç»„ä¸Šçš„äºŒç»´å’Œä¸‰ç»´å·ç§¯å¹¶è¡Œç©ºé—´å’Œæ—¶ç©ºäº¤äº’å»ºæ¨¡ï¼‰ -&gt; <code>TSM</code>ï¼ˆæ—¶åŸŸå·ç§¯å¯ä»¥è¢«é™åˆ¶ä¸ºç¡¬ç¼–ç çš„æ—¶ç§»ï¼Œä½¿ä¸€äº›ä¿¡é“åœ¨æ—¶é—´ä¸Šå‘å‰æˆ–å‘åç§»åŠ¨ï¼‰</p><p>æ‰€æœ‰è¿™äº›ç°æœ‰çš„æ–¹æ³•éƒ½å­¦ä¹ å…·æœ‰ç¡¬è¿çº¿è¿æ¥å’Œè·¨ç½‘ç»œä¼ æ’­æ¨¡å¼çš„ç»“æ„åŒ–å†…æ ¸ã€‚<br>åœ¨ç½‘ç»œä¸­çš„ä»»ä½•ä¸€ç‚¹ä¸Šéƒ½æ²¡æœ‰æ•°æ®ä¾èµ–çš„å†³ç­–æ¥é€‰æ‹©åœ°é€šè¿‡ä¸åŒçš„åˆ†æ”¯æ¥è·¯ç”±ç‰¹æ€§ï¼Œåˆ†ç»„å’Œéšæœºçš„æ¨¡å¼æ˜¯åœ¨è®¾è®¡ä¹‹åˆå°±å›ºå®šçš„ï¼Œå¹¶ä¸”å­¦ä¹ å¦‚ä½•éšæœºæ˜¯å…·æœ‰ç»„åˆå¤æ‚æ€§çš„ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200910-6.png" alt="å®éªŒ"></p></center><blockquote><p>From the experiments we conclude that adding GSM to the branch with the least number of convolution layers performs the best.</p></blockquote><p>åœ¨å·ç§¯å±‚æœ€å°‘çš„åˆ†æ”¯ä¸Šæ·»åŠ <code>GSM</code>æ¨¡å—è¡¨ç°æœ€å¥½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘¨æŠ¥-20200830</title>
      <link href="/blog/2020/08/30/weekly-report-20200830/"/>
      <url>/blog/2020/08/30/weekly-report-20200830/</url>
      
        <content type="html"><![CDATA[<center><table><thead><tr><th style="text-align:center">2020-08-30</th><th style="text-align:center">å‘¨æŠ¥#03</th><th style="text-align:center">åˆ˜æ½˜</th></tr></thead><tbody></tbody></table></center><a id="more"></a><h2 id="i-task-achieved-last-week"><a class="header-anchor" href="#i-task-achieved-last-week">#</a>I. Task achieved last week</h2><hr><ul><li>é˜…è¯» CVPR2020 è®ºæ–‡ã€ŠDisentangling and Unifying Graph Convolutionsfor Skeleton-Based Action Recognitionã€‹ã€‚</li><li>é˜…è¯»ã€Šä¸€ç§åŸºäº 2D æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•ã€‹ã€‚</li></ul><h2 id="ii-reports"><a class="header-anchor" href="#ii-reports">#</a>II. Reports</h2><hr><h3 id="disentangling-and-unifying-graph-convolutionsfor-skeleton-based-action-recognition"><a class="header-anchor" href="#disentangling-and-unifying-graph-convolutionsfor-skeleton-based-action-recognition">#</a>Disentangling and Unifying Graph Convolutionsfor Skeleton-Based Action Recognition</h3><p>åŸºäºéª¨æ¶çš„åŠ¨ä½œè¯†åˆ«çš„åˆ†ç¦»ç»Ÿä¸€å›¾å·ç§¯</p><p>åˆ›æ–°ç‚¹ï¼š</p><ol><li>åœ¨å¤šå°ºåº¦ç®—å­ä¸‹æ— åçš„è¿œç¨‹è”åˆå…³ç³»å»ºæ¨¡</li><li>åœ¨ä¿¡æ¯æµä¸­æ— éšœç¢çš„è·¨æ—¶ç©ºæ•è·å¤æ‚çš„æ—¶ç©ºä¾èµ–æ€§</li></ol><p>é¦–å…ˆä»‹ç»äº†ä¸€ä¸‹åŸºäºäººä½“éª¨æ¶çš„è¡Œä¸ºè¯†åˆ«çš„é«˜æ•ˆæ€§å’Œå¹¿é˜”å‰æ™¯ã€‚</p><p>å¯¹äºéª¨æ¶å›¾çš„é²æ£’åŠ¨ä½œè¯†åˆ«ï¼Œä¸€ä¸ªç†æƒ³çš„ç®—æ³•åº”è¯¥ä¸ä»…ä»…å±€é™äºå±€éƒ¨å…³èŠ‚è¿é€šæ€§ï¼Œæå–å¤šå°ºåº¦ç»“æ„ç‰¹å¾å’Œé•¿è·ç¦»ä¾èµ–å…³ç³»ï¼Œå› ä¸ºç»“æ„ä¸Šåˆ†ç¦»çš„å…³èŠ‚ä¹Ÿå…·æœ‰å¾ˆå¼ºçš„ç›¸å…³æ€§ã€‚</p><p>ç°æœ‰çš„æ–¹æ³•æ˜¯é€šè¿‡å›¾å·ç§¯çš„éª¨æ¶é‚»æ¥çŸ©é˜µçš„é«˜é˜¶å¤šé¡¹å¼ï¼Œé‚»æ¥å¤šé¡¹å¼é€šè¿‡ä½¿è¿œé‚»å¯åˆ°è¾¾è€Œå¢åŠ äº†å›¾å·ç§¯çš„æ„Ÿå—é‡ã€‚</p><p>ä½†å› æ­¤å°±ä¼šå‡ºç°<code>biased weighting problem</code>ï¼Œå³<code>ååŠ æƒé—®é¢˜</code>ã€‚æ›´é«˜çš„å¤šé¡¹å¼é˜¶åœ¨ä»è¿œç«¯å…³èŠ‚è·å–ä¿¡æ¯æ–¹é¢ä»…å…·æœ‰ä¸€ç‚¹ç‚¹çš„æ•ˆæœï¼Œå› ä¸ºèšé›†çš„ç‰¹å¾å°†ç”±æ¥è‡ªå±€éƒ¨èº«ä½“éƒ¨ä½çš„å…³èŠ‚æ§åˆ¶ã€‚è¿™æ˜¯é™åˆ¶ç°æœ‰å¤šå°ºåº¦èšåˆå™¨å¯æ‰©å±•æ€§çš„ä¸€ä¸ªå…³é”®ç¼ºç‚¹ã€‚</p><p>é²æ£’ç®—æ³•çš„å¦ä¸€ä¸ªå¯å–ç‰¹å¾æ˜¯èƒ½å¤Ÿåˆ©ç”¨å¤æ‚çš„è·¨æ—¶ç©ºè”åˆå…³ç³»è¿›è¡ŒåŠ¨ä½œè¯†åˆ«ã€‚ç„¶è€Œï¼Œä¸ºäº†è¾¾åˆ°è¿™ä¸€ç›®çš„ï¼Œå¤§å¤šæ•°ç°æœ‰çš„æ–¹æ³•éƒ½æ˜¯ä½¿ç”¨äº¤é”™çš„ç©ºé—´ç‹¬ç«‹ï¼ˆspatial-onlyï¼‰å’Œæ—¶é—´ç‹¬ç«‹ï¼ˆtemporal-onlyï¼‰æ¨¡å‹ï¼Œç±»ä¼¼äºåˆ†è§£çš„ä¸‰ç»´å·ç§¯ã€‚ä¸€ç§å…¸å‹çš„æ–¹æ³•æ˜¯é¦–å…ˆä½¿ç”¨å›¾å·ç§¯æå–æ¯ä¸ªæ—¶é—´ç‰‡çš„ç©ºé—´å…³ç³»ï¼Œç„¶åä½¿ç”¨å¾ªç¯çš„æˆ–ä¸€ç»´å·ç§¯å±‚æ¥æ¨¡æ‹Ÿæ—¶é—´åŠ¨æ€ã€‚è¿™ç§<code>å› å¼åˆ†è§£</code>å…è®¸é«˜æ•ˆçš„è¿œç¨‹å»ºæ¨¡ï¼Œå®ƒæ”¯æŒè·¨æ—¶ç©ºçš„ç›´æ¥ä¿¡æ¯æµï¼Œä½†æ˜¯å®ƒæ— æ³•æ•è·å¤æ‚çš„åŒºåŸŸæ—¶ç©ºè”åˆä¾èµ–å…³ç³»ã€‚ä¾‹å¦‚ï¼Œâ€œç«™èµ·æ¥â€çš„åŠ¨ä½œå¸¸å¸¸åŒæ—¶å‘ç”Ÿä¸Šä¸‹èº«ä½“è·¨è¶Šæ—¶ç©ºçš„è¿åŠ¨ï¼Œä¸ŠåŠèº«çš„è¿åŠ¨ï¼ˆå‰å€¾ï¼‰ä¸ä¸‹åŠèº«çš„è¿åŠ¨ï¼ˆç«™èµ·æ¥ï¼‰æœ‰ç€å¼ºçƒˆçš„å…³è”ã€‚<code>å› å¼åˆ†è§£</code>å»ºæ¨¡å¯èƒ½æ— æ³•æœ‰æ•ˆåœ°æ•æ‰åˆ°åšå‡ºé¢„æµ‹çš„æœ‰åŠ›çº¿ç´¢ã€‚</p><ol><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåˆ†ç¦»çš„å¤šå°ºåº¦èšåˆæ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆæ¶ˆé™¤äº†æ¥è‡ªä¸åŒé‚»åŸŸçš„èŠ‚ç‚¹ç‰¹å¾ä¹‹é—´çš„å†—ä½™ä¾èµ–å…³ç³»ï¼Œä»è€Œä½¿å¼ºå¤§çš„å¤šå°ºåº¦èšåˆå™¨èƒ½å¤Ÿæœ‰æ•ˆåœ°æ•è·äººç±»éª¨éª¼ä¸Šçš„å›¾å½¢èŒƒå›´çš„å…³èŠ‚å…³ç³»ã€‚</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª<code>G3D</code>æ“ä½œå•å…ƒã€‚å®ƒä¿ƒè¿›äº†ä¿¡æ¯åœ¨æ—¶ç©ºä¸­çš„ç›´æ¥æµåŠ¨ï¼Œä»è€Œæœ‰æ•ˆåœ°è¿›è¡Œç‰¹å¾å­¦ä¹ ã€‚</li><li>å°†åˆ†ç¦»çš„èšé›†æ–¹æ¡ˆä¸ G3D é›†æˆï¼Œæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„ç‰¹å¾æŠ½å–å™¨ï¼ˆMS-G3Dï¼‰ï¼Œå…·æœ‰è·¨ç©ºé—´å’Œæ—¶é—´ç»´åº¦çš„å¤šå°ºåº¦æ„Ÿå—é‡ã€‚æ—¶ç©ºç‰¹æ€§çš„ç›´æ¥å¤šå°ºåº¦èšåˆè¿›ä¸€æ­¥æé«˜äº†æ¨¡å‹æ€§èƒ½ã€‚</li></ol><h3 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h3><ul><li><a href="https://www.pianshen.com/article/75261564402/" target="_blank" rel="noopener">åˆ«äººçš„ç¬”è®° 1</a></li><li><a href="https://blog.csdn.net/qq_36852840/article/details/106374430" target="_blank" rel="noopener">åˆ«äººçš„ç¬”è®° 2</a></li><li><a href="https://blog.csdn.net/m0_37852937/article/details/106565861" target="_blank" rel="noopener">åˆ«äººçš„ç¬”è®° 3</a></li><li><a href="https://github.com/kenziyuliu/ms-g3d" target="_blank" rel="noopener">github æºç </a></li></ul><h3 id="spatiotemporal-fusion-in-3d-cnns-a-probabilistic-view"><a class="header-anchor" href="#spatiotemporal-fusion-in-3d-cnns-a-probabilistic-view">#</a>Spatiotemporal Fusion in 3D CNNs A Probabilistic View</h3><p>æ„Ÿè§‰æ˜¯çº¯ç†è®ºæ€§è´¨çš„ç ”ç©¶â€¦ä¸æ˜¯å¾ˆèƒ½å‚è€ƒã€‚</p><p>æ—¶é—´ç©ºé—´çš„èåˆæ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œä»¥å¾€çš„æ¢ç©¶æ–¹æ³•æ˜¯å‡è®¾ä¸€ç§èåˆæ–¹æ³•ï¼Œç„¶åè¿›è¡Œå‡è®¾éªŒè¯ã€‚è¿™æ ·åšçš„ç¼ºç‚¹æ˜¯ï¼šå› ä¸ºè®­ç»ƒéœ€è¦å¾ˆä¹…çš„æ—¶é—´ï¼Œæ‰€ä»¥éªŒè¯è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚</p><p>æ‰€ä»¥æ–‡ç« é€šè¿‡å°†èåˆæ–¹æ³•æ˜ å°„åˆ°æ¦‚ç‡ç©ºé—´ï¼Œé€šè¿‡ç†è®ºæ¨¡æ‹Ÿæ¥æé«˜éªŒè¯æ•ˆç‡ã€‚</p><h3 id="ç›¸å…³é“¾æ¥-2"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥-2">#</a>ç›¸å…³é“¾æ¥</h3><ul><li><a href="https://mp.weixin.qq.com/s/qZOCUuLt98fTpstGpC1ilg" target="_blank" rel="noopener">CVPR 2020 ä¸¨ Variational DropPathï¼šæé«˜ 3D CNN æ—¶ç©ºèåˆåˆ†ææ•ˆç‡çš„ç§˜è¯€</a></li><li><a href="https://github.com/scenarios/Probabilistic3DCNN" target="_blank" rel="noopener">https://github.com/scenarios/Probabilistic3DCNN</a></li></ul><h3 id="ä¸€ç§åŸºäº-2d-æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•"><a class="header-anchor" href="#ä¸€ç§åŸºäº-2d-æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•">#</a>ä¸€ç§åŸºäº 2D æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•</h3><p>åœ¨<code>UCF101</code>æ•°æ®é›†ä¸Šå‡†ç¡®ç‡<code>94.46%</code>ã€‚</p><p>é‡‡ç”¨<code>DenseNet</code>åšä¸ºç½‘ç»œçš„æ¶æ„ã€‚</p><p>ä»ä¸€ä¸ªè§†é¢‘ç‰‡æ®µæå–å‡º <code>16</code> å¸§çš„ <code>64 Ã— 64 Ã— 3</code> çš„æœ‰æ—¶åºé¡ºåºçš„å›¾åƒï¼Œç»„ç»‡æˆ <code>4 Ã— 4</code> çš„å›¾åƒã€‚</p><center><p><img src="//onns.xyz/blog/image/20200829-1.png" alt="å›¾åƒç¿»è½¬è®¾è®¡"></p></center><center><p><img src="//onns.xyz/blog/image/20200829-2.png" alt="å®éªŒç»“æœ"></p></center><p>æ–‡ç« æ²¡æœ‰å…·ä½“è¯´æ˜æ‰§è¡Œé€Ÿåº¦ï¼Œä½†æ˜¯æˆ‘è§‰å¾—åº”è¯¥æ¯”åŸºäºè§†é¢‘çš„å¿«å¾ˆå¤šï¼Œä¹Ÿç›¸å¯¹æ¥è®²æ›´æœ‰å®è·µæ€§ã€‚</p><h2 id="iii-plan-for-this-week"><a class="header-anchor" href="#iii-plan-for-this-week">#</a>III. Plan for this week</h2><hr><ul><li>ç”³è¯·äº† UCF101 çš„æ•°æ®é›†ï¼Œçœ‹çœ‹å…ˆè·‘ä¸€ä¸ªåˆ«äººçš„ demo è¯•ä¸€ä¸‹ã€‚</li><li>ç»§ç»­è¯»è®ºæ–‡ã€‚</li><li>2D æ—¶ç©ºä¿¡æ¯æå–çš„æ–¹æ³•ï¼Œè¯´ä¸å®šå¯ä»¥ä»å›¾åƒçš„æ‘†æ”¾å’Œå¸§é€‰å–ç­‰æ–¹é¢è¿›è¡Œåˆ›æ–°ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> weekly report </tag>
            
            <tag> lab406 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdownæ ¼å¼çš„å‘¨æŠ¥æ¨¡æ¿</title>
      <link href="/blog/2020/08/30/weekly-report-template/"/>
      <url>/blog/2020/08/30/weekly-report-template/</url>
      
        <content type="html"><![CDATA[<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">| date | report#ID | name |</span><br><span class="line">| :--: | :-------: | :--: |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="section">## I. Task achieved last week</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section">## II. Reports</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section">## III. Plan for this week</span></span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> weekly report </tag>
            
            <tag> template </tag>
            
            <tag> lab406 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ç§åŸºäº 2D æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•</title>
      <link href="/blog/2020/08/29/a-behavioral-recognition-algorithm-based-on-2d-spatiotemporal-information-extraction/"/>
      <url>/blog/2020/08/29/a-behavioral-recognition-algorithm-based-on-2d-spatiotemporal-information-extraction/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ç§åŸºäº-2d-æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•"><a class="header-anchor" href="#ä¸€ç§åŸºäº-2d-æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•">#</a>ä¸€ç§åŸºäº 2D æ—¶ç©ºä¿¡æ¯æå–çš„è¡Œä¸ºè¯†åˆ«ç®—æ³•</h2><p>åœ¨<code>UCF101</code>æ•°æ®é›†ä¸Šå‡†ç¡®ç‡<code>94.46%</code>ã€‚</p><p>é‡‡ç”¨<code>DenseNet</code>åšä¸ºç½‘ç»œçš„æ¶æ„ã€‚</p><p>ä»ä¸€ä¸ªè§†é¢‘ç‰‡æ®µæå–å‡º <code>16</code> å¸§çš„ <code>64 Ã— 64 Ã— 3</code> çš„æœ‰æ—¶åºé¡ºåºçš„å›¾åƒï¼Œç»„ç»‡æˆ <code>4 Ã— 4</code> çš„å›¾åƒã€‚</p><center><p><img src="//onns.xyz/blog/image/20200829-1.png" alt="å›¾åƒç¿»è½¬è®¾è®¡"></p></center><center><p><img src="//onns.xyz/blog/image/20200829-2.png" alt="å®éªŒç»“æœ"></p></center><p>æ–‡ç« æ²¡æœ‰å…·ä½“è¯´æ˜æ‰§è¡Œé€Ÿåº¦ï¼Œä½†æ˜¯æˆ‘è§‰å¾—åº”è¯¥æ¯”åŸºäºè§†é¢‘çš„å¿«å¾ˆå¤šï¼Œä¹Ÿç›¸å¯¹æ¥è®²æ›´æœ‰å®è·µæ€§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Disentangling and Unifying Graph Convolutionsfor Skeleton-Based Action Recognition</title>
      <link href="/blog/2020/08/28/disentangling-and-unifying-graph-convolutionsfor-skeleton-based-action-recognition/"/>
      <url>/blog/2020/08/28/disentangling-and-unifying-graph-convolutionsfor-skeleton-based-action-recognition/</url>
      
        <content type="html"><![CDATA[<h2 id="disentangling-and-unifying-graph-convolutionsfor-skeleton-based-action-recognition"><a class="header-anchor" href="#disentangling-and-unifying-graph-convolutionsfor-skeleton-based-action-recognition">#</a>Disentangling and Unifying Graph Convolutionsfor Skeleton-Based Action Recognition</h2><p>åŸºäºéª¨æ¶çš„åŠ¨ä½œè¯†åˆ«çš„åˆ†ç¦»ç»Ÿä¸€å›¾å·ç§¯</p><p>åœ¨å¤šå°ºåº¦ç®—å­ä¸‹æ— åçš„è¿œç¨‹è”åˆå…³ç³»å»ºæ¨¡<br>åœ¨ä¿¡æ¯æµä¸­æ— éšœç¢çš„è·¨æ—¶ç©ºæ•è·å¤æ‚çš„æ—¶ç©ºä¾èµ–æ€§</p><h2 id="introduction"><a class="header-anchor" href="#introduction">#</a>Introduction</h2><p>é¦–å…ˆä»‹ç»äº†ä¸€ä¸‹åŸºäºäººä½“éª¨æ¶çš„è¡Œä¸ºè¯†åˆ«çš„é«˜æ•ˆæ€§å’Œå¹¿é˜”å‰æ™¯ã€‚</p><p>å¯¹äºéª¨æ¶å›¾çš„é²æ£’åŠ¨ä½œè¯†åˆ«ï¼Œä¸€ä¸ªç†æƒ³çš„ç®—æ³•åº”è¯¥ä¸ä»…ä»…å±€é™äºå±€éƒ¨å…³èŠ‚è¿é€šæ€§ï¼Œæå–å¤šå°ºåº¦ç»“æ„ç‰¹å¾å’Œé•¿è·ç¦»ä¾èµ–å…³ç³»ï¼Œå› ä¸ºç»“æ„ä¸Šåˆ†ç¦»çš„å…³èŠ‚ä¹Ÿå…·æœ‰å¾ˆå¼ºçš„ç›¸å…³æ€§ã€‚</p><p>ç°æœ‰çš„æ–¹æ³•æ˜¯é€šè¿‡å›¾å·ç§¯çš„éª¨æ¶é‚»æ¥çŸ©é˜µçš„é«˜é˜¶å¤šé¡¹å¼ï¼Œé‚»æ¥å¤šé¡¹å¼é€šè¿‡ä½¿è¿œé‚»å¯åˆ°è¾¾è€Œå¢åŠ äº†å›¾å·ç§¯çš„æ„Ÿå—é‡ã€‚</p><p>ä½†å› æ­¤å°±ä¼šå‡ºç°<code>biased weighting problem</code>ï¼Œå³<code>ååŠ æƒé—®é¢˜</code>ã€‚æ›´é«˜çš„å¤šé¡¹å¼é˜¶åœ¨ä»è¿œç«¯å…³èŠ‚è·å–ä¿¡æ¯æ–¹é¢ä»…å…·æœ‰ä¸€ç‚¹ç‚¹çš„æ•ˆæœï¼Œå› ä¸ºèšé›†çš„ç‰¹å¾å°†ç”±æ¥è‡ªå±€éƒ¨èº«ä½“éƒ¨ä½çš„å…³èŠ‚æ§åˆ¶ã€‚è¿™æ˜¯é™åˆ¶ç°æœ‰å¤šå°ºåº¦èšåˆå™¨å¯æ‰©å±•æ€§çš„ä¸€ä¸ªå…³é”®ç¼ºç‚¹ã€‚</p><p>é²æ£’ç®—æ³•çš„å¦ä¸€ä¸ªå¯å–ç‰¹å¾æ˜¯èƒ½å¤Ÿåˆ©ç”¨å¤æ‚çš„è·¨æ—¶ç©ºè”åˆå…³ç³»è¿›è¡ŒåŠ¨ä½œè¯†åˆ«ã€‚ç„¶è€Œï¼Œä¸ºäº†è¾¾åˆ°è¿™ä¸€ç›®çš„ï¼Œå¤§å¤šæ•°ç°æœ‰çš„æ–¹æ³•éƒ½æ˜¯ä½¿ç”¨äº¤é”™çš„ç©ºé—´ç‹¬ç«‹ï¼ˆspatial-onlyï¼‰å’Œæ—¶é—´ç‹¬ç«‹ï¼ˆtemporal-onlyï¼‰æ¨¡å‹ï¼Œç±»ä¼¼äºåˆ†è§£çš„ä¸‰ç»´å·ç§¯ã€‚ä¸€ç§å…¸å‹çš„æ–¹æ³•æ˜¯é¦–å…ˆä½¿ç”¨å›¾å·ç§¯æå–æ¯ä¸ªæ—¶é—´ç‰‡çš„ç©ºé—´å…³ç³»ï¼Œç„¶åä½¿ç”¨å¾ªç¯çš„æˆ–ä¸€ç»´å·ç§¯å±‚æ¥æ¨¡æ‹Ÿæ—¶é—´åŠ¨æ€ã€‚è¿™ç§<code>å› å¼åˆ†è§£</code>å…è®¸é«˜æ•ˆçš„è¿œç¨‹å»ºæ¨¡ï¼Œå®ƒæ”¯æŒè·¨æ—¶ç©ºçš„ç›´æ¥ä¿¡æ¯æµï¼Œä½†æ˜¯å®ƒæ— æ³•æ•è·å¤æ‚çš„åŒºåŸŸæ—¶ç©ºè”åˆä¾èµ–å…³ç³»ã€‚ä¾‹å¦‚ï¼Œâ€œç«™èµ·æ¥â€çš„åŠ¨ä½œå¸¸å¸¸åŒæ—¶å‘ç”Ÿä¸Šä¸‹èº«ä½“è·¨è¶Šæ—¶ç©ºçš„è¿åŠ¨ï¼Œä¸ŠåŠèº«çš„è¿åŠ¨ï¼ˆå‰å€¾ï¼‰ä¸ä¸‹åŠèº«çš„è¿åŠ¨ï¼ˆç«™èµ·æ¥ï¼‰æœ‰ç€å¼ºçƒˆçš„å…³è”ã€‚<code>å› å¼åˆ†è§£</code>å»ºæ¨¡å¯èƒ½æ— æ³•æœ‰æ•ˆåœ°æ•æ‰åˆ°åšå‡ºé¢„æµ‹çš„æœ‰åŠ›çº¿ç´¢ã€‚</p><ol><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåˆ†ç¦»çš„å¤šå°ºåº¦èšåˆæ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆæ¶ˆé™¤äº†æ¥è‡ªä¸åŒé‚»åŸŸçš„èŠ‚ç‚¹ç‰¹å¾ä¹‹é—´çš„å†—ä½™ä¾èµ–å…³ç³»ï¼Œä»è€Œä½¿å¼ºå¤§çš„å¤šå°ºåº¦èšåˆå™¨èƒ½å¤Ÿæœ‰æ•ˆåœ°æ•è·äººç±»éª¨éª¼ä¸Šçš„å›¾å½¢èŒƒå›´çš„å…³èŠ‚å…³ç³»ã€‚</li><li>æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª<code>G3D</code>æ“ä½œå•å…ƒã€‚å®ƒä¿ƒè¿›äº†ä¿¡æ¯åœ¨æ—¶ç©ºä¸­çš„ç›´æ¥æµåŠ¨ï¼Œä»è€Œæœ‰æ•ˆåœ°è¿›è¡Œç‰¹å¾å­¦ä¹ ã€‚</li><li>å°†åˆ†ç¦»çš„èšé›†æ–¹æ¡ˆä¸ G3D é›†æˆï¼Œæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„ç‰¹å¾æŠ½å–å™¨ï¼ˆMS-G3Dï¼‰ï¼Œå…·æœ‰è·¨ç©ºé—´å’Œæ—¶é—´ç»´åº¦çš„å¤šå°ºåº¦æ„Ÿå—é‡ã€‚æ—¶ç©ºç‰¹æ€§çš„ç›´æ¥å¤šå°ºåº¦èšåˆè¿›ä¸€æ­¥æé«˜äº†æ¨¡å‹æ€§èƒ½ã€‚</li></ol><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://www.pianshen.com/article/75261564402/" target="_blank" rel="noopener">åˆ«äººçš„ç¬”è®° 1</a></li><li><a href="https://blog.csdn.net/qq_36852840/article/details/106374430" target="_blank" rel="noopener">åˆ«äººçš„ç¬”è®° 2</a></li><li><a href="https://blog.csdn.net/m0_37852937/article/details/106565861" target="_blank" rel="noopener">åˆ«äººçš„ç¬”è®° 3</a></li><li><a href="https://github.com/kenziyuliu/ms-g3d" target="_blank" rel="noopener">github æºç </a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spatiotemporal Fusion in 3D CNNs A Probabilistic View</title>
      <link href="/blog/2020/08/28/spatiotemporal-fusion-in-3d-cnns-a-probabilistic-view/"/>
      <url>/blog/2020/08/28/spatiotemporal-fusion-in-3d-cnns-a-probabilistic-view/</url>
      
        <content type="html"><![CDATA[<h2 id="spatiotemporal-fusion-in-3d-cnns-a-probabilistic-view"><a class="header-anchor" href="#spatiotemporal-fusion-in-3d-cnns-a-probabilistic-view">#</a>Spatiotemporal Fusion in 3D CNNs A Probabilistic View</h2><p>æ„Ÿè§‰æ˜¯çº¯ç†è®ºæ€§è´¨çš„ç ”ç©¶â€¦ä¸æ˜¯å¾ˆèƒ½å‚è€ƒã€‚</p><p>æ—¶é—´ç©ºé—´çš„èåˆæ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œä»¥å¾€çš„æ¢ç©¶æ–¹æ³•æ˜¯å‡è®¾ä¸€ç§èåˆæ–¹æ³•ï¼Œç„¶åè¿›è¡Œå‡è®¾éªŒè¯ã€‚è¿™æ ·åšçš„ç¼ºç‚¹æ˜¯ï¼šå› ä¸ºè®­ç»ƒéœ€è¦å¾ˆä¹…çš„æ—¶é—´ï¼Œæ‰€ä»¥éªŒè¯è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚</p><p>æ‰€ä»¥æ–‡ç« é€šè¿‡å°†èåˆæ–¹æ³•æ˜ å°„åˆ°æ¦‚ç‡ç©ºé—´ï¼Œé€šè¿‡ç†è®ºæ¨¡æ‹Ÿæ¥æé«˜éªŒè¯æ•ˆç‡ã€‚</p><h2 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h2><ul><li><a href="https://mp.weixin.qq.com/s/qZOCUuLt98fTpstGpC1ilg" target="_blank" rel="noopener">CVPR 2020 ä¸¨ Variational DropPathï¼šæé«˜ 3D CNN æ—¶ç©ºèåˆåˆ†ææ•ˆç‡çš„ç§˜è¯€</a></li><li><a href="https://github.com/scenarios/Probabilistic3DCNN" target="_blank" rel="noopener">https://github.com/scenarios/Probabilistic3DCNN</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¡Œä¸ºè¯†åˆ« </tag>
            
            <tag> action recognition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥åˆ†æJava WebæŠ€æœ¯å†…å¹•ï¼ˆä¸€ï¼‰</title>
      <link href="/blog/2020/08/27/jvm-web-1/"/>
      <url>/blog/2020/08/27/jvm-web-1/</url>
      
        <content type="html"><![CDATA[<p>æ·±å…¥åˆ†æ Java Web æŠ€æœ¯å†…å¹•</p><h2 id="æ·±å…¥åˆ†æ-java-i-o-çš„å·¥ä½œæœºåˆ¶"><a class="header-anchor" href="#æ·±å…¥åˆ†æ-java-i-o-çš„å·¥ä½œæœºåˆ¶">#</a>æ·±å…¥åˆ†æ Java I/O çš„å·¥ä½œæœºåˆ¶</h2><a id="more"></a><p>Java çš„ I/O æ“ä½œç±»åœ¨åŒ… <a href="http://java.io" target="_blank" rel="noopener">java.io</a> ä¸‹ï¼Œå¤§æ¦‚åˆ†ä¸ºå››ç±»ï¼š</p><ul><li>åŸºäºå­—èŠ‚æ“ä½œçš„ I/O æ¥å£ï¼š<code>InputStream</code> å’Œ <code>OutputStream</code>ã€‚</li><li>åŸºäºå­—ç¬¦æ“ä½œçš„ I/O æ¥å£ï¼š<code>Writer</code> å’Œ <code>Reader</code>ã€‚</li><li>åŸºäºç£ç›˜æ“ä½œçš„ I/O æ¥å£ï¼š<code>File</code>ã€‚</li><li>åŸºäºç½‘ç»œæ“ä½œçš„ I/O æ¥å£ï¼š<code>Socket</code>ã€‚</li></ul><h3 id="java-åºåˆ—åŒ–æŠ€æœ¯"><a class="header-anchor" href="#java-åºåˆ—åŒ–æŠ€æœ¯">#</a>Java åºåˆ—åŒ–æŠ€æœ¯</h3>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> java web </tag>
            
            <tag> java web note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆå››ï¼‰</title>
      <link href="/blog/2020/08/25/jvm-note-4/"/>
      <url>/blog/2020/08/25/jvm-note-4/</url>
      
        <content type="html"><![CDATA[<p>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºï¼šJVM é«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆç¬¬ 3 ç‰ˆï¼‰</p><h1 id="è‡ªåŠ¨å†…å­˜ç®¡ç†"><a class="header-anchor" href="#è‡ªåŠ¨å†…å­˜ç®¡ç†">#</a>è‡ªåŠ¨å†…å­˜ç®¡ç†</h1><h2 id="åƒåœ¾æ”¶é›†å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥"><a class="header-anchor" href="#åƒåœ¾æ”¶é›†å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥">#</a>åƒåœ¾æ”¶é›†å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥</h2><a id="more"></a><h3 id="å¯è¾¾æ€§åˆ†æç®—æ³•"><a class="header-anchor" href="#å¯è¾¾æ€§åˆ†æç®—æ³•">#</a>å¯è¾¾æ€§åˆ†æç®—æ³•</h3><p>åœ¨ Java æŠ€æœ¯ä½“ç³»é‡Œé¢ï¼Œå›ºå®šå¯ä½œä¸º<code>GC Roots</code>çš„å¯¹è±¡åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>åœ¨è™šæ‹Ÿæœºæ ˆ(æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨)ä¸­å¼•ç”¨çš„å¯¹è±¡ï¼Œè­¬å¦‚å„ä¸ªçº¿ç¨‹è¢«è°ƒç”¨çš„æ–¹æ³•å †æ ˆä¸­ä½¿ç”¨åˆ°çš„ å‚æ•°ã€å±€éƒ¨å˜é‡ã€ä¸´æ—¶å˜é‡ç­‰ã€‚</li><li>åœ¨æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡ï¼Œè­¬å¦‚ Java ç±»çš„å¼•ç”¨ç±»å‹é™æ€å˜é‡ã€‚</li><li>åœ¨æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ï¼Œè­¬å¦‚å­—ç¬¦ä¸²å¸¸é‡æ± (String Table)é‡Œçš„å¼•ç”¨ã€‚</li><li>åœ¨æœ¬åœ°æ–¹æ³•æ ˆä¸­ JNI(å³é€šå¸¸æ‰€è¯´çš„ Native æ–¹æ³•)å¼•ç”¨çš„å¯¹è±¡ã€‚</li><li>Java è™šæ‹Ÿæœºå†…éƒ¨çš„å¼•ç”¨ï¼Œå¦‚åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„ Class å¯¹è±¡ï¼Œä¸€äº›å¸¸é©»çš„å¼‚å¸¸å¯¹è±¡(æ¯”å¦‚ NullPointExcepitonã€OutOfMemoryError)ç­‰ï¼Œè¿˜æœ‰ç³»ç»Ÿç±»åŠ è½½å™¨ã€‚</li><li>æ‰€æœ‰è¢«åŒæ­¥é”(synchronized å…³é”®å­—)æŒæœ‰çš„å¯¹è±¡ã€‚</li><li>åæ˜  Java è™šæ‹Ÿæœºå†…éƒ¨æƒ…å†µçš„ JM XBeanã€JVM TI ä¸­æ³¨å†Œçš„å›è°ƒã€æœ¬åœ°ä»£ç ç¼“å­˜ç­‰ã€‚</li></ul><p>é™¤äº†è¿™äº›å›ºå®šçš„<code>GC Roots</code>é›†åˆä»¥å¤–ï¼Œæ ¹æ®ç”¨æˆ·æ‰€é€‰ç”¨çš„åƒåœ¾æ”¶é›†å™¨ä»¥åŠå½“å‰å›æ”¶çš„å†…å­˜åŒºåŸŸä¸åŒï¼Œè¿˜å¯ä»¥æœ‰å…¶ä»–å¯¹è±¡â€œä¸´æ—¶æ€§â€åœ°åŠ å…¥ï¼Œå…±åŒæ„æˆå®Œæ•´<code>GC Roots</code>é›†åˆã€‚</p><h3 id="å¼•ç”¨"><a class="header-anchor" href="#å¼•ç”¨">#</a>å¼•ç”¨</h3><p>åœ¨<code>JDK 1.2</code>ç‰ˆä¹‹åï¼ŒJava å¯¹å¼•ç”¨çš„æ¦‚å¿µè¿›è¡Œäº†æ‰©å……ï¼Œå°†å¼•ç”¨åˆ†ä¸º<code>å¼ºå¼•ç”¨</code>(Strongly Reference)ã€<code>è½¯å¼•ç”¨</code>(Soft Reference)ã€<code>å¼±å¼•ç”¨</code>(Weak Reference)å’Œ<code>è™šå¼•ç”¨</code>(Phantom Reference)4 ç§ï¼Œè¿™ 4 ç§å¼•ç”¨å¼ºåº¦ä¾æ¬¡é€æ¸å‡å¼±ã€‚</p><ul><li><code>å¼ºå¼•ç”¨</code>æ˜¯æœ€ä¼ ç»Ÿçš„â€œå¼•ç”¨â€çš„å®šä¹‰ï¼Œæ˜¯æŒ‡åœ¨ç¨‹åºä»£ç ä¹‹ä¸­æ™®éå­˜åœ¨çš„å¼•ç”¨èµ‹å€¼ï¼Œå³ç±»ä¼¼â€œObject obj=new Object()â€è¿™ç§å¼•ç”¨å…³ç³»ã€‚æ— è®ºä»»ä½•æƒ…å†µä¸‹ï¼Œåªè¦å¼ºå¼•ç”¨å…³ç³»è¿˜å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨å°±æ°¸è¿œä¸ä¼šå›æ”¶æ‰è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚</li><li><code>è½¯å¼•ç”¨</code>æ˜¯ç”¨æ¥æè¿°ä¸€äº›è¿˜æœ‰ç”¨ï¼Œä½†éå¿…é¡»çš„å¯¹è±¡ã€‚åªè¢«è½¯å¼•ç”¨å…³è”ç€çš„å¯¹è±¡ï¼Œåœ¨ç³»ç»Ÿå°†è¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸å‰ï¼Œä¼šæŠŠè¿™äº›å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ï¼Œå¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œæ‰ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚åœ¨ JDK 1.2 ç‰ˆä¹‹åæä¾›äº† SoftReference ç±»æ¥å®ç°è½¯å¼•ç”¨ã€‚</li><li><code>å¼±å¼•ç”¨</code>ä¹Ÿæ˜¯ç”¨æ¥æè¿°é‚£äº›éå¿…é¡»å¯¹è±¡ï¼Œä½†æ˜¯å®ƒçš„å¼ºåº¦æ¯”è½¯å¼•ç”¨æ›´å¼±ä¸€äº›ï¼Œè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†å‘ç”Ÿä¸ºæ­¢ã€‚å½“åƒåœ¾æ”¶é›†å™¨å¼€å§‹å·¥ä½œï¼Œæ— è®ºå½“å‰å†…å­˜æ˜¯å¦è¶³å¤Ÿï¼Œéƒ½ä¼šå›æ”¶æ‰åªè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡ã€‚åœ¨ JDK 1.2 ç‰ˆä¹‹åæä¾›äº† WeakReference ç±»æ¥å®ç°å¼±å¼•ç”¨ã€‚</li><li><code>è™šå¼•ç”¨</code>ä¹Ÿç§°ä¸ºâ€œå¹½çµå¼•ç”¨â€æˆ–è€…â€œå¹»å½±å¼•ç”¨â€ï¼Œå®ƒæ˜¯æœ€å¼±çš„ä¸€ç§å¼•ç”¨å…³ç³»ã€‚ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œå®Œå…¨ä¸ä¼šå¯¹å…¶ç”Ÿå­˜æ—¶é—´æ„æˆå½±å“ï¼Œä¹Ÿæ— æ³•é€šè¿‡è™šå¼•ç”¨æ¥å–å¾—ä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚ä¸ºä¸€ä¸ªå¯¹è±¡è®¾ç½®è™šå¼•ç”¨å…³è”çš„å”¯ä¸€ç›®çš„åªæ˜¯ä¸ºäº†èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚åœ¨ JDK 1.2 ç‰ˆä¹‹åæä¾› äº† Phant omReference ç±»æ¥å®ç°è™šå¼•ç”¨ã€‚</li></ul><h3 id="finalize-æ–¹æ³•"><a class="header-anchor" href="#finalize-æ–¹æ³•">#</a>finalize()æ–¹æ³•</h3><p>è¦çœŸæ­£å®£å‘Šä¸€ä¸ªå¯¹è±¡æ­»äº¡ï¼Œè‡³å°‘è¦ç»å†ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹:å¦‚æœå¯¹è±¡åœ¨è¿›è¡Œå¯è¾¾æ€§åˆ†æåå‘ç°æ²¡æœ‰ä¸<code>GC Roots</code>ç›¸è¿æ¥çš„å¼•ç”¨é“¾ï¼Œé‚£å®ƒå°†ä¼šè¢«ç¬¬ä¸€æ¬¡æ ‡è®°ï¼Œéšåè¿›è¡Œä¸€æ¬¡ç­›é€‰ï¼Œç­›é€‰çš„æ¡ä»¶æ˜¯æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ<code>finalize()</code>æ–¹æ³•ã€‚å‡å¦‚å¯¹è±¡æ²¡æœ‰è¦†ç›–<code>finalize()</code>æ–¹æ³•ï¼Œæˆ–è€…<code>finalize()</code>æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºå°†è¿™ä¸¤ç§æƒ…å†µéƒ½è§†ä¸ºâ€œæ²¡æœ‰å¿…è¦æ‰§è¡Œâ€ã€‚</p><p>å¦‚æœè¿™ä¸ªå¯¹è±¡è¢«åˆ¤å®šä¸ºç¡®æœ‰å¿…è¦æ‰§è¡Œ<code>finalize()</code>æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°†ä¼šè¢«æ”¾ç½®åœ¨ä¸€ä¸ªåä¸º<code>F-Queue</code>çš„é˜Ÿåˆ—ä¹‹ä¸­ï¼Œå¹¶åœ¨ç¨åç”±ä¸€æ¡ç”±è™šæ‹Ÿæœºè‡ªåŠ¨å»ºç«‹çš„ã€ä½è°ƒåº¦ä¼˜å…ˆçº§çš„<code>Finalizer</code>çº¿ç¨‹å»æ‰§è¡Œå®ƒä»¬çš„<code>finalize()</code>æ–¹æ³•ã€‚è¿™é‡Œæ‰€è¯´çš„â€œæ‰§è¡Œâ€æ˜¯æŒ‡è™šæ‹Ÿæœºä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•å¼€å§‹è¿è¡Œï¼Œä½†<code>å¹¶ä¸æ‰¿è¯ºä¸€å®šä¼šç­‰å¾…å®ƒè¿è¡Œç»“æŸ</code>ã€‚</p><p>ä»»ä½•ä¸€ä¸ªå¯¹è±¡çš„<code>finalize()</code>æ–¹æ³•éƒ½åªä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œå¦‚æœå¯¹è±¡é¢ä¸´ä¸‹ä¸€æ¬¡å›æ”¶ï¼Œå®ƒçš„<code>finalize()</code>æ–¹æ³•ä¸ä¼šè¢«å†æ¬¡æ‰§è¡Œã€‚</p><p><code>finalize()</code>æ–¹æ³•è¿è¡Œä»£ä»·é«˜æ˜‚ï¼Œä¸ç¡®å®šæ€§å¤§ï¼Œæ— æ³•ä¿è¯å„ä¸ªå¯¹è±¡çš„è°ƒç”¨é¡ºåºï¼Œå¦‚ä»Šå·²è¢«å®˜æ–¹æ˜ç¡®å£°æ˜ä¸º<code>ä¸æ¨èä½¿ç”¨</code>çš„è¯­æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.jvm;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ­¤ä»£ç æ¼”ç¤ºäº†ä¸¤ç‚¹:</span></span><br><span class="line"><span class="comment"> * 1.å¯¹è±¡å¯ä»¥åœ¨è¢«GCæ—¶è‡ªæˆ‘æ‹¯æ•‘ã€‚</span></span><br><span class="line"><span class="comment"> * 2.è¿™ç§è‡ªæ•‘çš„æœºä¼šåªæœ‰ä¸€æ¬¡ï¼Œå› ä¸ºä¸€ä¸ªå¯¹è±¡çš„finalize()æ–¹æ³•æœ€å¤šåªä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ * <span class="doctag">@author</span> zzm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FinalizeEscapeGC</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> FinalizeEscapeGC SAVE_HOOK = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">SAVE_HOOK = <span class="keyword">new</span> FinalizeEscapeGC();</span><br><span class="line"><span class="comment">// å¯¹è±¡ç¬¬ä¸€æ¬¡æˆåŠŸæ‹¯æ•‘è‡ªå·±</span></span><br><span class="line">SAVE_HOOK = <span class="keyword">null</span>;</span><br><span class="line">System.gc();</span><br><span class="line"><span class="comment">// å› ä¸ºFinalizeræ–¹æ³•ä¼˜å…ˆçº§å¾ˆä½ï¼Œæš‚åœ0.5ç§’ï¼Œä»¥ç­‰å¾…å®ƒ</span></span><br><span class="line">Thread.sleep(<span class="number">500</span>);</span><br><span class="line"><span class="keyword">if</span> (SAVE_HOOK != <span class="keyword">null</span>) &#123;</span><br><span class="line">SAVE_HOOK.isAlive();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">System.out.println(<span class="string">"no, i am dead :("</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸‹é¢è¿™æ®µä»£ç ä¸ä¸Šé¢çš„å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯è¿™æ¬¡è‡ªæ•‘å´å¤±è´¥äº†</span></span><br><span class="line"></span><br><span class="line">SAVE_HOOK = <span class="keyword">null</span>;</span><br><span class="line">System.gc();</span><br><span class="line"><span class="comment">// å› ä¸ºFinalizeræ–¹æ³•ä¼˜å…ˆçº§å¾ˆä½ï¼Œæš‚åœ0.5ç§’ï¼Œä»¥ç­‰å¾…å®ƒ</span></span><br><span class="line">Thread.sleep(<span class="number">500</span>);</span><br><span class="line"><span class="keyword">if</span> (SAVE_HOOK != <span class="keyword">null</span>) &#123;</span><br><span class="line">SAVE_HOOK.isAlive();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">System.out.println(<span class="string">"no, i am dead :("</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">isAlive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"yes, i am still alive :)"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"><span class="keyword">super</span>.finalize();</span><br><span class="line">System.out.println(<span class="string">"finalize method executed!"</span>);</span><br><span class="line">FinalizeEscapeGC.SAVE_HOOK = <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=63179:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/jvm/out/production/jvm xyz.onns.jvm.FinalizeEscapeGC</span><br><span class="line">finalize method executed!</span><br><span class="line">yes, i am still alive :)</span><br><span class="line">no, i am dead :(</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><h3 id="å›æ”¶æ–¹æ³•åŒº"><a class="header-anchor" href="#å›æ”¶æ–¹æ³•åŒº">#</a>å›æ”¶æ–¹æ³•åŒº</h3><p>æ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›†ä¸»è¦å›æ”¶ä¸¤éƒ¨åˆ†å†…å®¹:<code>åºŸå¼ƒçš„å¸¸é‡</code>å’Œ<code>ä¸å†ä½¿ç”¨çš„ç±»å‹</code>ã€‚</p><p>åˆ¤å®šä¸€ä¸ªç±»å‹æ˜¯å¦å±äºâ€œä¸å†è¢«ä½¿ç”¨çš„ç±»â€ï¼š</p><ul><li>è¯¥ç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç»è¢«å›æ”¶ï¼Œä¹Ÿå°±æ˜¯ Java å †ä¸­ä¸å­˜åœ¨è¯¥ç±»åŠå…¶ä»»ä½•æ´¾ç”Ÿå­ç±»çš„å®ä¾‹ã€‚</li><li>åŠ è½½è¯¥ç±»çš„ç±»åŠ è½½å™¨å·²ç»è¢«å›æ”¶ï¼Œè¿™ä¸ªæ¡ä»¶é™¤éæ˜¯ç»è¿‡ç²¾å¿ƒè®¾è®¡çš„å¯æ›¿æ¢ç±»åŠ è½½å™¨çš„åœºæ™¯ï¼Œå¦‚ OSGiã€JSP çš„é‡åŠ è½½ç­‰ï¼Œå¦åˆ™é€šå¸¸æ˜¯å¾ˆéš¾è¾¾æˆçš„ã€‚</li><li>è¯¥ç±»å¯¹åº”çš„<code>java.lang.Class</code>å¯¹è±¡æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹è¢«å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•ã€‚</li></ul><p>åœ¨å¤§é‡ä½¿ç”¨åå°„ã€åŠ¨æ€ä»£ç†ã€CGLib ç­‰å­—èŠ‚ç æ¡†æ¶ï¼ŒåŠ¨æ€ç”Ÿæˆ JSP ä»¥åŠ OSGi è¿™ç±»é¢‘ç¹è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„åœºæ™¯ä¸­ï¼Œé€šå¸¸éƒ½éœ€è¦ Java è™šæ‹Ÿæœºå…·å¤‡ç±»å‹å¸è½½çš„èƒ½åŠ›ï¼Œä»¥ä¿è¯ä¸ä¼šå¯¹æ–¹æ³•åŒºé€ æˆè¿‡å¤§çš„å†…å­˜å‹ åŠ›ã€‚</p><h3 id="åˆ†ä»£æ”¶é›†ç†è®º"><a class="header-anchor" href="#åˆ†ä»£æ”¶é›†ç†è®º">#</a>åˆ†ä»£æ”¶é›†ç†è®º</h3><ol><li><code>å¼±åˆ†ä»£å‡è¯´</code>(Weak Generational Hypothesis):ç»å¤§å¤šæ•°å¯¹è±¡éƒ½æ˜¯æœç”Ÿå¤•ç­çš„ã€‚</li><li><code>å¼ºåˆ†ä»£å‡è¯´</code>(Strong Generational Hypothesis):ç†¬è¿‡è¶Šå¤šæ¬¡åƒåœ¾æ”¶é›†è¿‡ç¨‹çš„å¯¹è±¡å°±è¶Šéš¾ä»¥æ¶ˆäº¡ã€‚</li><li><code>è·¨ä»£å¼•ç”¨å‡è¯´</code>(Intergenerational Reference Hypothesis):è·¨ä»£å¼•ç”¨ç›¸å¯¹äºåŒä»£å¼•ç”¨æ¥è¯´ä»…å æå°‘æ•°ã€‚</li></ol><p>åœ¨æ–°ç”Ÿä»£ä¸Šå»ºç«‹ä¸€ä¸ªå…¨å±€çš„æ•°æ®ç»“æ„(è¯¥ç»“æ„è¢«ç§°ä¸ºâ€œ<code>è®°å¿†é›†</code>â€ï¼Œ<code>Remembered Set</code>)ï¼Œè¿™ä¸ªç»“æ„æŠŠè€å¹´ä»£åˆ’åˆ†æˆè‹¥å¹²å°å—ï¼Œæ ‡è¯†å‡ºè€å¹´ä»£çš„å“ªä¸€å—å†…å­˜ä¼šå­˜åœ¨è·¨ä»£å¼•ç”¨ã€‚æ­¤åå½“å‘ç”Ÿ<code>Minor GC</code>æ—¶ï¼Œåªæœ‰åŒ…å«äº†è·¨ä»£å¼•ç”¨çš„å°å—å†…å­˜é‡Œçš„å¯¹è±¡æ‰ä¼šè¢«åŠ å…¥åˆ°<code>GC Roots</code>è¿›è¡Œæ‰«æã€‚</p><p><code>éƒ¨åˆ†æ”¶é›†</code>(<code>Partial GC</code>):æŒ‡ç›®æ ‡ä¸æ˜¯å®Œæ•´æ”¶é›†æ•´ä¸ª Java å †çš„åƒåœ¾æ”¶é›†ï¼Œå…¶ä¸­åˆåˆ†ä¸º:</p><ul><li><code>æ–°ç”Ÿä»£æ”¶é›†</code>(<code>Minor GC</code>/<code>Young GC</code>):æŒ‡ç›®æ ‡åªæ˜¯æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†ã€‚</li><li><code>è€å¹´ä»£æ”¶é›†</code>(<code>Major GC</code>/<code>Old GC</code>):æŒ‡ç›®æ ‡åªæ˜¯è€å¹´ä»£çš„åƒåœ¾æ”¶é›†ã€‚ç›®å‰åªæœ‰ CMS æ”¶é›†å™¨ä¼šæœ‰å•ç‹¬æ”¶é›†è€å¹´ä»£çš„è¡Œä¸ºã€‚</li><li><code>æ··åˆæ”¶é›†</code>(<code>Mixed GC</code>):æŒ‡ç›®æ ‡æ˜¯æ”¶é›†æ•´ä¸ªæ–°ç”Ÿä»£ä»¥åŠéƒ¨åˆ†è€å¹´ä»£çš„åƒåœ¾æ”¶é›†ã€‚ç›®å‰åªæœ‰ G1 æ”¶é›†å™¨ä¼šæœ‰è¿™ç§è¡Œä¸ºã€‚</li></ul><p><code>æ•´å †æ”¶é›†</code>(<code>Full GC</code>):æ”¶é›†æ•´ä¸ª Java å †å’Œæ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›†ã€‚</p><h3 id="â€œæ ‡è®°-æ¸…é™¤â€-mark-sweep-ç®—æ³•"><a class="header-anchor" href="#â€œæ ‡è®°-æ¸…é™¤â€-mark-sweep-ç®—æ³•">#</a>â€œæ ‡è®°-æ¸…é™¤â€(Mark-Sweep)ç®—æ³•</h3><p>â€œ<code>æ ‡è®°-æ¸…é™¤</code>â€(<code>Mark-Sweep</code>)ç®—æ³•ï¼šé¦–å…ˆæ ‡è®°å‡ºæ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œåœ¨æ ‡è®°å®Œæˆåï¼Œç»Ÿä¸€å›æ”¶æ‰æ‰€æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥åè¿‡æ¥ï¼Œæ ‡è®°å­˜æ´»çš„å¯¹è±¡ï¼Œç»Ÿä¸€å›æ”¶æ‰€æœ‰æœªè¢«æ ‡è®°çš„å¯¹è±¡ã€‚</p><p>ä¸»è¦ç¼ºç‚¹æœ‰ä¸¤ä¸ª:</p><ul><li>ç¬¬ä¸€ä¸ªæ˜¯æ‰§è¡Œæ•ˆç‡ä¸ç¨³å®šï¼Œå¦‚æœ Java å †ä¸­åŒ…å«å¤§é‡å¯¹è±¡ï¼Œè€Œä¸”å…¶ä¸­å¤§éƒ¨åˆ†æ˜¯éœ€è¦è¢«å›æ”¶çš„ï¼Œè¿™æ—¶å¿…é¡»è¿›è¡Œå¤§é‡æ ‡è®°å’Œæ¸…é™¤çš„åŠ¨ä½œï¼Œå¯¼è‡´æ ‡è®°å’Œæ¸…é™¤ä¸¤ä¸ªè¿‡ç¨‹çš„æ‰§è¡Œæ•ˆç‡éƒ½éšå¯¹è±¡æ•°é‡å¢é•¿è€Œé™ä½;</li><li>ç¬¬äºŒä¸ªæ˜¯å†…å­˜ç©ºé—´çš„ç¢ç‰‡åŒ–é—®é¢˜ï¼Œæ ‡è®°ã€æ¸…é™¤ä¹‹åä¼šäº§ç”Ÿå¤§é‡ä¸è¿ç»­çš„å†…å­˜ç¢ç‰‡ï¼Œç©ºé—´ç¢ç‰‡å¤ªå¤šå¯èƒ½ä¼šå¯¼è‡´å½“ä»¥ååœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­éœ€è¦åˆ†é…è¾ƒå¤§å¯¹è±¡æ—¶æ— æ³•æ‰¾åˆ°è¶³å¤Ÿçš„è¿ç»­å†…å­˜è€Œä¸å¾—ä¸æå‰è§¦å‘å¦ä¸€æ¬¡åƒåœ¾æ”¶é›†åŠ¨ä½œã€‚</li></ul><h3 id="æ ‡è®°-å¤åˆ¶ç®—æ³•"><a class="header-anchor" href="#æ ‡è®°-å¤åˆ¶ç®—æ³•">#</a>æ ‡è®°-å¤åˆ¶ç®—æ³•</h3><p>å°†å¯ç”¨å†…å­˜æŒ‰å®¹é‡åˆ’åˆ†ä¸ºå¤§å°ç›¸ç­‰çš„ä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­çš„ä¸€å—ã€‚å½“è¿™ä¸€å—çš„å†…å­˜ç”¨å®Œäº†ï¼Œå°±å°†è¿˜å­˜æ´»ç€çš„å¯¹è±¡å¤åˆ¶åˆ°å¦å¤–ä¸€å—ä¸Šé¢ï¼Œç„¶åå†æŠŠå·²ä½¿ç”¨è¿‡çš„å†…å­˜ç©ºé—´ä¸€æ¬¡æ¸…ç†æ‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> jvm </tag>
            
            <tag> jvm note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaé™æ€åŠ è½½é¡ºåº</title>
      <link href="/blog/2020/08/24/static-test/"/>
      <url>/blog/2020/08/24/static-test/</url>
      
        <content type="html"><![CDATA[<style type="text/css">.question-right:hover { color:#1CDDB1; } .question-wrong:hover { color:#FE4C40; } </style><p>ä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> StaticTest t1 = <span class="keyword">new</span> StaticTest();</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> StaticTest t2 = <span class="keyword">new</span> StaticTest();</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">System.out.println(<span class="string">"é™æ€å—"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">System.out.println(<span class="string">"æ„é€ å—"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">StaticTest t = <span class="keyword">new</span> StaticTest();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p><span class="question-wrong">A. é™æ€å— æ„é€ å— æ„é€ å— æ„é€ å—</span><br><span class="question-wrong">B. æ„é€ å— é™æ€å— æ„é€ å— æ„é€ å—</span><br><span class="question-right">C. æ„é€ å— æ„é€ å— é™æ€å— æ„é€ å—</span><br><span class="question-wrong">D. æ„é€ å— æ„é€ å— æ„é€ å— é™æ€å—</span></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=51677:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/jvm/out/production/jvm xyz.onns.nowcoder.StaticTest</span><br><span class="line">æ„é€ å—</span><br><span class="line">æ„é€ å—</span><br><span class="line">é™æ€å—</span><br><span class="line">æ„é€ å—</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 0</span><br></pre></td></tr></table></figure><ol><li>å¼€å§‹æ—¶ JVM åŠ è½½ StaticTest.classï¼Œå¯¹æ‰€æœ‰çš„é™æ€æˆå‘˜è¿›è¡Œå£°æ˜ï¼Œt1ã€t2 è¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼<code>null</code>ã€‚</li><li>åˆå› ä¸º t1ã€t2 éœ€è¦è¢«æ˜¾å¼åˆå§‹åŒ–ï¼Œæ‰€ä»¥å¯¹ t1 è¿›è¡Œæ˜¾å¼åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–ä»£ç å— â†’ æ„é€ å‡½æ•°ï¼ˆæ²¡æœ‰å°±æ˜¯è°ƒç”¨é»˜è®¤çš„æ„é€ å‡½æ•°ï¼‰ã€‚</li><li>å› ä¸ºåœ¨å¼€å§‹æ—¶å·²ç»å¯¹ static éƒ¨åˆ†è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œè™½ç„¶åªå¯¹ static å˜é‡è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œä½†åœ¨åˆå§‹åŒ– t1 æ—¶ä¹Ÿä¸ä¼šå†æ‰§è¡Œ static å—äº†ï¼Œå› ä¸º JVM è®¤ä¸ºè¿™æ˜¯ç¬¬äºŒæ¬¡åŠ è½½ç±» B äº†ï¼Œ</li><li>æ‰€ä»¥ static ä¼šåœ¨ t1 åˆå§‹åŒ–æ—¶è¢«å¿½ç•¥æ‰ï¼Œæ‰€ä»¥ç›´æ¥åˆå§‹åŒ–é static éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯æ„é€ å—éƒ¨åˆ†ï¼ˆè¾“å‡ºâ€™æ„é€ å—â€™ï¼‰æ¥ç€æ„é€ å‡½æ•°ï¼ˆæ— è¾“å‡ºï¼‰ã€‚</li><li>æ¥ç€å¯¹ t2 è¿›è¡Œåˆå§‹åŒ–è¿‡ç¨‹åŒ t1 ç›¸åŒï¼ˆè¾“å‡ºâ€™æ„é€ å—â€™ï¼‰ã€‚</li><li>æ­¤æ—¶å°±å¯¹æ‰€æœ‰çš„ static å˜é‡éƒ½å®Œæˆäº†åˆå§‹åŒ–ï¼Œæ¥ç€å°±æ‰§è¡Œ static å—éƒ¨åˆ†ï¼ˆè¾“å‡ºâ€™é™æ€å—â€™ï¼‰ã€‚</li><li>æ¥ç€æ‰§è¡Œï¼Œmain æ–¹æ³•ï¼ŒåŒæ ·ä¹Ÿï¼Œnew äº†å¯¹è±¡ï¼Œè°ƒç”¨æ„é€ å‡½æ•°è¾“å‡ºï¼ˆâ€˜æ„é€ å—â€™ï¼‰ã€‚</li></ol><h2 id="è¿›é˜¶"><a class="header-anchor" href="#è¿›é˜¶">#</a>è¿›é˜¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çˆ¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> B t1 = <span class="keyword">new</span> B();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> B t2 = <span class="keyword">new</span> B();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">        System.out.println(<span class="string">"Bç±»æ„é€ å—"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">"Bç±»é™æ€å—"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å­ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> A t1 = <span class="keyword">new</span> A();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> A t2 = <span class="keyword">new</span> A();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">        System.out.println(<span class="string">"Aç±»æ„é€ å—"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">"Aç±»é™æ€å—"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        A t = <span class="keyword">new</span> A();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.nowcoder.com/questionTerminal/ab6eb06face84c4e81ab5bc6f0f7f258" target="_blank" rel="noopener">ä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ï¼Ÿ</a></li><li><a href="https://www.cnblogs.com/leiqiannian/p/7922824.html" target="_blank" rel="noopener">JAVA ä¸­é™æ€å—ã€é™æ€å˜é‡åŠ è½½é¡ºåºè¯¦è§£</a></li><li><a href="https://blog.csdn.net/niufeihu/article/details/89216243" target="_blank" rel="noopener">Java é™æ€ä»£ç å—å’Œé™æ€å±æ€§åŠ è½½é¡ºåº</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> static </tag>
            
            <tag> nowcoder </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆä¸‰ï¼‰</title>
      <link href="/blog/2020/08/24/jvm-note-3/"/>
      <url>/blog/2020/08/24/jvm-note-3/</url>
      
        <content type="html"><![CDATA[<p>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºï¼šJVM é«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆç¬¬ 3 ç‰ˆï¼‰</p><h1 id="è‡ªåŠ¨å†…å­˜ç®¡ç†"><a class="header-anchor" href="#è‡ªåŠ¨å†…å­˜ç®¡ç†">#</a>è‡ªåŠ¨å†…å­˜ç®¡ç†</h1><h2 id="java-å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"><a class="header-anchor" href="#java-å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸">#</a>Java å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</h2><center><p><img src="//onns.xyz/blog/image/20200822-1.jpg" alt="Javaè™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº"></p><p>Java è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº</p></center><a id="more"></a><h3 id="è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º"><a class="header-anchor" href="#è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º">#</a>è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º</h3><p>ç”±äº HotSpot è™šæ‹Ÿæœºä¸­å¹¶ä¸åŒºåˆ†è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œå› æ­¤å¯¹äº HotSpot æ¥è¯´ï¼Œ<code>-Xoss</code>å‚æ•°ï¼ˆè®¾ç½®æœ¬åœ°æ–¹æ³•æ ˆå¤§å°ï¼‰è™½ç„¶å­˜åœ¨ï¼Œä½†å®é™…ä¸Šæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ï¼Œæ ˆå®¹é‡åªèƒ½ç”±<code>-Xss</code>å‚æ•°æ¥è®¾å®šã€‚</p><p>å…³äºè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œåœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æè¿°äº†ä¸¤ç§å¼‚å¸¸ï¼š</p><ol><li>å¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æœ€å¤§æ·±åº¦ï¼Œå°†æŠ›å‡º<code>StackOverflowError</code>å¼‚å¸¸ã€‚</li><li>å¦‚æœè™šæ‹Ÿæœºçš„æ ˆå†…å­˜å…è®¸åŠ¨æ€æ‰©å±•ï¼Œå½“æ‰©å±•æ ˆå®¹é‡æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜æ—¶ï¼Œå°†æŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸ã€‚</li></ol><p>Java è™šæ‹Ÿæœºè§„èŒƒã€‹æ˜ç¡®å…è®¸ Java è™šæ‹Ÿæœºå®ç°è‡ªè¡Œé€‰æ‹©æ˜¯å¦æ”¯æŒæ ˆçš„åŠ¨æ€æ‰©å±•ï¼Œè€Œ HotSpot è™šæ‹Ÿæœºçš„é€‰æ‹©æ˜¯ä¸æ”¯æŒæ‰©å±•ï¼Œæ‰€ä»¥é™¤éåœ¨åˆ›å»ºçº¿ç¨‹ç”³è¯·å†…å­˜æ—¶å°±å› æ— æ³•è·å¾—è¶³å¤Ÿå†…å­˜è€Œå‡ºç°<code>OutOfMemoryError</code>å¼‚å¸¸ï¼Œå¦åˆ™åœ¨çº¿ç¨‹è¿è¡Œæ—¶æ˜¯ä¸ä¼šå› ä¸ºæ‰©å±•è€Œå¯¼è‡´å†…å­˜æº¢å‡ºçš„ï¼Œåªä¼šå› ä¸ºæ ˆå®¹é‡æ— æ³•å®¹çº³æ–°çš„æ ˆå¸§è€Œå¯¼è‡´<code>StackOverflowError</code>å¼‚å¸¸ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.jvm;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VM Argsï¼š -Xss128k</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zzm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaVMStackSOF</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> stackLength = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">JavaVMStackSOF oom = <span class="keyword">new</span> JavaVMStackSOF();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">oom.stackLeak();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">System.out.println(<span class="string">"stack length:"</span> + oom.stackLength);</span><br><span class="line"><span class="keyword">throw</span> e;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stackLeak</span><span class="params">()</span> </span>&#123;</span><br><span class="line">stackLength++;</span><br><span class="line">stackLeak();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"D:\Program Files\java\jdk-13.0.1\bin\java.exe"</span> -Xss128k <span class="string">"-javaagent:D:\Program Files\JetBrains\IntelliJ IDEA 2020.2\lib\idea_rt.jar=57372:D:\Program Files\JetBrains\IntelliJ IDEA 2020.2\bin"</span> -Dfile.encoding=UTF-8 -classpath D:\weiyun\Code\java\jvm\out\production\jvm xyz.onns.jvm.JavaVMStackSOF</span><br><span class="line">Error: Could not create the Java Virtual Machine.</span><br><span class="line">Error: A fatal exception has occurred. Program will <span class="built_in">exit</span>.</span><br><span class="line"></span><br><span class="line">The Java thread stack size specified is too small. Specify at least 180k</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 1</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‚æ•°ä¸º<code>-Xss180k</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"D:\Program Files\java\jdk-13.0.1\bin\java.exe"</span> -Xss180k <span class="string">"-javaagent:D:\Program Files\JetBrains\IntelliJ IDEA 2020.2\lib\idea_rt.jar=57575:D:\Program Files\JetBrains\IntelliJ IDEA 2020.2\bin"</span> -Dfile.encoding=UTF-8 -classpath D:\weiyun\Code\java\jvm\out\production\jvm xyz.onns.jvm.JavaVMStackSOF</span><br><span class="line">stack length:1854</span><br><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.StackOverflowError</span><br><span class="line">at xyz.onns.jvm.JavaVMStackSOF.stackLeak(JavaVMStackSOF.java:23)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 1</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.jvm;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zzm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaVMStackSOF2</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> stackLength = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> unused1, unused2, unused3, unused4, unused5,</span><br><span class="line">unused6, unused7, unused8, unused9, unused10,</span><br><span class="line">unused11, unused12, unused13, unused14, unused15,</span><br><span class="line">unused16, unused17, unused18, unused19, unused20,</span><br><span class="line">unused21, unused22, unused23, unused24, unused25,</span><br><span class="line">unused26, unused27, unused28, unused29, unused30,</span><br><span class="line">unused31, unused32, unused33, unused34, unused35,</span><br><span class="line">unused36, unused37, unused38, unused39, unused40,</span><br><span class="line">unused41, unused42, unused43, unused44, unused45,</span><br><span class="line">unused46, unused47, unused48, unused49, unused50,</span><br><span class="line">unused51, unused52, unused53, unused54, unused55,</span><br><span class="line">unused56, unused57, unused58, unused59, unused60,</span><br><span class="line">unused61, unused62, unused63, unused64, unused65,</span><br><span class="line">unused66, unused67, unused68, unused69, unused70,</span><br><span class="line">unused71, unused72, unused73, unused74, unused75,</span><br><span class="line">unused76, unused77, unused78, unused79, unused80,</span><br><span class="line">unused81, unused82, unused83, unused84, unused85,</span><br><span class="line">unused86, unused87, unused88, unused89, unused90,</span><br><span class="line">unused91, unused92, unused93, unused94, unused95,</span><br><span class="line">unused96, unused97, unused98, unused99, unused100;</span><br><span class="line">stackLength++;</span><br><span class="line">test();</span><br><span class="line">unused1 = unused2 = unused3 = unused4 = unused5 = unused6 = unused7 = unused8 = unused9 = unused10 = unused11 = unused12 = unused13 = unused14 = unused15 = unused16 = unused17 = unused18 = unused19 = unused20 = unused21 = unused22 = unused23 = unused24 = unused25 = unused26 = unused27 = unused28 = unused29 = unused30 = unused31 = unused32 = unused33 = unused34 = unused35 = unused36 = unused37 = unused38 = unused39 = unused40 = unused41 = unused42 = unused43 = unused44 = unused45 = unused46 = unused47 = unused48 = unused49 = unused50 = unused51 = unused52 = unused53 = unused54 = unused55 = unused56 = unused57 = unused58 = unused59 = unused60 = unused61 = unused62 = unused63 = unused64 = unused65 = unused66 = unused67 = unused68 = unused69 = unused70 = unused71 = unused72 = unused73 = unused74 = unused75 = unused76 = unused77 = unused78 = unused79 = unused80 = unused81 = unused82 = unused83 = unused84 = unused85 = unused86 = unused87 = unused88 = unused89 = unused90 = unused91 = unused92 = unused93 = unused94 = unused95 = unused96 = unused97 = unused98 = unused99 = unused100 = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">test();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Error e) &#123;</span><br><span class="line">System.out.println(<span class="string">"stack length:"</span> + stackLength);</span><br><span class="line"><span class="keyword">throw</span> e;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"D:\Program Files\java\jdk-13.0.1\bin\java.exe"</span> -Xss180k <span class="string">"-javaagent:D:\Program Files\JetBrains\IntelliJ IDEA 2020.2\lib\idea_rt.jar=58065:D:\Program Files\JetBrains\IntelliJ IDEA 2020.2\bin"</span> -Dfile.encoding=UTF-8 -classpath D:\weiyun\Code\java\jvm\out\production\jvm xyz.onns.jvm.JavaVMStackSOF2</span><br><span class="line">stack length:87</span><br><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.StackOverflowError</span><br><span class="line">at xyz.onns.jvm.JavaVMStackSOF2.test(JavaVMStackSOF2.java:30)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 1</span><br></pre></td></tr></table></figure><p>æ— è®ºæ˜¯ç”±äºæ ˆå¸§å¤ªå¤§è¿˜æ˜¯è™šæ‹Ÿæœºæ ˆå®¹é‡å¤ªå°ï¼Œå½“æ–°çš„æ ˆå¸§å†…å­˜æ— æ³•åˆ†é…çš„æ—¶å€™ï¼Œ<br>HotSpot è™šæ‹ŸæœºæŠ›å‡ºçš„éƒ½æ˜¯<code>StackOverflowError</code>å¼‚å¸¸ã€‚</p><h3 id="æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º"><a class="header-anchor" href="#æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º">#</a>æ–¹æ³•åŒºå’Œè¿è¡Œæ—¶å¸¸é‡æ± æº¢å‡º</h3><p><code>String::intern()</code>æ˜¯ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»åŒ…å«ä¸€ä¸ªç­‰äºæ­¤ String å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›ä»£è¡¨æ± ä¸­è¿™ä¸ªå­—ç¬¦ä¸²çš„ String å¯¹è±¡çš„å¼•ç”¨;å¦åˆ™ï¼Œä¼šå°†æ­¤ String å¯¹è±¡åŒ…å«çš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å¸¸é‡æ± ä¸­ï¼Œå¹¶ä¸”è¿”å›æ­¤ String å¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>åœ¨ JDK 6 æˆ–æ›´æ—©ä¹‹å‰çš„ HotSpot è™šæ‹Ÿæœºä¸­ï¼Œå¸¸é‡æ± éƒ½æ˜¯åˆ†é…åœ¨æ°¸ä¹…ä»£ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>-XX:PermSize</code>å’Œ<code>-XX:MaxPermSize</code>é™åˆ¶æ°¸ä¹…ä»£çš„å¤§å°ï¼Œå³å¯é—´æ¥é™åˆ¶å…¶ä¸­å¸¸é‡æ± çš„å®¹é‡ã€‚</p><p>è‡ª JDK 7 èµ·ï¼ŒåŸæœ¬å­˜æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± è¢«ç§»è‡³ Java å †ä¹‹ä¸­ã€‚</p><p>ä¸ºäº†è®©ä½¿ç”¨è€…æœ‰é¢„é˜²å®é™…åº”ç”¨é‡Œå‡ºç°ç±»ä¼¼äºâ€œè¿«ä½¿è™šæ‹Ÿæœºäº§ç”Ÿæ–¹æ³•åŒºçš„æº¢å‡ºå¼‚å¸¸â€çš„ç ´åæ€§çš„æ“ä½œï¼ŒHotSpot è¿˜æ˜¯æä¾›äº†ä¸€äº›å‚æ•°ä½œä¸ºå…ƒç©ºé—´çš„é˜²å¾¡æªæ–½ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p><ul><li><code>-XX:MaxMetaspaceSize</code>:è®¾ç½®å…ƒç©ºé—´æœ€å¤§å€¼ï¼Œé»˜è®¤æ˜¯-1ï¼Œå³ä¸é™åˆ¶ï¼Œæˆ–è€…è¯´åªå—é™äºæœ¬åœ°å†…å­˜å¤§å°ã€‚</li><li><code>-XX:MetaspaceSize</code>:æŒ‡å®šå…ƒç©ºé—´çš„åˆå§‹ç©ºé—´å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œè¾¾åˆ°è¯¥å€¼å°±ä¼šè§¦å‘åƒåœ¾æ”¶é›†è¿›è¡Œç±»å‹å¸è½½ï¼ŒåŒæ—¶æ”¶é›†å™¨ä¼šå¯¹è¯¥å€¼è¿›è¡Œè°ƒæ•´:å¦‚æœé‡Šæ”¾äº†å¤§é‡çš„ç©ºé—´ï¼Œå°±é€‚å½“é™ä½è¯¥å€¼;å¦‚æœé‡Šæ”¾äº†å¾ˆå°‘çš„ç©ºé—´ï¼Œé‚£ä¹ˆåœ¨ä¸è¶…è¿‡<code>-XX:MaxMetaspaceSize</code>(å¦‚æœè®¾ç½®äº†çš„è¯)çš„æƒ…å†µä¸‹ï¼Œé€‚å½“æé«˜è¯¥å€¼ã€‚</li><li><code>-XX:MinMetaspaceFreeRatio</code>:ä½œç”¨æ˜¯åœ¨åƒåœ¾æ”¶é›†ä¹‹åæ§åˆ¶æœ€å°çš„å…ƒç©ºé—´å‰©ä½™å®¹é‡çš„ç™¾åˆ†æ¯”ï¼Œå¯å‡å°‘å› ä¸ºå…ƒç©ºé—´ä¸è¶³å¯¼è‡´çš„åƒåœ¾æ”¶é›†çš„é¢‘ç‡ã€‚ç±»ä¼¼çš„è¿˜æœ‰<code>-XX:Max-MetaspaceFreeRatio</code>ï¼Œç”¨äºæ§åˆ¶æœ€å¤§çš„å…ƒç©ºé—´å‰©ä½™å®¹é‡çš„ç™¾åˆ†æ¯”ã€‚</li></ul><h3 id="æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º"><a class="header-anchor" href="#æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º">#</a>æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º</h3><p><code>ç›´æ¥å†…å­˜</code>(Direct Memory)çš„å®¹é‡å¤§å°å¯é€šè¿‡<code>-XX:MaxDirectMemorySize</code>å‚æ•°æ¥æŒ‡å®šï¼Œå¦‚æœä¸å»æŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ Java å †æœ€å¤§å€¼(ç”±<code>-Xmx</code>æŒ‡å®š)ä¸€è‡´ã€‚</p><p>ç”±ç›´æ¥å†…å­˜å¯¼è‡´çš„å†…å­˜æº¢å‡ºï¼Œä¸€ä¸ªæ˜æ˜¾çš„ç‰¹å¾æ˜¯åœ¨<code>Heap Dump</code>æ–‡ä»¶ä¸­ä¸ä¼šçœ‹è§æœ‰ä»€ä¹ˆæ˜æ˜¾çš„å¼‚å¸¸æƒ…å†µï¼Œå¦‚æœè¯»è€…å‘ç°å†…å­˜æº¢å‡ºä¹‹åäº§ç”Ÿçš„ Dump æ–‡ä»¶å¾ˆå°ï¼Œè€Œç¨‹åºä¸­åˆç›´æ¥æˆ–é—´æ¥ä½¿ç”¨äº† DirectMemory(å…¸å‹çš„é—´æ¥ä½¿ç”¨å°±æ˜¯ NIO)ï¼Œé‚£å°±å¯ä»¥è€ƒè™‘é‡ç‚¹æ£€æŸ¥ä¸€ä¸‹ç›´æ¥å†…å­˜æ–¹é¢çš„åŸå› äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.jvm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sun.misc.Unsafe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * VM Args:-Xmx20M -XX:MaxDirectMemorySize=10M</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zzm</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirectMemoryOOM</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> _1MB = <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">Field unsafeField = Unsafe.class.getDeclaredFields()[0];</span><br><span class="line">unsafeField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">Unsafe unsafe = (Unsafe) unsafeField.get(<span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">System.out.println(i++);</span><br><span class="line">unsafe.allocateMemory(_1MB);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆå¥‡æ€ªï¼Œåœ¨ IDEA è¿è¡Œè¿™æ®µä»£ç çš„æ—¶å€™æˆ‘ä¸ä¼šæœ‰å¼‚å¸¸æŠ›å‡ºâ€¦æˆ‘çš„ Java ç‰ˆæœ¬æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ java --version</span><br><span class="line">java 13.0.2 2020-01-14</span><br><span class="line">Java(TM) SE Runtime Environment (build 13.0.2+8)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 13.0.2+8, mixed mode, sharing)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> jvm </tag>
            
            <tag> jvm note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆäºŒï¼‰</title>
      <link href="/blog/2020/08/23/jvm-note-2/"/>
      <url>/blog/2020/08/23/jvm-note-2/</url>
      
        <content type="html"><![CDATA[<p>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºï¼šJVM é«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆç¬¬ 3 ç‰ˆï¼‰</p><h1 id="è‡ªåŠ¨å†…å­˜ç®¡ç†"><a class="header-anchor" href="#è‡ªåŠ¨å†…å­˜ç®¡ç†">#</a>è‡ªåŠ¨å†…å­˜ç®¡ç†</h1><h2 id="java-å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"><a class="header-anchor" href="#java-å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸">#</a>Java å†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</h2><center><p><img src="//onns.xyz/blog/image/20200822-1.jpg" alt="Javaè™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº"></p><p>Java è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº</p></center><a id="more"></a><h3 id="java-å †"><a class="header-anchor" href="#java-å †">#</a>Java å †</h3><p>å¯¹äº Java åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œ<code>Javaå †</code>(Java Heap)æ˜¯è™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­æœ€å¤§çš„ä¸€å—ã€‚</p><p>Java å †æ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œåœ¨è™šæ‹Ÿæœºå¯åŠ¨æ—¶åˆ›å»ºã€‚æ­¤å†…å­˜åŒºåŸŸçš„å”¯ä¸€ç›®çš„å°±æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ï¼ŒJava é‡Œâ€œå‡ ä¹â€æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚</p><p>å¦‚æœä»åˆ†é…å†…å­˜çš„è§’åº¦çœ‹ï¼Œæ‰€æœ‰çº¿ç¨‹å…±äº«çš„ Java å †ä¸­å¯ä»¥åˆ’åˆ†å‡ºå¤šä¸ª<code>çº¿ç¨‹ç§æœ‰</code>çš„<code>åˆ†é…ç¼“å†²åŒº</code>(Thread Local Allocation Bufferï¼ŒTLAB)ï¼Œä»¥æå‡å¯¹è±¡åˆ†é…æ—¶çš„æ•ˆç‡ã€‚</p><p>Java å †å¯ä»¥å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œä½†åœ¨é€»è¾‘ä¸Šå®ƒåº”è¯¥è¢«è§†ä¸ºè¿ç»­çš„ï¼Œè¿™ç‚¹å°±åƒæˆ‘ä»¬ç”¨ç£ç›˜ç©ºé—´å»å­˜å‚¨æ–‡ä»¶ä¸€æ ·ï¼Œå¹¶ä¸è¦æ±‚æ¯ä¸ªæ–‡ä»¶éƒ½è¿ç»­å­˜æ”¾ã€‚ä½†å¯¹äºå¤§å¯¹è±¡(å…¸å‹çš„å¦‚æ•°ç»„å¯¹è±¡)ï¼Œå¤šæ•°è™šæ‹Ÿæœºå®ç°å‡ºäºå®ç°ç®€å•ã€å­˜å‚¨é«˜æ•ˆçš„è€ƒè™‘ï¼Œå¾ˆå¯èƒ½ä¼šè¦æ±‚è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚</p><p>Java å †æ—¢å¯ä»¥è¢«å®ç°æˆå›ºå®šå¤§å°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯æ‰©å±•çš„ï¼Œä¸è¿‡å½“å‰ä¸»æµçš„ Java è™šæ‹Ÿæœºéƒ½æ˜¯æŒ‰ç…§å¯æ‰©å±•æ¥å®ç°çš„(é€šè¿‡å‚æ•°-Xmx å’Œ-Xms è®¾å®š)ã€‚å¦‚æœåœ¨ Java å †ä¸­æ²¡æœ‰å†…å­˜å®Œæˆå®ä¾‹åˆ†é…ï¼Œå¹¶ä¸”å †ä¹Ÿæ— æ³•å†æ‰©å±•æ—¶ï¼ŒJava è™šæ‹Ÿæœºå°†ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</p><h3 id="æ–¹æ³•åŒº"><a class="header-anchor" href="#æ–¹æ³•åŒº">#</a>æ–¹æ³•åŒº</h3><p><code>æ–¹æ³•åŒº</code>(Method Area)ä¸ Java å †ä¸€æ ·ï¼Œæ˜¯å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œå®ƒç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰æ•°æ®ã€‚è™½ç„¶ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æŠŠæ–¹æ³•åŒºæè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†ï¼Œä½†æ˜¯å®ƒå´æœ‰ä¸€ä¸ªåˆ«åå«ä½œâ€œ<code>éå †</code>â€(Non-Heap)ï¼Œç›®çš„æ˜¯ä¸ Java å †åŒºåˆ†å¼€æ¥ã€‚</p><p>â€œ<code>æ°¸ä¹…ä»£</code>â€(Permanent Generation)ï¼šè€ƒè™‘åˆ° HotSpot æœªæ¥çš„å‘å±•ï¼Œåœ¨ JDK 6 çš„æ—¶å€™ HotSpot å¼€å‘å›¢é˜Ÿå°±æœ‰æ”¾å¼ƒæ°¸ä¹…ä»£ï¼Œé€æ­¥æ”¹ä¸ºé‡‡ç”¨<code>æœ¬åœ°å†…å­˜</code>(Native Memory)æ¥å®ç°æ–¹æ³•åŒºçš„è®¡åˆ’äº†ï¼Œåˆ°äº† JDK 7 çš„ HotSpotï¼Œå·²ç»æŠŠåŸæœ¬æ”¾åœ¨æ°¸ä¹…ä»£çš„å­—ç¬¦ä¸²å¸¸é‡æ± ã€é™æ€å˜é‡ç­‰ç§»å‡ºã€‚è€Œåˆ°äº† JDK 8ï¼Œç»ˆäºå®Œå…¨åºŸå¼ƒäº†æ°¸ä¹…ä»£çš„æ¦‚å¿µï¼Œæ”¹ç”¨ä¸ JRockitã€J9 ä¸€æ ·åœ¨æœ¬åœ°å†…å­˜ä¸­å®ç°çš„<code>å…ƒç©ºé—´</code>(Meta-space)æ¥ä»£æ›¿ï¼ŒæŠŠ JDK 7 ä¸­æ°¸ä¹…ä»£è¿˜å‰©ä½™çš„å†…å®¹(ä¸»è¦æ˜¯ç±»å‹ä¿¡æ¯)å…¨éƒ¨ç§»åˆ°å…ƒç©ºé—´ä¸­ã€‚</p><p>Java è™šæ‹Ÿæœºè§„èŒƒã€‹å¯¹æ–¹æ³•åŒºçš„çº¦æŸæ˜¯éå¸¸å®½æ¾çš„ï¼Œé™¤äº†å’Œ Java å †ä¸€æ ·ä¸éœ€è¦è¿ç»­çš„å†…å­˜å’Œå¯ä»¥é€‰æ‹©å›ºå®šå¤§å°æˆ–è€…å¯æ‰©å±•å¤–ï¼Œç”šè‡³è¿˜å¯ä»¥é€‰æ‹©ä¸å®ç°åƒåœ¾æ”¶é›†ã€‚è¿™åŒºåŸŸçš„å†…å­˜å›æ”¶ç›®æ ‡ä¸»è¦æ˜¯<code>é’ˆå¯¹å¸¸é‡æ± çš„å›æ”¶</code>å’Œ<code>å¯¹ç±»å‹çš„å¸è½½</code>ï¼Œä¸€èˆ¬æ¥è¯´è¿™ä¸ªåŒºåŸŸçš„å›æ”¶æ•ˆæœæ¯”è¾ƒéš¾ä»¤äººæ»¡æ„ï¼Œå°¤å…¶æ˜¯ç±»å‹çš„å¸è½½ï¼Œæ¡ä»¶ç›¸å½“è‹›åˆ»ï¼Œä½†æ˜¯è¿™éƒ¨åˆ†åŒºåŸŸçš„å›æ”¶æœ‰æ—¶åˆç¡®å®æ˜¯å¿…è¦çš„ã€‚</p><p>æ ¹æ®ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹çš„è§„å®šï¼Œå¦‚æœæ–¹æ³•åŒºæ— æ³•æ»¡è¶³æ–°çš„å†…å­˜åˆ†é…éœ€æ±‚æ—¶ï¼Œå°†æŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</p><h3 id="è¿è¡Œæ—¶å¸¸é‡æ± "><a class="header-anchor" href="#è¿è¡Œæ—¶å¸¸é‡æ± ">#</a>è¿è¡Œæ—¶å¸¸é‡æ± </h3><p><code>è¿è¡Œæ—¶å¸¸é‡æ± </code>(Runtime Constant Pool)æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ã€‚Class æ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ä¿¡æ¯å¤–ï¼Œè¿˜æœ‰ä¸€é¡¹ä¿¡æ¯æ˜¯å¸¸é‡æ± è¡¨(Constant Pool Table)ï¼Œç”¨äºå­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡ä¸ç¬¦å·å¼•ç”¨ï¼Œè¿™éƒ¨åˆ†å†…å®¹å°†åœ¨ç±»åŠ è½½åå­˜æ”¾åˆ°æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œé™¤äº†ä¿å­˜ Class æ–‡ä»¶ä¸­æè¿°çš„ç¬¦å·å¼•ç”¨å¤–ï¼Œè¿˜ä¼šæŠŠç”±ç¬¦å·å¼•ç”¨ç¿»è¯‘å‡ºæ¥çš„ç›´æ¥å¼•ç”¨ä¹Ÿå­˜å‚¨åœ¨è¿è¡Œæ—¶å¸¸é‡æ± ä¸­ã€‚</p><p>è¿è¡Œæ—¶å¸¸é‡æ± ç›¸å¯¹äº Class æ–‡ä»¶å¸¸é‡æ± çš„å¦å¤–ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯å…·å¤‡åŠ¨æ€æ€§ï¼ŒJava è¯­è¨€å¹¶ä¸è¦æ±‚å¸¸é‡ä¸€å®šåªæœ‰ç¼–è¯‘æœŸæ‰èƒ½äº§ç”Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¹¶éé¢„ç½®å…¥ Class æ–‡ä»¶ä¸­å¸¸é‡æ± çš„å†…å®¹æ‰èƒ½è¿›å…¥æ–¹æ³•åŒºè¿è¡Œæ—¶å¸¸é‡æ± ï¼Œè¿è¡ŒæœŸé—´ä¹Ÿå¯ä»¥å°†æ–°çš„å¸¸é‡æ”¾å…¥æ± ä¸­ï¼Œè¿™ç§ç‰¹æ€§è¢«å¼€å‘äººå‘˜åˆ©ç”¨å¾—æ¯”è¾ƒå¤šçš„ä¾¿æ˜¯ String ç±»çš„ intern()æ–¹æ³•ã€‚</p><p>è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†ï¼Œå—åˆ°æ–¹æ³•åŒºå†…å­˜çš„é™åˆ¶ï¼Œå½“å¸¸é‡æ± æ— æ³•å†ç”³è¯·åˆ°å†…å­˜æ—¶ä¼šæŠ›å‡º OutOfMemoryError å¼‚å¸¸ã€‚</p><h3 id="ç›´æ¥å†…å­˜"><a class="header-anchor" href="#ç›´æ¥å†…å­˜">#</a>ç›´æ¥å†…å­˜</h3><p>åœ¨ JDK 1.4 ä¸­æ–°åŠ å…¥äº† NIO(New Input/Output)ç±»ï¼Œå¼•å…¥äº†ä¸€ç§åŸºäºé€šé“(Channel)ä¸ç¼“å†²åŒº(Buffer)çš„ I/O æ–¹å¼ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ Native å‡½æ•°åº“ç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå­˜å‚¨åœ¨ Java å †é‡Œé¢çš„ DirectByteBuffer å¯¹è±¡ä½œä¸ºè¿™å—å†…å­˜çš„å¼•ç”¨è¿›è¡Œæ“ä½œã€‚è¿™æ ·èƒ½åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œå› ä¸ºé¿å…äº†åœ¨ Java å †å’Œ Native å †ä¸­æ¥å›å¤åˆ¶æ•°æ®ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h3 id="å¯¹è±¡çš„åˆ›å»º"><a class="header-anchor" href="#å¯¹è±¡çš„åˆ›å»º">#</a>å¯¹è±¡çš„åˆ›å»º</h3><p>å½“ Java è™šæ‹Ÿæœºé‡åˆ°ä¸€æ¡å­—èŠ‚ç  new æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆå°†å»æ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°æ˜¯å¦èƒ½åœ¨å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²è¢«åŠ è½½ã€è§£æå’Œåˆå§‹åŒ–è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£å¿…é¡»å…ˆæ‰§è¡Œç›¸åº”çš„ç±»åŠ è½½è¿‡ç¨‹ã€‚</p><p>åœ¨ç±»åŠ è½½æ£€æŸ¥é€šè¿‡åï¼Œæ¥ä¸‹æ¥è™šæ‹Ÿæœºå°†ä¸ºæ–°ç”Ÿå¯¹è±¡åˆ†é…å†…å­˜ã€‚å¯¹è±¡æ‰€éœ€å†…å­˜çš„å¤§å°åœ¨ç±»åŠ è½½å®Œæˆåä¾¿å¯å®Œå…¨ç¡®å®šï¼Œä¸ºå¯¹è±¡åˆ†é…ç©ºé—´çš„ä»»åŠ¡å®é™…ä¸Šä¾¿ç­‰åŒäºæŠŠä¸€å—ç¡®å®šå¤§å°çš„å†…å­˜å—ä» Java å †ä¸­åˆ’åˆ†å‡ºæ¥ã€‚</p><p>å‡è®¾ Java å †ä¸­å†…å­˜æ˜¯ç»å¯¹è§„æ•´çš„ï¼Œæ‰€æœ‰è¢«ä½¿ç”¨è¿‡çš„å†…å­˜éƒ½è¢«æ”¾åœ¨ä¸€è¾¹ï¼Œç©ºé—²çš„å†…å­˜è¢«æ”¾åœ¨å¦ä¸€è¾¹ï¼Œä¸­é—´æ”¾ç€ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºåˆ†ç•Œç‚¹çš„æŒ‡ç¤ºå™¨ï¼Œé‚£æ‰€åˆ†é…å†…å­˜å°±ä»…ä»…æ˜¯æŠŠé‚£ä¸ªæŒ‡é’ˆå‘ç©ºé—²ç©ºé—´æ–¹å‘æŒªåŠ¨ä¸€æ®µä¸å¯¹è±¡å¤§å°ç›¸ç­‰çš„è·ç¦»ï¼Œè¿™ç§åˆ†é…æ–¹å¼ç§°ä¸ºâ€œ<code>æŒ‡é’ˆç¢°æ’</code>â€(Bump The Pointer)ã€‚</p><p>ä½†å¦‚æœ Java å †ä¸­çš„å†…å­˜å¹¶ä¸æ˜¯è§„æ•´çš„ï¼Œå·²è¢«ä½¿ç”¨çš„å†…å­˜å’Œç©ºé—²çš„å†…å­˜ç›¸äº’äº¤é”™åœ¨ä¸€èµ·ï¼Œé‚£å°±æ²¡æœ‰åŠæ³•ç®€å•åœ°è¿›è¡ŒæŒ‡é’ˆç¢°æ’äº†ï¼Œè™šæ‹Ÿæœºå°±å¿…é¡»ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œè®°å½•ä¸Šå“ªäº›å†…å­˜å—æ˜¯å¯ç”¨çš„ï¼Œåœ¨åˆ†é…çš„æ—¶å€™ä»åˆ—è¡¨ä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´åˆ’åˆ†ç»™å¯¹è±¡å®ä¾‹ï¼Œå¹¶æ›´æ–°åˆ—è¡¨ä¸Šçš„è®°å½•ï¼Œè¿™ç§åˆ†é…æ–¹å¼ç§°ä¸ºâ€œ<code>ç©ºé—²åˆ—è¡¨</code>â€(Free List)ã€‚</p><p>é€‰æ‹©å“ªç§åˆ†é…æ–¹å¼ç”± Java å †æ˜¯å¦è§„æ•´å†³å®šï¼Œè€Œ Java å †æ˜¯å¦è§„æ•´åˆç”±æ‰€é‡‡ç”¨çš„åƒåœ¾æ”¶é›†å™¨æ˜¯å¦å¸¦æœ‰ç©ºé—´å‹ç¼©æ•´ç†(Compact)çš„èƒ½åŠ›å†³å®šã€‚å› æ­¤ï¼Œå½“ä½¿ç”¨ Serialã€ParNew ç­‰å¸¦å‹ç¼©æ•´ç†è¿‡ç¨‹çš„æ”¶é›†å™¨æ—¶ï¼Œç³»ç»Ÿé‡‡ç”¨çš„åˆ†é…ç®—æ³•æ˜¯æŒ‡é’ˆç¢°æ’ï¼Œæ—¢ç®€å•åˆé«˜æ•ˆï¼›è€Œå½“ä½¿ç”¨ CMS è¿™ç§åŸºäºæ¸…é™¤(Sweep)ç®—æ³•çš„æ”¶é›†å™¨æ—¶ï¼Œç†è®ºä¸Šå°±åªèƒ½é‡‡ç”¨è¾ƒä¸ºå¤æ‚çš„ç©ºé—²åˆ—è¡¨æ¥åˆ†é…å†…å­˜ã€‚</p><p>ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜ï¼šå¯¹è±¡åˆ›å»ºåœ¨è™šæ‹Ÿæœºä¸­æ˜¯éå¸¸é¢‘ç¹çš„è¡Œä¸ºï¼Œå³ä½¿ä»…ä»…ä¿®æ”¹ä¸€ä¸ªæŒ‡é’ˆæ‰€æŒ‡å‘çš„ä½ç½®ï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹ä¹Ÿå¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯èƒ½å‡ºç°æ­£åœ¨ç»™å¯¹è±¡ A åˆ†é…å†…å­˜ï¼ŒæŒ‡é’ˆè¿˜æ²¡æ¥å¾—åŠä¿®æ”¹ï¼Œå¯¹è±¡ B åˆåŒæ—¶ä½¿ç”¨äº†åŸæ¥çš„æŒ‡é’ˆæ¥åˆ†é…å†…å­˜çš„æƒ…å†µã€‚</p><p>ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼šä¸€ç§æ˜¯å¯¹åˆ†é…å†…å­˜ç©ºé—´çš„åŠ¨ä½œè¿›è¡ŒåŒæ­¥å¤„ç†â€”â€”å®é™…ä¸Šè™šæ‹Ÿæœºæ˜¯é‡‡ç”¨ CAS é…ä¸Šå¤±è´¥é‡è¯•çš„æ–¹å¼ä¿è¯æ›´æ–°æ“ä½œçš„åŸå­æ€§ï¼›å¦å¤–ä¸€ç§æ˜¯æŠŠå†…å­˜åˆ†é…çš„åŠ¨ä½œæŒ‰ç…§çº¿ç¨‹åˆ’åˆ†åœ¨ä¸åŒçš„ç©ºé—´ä¹‹ä¸­è¿›è¡Œï¼Œå³æ¯ä¸ªçº¿ç¨‹åœ¨ Java å †ä¸­é¢„å…ˆåˆ†é…ä¸€å°å—å†…å­˜ï¼Œç§°ä¸º<code>æœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²</code>(Thread Local Allocation Bufferï¼ŒTLAB)ï¼Œå“ªä¸ªçº¿ç¨‹è¦åˆ†é…å†…å­˜ï¼Œå°±åœ¨å“ªä¸ªçº¿ç¨‹çš„æœ¬åœ°ç¼“å†²åŒºä¸­åˆ†é…ï¼Œåªæœ‰æœ¬åœ°ç¼“å†²åŒºç”¨å®Œäº†ï¼Œåˆ†é…æ–°çš„ç¼“å­˜åŒºæ—¶æ‰éœ€è¦åŒæ­¥é”å®šã€‚è™šæ‹Ÿæœºæ˜¯å¦ä½¿ç”¨ TLABï¼Œå¯ä»¥é€šè¿‡<code>-XX:+/-UseTLAB</code>å‚æ•°æ¥è®¾å®šã€‚</p><p>å†…å­˜åˆ†é…å®Œæˆä¹‹åï¼Œè™šæ‹Ÿæœºå¿…é¡»å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´(ä½†ä¸åŒ…æ‹¬å¯¹è±¡å¤´)éƒ½åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼Œå¦‚æœä½¿ç”¨äº† TLAB çš„è¯ï¼Œè¿™ä¸€é¡¹å·¥ä½œä¹Ÿå¯ä»¥æå‰è‡³ TLAB åˆ†é…æ—¶é¡ºä¾¿è¿›è¡Œã€‚è¿™æ­¥æ“ä½œä¿è¯äº†å¯¹è±¡çš„å®ä¾‹å­—æ®µåœ¨ Java ä»£ç ä¸­å¯ä»¥ä¸èµ‹åˆå§‹å€¼å°±ç›´æ¥ä½¿ç”¨ï¼Œä½¿ç¨‹åºèƒ½è®¿é—®åˆ°è¿™äº›å­—æ®µçš„æ•°æ®ç±»å‹æ‰€å¯¹åº”çš„é›¶å€¼ã€‚</p><p>æ¥ä¸‹æ¥ï¼ŒJava è™šæ‹Ÿæœºè¿˜è¦å¯¹å¯¹è±¡è¿›è¡Œå¿…è¦çš„è®¾ç½®ï¼Œä¾‹å¦‚è¿™ä¸ªå¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€å¦‚ä½•æ‰èƒ½æ‰¾åˆ°ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ã€å¯¹è±¡çš„å“ˆå¸Œç (å®é™…ä¸Šå¯¹è±¡çš„å“ˆå¸Œç ä¼šå»¶ååˆ°çœŸæ­£è°ƒç”¨<code>Object::hashCode()</code>æ–¹æ³•æ—¶æ‰è®¡ç®—)ã€å¯¹è±¡çš„ GC åˆ†ä»£å¹´é¾„ç­‰ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯å­˜æ”¾åœ¨å¯¹è±¡çš„<code>å¯¹è±¡å¤´</code>(Object Header)ä¹‹ä¸­ã€‚æ ¹æ®è™šæ‹Ÿæœºå½“å‰è¿è¡ŒçŠ¶æ€çš„ä¸åŒï¼Œå¦‚æ˜¯å¦å¯ç”¨åå‘é”ç­‰ï¼Œå¯¹è±¡å¤´ä¼šæœ‰ä¸åŒçš„è®¾ç½®æ–¹å¼ã€‚</p><p>åœ¨ä¸Šé¢å·¥ä½œéƒ½å®Œæˆä¹‹åï¼Œä»è™šæ‹Ÿæœºçš„è§†è§’æ¥çœ‹ï¼Œä¸€ä¸ªæ–°çš„å¯¹è±¡å·²ç»äº§ç”Ÿäº†ã€‚ä½†æ˜¯ä» Java ç¨‹åºçš„è§†è§’çœ‹æ¥ï¼Œå¯¹è±¡åˆ›å»ºæ‰åˆšåˆšå¼€å§‹â€”â€”æ„é€ å‡½æ•°ï¼Œå³ Class æ–‡ä»¶ä¸­çš„<code>&lt;init&gt;()</code>æ–¹æ³•è¿˜æ²¡æœ‰æ‰§è¡Œï¼Œæ‰€æœ‰çš„å­—æ®µéƒ½ä¸ºé»˜è®¤çš„é›¶å€¼ï¼Œå¯¹è±¡éœ€è¦çš„å…¶ä»–èµ„æºå’ŒçŠ¶æ€ä¿¡æ¯ä¹Ÿè¿˜æ²¡æœ‰æŒ‰ç…§é¢„å®šçš„æ„å›¾æ„é€ å¥½ã€‚ä¸€èˆ¬æ¥è¯´(ç”±å­—èŠ‚ç æµä¸­ new æŒ‡ä»¤åé¢æ˜¯å¦è·Ÿéš<code>invokespecialæŒ‡ä»¤</code>æ‰€å†³å®šï¼ŒJava ç¼–è¯‘å™¨ä¼šåœ¨é‡åˆ° new å…³é”®å­—çš„åœ°æ–¹åŒæ—¶ç”Ÿæˆè¿™ä¸¤æ¡å­—èŠ‚ç æŒ‡ä»¤ï¼Œä½†å¦‚æœç›´æ¥é€šè¿‡å…¶ä»–æ–¹å¼äº§ç”Ÿçš„åˆ™ä¸ä¸€å®šå¦‚æ­¤)ï¼Œnew æŒ‡ä»¤ä¹‹åä¼šæ¥ç€æ‰§è¡Œ<code>&lt;init&gt;()</code>æ–¹æ³•ï¼ŒæŒ‰ç…§ç¨‹åºå‘˜çš„æ„æ„¿å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Œè¿™æ ·ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„å¯¹è±¡æ‰ç®—å®Œå…¨è¢«æ„é€ å‡ºæ¥ã€‚</p><h3 id="å¯¹è±¡çš„å†…å­˜å¸ƒå±€"><a class="header-anchor" href="#å¯¹è±¡çš„å†…å­˜å¸ƒå±€">#</a>å¯¹è±¡çš„å†…å­˜å¸ƒå±€</h3><p>åœ¨ HotSpot è™šæ‹Ÿæœºé‡Œï¼Œå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å­˜å‚¨å¸ƒå±€å¯ä»¥åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†:<code>å¯¹è±¡å¤´</code>(Header)ã€<code>å®ä¾‹æ•°æ®</code>(Instance Data)å’Œ<code>å¯¹é½å¡«å……</code>(Padding)ã€‚</p><p>HotSpot è™šæ‹Ÿæœºå¯¹è±¡çš„å¯¹è±¡å¤´éƒ¨åˆ†åŒ…æ‹¬ä¸¤ç±»ä¿¡æ¯ã€‚ç¬¬ä¸€ç±»æ˜¯ç”¨äºå­˜å‚¨å¯¹è±¡è‡ªèº«çš„è¿è¡Œæ—¶æ•°æ®ï¼Œå¦‚å“ˆå¸Œç (HashCode)ã€GC åˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡å¿—ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çº¿ç¨‹ IDã€åå‘æ—¶é—´æˆ³ç­‰ï¼Œè¿™éƒ¨åˆ†æ•°æ®çš„é•¿åº¦åœ¨ 32 ä½å’Œ 64 ä½çš„è™šæ‹Ÿæœº(æœªå¼€å¯å‹ç¼©æŒ‡é’ˆ)ä¸­åˆ†åˆ«ä¸º 32 ä¸ªæ¯”ç‰¹å’Œ 64 ä¸ªæ¯”ç‰¹ï¼Œå®˜æ–¹ç§°å®ƒä¸ºâ€œ<code>Mark Word</code>â€ã€‚</p><p>è€ƒè™‘åˆ°è™šæ‹Ÿæœºçš„ç©ºé—´æ•ˆç‡ï¼Œ<code>Mark Word</code>è¢«è®¾è®¡æˆä¸€ä¸ªæœ‰ç€åŠ¨æ€å®šä¹‰çš„æ•°æ®ç»“æ„ï¼Œä»¥ä¾¿åœ¨æå°çš„ç©ºé—´å†…å­˜å‚¨å°½é‡å¤šçš„æ•°æ®ï¼Œæ ¹æ®å¯¹è±¡çš„çŠ¶æ€å¤ç”¨è‡ªå·±çš„å­˜å‚¨ç©ºé—´ã€‚ä¾‹å¦‚åœ¨ 32 ä½çš„ HotSpot è™šæ‹Ÿæœºä¸­ï¼Œå¦‚å¯¹è±¡æœªè¢«åŒæ­¥é”é”å®šçš„çŠ¶æ€ä¸‹ï¼Œ<code>Mark Word</code>çš„ 32 ä¸ªæ¯”ç‰¹å­˜å‚¨ç©ºé—´ä¸­çš„ 25 ä¸ªæ¯”ç‰¹ç”¨äºå­˜å‚¨å¯¹è±¡å“ˆå¸Œç ï¼Œ4 ä¸ªæ¯”ç‰¹ç”¨äºå­˜å‚¨å¯¹è±¡åˆ†ä»£å¹´é¾„ï¼Œ2 ä¸ªæ¯”ç‰¹ç”¨äºå­˜å‚¨é”æ ‡å¿—ä½ï¼Œ1 ä¸ªæ¯”ç‰¹å›ºå®šä¸º 0ï¼Œåœ¨å…¶ä»–çŠ¶æ€(è½»é‡çº§é”å®šã€é‡é‡çº§é”å®šã€GC æ ‡è®°ã€å¯åå‘)ä¸‹å¯¹è±¡çš„å­˜å‚¨å†…å®¹å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p><center><table><thead><tr><th style="text-align:center">å­˜å‚¨å†…å®¹</th><th style="text-align:center">æ ‡å¿—ä½</th><th style="text-align:center">çŠ¶æ€</th></tr></thead><tbody><tr><td style="text-align:center">å¯¹è±¡å“ˆå¸Œç ã€å¯¹è±¡åˆ†ä»£å¹´é¾„</td><td style="text-align:center">01</td><td style="text-align:center">æœªé”å®š</td></tr><tr><td style="text-align:center">æŒ‡å‘é”è®°å½•çš„æŒ‡é’ˆ</td><td style="text-align:center">00</td><td style="text-align:center">è½»é‡çº§é”å®š</td></tr><tr><td style="text-align:center">æŒ‡å‘é‡é‡çº§é”çš„æŒ‡é’ˆ</td><td style="text-align:center">10</td><td style="text-align:center">è†¨èƒ€ï¼ˆé‡é‡çº§é”å®šï¼‰</td></tr><tr><td style="text-align:center">ç©ºï¼Œä¸éœ€è¦è®°å½•ä¿¡æ¯</td><td style="text-align:center">11</td><td style="text-align:center">GC æ ‡è®°</td></tr><tr><td style="text-align:center">åå‘çº¿ç¨‹ IDã€åå‘æ—¶é—´æˆ³ã€å¯¹è±¡åˆ†ä»£å¹´é¾„</td><td style="text-align:center">01</td><td style="text-align:center">å¯åå‘</td></tr></tbody></table></center><p>å¯¹è±¡å¤´çš„å¦å¤–ä¸€éƒ¨åˆ†æ˜¯ç±»å‹æŒ‡é’ˆï¼Œå³å¯¹è±¡æŒ‡å‘å®ƒçš„ç±»å‹å…ƒæ•°æ®çš„æŒ‡é’ˆï¼ŒJava è™šæ‹Ÿæœºé€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ç¡®å®šè¯¥å¯¹è±¡æ˜¯å“ªä¸ªç±»çš„å®ä¾‹ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„è™šæ‹Ÿæœºå®ç°éƒ½å¿…é¡»åœ¨å¯¹è±¡æ•°æ®ä¸Šä¿ç•™ç±»å‹æŒ‡é’ˆï¼Œæ¢å¥è¯è¯´ï¼ŒæŸ¥æ‰¾å¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯å¹¶ä¸ä¸€å®šè¦ç»è¿‡å¯¹è±¡æœ¬èº«ã€‚</p><p>å¦‚æœå¯¹è±¡æ˜¯ä¸€ä¸ª Java æ•°ç»„ï¼Œé‚£åœ¨å¯¹è±¡å¤´ä¸­è¿˜å¿…é¡»æœ‰ä¸€å—ç”¨äºè®°å½•æ•°ç»„é•¿åº¦çš„æ•°æ®ï¼Œå› ä¸ºè™šæ‹Ÿæœºå¯ä»¥é€šè¿‡æ™®é€š Java å¯¹è±¡çš„å…ƒæ•°æ®ä¿¡æ¯ç¡®å®š Java å¯¹è±¡çš„å¤§å°ï¼Œä½†æ˜¯å¦‚æœæ•°ç»„çš„é•¿åº¦æ˜¯ä¸ç¡®å®šçš„ï¼Œå°†æ— æ³•é€šè¿‡å…ƒæ•°æ®ä¸­çš„ä¿¡æ¯æ¨æ–­å‡ºæ•°ç»„çš„å¤§å°ã€‚</p><p>æˆ‘ä»¬åœ¨ç¨‹åºä»£ç é‡Œé¢æ‰€å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µå†…å®¹ï¼Œæ— è®ºæ˜¯ä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„ï¼Œè¿˜æ˜¯åœ¨å­ç±»ä¸­å®šä¹‰çš„å­—æ®µéƒ½å¿…é¡»è®°å½•èµ·æ¥ã€‚è¿™éƒ¨åˆ†çš„å­˜å‚¨é¡ºåºä¼šå—åˆ°è™šæ‹Ÿæœºåˆ†é…ç­–ç•¥å‚æ•°(<code>-XX:FieldsAllocationStyle</code>å‚æ•°)å’Œå­—æ®µåœ¨ Java æºç ä¸­å®šä¹‰é¡ºåºçš„å½±å“ã€‚HotSpot è™šæ‹Ÿæœºé»˜è®¤çš„åˆ†é…é¡ºåºä¸º longs/doublesã€intsã€shorts/charsã€bytes/booleansã€oops(Ordinary Object Pointersï¼ŒOOPs)ï¼Œä»ä»¥ä¸Šé»˜è®¤çš„åˆ†é…ç­–ç•¥ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç›¸åŒå®½åº¦çš„å­—æ®µæ€»æ˜¯è¢«åˆ†é…åˆ°ä¸€èµ·å­˜æ”¾ï¼Œåœ¨æ»¡è¶³è¿™ä¸ªå‰ææ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œåœ¨çˆ¶ç±»ä¸­å®šä¹‰çš„å˜é‡ä¼šå‡ºç°åœ¨å­ç±»ä¹‹å‰ã€‚å¦‚æœ HotSpot è™šæ‹Ÿæœºçš„<code>+XX:CompactFields</code>å‚æ•°å€¼ä¸º true(é»˜è®¤å°±ä¸º true)ï¼Œé‚£å­ç±»ä¹‹ä¸­è¾ƒçª„çš„å˜é‡ä¹Ÿå…è®¸æ’å…¥çˆ¶ç±»å˜é‡çš„ç©ºéš™ä¹‹ä¸­ï¼Œä»¥èŠ‚çœå‡ºä¸€ç‚¹ç‚¹ç©ºé—´ã€‚</p><p>å¯¹è±¡çš„ç¬¬ä¸‰éƒ¨åˆ†æ˜¯å¯¹é½å¡«å……ï¼Œè¿™å¹¶ä¸æ˜¯å¿…ç„¶å­˜åœ¨çš„ï¼Œä¹Ÿæ²¡æœ‰ç‰¹åˆ«çš„å«ä¹‰ï¼Œå®ƒä»…ä»…èµ·ç€å ä½ç¬¦çš„ä½œç”¨ã€‚ç”±äº HotSpot è™šæ‹Ÿæœºçš„è‡ªåŠ¨å†…å­˜ç®¡ç†ç³»ç»Ÿè¦æ±‚å¯¹è±¡èµ·å§‹åœ°å€å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ï¼Œæ¢å¥è¯è¯´å°±æ˜¯ä»»ä½•å¯¹è±¡çš„å¤§å°éƒ½å¿…é¡»æ˜¯ 8 å­—èŠ‚çš„æ•´æ•°å€ã€‚å¯¹è±¡å¤´éƒ¨åˆ†å·²ç»è¢«ç²¾å¿ƒè®¾è®¡æˆæ­£å¥½æ˜¯ 8 å­—èŠ‚çš„å€æ•°(1 å€æˆ–è€… 2 å€)ï¼Œå› æ­¤ï¼Œå¦‚æœå¯¹è±¡å®ä¾‹æ•°æ®éƒ¨åˆ†æ²¡æœ‰å¯¹é½çš„è¯ï¼Œå°±éœ€è¦é€šè¿‡å¯¹é½å¡«å……æ¥è¡¥å…¨ã€‚</p><h3 id="å¯¹è±¡çš„è®¿é—®å®šä½"><a class="header-anchor" href="#å¯¹è±¡çš„è®¿é—®å®šä½">#</a>å¯¹è±¡çš„è®¿é—®å®šä½</h3><p>Java ç¨‹åºä¼šé€šè¿‡æ ˆä¸Šçš„ reference æ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ã€‚ä¸»æµçš„è®¿é—®æ–¹å¼ä¸»è¦æœ‰ä½¿ç”¨å¥æŸ„å’Œç›´æ¥æŒ‡é’ˆä¸¤ç§ï¼š</p><ol><li>å¦‚æœä½¿ç”¨å¥æŸ„è®¿é—®çš„è¯ï¼ŒJava å †ä¸­å°†å¯èƒ½ä¼šåˆ’åˆ†å‡ºä¸€å—å†…å­˜æ¥ä½œä¸ºå¥æŸ„æ± ï¼Œreference ä¸­å­˜å‚¨çš„å°±æ˜¯å¯¹è±¡çš„å¥æŸ„åœ°å€ï¼Œè€Œå¥æŸ„ä¸­åŒ…å«äº†å¯¹è±¡å®ä¾‹æ•°æ®ä¸ç±»å‹æ•°æ®å„è‡ªå…·ä½“çš„åœ°å€ä¿¡æ¯ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200823-1.jpg" alt="é€šè¿‡å¥æŸ„è®¿é—®å¯¹è±¡"></p><p>é€šè¿‡å¥æŸ„è®¿é—®å¯¹è±¡</p></center><ol start="2"><li>å¦‚æœä½¿ç”¨ç›´æ¥æŒ‡é’ˆè®¿é—®çš„è¯ï¼ŒJava å †ä¸­å¯¹è±¡çš„å†…å­˜å¸ƒå±€å°±å¿…é¡»è€ƒè™‘å¦‚ä½•æ”¾ç½®è®¿é—®ç±»å‹æ•°æ®çš„ç›¸å…³ä¿¡æ¯ï¼Œreference ä¸­å­˜å‚¨çš„ç›´æ¥å°±æ˜¯å¯¹è±¡åœ°å€ï¼Œå¦‚æœåªæ˜¯è®¿é—®å¯¹è±¡æœ¬èº«çš„è¯ï¼Œå°±ä¸éœ€è¦å¤šä¸€æ¬¡é—´æ¥è®¿é—®çš„å¼€é”€ï¼Œ</li></ol><center><p><img src="//onns.xyz/blog/image/20200823-2.jpg" alt="é€šè¿‡ç›´æ¥æŒ‡é’ˆè®¿é—®å¯¹è±¡"></p><p>é€šè¿‡ç›´æ¥æŒ‡é’ˆè®¿é—®å¯¹è±¡</p></center><p>è¿™ä¸¤ç§å¯¹è±¡è®¿é—®æ–¹å¼å„æœ‰ä¼˜åŠ¿ï¼Œä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æœ€å¤§å¥½å¤„å°±æ˜¯ reference ä¸­å­˜å‚¨çš„æ˜¯ç¨³å®šå¥æŸ„åœ°å€ï¼Œåœ¨å¯¹è±¡è¢«ç§»åŠ¨(åƒåœ¾æ”¶é›†æ—¶ç§»åŠ¨å¯¹è±¡æ˜¯éå¸¸æ™®éçš„è¡Œä¸º)æ—¶åªä¼šæ”¹å˜å¥æŸ„ä¸­çš„å®ä¾‹æ•°æ®æŒ‡é’ˆï¼Œè€Œ reference æœ¬èº«ä¸éœ€è¦è¢«ä¿®æ”¹ã€‚</p><p>ä½¿ç”¨ç›´æ¥æŒ‡é’ˆæ¥è®¿é—®æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€Ÿåº¦æ›´å¿«ï¼Œå®ƒèŠ‚çœäº†ä¸€æ¬¡æŒ‡é’ˆå®šä½çš„æ—¶é—´å¼€é”€ï¼Œç”±äºå¯¹è±¡è®¿é—®åœ¨ Java ä¸­éå¸¸é¢‘ç¹ï¼Œå› æ­¤è¿™ç±»å¼€é”€ç§¯å°‘æˆå¤šä¹Ÿæ˜¯ä¸€é¡¹æä¸ºå¯è§‚çš„æ‰§è¡Œæˆæœ¬ï¼Œå°±æœ¬ä¹¦è®¨è®ºçš„ä¸»è¦è™šæ‹Ÿæœº HotSpot è€Œè¨€ï¼Œå®ƒä¸»è¦ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼è¿›è¡Œå¯¹è±¡è®¿é—®ï¼Œä½†ä»æ•´ä¸ªè½¯ä»¶å¼€å‘çš„èŒƒå›´æ¥çœ‹ï¼Œåœ¨å„ç§è¯­è¨€ã€æ¡†æ¶ä¸­ä½¿ç”¨å¥æŸ„æ¥è®¿é—®çš„æƒ…å†µä¹Ÿååˆ†å¸¸è§ã€‚</p><h3 id="java-å †æº¢å‡º"><a class="header-anchor" href="#java-å †æº¢å‡º">#</a>Java å †æº¢å‡º</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.jvm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OOMTest</span> </span>&#123;</span><br><span class="line">    Byte[] bytes = <span class="keyword">new</span> Byte[<span class="number">1024</span> * <span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;OOMTest&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                list.add(<span class="keyword">new</span> OOMTest());</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">"count"</span> + count);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java -Xms1m -Xmx8m -XX:+HeapDumpOnOutOfMemoryError -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=58766:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/onns/Documents/code/java/study/out/production/study xyz.onns.jvm.OOMTest</span><br><span class="line">java.lang.OutOfMemoryError: Java heap space</span><br><span class="line">Dumping heap to java_pid86774.hprof ...</span><br><span class="line">Heap dump file created [11811120 bytes <span class="keyword">in</span> 0.171 secs]</span><br><span class="line">Exception <span class="keyword">in</span> thread <span class="string">"Monitor Ctrl-Break"</span> Exception <span class="keyword">in</span> thread <span class="string">"main"</span> java.lang.OutOfMemoryError: Java heap space</span><br><span class="line">at java.base/java.lang.invoke.MethodHandles<span class="variable">$Lookup</span>.resolveOrFail(MethodHandles.java:2046)</span><br><span class="line">at java.base/java.lang.invoke.MethodHandles<span class="variable">$Lookup</span>.findVarHandle(MethodHandles.java:1526)</span><br><span class="line">at java.base/java.util.concurrent.ConcurrentSkipListMap.&lt;clinit&gt;(ConcurrentSkipListMap.java:3405)</span><br><span class="line">at java.base/java.util.concurrent.ConcurrentSkipListSet.&lt;init&gt;(ConcurrentSkipListSet.java:113)</span><br><span class="line">at java.base/java.net.InetAddress.&lt;clinit&gt;(InetAddress.java:773)</span><br><span class="line">at java.base/java.net.InetSocketAddress.&lt;init&gt;(InetSocketAddress.java:220)</span><br><span class="line">at java.base/java.net.Socket.&lt;init&gt;(Socket.java:249)</span><br><span class="line">at com.intellij.rt.execution.application.AppMainV2<span class="variable">$1</span>.run(AppMainV2.java:56)</span><br><span class="line">java.lang.OutOfMemoryError: Java heap space</span><br><span class="line"></span><br><span class="line">Process finished with <span class="built_in">exit</span> code 1</span><br></pre></td></tr></table></figure><p>IDE æ˜¯<code>IntelliJ IDEA</code>ã€‚</p><p>ç›¸å…³å‚æ•°ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200823-3.jpg" alt="IDEAå‚æ•°"></p><p>IDEA å‚æ•°</p></center><p><code>-Xms1m</code>ï¼šJVM åˆå§‹åˆ†é…çš„å†…å­˜ç”±<code>-Xms</code>æŒ‡å®šï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„<code>1/64</code>ã€‚<br><code>-Xmx8m</code>ï¼šJVM æœ€å¤§åˆ†é…çš„å†…å­˜ç”±<code>-Xmx</code>æŒ‡å®šï¼Œé»˜è®¤æ˜¯ç‰©ç†å†…å­˜çš„<code>1/4</code>ã€‚<br><code>-XX:+HeapDumpOnOutOfMemoryError</code>ï¼šè®©è™šæ‹Ÿæœºåœ¨å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸çš„æ—¶å€™ Dump å‡ºå½“å‰çš„å†…å­˜å †è½¬å‚¨å¿«ç…§ä»¥ä¾¿è¿›è¡Œäº‹ååˆ†æã€‚</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>æ˜¾ç„¶ï¼Œæœ¬æœºç›´æ¥å†…å­˜çš„åˆ†é…ä¸ä¼šå—åˆ° Java å †å¤§å°çš„é™åˆ¶ï¼Œä½†æ˜¯ï¼Œæ—¢ç„¶æ˜¯å†…å­˜ï¼Œåˆ™è‚¯å®šè¿˜æ˜¯ä¼šå—åˆ°æœ¬æœºæ€»å†…å­˜(åŒ…æ‹¬ç‰©ç†å†…å­˜ã€SWAP åˆ†åŒºæˆ–è€…åˆ†é¡µæ–‡ä»¶)å¤§å°ä»¥åŠå¤„ç†å™¨å¯»å€ç©ºé—´çš„é™åˆ¶ï¼Œä¸€èˆ¬æœåŠ¡å™¨ç®¡ç†å‘˜é…ç½®è™šæ‹Ÿæœºå‚æ•°æ—¶ï¼Œä¼šæ ¹æ®å®é™…å†…å­˜å»è®¾ç½®<code>-Xmx</code>ç­‰å‚æ•°ä¿¡æ¯ï¼Œä½†ç»å¸¸å¿½ç•¥æ‰ç›´æ¥å†…å­˜ï¼Œä½¿å¾—å„ä¸ªå†…å­˜åŒºåŸŸæ€»å’Œå¤§äºç‰©ç†å†…å­˜é™åˆ¶(åŒ…æ‹¬ç‰©ç†çš„å’Œæ“ä½œç³»ç»Ÿçº§çš„é™åˆ¶)ï¼Œä»è€Œå¯¼è‡´åŠ¨æ€æ‰©å±•æ—¶å‡ºç° OutOfMemoryError å¼‚å¸¸ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> jvm </tag>
            
            <tag> jvm note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…Nodejs</title>
      <link href="/blog/2020/08/22/nodejs-in-linux/"/>
      <url>/blog/2020/08/22/nodejs-in-linux/</url>
      
        <content type="html"><![CDATA[<p><code>MacOS</code>æ–°ç‰ˆæœ¬è¿æ¥ SSH åä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</span><br></pre></td></tr></table></figure><p>è™½ç„¶æ¯æ¬¡ç™¾åº¦éƒ½ç™¾åº¦å¾—åˆ°ï¼Œä½†æ˜¯å·²ç»ç¬¬äºŒæ¬¡é‡è§äº†ï¼Œåé¢æ— æ•°æ¬¡é…ç½®æœåŠ¡å™¨å¯èƒ½è¿˜ä¼šé‡è§ï¼Œè®°å½•ä¸‹å­ã€‚</p><a id="more"></a><h2 id="è§£å†³-â€œ-bash-warningâ€"><a class="header-anchor" href="#è§£å†³-â€œ-bash-warningâ€">#</a>è§£å†³ â€œ-bash: warningâ€</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat /etc/locale.conf</span><br><span class="line">LANG=en_US.UTF-8</span><br><span class="line">$ vi /etc/locale.conf</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LC_ALL=en_US.UTF-8</span><br><span class="line">LC_CTYPE=en_US.UTF-8</span><br><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure><p>æ”¶å·¥ã€‚</p><h2 id="å®‰è£…-nodejs"><a class="header-anchor" href="#å®‰è£…-nodejs">#</a>å®‰è£… Nodejs</h2><ol><li>æŸ¥çœ‹ç³»ç»Ÿæ¶æ„ï¼Œæœ€åä¸€è¡Œæ˜¾ç¤ºæ˜¯<code>x86-64</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ hostnamectl</span><br><span class="line">   Static hostname: iZbp1hm7xn587qhxan003bZ</span><br><span class="line">         Icon name: computer-vm</span><br><span class="line">           Chassis: vm</span><br><span class="line">        Machine ID: 20190711105006363114529432776998</span><br><span class="line">           Boot ID: c753a670761d4b6e9c3557a03056de8e</span><br><span class="line">    Virtualization: kvm</span><br><span class="line">  Operating System: CentOS Linux 7 (Core)</span><br><span class="line">       CPE OS Name: cpe:/o:centos:centos:7</span><br><span class="line">            Kernel: Linux 3.10.0-957.21.3.el7.x86_64</span><br><span class="line">      Architecture: x86-64</span><br></pre></td></tr></table></figure></li><li>æ‰“å¼€å®˜ç½‘ï¼š<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a></li><li>é€‰æ‹©å»¶é•¿æ”¯æŒç‰ˆæœ¬ LTSï¼Œé€‰æ‹©ç‰ˆæœ¬<code>Linux Binaries (x64)</code>ï¼Œå¤åˆ¶ä¸‹è½½åœ°å€ï¼š<a href="https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-x64.tar.xz" target="_blank" rel="noopener">https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-x64.tar.xz</a></li><li>å›åˆ°æœåŠ¡å™¨ï¼Œä¸‹è½½ä»£ç <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://nodejs.org/dist/v12.18.3/node-v12.18.3-linux-x64.tar.xz</span><br></pre></td></tr></table></figure></li><li>è§£å‹<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xz -d node-v12.18.3-linux-x64.tar.xz</span><br><span class="line">tar -xvf node-v12.18.3-linux-x64.tar</span><br></pre></td></tr></table></figure></li><li>è½¯é“¾æ¥åˆ°æ‰§è¡Œç›®å½•ä¸­<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">node-v12.18.3-linux-x64  node-v12.18.3-linux-x64.tar</span><br><span class="line">$ ln -s ~/node-v12.18.3-linux-x64/bin/node /usr/bin/node</span><br><span class="line">$ ln -s ~/node-v12.18.3-linux-x64/bin/npm /usr/bin/npm</span><br><span class="line">$ ln -s ~/node-v12.18.3-linux-x64/bin/npx /usr/bin/npx</span><br></pre></td></tr></table></figure></li></ol><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/maxmao1024/article/details/84401372" target="_blank" rel="noopener">-bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory</a></li><li><a href="https://www.jianshu.com/p/657d58a149d0" target="_blank" rel="noopener">CentOS7 å®‰è£… NodeJS</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> work </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
            <tag> linux </tag>
            
            <tag> ssh </tag>
            
            <tag> nodejs </tag>
            
            <tag> centos </tag>
            
            <tag> xz </tag>
            
            <tag> hostnamectl </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºï¼ˆä¸€ï¼‰</title>
      <link href="/blog/2020/08/22/jvm-note-1/"/>
      <url>/blog/2020/08/22/jvm-note-1/</url>
      
        <content type="html"><![CDATA[<p>æ·±å…¥ç†è§£ Java è™šæ‹Ÿæœºï¼šJVM é«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µï¼ˆç¬¬ 3 ç‰ˆï¼‰</p><h1 id="è‡ªåŠ¨å†…å­˜ç®¡ç†"><a class="header-anchor" href="#è‡ªåŠ¨å†…å­˜ç®¡ç†">#</a>è‡ªåŠ¨å†…å­˜ç®¡ç†</h1><h2 id="javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸"><a class="header-anchor" href="#javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸">#</a>Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</h2><center><p><img src="//onns.xyz/blog/image/20200822-1.jpg" alt="Javaè™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº"></p><p>Java è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº</p></center><a id="more"></a><h3 id="ç¨‹åºè®¡æ•°å™¨"><a class="header-anchor" href="#ç¨‹åºè®¡æ•°å™¨">#</a>ç¨‹åºè®¡æ•°å™¨</h3><p><code>ç¨‹åºè®¡æ•°å™¨</code>(Program Counter Register)æ˜¯ä¸€å—è¾ƒå°çš„å†…å­˜ç©ºé—´ï¼Œå®ƒå¯ä»¥çœ‹ä½œæ˜¯å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨ã€‚</p><p>å­—èŠ‚ç è§£é‡Šå™¨å·¥ä½œæ—¶å°±æ˜¯é€šè¿‡æ”¹å˜è¿™ä¸ª<code>è®¡æ•°å™¨</code>çš„å€¼æ¥é€‰å–ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œå®ƒæ˜¯ç¨‹åºæ§åˆ¶æµçš„æŒ‡ç¤ºå™¨ï¼Œåˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤ç­‰åŸºç¡€åŠŸèƒ½éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªè®¡æ•°å™¨æ¥å®Œæˆã€‚</p><p>ä¸ºäº†çº¿ç¨‹åˆ‡æ¢åèƒ½æ¢å¤åˆ°æ­£ç¡®çš„æ‰§è¡Œä½ç½®ï¼Œæ¯æ¡çº¿ç¨‹éƒ½éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œå„æ¡çº¿ç¨‹ä¹‹é—´è®¡æ•°å™¨äº’ä¸å½±å“ï¼Œç‹¬ç«‹å­˜å‚¨ï¼Œæˆ‘ä»¬ç§°è¿™ç±»å†…å­˜åŒºåŸŸä¸ºâ€œçº¿ç¨‹ç§æœ‰â€çš„å†…å­˜ã€‚</p><p>å¦‚æœçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ª Java æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨è®°å½•çš„æ˜¯æ­£åœ¨æ‰§è¡Œçš„è™šæ‹Ÿæœºå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€ï¼›å¦‚æœæ­£åœ¨æ‰§è¡Œçš„æ˜¯æœ¬åœ°(Native)æ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨å€¼åˆ™åº”ä¸ºç©º(Undefined)ã€‚æ­¤å†…å­˜åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­æ²¡æœ‰è§„å®šä»»ä½•<code>OutOfMemoryError</code>æƒ…å†µçš„åŒºåŸŸã€‚</p><h3 id="java-è™šæ‹Ÿæœºæ ˆ"><a class="header-anchor" href="#java-è™šæ‹Ÿæœºæ ˆ">#</a>Java è™šæ‹Ÿæœºæ ˆ</h3><p><code>Javaè™šæ‹Ÿæœºæ ˆ</code>(Java Virtual Machine Stack)ä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒã€‚</p><p>è™šæ‹Ÿæœºæ ˆæè¿°çš„æ˜¯ Java æ–¹æ³•æ‰§è¡Œçš„çº¿ç¨‹å†…å­˜æ¨¡å‹:æ¯ä¸ªæ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼ŒJava è™šæ‹Ÿæœºéƒ½ä¼šåŒæ­¥åˆ›å»ºä¸€ä¸ª<code>æ ˆå¸§</code>(Stack Frame)ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€è¿æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæ¯•çš„è¿‡ç¨‹ï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­ä»å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ã€‚</p><center><table><thead><tr><th style="text-align:center">æ ˆå¸§</th></tr></thead><tbody><tr><td style="text-align:center">å±€éƒ¨å˜é‡è¡¨</td></tr><tr><td style="text-align:center">æ“ä½œæ•°æ ˆ</td></tr><tr><td style="text-align:center">åŠ¨æ€è¿æ¥</td></tr><tr><td style="text-align:center">æ–¹æ³•å‡ºå£</td></tr></tbody></table></center><p>å±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§ Java è™šæ‹ŸæœºåŸºæœ¬æ•°æ®ç±»å‹(booleanã€byteã€charã€shortã€intã€floatã€longã€double)ã€å¯¹è±¡å¼•ç”¨(reference ç±»å‹ï¼Œå®ƒå¹¶ä¸ç­‰åŒäºå¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–è€…å…¶ä»–ä¸æ­¤å¯¹è±¡ç›¸å…³çš„ä½ç½®)å’Œ returnAddress ç±»å‹(æŒ‡å‘äº†ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€)ã€‚</p><p>è¿™äº›æ•°æ®ç±»å‹åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­çš„å­˜å‚¨ç©ºé—´ä»¥å±€éƒ¨<code>å˜é‡æ§½</code>(Slot)æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ 64 ä½é•¿åº¦çš„ long å’Œ double ç±»å‹çš„æ•°æ®ä¼šå ç”¨ä¸¤ä¸ªå˜é‡æ§½ï¼Œå…¶ä½™çš„æ•°æ®ç±»å‹åªå ç”¨ä¸€ä¸ªã€‚</p><p>å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å†…å­˜ç©ºé—´<code>åœ¨ç¼–è¯‘æœŸé—´</code>å®Œæˆåˆ†é…ï¼Œå½“è¿›å…¥ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦åœ¨æ ˆå¸§ä¸­åˆ†é…å¤šå¤§çš„å±€éƒ¨å˜é‡ç©ºé—´æ˜¯<code>å®Œå…¨ç¡®å®šçš„</code>ï¼Œåœ¨æ–¹æ³•è¿è¡ŒæœŸé—´ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡è¡¨çš„å¤§å°ã€‚</p><p>å¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ·±åº¦ï¼Œå°†æŠ›å‡º<code>StackOverflowError</code>å¼‚å¸¸ï¼›å¦‚æœ Java è™šæ‹Ÿæœºæ ˆå®¹é‡å¯ä»¥åŠ¨æ€æ‰©å±•<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œå½“æ ˆæ‰©å±•æ—¶æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ä¼šæŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸ã€‚</p><h3 id="æœ¬åœ°æ–¹æ³•æ ˆ"><a class="header-anchor" href="#æœ¬åœ°æ–¹æ³•æ ˆ">#</a>æœ¬åœ°æ–¹æ³•æ ˆ</h3><p><code>æœ¬åœ°æ–¹æ³•æ ˆ</code>(Native Method Stacks)ä¸è™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨æ˜¯éå¸¸ç›¸ä¼¼çš„ï¼Œå…¶åŒºåˆ«åªæ˜¯è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡ŒJavaæ–¹æ³•(ä¹Ÿå°±æ˜¯å­—èŠ‚ç )æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™æ˜¯ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„æœ¬åœ°(Native)æ–¹æ³•æœåŠ¡ã€‚</p><p>æœ¬åœ°æ–¹æ³•æ ˆä¼šåœ¨æ ˆæ·±åº¦æº¢å‡ºæˆ–è€…æ ˆæ‰©å±•å¤±è´¥æ—¶åˆ†åˆ«æŠ› StackOverflowError å’Œ OutOfMemoryError å¼‚å¸¸ã€‚</p><ul><li><a href="//onns.xyz/blog/files/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E8%99%9A%E6%8B%9F%E6%9C%BA%EF%BC%9AJVM%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%EF%BC%88%E7%AC%AC3%E7%89%88%EF%BC%89.pdf">ä¼ é€é—¨</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>HotSpot è™šæ‹Ÿæœºçš„æ ˆå®¹é‡æ˜¯ä¸å¯ä»¥åŠ¨æ€æ‰©å±•çš„ï¼Œæ‰€ä»¥åœ¨ HotSpot è™šæ‹Ÿæœºä¸Šæ˜¯ä¸ä¼šç”±äºè™šæ‹Ÿæœºæ ˆæ— æ³•æ‰©å±•è€Œå¯¼è‡´ OutOfMemoryError å¼‚å¸¸â€”â€”åªè¦çº¿ç¨‹ç”³è¯·æ ˆç©ºé—´æˆåŠŸäº†å°±ä¸ä¼šæœ‰ OOMï¼Œä½†æ˜¯å¦‚æœç”³è¯·æ—¶å°±å¤±è´¥ï¼Œä»ç„¶æ˜¯ä¼šå‡ºç° OOM å¼‚å¸¸çš„ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> jvm </tag>
            
            <tag> jvm note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ipè®¿é—®è®°å½•æŸ¥è¯¢top3</title>
      <link href="/blog/2020/08/21/ip-records-top-3/"/>
      <url>/blog/2020/08/21/ip-records-top-3/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>æ˜¨æ™š 4399 ç¬”è¯•ï¼š</p><blockquote><p>æœ‰ä¸€ä¸ªæ–‡ä»¶ ip.txtï¼Œæ¯è¡Œä¸€æ¡ ip è®°å½•ï¼Œå…±è‹¥å¹²è¡Œï¼Œå¦‚ä½•ç»Ÿè®¡å‡ºç°æ¬¡æ•°æœ€å¤šçš„å‰ 3 ä¸ª ip åŠå…¶æ¬¡æ•°ï¼Ÿ</p></blockquote><p>è¢«é—®æ‡µäº†ï¼Œè®°å½•ä¸‹ï¼Œå­¦ä¹ ä¹‹ã€‚</p><a id="more"></a><h2 id="ç”Ÿæˆæµ‹è¯•æ•°æ®"><a class="header-anchor" href="#ç”Ÿæˆæµ‹è¯•æ•°æ®">#</a>ç”Ÿæˆæµ‹è¯•æ•°æ®</h2><p>é¦–å…ˆç”¨ Python æ¥ç”Ÿæˆä¸€ä¸‹æµ‹è¯•æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10000</span>):</span><br><span class="line">n = <span class="number">4</span></span><br><span class="line"><span class="keyword">if</span> i % <span class="number">1000</span> == <span class="number">0</span>:</span><br><span class="line">n = <span class="number">20</span></span><br><span class="line">a = random.randint(<span class="number">1</span>, <span class="number">255</span>)</span><br><span class="line">b = random.randint(<span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line">c = random.randint(<span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line">d = random.randint(<span class="number">0</span>, <span class="number">255</span>)</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(random.randint(<span class="number">1</span>, n)):</span><br><span class="line">print(str(a)+<span class="string">"."</span>+str(b)+<span class="string">"."</span>+str(c)+<span class="string">"."</span>+str(d))</span><br></pre></td></tr></table></figure><p>ç„¶åæŠŠæ•°æ®ä¿å­˜è¿›<code>ip.txt</code>æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python generate_ip.py &gt;&gt; ip.txt</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯"><a class="header-anchor" href="#æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯">#</a>æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯</h2><p>è·å–å‰äº”è¡Œçš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ head ip.txt -n 5</span><br><span class="line">34.150.120.118</span><br><span class="line">34.150.120.118</span><br><span class="line">34.150.120.118</span><br><span class="line">34.150.120.118</span><br><span class="line">34.150.120.118</span><br></pre></td></tr></table></figure><p>è·å–æœ€åäº”è¡Œçš„ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ tail ip.txt -n 5</span><br><span class="line">145.250.127.90</span><br><span class="line">145.250.127.90</span><br><span class="line">145.250.127.90</span><br><span class="line">47.14.104.50</span><br><span class="line">10.100.11.223</span><br></pre></td></tr></table></figure><p>ä¸€å…±æœ‰å¤šå°‘è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wc -l ip.txt</span><br><span class="line">25282 ip.txt</span><br></pre></td></tr></table></figure><h2 id="ip-è®°å½•-top3"><a class="header-anchor" href="#ip-è®°å½•-top3">#</a>ip è®°å½• top3</h2><h3 id="æ’åº"><a class="header-anchor" href="#æ’åº">#</a>æ’åº</h3><p>ç»Ÿè®¡æ–¹æ³•<code>uniq</code>åªèƒ½å¯¹è¿ç»­çš„ç›¸åŒè¡Œç”Ÿæ•ˆï¼Œä¸€èˆ¬ä½¿ç”¨ä¹‹å‰éƒ½éœ€è¦å…ˆæ’åºï¼Œç”¨<code>sort</code>å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort ip.txt</span><br></pre></td></tr></table></figure><p>ä¼šå…¨éƒ½æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºæµé‡Œï¼Œçœ‹çœ‹æœ€å 10 è¡Œå°±å¥½å•¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sort ip.txt | tail -n 10</span><br><span class="line">99.91.60.161</span><br><span class="line">99.91.60.161</span><br><span class="line">99.91.60.161</span><br><span class="line">99.91.60.161</span><br><span class="line">99.93.105.24</span><br><span class="line">99.96.209.20</span><br><span class="line">99.96.209.20</span><br><span class="line">99.96.209.20</span><br><span class="line">99.96.209.20</span><br><span class="line">99.98.96.57</span><br></pre></td></tr></table></figure><p>æ’åºæ²¡é—®é¢˜ã€‚</p><h3 id="ç»Ÿè®¡ä¸ªæ•°"><a class="header-anchor" href="#ç»Ÿè®¡ä¸ªæ•°">#</a>ç»Ÿè®¡ä¸ªæ•°</h3><p>æŠŠæ’åºçš„è¾“å‡ºä½œä¸º<code>uniq</code>çš„è¾“å…¥ï¼Œ<code>uniq</code>çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ uniq --<span class="built_in">help</span></span><br><span class="line">Usage: uniq [OPTION]... [INPUT [OUTPUT]]</span><br><span class="line">Filter adjacent matching lines from INPUT (or standard input),</span><br><span class="line">writing to OUTPUT (or standard output).</span><br><span class="line"></span><br><span class="line">With no options, matching lines are merged to the first occurrence.</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line">  -c, --count           prefix lines by the number of occurrences</span><br><span class="line">  -d, --repeated        only <span class="built_in">print</span> duplicate lines, one <span class="keyword">for</span> each group</span><br><span class="line">  -D, --all-repeated[=METHOD]  <span class="built_in">print</span> all duplicate lines</span><br><span class="line">                          groups can be delimited with an empty line</span><br><span class="line">                          METHOD=&#123;none(default),prepend,separate&#125;</span><br><span class="line">  -f, --skip-fields=N   avoid comparing the first N fields</span><br><span class="line">      --group[=METHOD]  show all items, separating groups with an empty line</span><br><span class="line">                          METHOD=&#123;separate(default),prepend,append,both&#125;</span><br><span class="line">  -i, --ignore-case     ignore differences <span class="keyword">in</span> <span class="keyword">case</span> when comparing</span><br><span class="line">  -s, --skip-chars=N    avoid comparing the first N characters</span><br><span class="line">  -u, --unique          only <span class="built_in">print</span> unique lines</span><br><span class="line">  -z, --zero-terminated  end lines with 0 byte, not newline</span><br><span class="line">  -w, --check-chars=N   compare no more than N characters <span class="keyword">in</span> lines</span><br><span class="line">      --<span class="built_in">help</span>     display this <span class="built_in">help</span> and <span class="built_in">exit</span></span><br><span class="line">      --version  output version information and <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">A field is a run of blanks (usually spaces and/or TABs), <span class="keyword">then</span> non-blank</span><br><span class="line">characters.  Fields are skipped before chars.</span><br><span class="line"></span><br><span class="line">Note: <span class="string">'uniq'</span> does not detect repeated lines unless they are adjacent.</span><br><span class="line">You may want to sort the input first, or use <span class="string">'sort -u'</span> without <span class="string">'uniq'</span>.</span><br><span class="line">Also, comparisons honor the rules specified by <span class="string">'LC_COLLATE'</span>.</span><br><span class="line"></span><br><span class="line">GNU coreutils online <span class="built_in">help</span>: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">For complete documentation, run: info coreutils <span class="string">'uniq invocation'</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨<code>-c</code>å‚æ•°å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort ip.txt | uniq -c</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬å°±å¾—åˆ°äº†æ¯ä¸ª ip åŠå…¶å‡ºç°æ¬¡æ•°ã€‚</p><h3 id="å†æ’åº"><a class="header-anchor" href="#å†æ’åº">#</a>å†æ’åº</h3><p>è¿™æ¬¡éœ€è¦æŒ‰ç…§æ¬¡æ•°æ’åºè€Œä¸æ˜¯å­—å…¸åºæ’åºäº†ï¼Œå…ˆçœ‹<code>sort</code>çš„å‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">$ sort --<span class="built_in">help</span></span><br><span class="line">Usage: sort [OPTION]... [FILE]...</span><br><span class="line">  or:  sort [OPTION]... --files0-from=F</span><br><span class="line">Write sorted concatenation of all FILE(s) to standard output.</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory <span class="keyword">for</span> short options too.</span><br><span class="line">Ordering options:</span><br><span class="line"></span><br><span class="line">  -b, --ignore-leading-blanks  ignore leading blanks</span><br><span class="line">  -d, --dictionary-order      consider only blanks and alphanumeric characters</span><br><span class="line">  -f, --ignore-case           fold lower <span class="keyword">case</span> to upper <span class="keyword">case</span> characters</span><br><span class="line">  -g, --general-numeric-sort  compare according to general numerical value</span><br><span class="line">  -i, --ignore-nonprinting    consider only printable characters</span><br><span class="line">  -M, --month-sort            compare (unknown) &lt; <span class="string">'JAN'</span> &lt; ... &lt; <span class="string">'DEC'</span></span><br><span class="line">  -h, --human-numeric-sort    compare human readable numbers (e.g., 2K 1G)</span><br><span class="line">  -n, --numeric-sort          compare according to string numerical value</span><br><span class="line">  -R, --random-sort           sort by random <span class="built_in">hash</span> of keys</span><br><span class="line">      --random-source=FILE    get random bytes from FILE</span><br><span class="line">  -r, --reverse               reverse the result of comparisons</span><br><span class="line">      --sort=WORD             sort according to WORD:</span><br><span class="line">                                general-numeric -g, human-numeric -h, month -M,</span><br><span class="line">                                numeric -n, random -R, version -V</span><br><span class="line">  -V, --version-sort          natural sort of (version) numbers within text</span><br><span class="line"></span><br><span class="line">Other options:</span><br><span class="line"></span><br><span class="line">      --batch-size=NMERGE   merge at most NMERGE inputs at once;</span><br><span class="line">                            <span class="keyword">for</span> more use temp files</span><br><span class="line">  -c, --check, --check=diagnose-first  check <span class="keyword">for</span> sorted input; <span class="keyword">do</span> not sort</span><br><span class="line">  -C, --check=quiet, --check=silent  like -c, but <span class="keyword">do</span> not report first bad line</span><br><span class="line">      --compress-program=PROG  compress temporaries with PROG;</span><br><span class="line">                              decompress them with PROG -d</span><br><span class="line">      --debug               annotate the part of the line used to sort,</span><br><span class="line">                              and warn about questionable usage to stderr</span><br><span class="line">      --files0-from=F       <span class="built_in">read</span> input from the files specified by</span><br><span class="line">                            NUL-terminated names <span class="keyword">in</span> file F;</span><br><span class="line">                            If F is - <span class="keyword">then</span> <span class="built_in">read</span> names from standard input</span><br><span class="line">  -k, --key=KEYDEF          sort via a key; KEYDEF gives location and <span class="built_in">type</span></span><br><span class="line">  -m, --merge               merge already sorted files; <span class="keyword">do</span> not sort</span><br><span class="line">  -o, --output=FILE         write result to FILE instead of standard output</span><br><span class="line">  -s, --stable              stabilize sort by disabling last-resort comparison</span><br><span class="line">  -S, --buffer-size=SIZE    use SIZE <span class="keyword">for</span> main memory buffer</span><br><span class="line">  -t, --field-separator=SEP  use SEP instead of non-blank to blank transition</span><br><span class="line">  -T, --temporary-directory=DIR  use DIR <span class="keyword">for</span> temporaries, not <span class="variable">$TMPDIR</span> or /tmp;</span><br><span class="line">                              multiple options specify multiple directories</span><br><span class="line">      --parallel=N          change the number of sorts run concurrently to N</span><br><span class="line">  -u, --unique              with -c, check <span class="keyword">for</span> strict ordering;</span><br><span class="line">                              without -c, output only the first of an equal run</span><br><span class="line">  -z, --zero-terminated     end lines with 0 byte, not newline</span><br><span class="line">      --<span class="built_in">help</span>     display this <span class="built_in">help</span> and <span class="built_in">exit</span></span><br><span class="line">      --version  output version information and <span class="built_in">exit</span></span><br><span class="line"></span><br><span class="line">KEYDEF is F[.C][OPTS][,F[.C][OPTS]] <span class="keyword">for</span> start and stop position, <span class="built_in">where</span> F is a</span><br><span class="line">field number and C a character position <span class="keyword">in</span> the field; both are origin 1, and</span><br><span class="line">the stop position defaults to the line<span class="string">'s end.  If neither -t nor -b is in</span></span><br><span class="line"><span class="string">effect, characters in a field are counted from the beginning of the preceding</span></span><br><span class="line"><span class="string">whitespace.  OPTS is one or more single-letter ordering options [bdfgiMhnRrV],</span></span><br><span class="line"><span class="string">which override global ordering options for that key.  If no key is given, use</span></span><br><span class="line"><span class="string">the entire line as the key.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">SIZE may be followed by the following multiplicative suffixes:</span></span><br><span class="line"><span class="string">% 1% of memory, b 1, K 1024 (default), and so on for M, G, T, P, E, Z, Y.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">With no FILE, or when FILE is -, read standard input.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">*** WARNING ***</span></span><br><span class="line"><span class="string">The locale specified by the environment affects sort order.</span></span><br><span class="line"><span class="string">Set LC_ALL=C to get the traditional sort order that uses</span></span><br><span class="line"><span class="string">native byte values.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span></span><br><span class="line"><span class="string">For complete documentation, run: info coreutils '</span>sort invocation<span class="string">'</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ˜¯<code>-n</code>å‚æ•°ï¼Œæ ¹æ®æ•°å­—å¤§å°æ’åºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort ip.txt | uniq -c | sort -n</span><br></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬éœ€è¦çš„æ˜¯æœ€å¤§çš„ä¸‰ä¸ªï¼Œå…ˆé™åºæ’ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort ip.txt | uniq -c | sort -rn</span><br></pre></td></tr></table></figure><p>ç„¶åå–<code>top3</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sort ip.txt | uniq -c | sort -rn | head -n 3</span><br><span class="line">     20 79.137.86.84</span><br><span class="line">     18 178.40.3.117</span><br><span class="line">     17 224.64.206.181</span><br></pre></td></tr></table></figure><p>æ”¶å·¥ï¼</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/chengonghao/article/details/52160694" target="_blank" rel="noopener">æœ‰ä¸€ä¸ªæ–‡ä»¶ ip.txtï¼Œæ¯è¡Œä¸€æ¡ ip è®°å½•ï¼Œå…±è‹¥å¹²è¡Œï¼Œä¸‹é¢å“ªä¸ªå‘½ä»¤å¯ä»¥å®ç°â€œç»Ÿè®¡å‡ºç°æ¬¡æ•°æœ€å¤šçš„å‰ 3 ä¸ª ip åŠå…¶æ¬¡æ•°â€ï¼Ÿ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> linux </tag>
            
            <tag> sort </tag>
            
            <tag> uniq </tag>
            
            <tag> ip </tag>
            
            <tag> interview </tag>
            
            <tag> 4399 </tag>
            
            <tag> wc </tag>
            
            <tag> head </tag>
            
            <tag> tail </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨Javaå®ç°UDPé€šä¿¡</title>
      <link href="/blog/2020/08/19/udp-in-java/"/>
      <url>/blog/2020/08/19/udp-in-java/</url>
      
        <content type="html"><![CDATA[<h2 id="idea-å°æŠ€å·§"><a class="header-anchor" href="#idea-å°æŠ€å·§">#</a>IDEA å°æŠ€å·§</h2><ul><li><code>cmd + shift + enter</code>ä»£ç è‡ªåŠ¨è¡¥å…¨ã€‚</li><li><code>cmd + p</code>å‚æ•°æç¤ºã€‚</li><li><code>psvm</code>ç­‰ä»·äº<code>public static void main(String[] args) {}</code>ã€‚</li><li><code>sout</code>ç­‰ä»·äº<code>System.out.println();</code>ã€‚</li><li><code>cmd + alt + t</code>å¯ä»¥åœ¨ä»£ç å—å¤–é¢æ·»åŠ ï¼š<ol><li>if</li><li>if / else</li><li>while</li><li>do / while</li><li>for</li><li>try / catch</li></ol></li><li><code>alt + enter</code> åœ¨ <code>new MyClass();</code>åä¼šè‡ªåŠ¨å¡«å……ä¸º<code>MyClass myclass = new MyClass();</code>ã€‚</li><li><code>cmd + alt + shift + l</code>æ ¼å¼åŒ–ä»£ç ã€‚</li></ul><a id="more"></a><h2 id="udp-å‘é€ç«¯"><a class="header-anchor" href="#udp-å‘é€ç«¯">#</a>UDP å‘é€ç«¯</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.chat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.InetSocketAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySender</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    DatagramSocket socket = <span class="keyword">null</span>;</span><br><span class="line">    BufferedReader reader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> String toIP;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> fromPort;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> toPort;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MySender</span><span class="params">(String toIP, <span class="keyword">int</span> fromPort, <span class="keyword">int</span> toPort)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.toIP = toIP;</span><br><span class="line">        <span class="keyword">this</span>.fromPort = fromPort;</span><br><span class="line">        <span class="keyword">this</span>.toPort = toPort;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            socket = <span class="keyword">new</span> DatagramSocket(fromPort);</span><br><span class="line">            reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SocketException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                String data = reader.readLine();</span><br><span class="line">                <span class="keyword">byte</span>[] buffer = data.getBytes();</span><br><span class="line">                DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(buffer, <span class="number">0</span>, buffer.length, <span class="keyword">new</span> InetSocketAddress(toIP, toPort));</span><br><span class="line">                socket.send(packet);</span><br><span class="line">                <span class="keyword">if</span> (data.trim().equals(<span class="string">"bye"</span>)) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="udp-æ¥æ”¶ç«¯"><a class="header-anchor" href="#udp-æ¥æ”¶ç«¯">#</a>UDP æ¥æ”¶ç«¯</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.chat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.DatagramPacket;</span><br><span class="line"><span class="keyword">import</span> java.net.DatagramSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyReceiver</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    DatagramSocket socket = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> port;</span><br><span class="line">    <span class="keyword">private</span> String from;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyReceiver</span><span class="params">(<span class="keyword">int</span> port, String from)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.port = port;</span><br><span class="line">        <span class="keyword">this</span>.from = from;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            socket = <span class="keyword">new</span> DatagramSocket(port);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SocketException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">                DatagramPacket packet = <span class="keyword">new</span> DatagramPacket(buffer, buffer.length);</span><br><span class="line">                socket.receive(packet);</span><br><span class="line">                <span class="keyword">byte</span>[] data = packet.getData();</span><br><span class="line">                String message = <span class="keyword">new</span> String(data, <span class="number">0</span>, data.length);</span><br><span class="line">                System.out.println(from + <span class="string">" : "</span> + message);</span><br><span class="line">                <span class="keyword">if</span> (message.trim().equals(<span class="string">"bye"</span>)) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•ç±»"><a class="header-anchor" href="#æµ‹è¯•ç±»">#</a>æµ‹è¯•ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.chat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TalkStudent</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> MySender(<span class="string">"localhost"</span>,<span class="number">7777</span>,<span class="number">9999</span>)).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> MyReceiver(<span class="number">8888</span>,<span class="string">"teacher"</span>)).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> xyz.onns.chat;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TalkTeacher</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> MySender(<span class="string">"localhost"</span>,<span class="number">5555</span>,<span class="number">8888</span>)).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> TalkReceiver(<span class="number">9999</span>,<span class="string">"student"</span>)).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> learn </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> java </tag>
            
            <tag> idea </tag>
            
            <tag> tips </tag>
            
            <tag> idea tips </tag>
            
            <tag> udp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®æ”¹æ–‡ä»¶æ ¼å¼</title>
      <link href="/blog/2020/08/17/change-file-format/"/>
      <url>/blog/2020/08/17/change-file-format/</url>
      
        <content type="html"><![CDATA[<p>MacOSã€Linux å’Œ Windows ä¸‹ä½¿ç”¨ä¸åŒçš„ç”Ÿæˆå·¥å…·å¯èƒ½ä¼šæœ‰ä¸åŒçš„æ–‡ä»¶æ ¼å¼ï¼š<code>LF</code>æˆ–è€…<code>CRLF</code>ç­‰ï¼Œå¯¼è‡´æ¯æ¬¡ github åœ¨åŒæ­¥çš„æ—¶å€™ï¼Œéƒ½ä¼šå‡ºç°å…¶å®å†…å®¹æ²¡æ›´æ–°ï¼Œä½†æ˜¯æ–‡ä»¶å´æ›´æ–°äº†çš„<code>ä¼ªæ›´æ–°æƒ…å†µ</code>ã€‚</p><a id="more"></a><h2 id="æ–°çš„æ–‡ä»¶"><a class="header-anchor" href="#æ–°çš„æ–‡ä»¶">#</a>æ–°çš„æ–‡ä»¶</h2><p>å¯¹äºä¹‹åçš„æ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒ <a href="https://docs.github.com/en/github/using-git/configuring-git-to-handle-line-endings" target="_blank" rel="noopener">Configuring Git to handle line endings</a>ï¼Œé€šè¿‡é…ç½®<code>git</code>æ¥å®ç°è‡ªåŠ¨å…¼å®¹ï¼Œå°±ä¸ç”¨æˆ‘ä»¬è‡ªå·±è€ƒè™‘äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.autocrlf <span class="literal">true</span></span><br><span class="line"><span class="comment"># Configure Git to ensure line endings in files you checkout are correct for Windows.</span></span><br><span class="line"><span class="comment"># For compatibility, line endings are converted to Unix style when you commit files.</span></span><br></pre></td></tr></table></figure><h2 id="æ—§çš„æ–‡ä»¶"><a class="header-anchor" href="#æ—§çš„æ–‡ä»¶">#</a>æ—§çš„æ–‡ä»¶</h2><p>å¯ä»¥é€šè¿‡<code>unix2dos</code>å·¥å…·æ¥æ‰¹é‡è¿›è¡Œè½¬æ¢ï¼Œå®˜ç½‘ï¼š<a href="http://dos2unix.sourceforge.net/" target="_blank" rel="noopener">Dos2Unix / Unix2Dos - Text file format converters</a>ï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://sourceforge.net/projects/dos2unix/" target="_blank" rel="noopener">dos2unix</a>ã€‚</p><p>ä¸‹è½½è§£å‹ä¹‹åçš„ bin æ–‡ä»¶å¤¹é‡Œæœ‰æˆ‘ä»¬éœ€è¦çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘çš„æ˜¯<code>D:\Download\dos2unix-7.4.1-win64\bin\unix2dos.exe</code>ã€‚</p><ol><li>æ‰“å¼€å‘½ä»¤è¡Œ<code>win+R</code>ï¼Œè¾“å…¥<code>cmd</code>ï¼Œå›è½¦ã€‚</li><li><code>cd</code>å®šä½åˆ°æ‰€éœ€è¦çš„æ‰¹é‡å¤„ç†çš„æ ¹ç›®å½•ã€‚</li><li>è¾“å…¥ä¸‹åˆ—å‘½ä»¤ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> /R %G <span class="keyword">in</span> (*.md *.html) <span class="keyword">do</span> D:\Download\dos2unix-7.4.1-win64\bin\unix2dos.exe <span class="string">"%G"</span></span><br><span class="line"><span class="comment"># *.md ä»£è¡¨ä»¥æ‰€æœ‰mdç»“å°¾çš„æ–‡ä»¶</span></span><br></pre></td></tr></table></figure></li><li>å®Œæˆã€‚</li></ol><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="http://dos2unix.sourceforge.net/" target="_blank" rel="noopener">Dos2Unix / Unix2Dos - Text file format converters</a></li><li><a href="https://blog.csdn.net/panda1234lee/article/details/89289097" target="_blank" rel="noopener">æ‰¹é‡è½¬æ¢ LF å’Œ CRLF çš„å°æŠ€å·§ã€è¯¦ç»†æ­¥éª¤ã€‘</a></li><li><a href="https://docs.github.com/en/github/using-git/configuring-git-to-handle-line-endings" target="_blank" rel="noopener">Configuring Git to handle line endings</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> crlf </tag>
            
            <tag> lf </tag>
            
            <tag> file format </tag>
            
            <tag> æ–‡ä»¶æ ¼å¼ </tag>
            
            <tag> github </tag>
            
            <tag> line endings </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨ngrokè¿›è¡Œå†…ç½‘ç©¿é€</title>
      <link href="/blog/2020/08/17/intranet-penetration-use-ngrok/"/>
      <url>/blog/2020/08/17/intranet-penetration-use-ngrok/</url>
      
        <content type="html"><![CDATA[<p>ç¬¬ä¸‰æ–¹ç™»å½•å¦å¤§è´¦å·çš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°å†…ç½‘ç©¿é€ã€‚ä»¥ä¸‹ä¸ºç›¸å…³æ–‡æ¡£ã€‚</p><a id="more"></a><h2 id="å®‰è£…-ngrok"><a class="header-anchor" href="#å®‰è£…-ngrok">#</a>å®‰è£… ngrok</h2><p>å®‰è£…ä¾èµ–ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc git mercurial git bzr subversion golang golang-pkg-windows-amd64 golang-pkg-windows-386 -y</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ ngrok æºç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/inconshreveable/ngrok.git ngrok</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆè¯ä¹¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ngrok</span><br><span class="line"></span><br><span class="line">mkdir cert</span><br><span class="line"><span class="built_in">cd</span> cert</span><br><span class="line"><span class="comment"># NGROK_DOMAIN æ ¹æ®è‡ªå·±çš„é…ç½®ä¿®æ”¹</span></span><br><span class="line"><span class="built_in">export</span> NGROK_DOMAIN=<span class="string">"onns.xyz"</span></span><br><span class="line">openssl genrsa -out rootCA.key 2048</span><br><span class="line">openssl req -x509 -new -nodes -key rootCA.key -subj <span class="string">"/CN=<span class="variable">$NGROK_DOMAIN</span>"</span> -days 5000 -out rootCA.pem</span><br><span class="line">openssl genrsa -out device.key 2048</span><br><span class="line">openssl req -new -key device.key -subj <span class="string">"/CN=<span class="variable">$NGROK_DOMAIN</span>"</span> -out device.csr</span><br><span class="line">openssl x509 -req -<span class="keyword">in</span> device.csr -CA rootCA.pem -CAkey rootCA.key -CAcreateserial -out device.crt -days 5000</span><br><span class="line"></span><br><span class="line">cp rootCA.pem ../assets/client/tls/ngrokroot.crt</span><br><span class="line">cp device.crt ../assets/server/tls/snakeoil.crt</span><br><span class="line">cp device.key ../assets/server/tls/snakeoil.key</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›ä¸Šå±‚ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure><p><code>NGROK_DOMAIN</code>åŸŸåæ¢æˆ ngrok æœåŠ¡å™¨åŸŸåï¼Œå»ºè®®ç”¨ä¸€ä¸ªäºŒçº§åŸŸåï¼Œæ¯”å¦‚ï¼š<code>ngrok.onns.xyz</code>ï¼Œå› ä¸ºå¦‚æœç”¨ä¸€ä¸ªä¸€çº§åŸŸåæ¯”å¦‚<code>onns.xyz</code>ï¼Œé‚£æ•´ä¸ªä¸€çº§åŸŸåéƒ½æ²¡åŠæ³•ç”¨äº†ï¼Œå› ä¸ºä¸€çº§åŸŸåå¿…é¡»è¦æŒ‡å‘ ngrok æœåŠ¡å™¨ã€‚</p><p>ç¼–è¯‘æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># LinuxæœåŠ¡ç«¯</span></span><br><span class="line">GOOS=linux GOARCH=amd64 make release-server</span><br><span class="line"><span class="comment"># Windowså®¢æˆ·ç«¯</span></span><br><span class="line">GOOS=windows GOARCH=amd64 make release-client</span><br></pre></td></tr></table></figure><p>å…¶å®ƒå‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># LinuxæœåŠ¡ç«¯/å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="comment"># 32ä½</span></span><br><span class="line">GOOS=linux GOARCH=386 make release-server</span><br><span class="line">GOOS=linux GOARCH=386 make release-client</span><br><span class="line"><span class="comment"># 64ä½</span></span><br><span class="line">GOOS=linux GOARCH=amd64 make release-server</span><br><span class="line">GOOS=linux GOARCH=amd64 make release-client</span><br><span class="line"></span><br><span class="line"><span class="comment"># MacOSæœåŠ¡ç«¯/å®¢æˆ·ç«¯</span></span><br><span class="line">GOOS=darwin GOARCH=386 make release-server</span><br><span class="line">GOOS=darwin GOARCH=386 make release-client</span><br><span class="line"></span><br><span class="line">GOOS=darwin GOARCH=amd64 make release-server</span><br><span class="line">GOOS=darwin GOARCH=amd64 make release-client</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># WindowsæœåŠ¡ç«¯/å®¢æˆ·ç«¯</span></span><br><span class="line">GOOS=windows GOARCH=386 make release-server</span><br><span class="line">GOOS=windows GOARCH=386 make release-client</span><br><span class="line"></span><br><span class="line">GOOS=windows GOARCH=amd64 make release-server</span><br><span class="line">GOOS=windows GOARCH=amd64 make release-client</span><br></pre></td></tr></table></figure><h2 id="æœåŠ¡å™¨ç«¯"><a class="header-anchor" href="#æœåŠ¡å™¨ç«¯">#</a>æœåŠ¡å™¨ç«¯</h2><p>æµ‹è¯•ä¸€ä¸‹èƒ½å¦è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">./bin/ngrokd -domain=<span class="string">"onns.xyz"</span> -httpAddr=<span class="string">":82"</span> -httpsAddr=<span class="string">":83"</span></span><br></pre></td></tr></table></figure><p>ngrok é»˜è®¤ä¼šå <code>80</code>å’Œ<code>443</code>ç«¯å£ï¼ŒæœåŠ¡å™¨åªç”¨æ¥åš ngrok æœåŠ¡å™¨å¤ªå¯æƒœäº†ï¼Œæ‰€ä»¥ç”¨åˆ«çš„ç«¯å£æ¥ä»£æ›¿ã€‚</p><p>å¦‚æœåç»­æµ‹è¯•ä¸é€šè¿‡ï¼Œå¯ä»¥æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯ç«¯å£é—®é¢˜ï¼ŒæŠŠæœåŠ¡å™¨å’Œäº‘æœåŠ¡å™¨å•†çš„ç«¯å£è®¿é—®æ‰“å¼€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo iptables -I INPUT -p tcp --dport 82 -j ACCEPT</span><br><span class="line">sudo iptables -I INPUT -p tcp --dport 83 -j ACCEPT</span><br></pre></td></tr></table></figure><p>ç„¶åå¯ä»¥è®¾ç½®å¸¸é©»åå°ä»»åŠ¡äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br><span class="line">nohup ./bin/ngrokd -domain=<span class="string">"onns.xyz"</span> -httpAddr=<span class="string">":82"</span> -httpsAddr=<span class="string">":83"</span> &gt;&gt; /home/deploy/ngrok/a.txt 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><h2 id="å®¢æˆ·ç«¯"><a class="header-anchor" href="#å®¢æˆ·ç«¯">#</a>å®¢æˆ·ç«¯</h2><p>åˆ›å»ºä¸€ä¸ª<code>ngrok.cfg</code>æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">server_addr: <span class="string">"onns.xyz:4443"</span></span><br><span class="line">trust_host_root_certs: <span class="literal">false</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ngrok -config=ngrok.cfg -subdomain x 81</span><br></pre></td></tr></table></figure><p>éœ€è¦æŠŠ<code>onns.xyz</code>å’Œ<code>x.onns.xyz</code>éƒ½æŒ‡å‘ ngrok çš„æœåŠ¡å™¨ã€‚</p><h2 id="ç»“å°¾"><a class="header-anchor" href="#ç»“å°¾">#</a>ç»“å°¾</h2><p>è¿˜æ˜¯æ¯”è¾ƒæ¨èç”¨äºŒçº§åŸŸååš ngrok æœåŠ¡å™¨ï¼Œå†ç”¨ä¸‰çº§åŸŸååšå†…ç½‘ç©¿é€ã€‚è¿™æ ·ä¸ä¼šæµªè´¹ä¸€ä¸ªåŸŸåã€‚å› ä¸ºä¸€çº§åŸŸåå’ŒäºŒçº§åŸŸåéƒ½è¦æŒ‡å‘ ngrok æœåŠ¡å™¨ã€‚ngrok æœåŠ¡éœ€è¦<code>nçº§</code>å’Œ<code>n+1çº§</code>åŸŸåã€‚</p><p>ç”»ä¸ªå›¾å¸®åŠ©ç†è§£ä¸€ä¸‹ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200817-1.png" alt="ngorkå·¥ä½œæµç¨‹å›¾"></p></center><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://www.jianshu.com/p/f5c2a55e77bd" target="_blank" rel="noopener">æœ€æ¥åœ°æ°”çš„ Ngrok æœåŠ¡å™¨æ­å»ºæ•™ç¨‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> work </category>
          
      </categories>
      
      
        <tags>
            
            <tag> intranet penetration </tag>
            
            <tag> ngrok </tag>
            
            <tag> doc </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šéƒ¨é—¨å·¥èµ„å‰ä¸‰é«˜çš„æ‰€æœ‰å‘˜å·¥</title>
      <link href="/blog/2020/08/14/solution-of-department-top-three-salaries/"/>
      <url>/blog/2020/08/14/solution-of-department-top-three-salaries/</url>
      
        <content type="html"><![CDATA[<h2 id="185-éƒ¨é—¨å·¥èµ„å‰ä¸‰é«˜çš„æ‰€æœ‰å‘˜å·¥"><a class="header-anchor" href="#185-éƒ¨é—¨å·¥èµ„å‰ä¸‰é«˜çš„æ‰€æœ‰å‘˜å·¥">#</a><a href="https://leetcode-cn.com/problems/department-top-three-salaries/" target="_blank" rel="noopener">185. éƒ¨é—¨å·¥èµ„å‰ä¸‰é«˜çš„æ‰€æœ‰å‘˜å·¥</a></h2><p><code>Employee</code> è¡¨åŒ…å«æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œæ¯ä¸ªå‘˜å·¥æœ‰å…¶å¯¹åº”çš„å·¥å·Â <code>Id</code>ï¼Œå§“å <code>Name</code>ï¼Œå·¥èµ„ <code>Salary</code> å’Œéƒ¨é—¨ç¼–å· <code>DepartmentId</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+----+-------+--------+--------------+</span><br><span class="line">| Id | Name  | Salary | DepartmentId |</span><br><span class="line">+----+-------+--------+--------------+</span><br><span class="line">| 1  | Joe   | 85000  | 1            |</span><br><span class="line">| 2  | Henry | 80000  | 2            |</span><br><span class="line">| 3  | Sam   | 60000  | 2            |</span><br><span class="line">| 4  | Max   | 90000  | 1            |</span><br><span class="line">| 5  | Janet | 69000  | 1            |</span><br><span class="line">| 6  | Randy | 85000  | 1            |</span><br><span class="line">| 7  | Will  | 70000  | 1            |</span><br><span class="line">+----+-------+--------+--------------+</span><br></pre></td></tr></table></figure><p><code>Department</code> è¡¨åŒ…å«å…¬å¸æ‰€æœ‰éƒ¨é—¨çš„ä¿¡æ¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+----+----------+</span><br><span class="line">| Id | Name     |</span><br><span class="line">+----+----------+</span><br><span class="line">| 1  | IT       |</span><br><span class="line">| 2  | Sales    |</span><br><span class="line">+----+----------+</span><br></pre></td></tr></table></figure><p>ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œæ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨è·å¾—å‰ä¸‰é«˜å·¥èµ„çš„æ‰€æœ‰å‘˜å·¥ã€‚ä¾‹å¦‚ï¼Œæ ¹æ®ä¸Šè¿°ç»™å®šçš„è¡¨ï¼ŒæŸ¥è¯¢ç»“æœåº”è¿”å›ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+------------+----------+--------+</span><br><span class="line">| Department | Employee | Salary |</span><br><span class="line">+------------+----------+--------+</span><br><span class="line">| IT         | Max      | 90000  |</span><br><span class="line">| IT         | Randy    | 85000  |</span><br><span class="line">| IT         | Joe      | 85000  |</span><br><span class="line">| IT         | Will     | 70000  |</span><br><span class="line">| Sales      | Henry    | 80000  |</span><br><span class="line">| Sales      | Sam      | 60000  |</span><br><span class="line">+------------+----------+--------+</span><br></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><p>IT éƒ¨é—¨ä¸­ï¼ŒMax è·å¾—äº†æœ€é«˜çš„å·¥èµ„ï¼ŒRandy å’Œ Joe éƒ½æ‹¿åˆ°äº†ç¬¬äºŒé«˜çš„å·¥èµ„ï¼ŒWill çš„å·¥èµ„æ’ç¬¬ä¸‰ã€‚é”€å”®éƒ¨é—¨ï¼ˆSalesï¼‰åªæœ‰ä¸¤åå‘˜å·¥ï¼ŒHenry çš„å·¥èµ„æœ€é«˜ï¼ŒSam çš„å·¥èµ„æ’ç¬¬äºŒã€‚</p><a id="more"></a><h2 id="å®‰è£…-mysql"><a class="header-anchor" href="#å®‰è£…-mysql">#</a>å®‰è£… Mysql</h2><h3 id="å®‰è£…-yum-æº"><a class="header-anchor" href="#å®‰è£…-yum-æº">#</a>å®‰è£… yum æº</h3><p>å»å®˜ç½‘ä¸‹<code>RPMåŒ…</code>ï¼š<a href="https://dev.mysql.com/downloads/repo/yum/" target="_blank" rel="noopener">MySQL Community Downloads</a>ã€‚</p><p>æŒ‰ç…§è‡ªå·±çš„ Linux ç‰ˆæœ¬å®‰è£…ï¼Œæˆ‘çš„æ˜¯<code>CentOS7</code>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ hostnamectl</span><br><span class="line">   Static hostname: izbp1j6rl141pt0isn2vusz</span><br><span class="line">   Pretty hostname: iZbp1j6rl141pt0isn2vusZ</span><br><span class="line">         Icon name: computer-vm</span><br><span class="line">           Chassis: vm</span><br><span class="line">        Machine ID: 963c2c41b08343f7b063dddac6b2e486</span><br><span class="line">           Boot ID: 9da023d194834a8aa4c95d07edd77b93</span><br><span class="line">    Virtualization: kvm</span><br><span class="line">  Operating System: CentOS Linux 7 (Core)</span><br><span class="line">       CPE OS Name: cpe:/o:centos:centos:7</span><br><span class="line">            Kernel: Linux 3.10.0-1127.13.1.el7.x86_64</span><br><span class="line">      Architecture: x86-64</span><br><span class="line">$ uname -srm</span><br><span class="line">Linux 3.10.0-1127.13.1.el7.x86_64 x86_64</span><br><span class="line">$ cat /proc/version</span><br><span class="line">Linux version 3.10.0-1127.13.1.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-39) (GCC) ) <span class="comment">#1 SMP Tue Jun 23 15:46:38 UTC 2020</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</span><br><span class="line">yum -y install mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-mysql-2"><a class="header-anchor" href="#å®‰è£…-mysql-2">#</a>å®‰è£… mysql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install mysql-community-server -y</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨"><a class="header-anchor" href="#å¯åŠ¨">#</a>å¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br></pre></td></tr></table></figure><h3 id="è·å–åˆå§‹å¯†ç "><a class="header-anchor" href="#è·å–åˆå§‹å¯†ç ">#</a>è·å–åˆå§‹å¯†ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ grep <span class="string">"password"</span> /var/<span class="built_in">log</span>/mysqld.log</span><br><span class="line">2020-08-14T10:35:15.878806Z 6 [Note] [MY-010454] [Server] A temporary password is generated <span class="keyword">for</span> root@localhost: o%HZ6*EoVuDy</span><br></pre></td></tr></table></figure><h3 id="ç™»å½•"><a class="header-anchor" href="#ç™»å½•">#</a>ç™»å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -uroot -p</span><br><span class="line"><span class="comment"># ä¿®æ”¹æ–°å¯†ç </span></span><br><span class="line">&gt; ALTER USER <span class="string">'root'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'new_password'</span>;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºæ•°æ®åº“"><a class="header-anchor" href="#åˆ›å»ºæ•°æ®åº“">#</a>åˆ›å»ºæ•°æ®åº“</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> onns;</span><br><span class="line"><span class="comment"># åˆ‡æ¢æ•°æ®åº“</span></span><br><span class="line"><span class="keyword">use</span> onns;</span><br></pre></td></tr></table></figure><h2 id="sql-æ¶æ„"><a class="header-anchor" href="#sql-æ¶æ„">#</a>SQL æ¶æ„</h2><p>å•Šå•Šå•Šå•Šå•Šå•Šå•Šè¿™ä¸ªå­—å±…ç„¶æ˜¯ç°è‰²çš„æˆ‘æ²¡çœ‹è§ï¼Œç»“æœè‡ªå·±æ‰‹æ‰“äº†ä¸€éï¼Œæˆ‘çœŸæ˜¯é†‰äº†ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> Employee (</span><br><span class="line"><span class="keyword">Id</span> <span class="built_in">int</span>,</span><br><span class="line"><span class="keyword">Name</span> <span class="built_in">varchar</span>(<span class="number">255</span>),</span><br><span class="line">Salary <span class="built_in">int</span>,</span><br><span class="line">DepartmentId <span class="built_in">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> Department (</span><br><span class="line"><span class="keyword">Id</span> <span class="built_in">int</span>,</span><br><span class="line"><span class="keyword">Name</span> <span class="built_in">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> Employee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'1'</span>, <span class="string">'Joe'</span>, <span class="string">'85000'</span>, <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'2'</span>, <span class="string">'Henry'</span>, <span class="string">'80000'</span>, <span class="string">'2'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'3'</span>, <span class="string">'Sam'</span>, <span class="string">'60000'</span>, <span class="string">'2'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'4'</span>, <span class="string">'Max'</span>, <span class="string">'90000'</span>, <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'5'</span>, <span class="string">'Janet'</span>, <span class="string">'69000'</span>, <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'6'</span>, <span class="string">'Randy'</span>, <span class="string">'85000'</span>, <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employee (<span class="keyword">Id</span>, <span class="keyword">Name</span>, Salary, DepartmentId)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'7'</span>, <span class="string">'Will'</span>, <span class="string">'70000'</span>, <span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> Department;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Department (<span class="keyword">Id</span>, <span class="keyword">Name</span>)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'1'</span>, <span class="string">'IT'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Department (<span class="keyword">Id</span>, <span class="keyword">Name</span>)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="string">'2'</span>, <span class="string">'Sales'</span>);</span><br></pre></td></tr></table></figure><h2 id="ç»“æœ"><a class="header-anchor" href="#ç»“æœ">#</a>ç»“æœ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> Employee e1</span><br><span class="line"><span class="keyword">WHERE</span> <span class="number">3</span> &gt; (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> <span class="string">`Salary`</span>)</span><br><span class="line"><span class="keyword">FROM</span> <span class="string">`Employee`</span> e2</span><br><span class="line"><span class="keyword">WHERE</span> e2.Salary &gt; e1.Salary</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> d.Name <span class="keyword">AS</span> Department, e1.Name <span class="keyword">AS</span> Employee, e1.Salary <span class="keyword">AS</span> Salary</span><br><span class="line"><span class="keyword">FROM</span> Employee e1</span><br><span class="line"><span class="keyword">JOIN</span> Department d <span class="keyword">ON</span> e1.DepartmentId = d.Id</span><br><span class="line"><span class="keyword">WHERE</span> <span class="number">3</span> &gt; (</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> <span class="string">`Salary`</span>)</span><br><span class="line"><span class="keyword">FROM</span> <span class="string">`Employee`</span> e2</span><br><span class="line"><span class="keyword">WHERE</span> e2.Salary &gt; e1.Salary</span><br><span class="line"><span class="keyword">AND</span> e1.DepartmentId = e2.DepartmentId</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/xiaolong_4_2/article/details/81664582" target="_blank" rel="noopener">centos7 ä¸Šå¿«é€Ÿå®‰è£… mysql</a></li><li><a href="https://tool.oschina.net/codeformat/sql" target="_blank" rel="noopener">åœ¨çº¿ä»£ç æ ¼å¼åŒ–</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> centos7 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ ç¬”è®°-20200813</title>
      <link href="/blog/2020/08/13/note-20200813/"/>
      <url>/blog/2020/08/13/note-20200813/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ¶å®šæ·±å…¥çš„ä¸“æ³¨åˆ†æ•°é¢„æµ‹æé«˜å­¦ç”Ÿå‚ä¸åº¦"><a class="header-anchor" href="#åˆ¶å®šæ·±å…¥çš„ä¸“æ³¨åˆ†æ•°é¢„æµ‹æé«˜å­¦ç”Ÿå‚ä¸åº¦">#</a>åˆ¶å®šæ·±å…¥çš„ä¸“æ³¨åˆ†æ•°é¢„æµ‹æé«˜å­¦ç”Ÿå‚ä¸åº¦</h2><p>Prescribing Deep Attentive Score Prediction AttractsImproved Student Engagement</p><a id="more"></a><ul><li>å°†æ·±åº¦å­¦ä¹ æ¨¡å‹å¼•å…¥æ™ºèƒ½è¾…å¯¼ç³»ç»Ÿ</li><li>ä¹‹å‰çš„ç ”ç©¶éƒ½åœ¨å…³æ³¨æé«˜é¢„æµ‹æ¨¡å‹çš„æ€§èƒ½ä¸Šï¼Œç¼ºä¹å¯¹å…¶å®é™…åº”ç”¨æ‰€äº§ç”Ÿæ•ˆç›Šçš„å…³æ³¨ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æä¾›ç»éªŒè¯æ®æ¥è¯æ˜ï¼Œåœ¨ç°å®ç¯å¢ƒä¸­éƒ¨ç½²çš„åˆ†æ•°é¢„æµ‹æ¨¡å‹çš„å‡†ç¡®æ€§æ˜¾è‘—å½±å“ç”¨æˆ·çš„æµ‹é‡ã€‚</li></ul><h2 id="é¢„æµ‹è§†é¢‘è®²åº§çš„å‚ä¸åº¦"><a class="header-anchor" href="#é¢„æµ‹è§†é¢‘è®²åº§çš„å‚ä¸åº¦">#</a>é¢„æµ‹è§†é¢‘è®²åº§çš„å‚ä¸åº¦</h2><p>Predicting Engagement in Video Lectures</p><h3 id="æ‘˜è¦"><a class="header-anchor" href="#æ‘˜è¦">#</a>æ‘˜è¦</h3><p>è¿‘å¹´æ¥å¼€æ”¾å¼æ•™è‚²èµ„æºï¼ˆOpen Educational Resourcesï¼‰çš„æ¿€å¢ï¼Œäº§ç”Ÿäº†å¯¹å¯æ‰©å±•ã€è‡ªåŠ¨åŒ–çš„å¼€æ”¾å¼æ•™è‚²èµ„æºå¤„ç†å’Œè¯„ä¼°çš„éœ€æ±‚ï¼Œæœ€ç»ˆç›®æ ‡æ˜¯ä¸ºå­¦ä¹ è€…ç¡®å®šå’Œæ¨èæœ€åˆé€‚çš„æ•™è‚²ææ–™ã€‚æˆ‘ä»¬ä¸“æ³¨äºæ„å»ºæ¨¡å‹ï¼Œä»¥å‘ç°ä¸Šä¸‹æ–‡ä¸å¯çŸ¥çš„å‚ä¸ï¼ˆå³åŸºäºäººå£çš„å‚ä¸ï¼‰æ‰€æ¶‰åŠçš„ç‰¹å¾å’Œç‰¹å¾ï¼Œä¸å…¶ä»–æ›´æ³¨é‡ä¸ªä½“å­¦ä¹ çš„ä¸Šä¸‹æ–‡åŒ–å’Œä¸ªæ€§åŒ–æ–¹æ³•ç›¸æ¯”ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå°‘è¢«é‡æ–°æœç´¢çš„ä¸»é¢˜ã€‚å­¦ä¹ è€…å‚ä¸åº¦ï¼Œå¯ä»¥è¯´æ˜¯æ¯”å—æ¬¢è¿ç¨‹åº¦/è§‚ç‚¹æ•°é‡æ›´å¯é çš„è¡¡é‡æ ‡å‡†ï¼Œæ¯”ç”¨æˆ·è¯„åˆ†æ›´ä¸°å¯Œï¼Œä¹Ÿè¢«è¯æ˜æ˜¯å®ç°å­¦ä¹ æˆæœçš„å…³é”®ç»„æˆéƒ¨åˆ†ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†å»ºç«‹ä¸€ä¸ªä»¥äººå£ä¸ºåŸºç¡€çš„æ•™è‚²å‚ä¸é¢„æµ‹æ¨¡å‹çš„æƒ³æ³•ã€‚æˆ‘ä»¬ä»‹ç»äº†ä¸€ä¸ªæ–°é¢–çš„ï¼Œå¤§çš„è§†é¢‘è®²åº§æ•°æ®é›†ï¼Œç”¨äºé¢„æµ‹ä¸Šä¸‹æ–‡æ— å…³å‚ä¸ï¼Œå¹¶æå‡ºäº†ä¸¤ä¸ªè·¨æ¨¡æ€æ¨¡æ€æ¨¡æ€ç‰¹å®šçš„åŠŸèƒ½é›†ï¼Œä»¥å®ç°è¿™ä¸€ä»»åŠ¡ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥æµ‹è¯•äº†é‡åŒ–å­¦ä¹ è€…æµ‹é‡ä¿¡å·çš„ä¸åŒç­–ç•¥ã€‚æˆ‘ä»¬æ¼”ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ³•åœ¨æ•°æ®ç¨€ç¼ºæƒ…å†µä¸‹çš„åº”ç”¨ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯¹è¡¨ç°æœ€ä½³çš„æ¨¡å‹è¿›è¡Œäº†æ•æ„Ÿåº¦åˆ†æï¼Œè¯¥æ¨¡å‹æ˜¾ç¤ºå‡ºè‰¯å¥½çš„æ€§èƒ½ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆå®¹æ˜“åœ°é›†æˆåˆ°é¢å‘å¼€æ”¾å¼æ•™è‚²èµ„æºçš„æ•™è‚²æ¨èç³»ç»Ÿä¸­ã€‚</p><h3 id="å¤‡æ³¨"><a class="header-anchor" href="#å¤‡æ³¨">#</a>å¤‡æ³¨</h3><ul><li>æºç &amp;æ•°æ®é›†ï¼š<a href="https://github.com/sahanbull/context-agnostic-engagement" target="_blank" rel="noopener">https://github.com/sahanbull/context-agnostic-engagement</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> engagement </tag>
            
            <tag> å‚ä¸åº¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ä¿®å¤è¶…é•¿ç›®å½•çš„æ˜¾ç¤º</title>
      <link href="/blog/2020/08/12/blog-toc-fix/"/>
      <url>/blog/2020/08/12/blog-toc-fix/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘å‘ç°æˆ‘æ€»æ˜¯éœ€è¦è§£å†³ä¸€ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆè§£å†³è‹¥å¹²ä¸ªå‰ç½®é—®é¢˜ï¼Œå·®ä¸å¤šèŠ±äº†å…«ä¸ªå°æ—¶å·¦å³â€¦è§£å†³äº†è¶…é•¿ toc çš„æ»šåŠ¨é—®é¢˜ã€‚</p><a id="more"></a><h2 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h2><p>ä¸æ„¿æ„å¾€ä¸‹çœ‹çš„å¯ä»¥ç›´æ¥åœ¨<code>/source/js/src/even.js</code>é‡Œçš„<code>Even.prototype.scrollToc</code>æ›¿æ¢å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">Even.prototype.scrollToc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> SPACING = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">var</span> $toc = $(<span class="string">".post-toc"</span>);</span><br><span class="line">  <span class="keyword">var</span> $footer = $(<span class="string">".post-footer"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ($toc.length) &#123;</span><br><span class="line">    <span class="keyword">var</span> minScrollTop = $toc.offset().top - SPACING;</span><br><span class="line">    $(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> tocState = &#123;</span><br><span class="line">        start: &#123;</span><br><span class="line">          position: <span class="string">"absolute"</span>,</span><br><span class="line">          top: minScrollTop,</span><br><span class="line">        &#125;,</span><br><span class="line">        process: &#123;</span><br><span class="line">          position: <span class="string">"fixed"</span>,</span><br><span class="line">          top: SPACING,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">var</span> scrollTop = $(<span class="built_in">window</span>).scrollTop();</span><br><span class="line">      <span class="keyword">if</span> (scrollTop &lt; minScrollTop) &#123;</span><br><span class="line">        $toc.css(tocState.start);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $toc.css(tocState.process);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          $(<span class="string">".toc-link.active"</span>).offset() != <span class="literal">undefined</span> &amp;&amp;</span><br><span class="line">          $(<span class="string">".toc-link.active"</span>).offset().top -</span><br><span class="line">            <span class="built_in">document</span>.documentElement.scrollTop &gt;</span><br><span class="line">            (<span class="built_in">window</span>.innerHeight * <span class="number">1</span>) / <span class="number">2</span></span><br><span class="line">        ) &#123;</span><br><span class="line">          $(<span class="string">".post-toc"</span>).offset(&#123;</span><br><span class="line">            top: <span class="built_in">Math</span>.min(</span><br><span class="line">              $footer.offset().top - $toc.height() - SPACING,</span><br><span class="line">              (<span class="built_in">window</span>.innerHeight * <span class="number">1</span>) / <span class="number">2</span> +</span><br><span class="line">                <span class="built_in">document</span>.documentElement.scrollTop -</span><br><span class="line">                ($(<span class="string">".toc-link.active"</span>).offset().top -</span><br><span class="line">                  $(<span class="string">".post-toc"</span>).offset().top)</span><br><span class="line">            ),</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          $footer.offset().top &lt;</span><br><span class="line">          $(<span class="string">".post-toc"</span>).offset().top + $toc.height() + SPACING</span><br><span class="line">        ) &#123;</span><br><span class="line">          $(<span class="string">".post-toc"</span>).offset(&#123;</span><br><span class="line">            top: $footer.offset().top - $toc.height() - SPACING,</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…·ä½“æ•ˆæœå¯ä»¥å»<a href="https://onns.xyz/blog/2020/08/12/sync-sofa-doc/">Sync Sofa</a>é‡Œçœ‹ï¼Œä¸ªäººè®¤ä¸ºæ˜¯æœ€ä¼˜è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="é—®é¢˜"><a class="header-anchor" href="#é—®é¢˜">#</a>é—®é¢˜</h2><p>åœ¨è¿™ä¸ªä¸»é¢˜çš„<code>toc</code>è¶…å‡ºæµè§ˆå™¨é¡µé¢é«˜åº¦ä¹‹åï¼Œä¼šæ²¡åŠæ³•æ˜¾ç¤ºæ‰€æœ‰çš„ç›®å½•ä¿¡æ¯ï¼Œå¯¼è‡´é˜…è¯»éšœç¢ã€‚</p><p>ä¸ªäººè®¤ä¸ºæ¯”è¾ƒå¯è¡Œçš„æ–¹æ¡ˆæœ‰ä¸‰ä¸ªï¼š</p><ol><li>æŠ˜å å­æ ‡é¢˜</li><li>ç›®å½•æ”¯æŒæ»šè½®</li><li>ç›®å½•è·Ÿéšæ–‡æ¡£ä¸€èµ·æ»šåŠ¨</li></ol><p>å…ˆè¯´ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿæ˜¯æˆ‘çœ‹è¿™ä¸ªä¸»é¢˜çš„<a href="https://github.com/ahonn/hexo-theme-even/issues/248" target="_blank" rel="noopener">issue</a>æ—¶é‡Œé¢æåˆ°çš„ï¼Œæ•ˆæœå¯ä»¥å»çœ‹<a href="https://hugo-theme-even.netlify.app/post/even-preview/" target="_blank" rel="noopener">Theme preview</a>ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºå¦‚æœæç«¯æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„æ ‡é¢˜éƒ½æ˜¯åŒä¸€çº§çš„ï¼Œé‚£åŠ¿å¿…æ²¡åŠæ³•è¿›è¡Œå­æ ‡é¢˜æŠ˜å ï¼Œæ­¤æ–¹æ¡ˆ passã€‚ï¼ˆäºæˆ‘è¿˜èŠ±äº† 1 ä¸ªå°æ—¶æ—¶é—´æ¥ç ”ç©¶æ€ä¹ˆè¿ç§»è¿‡æ¥ã€‚ï¼‰</p><p>ç¬¬äºŒä¸ªæ–¹æ³•ï¼Œæˆ‘ä¸ªäººè§‰å¾—æœ‰ç‚¹è ¢ï¼Œä¸”ä¸è¯´ç›®å½•æœ¬èº«å°±æ˜¯æµ®åŠ¨çš„ï¼Œä¸å¥½æ»šï¼Œå°±ç®—æ˜¯æ»šèµ·æ¥äº†ï¼Œç¿»ä¸€ä¼šé¡µçš„æ—¶å€™è¿˜è¦å†ç¿»ç›®å½•é¡µã€‚ã€‚ã€‚æƒ³æƒ³å°±æœ‰ç‚¹ä¸åˆé€‚ï¼Œç•™ç»™æœ‰ç¼˜äººå°è¯•å§ã€‚</p><h2 id="æ€ä¹ˆæ»š"><a class="header-anchor" href="#æ€ä¹ˆæ»š">#</a>æ€ä¹ˆæ»š</h2><p>å…­ä¸ƒä¸ªå°æ—¶æ–­æ–­ç»­ç»­çš„è§£å†³æ–¹æ¡ˆæˆ‘ä¹Ÿä¸åœ¨è¿™ç BB äº†ï¼Œç›´æ¥ä¸Šæ ¸å¿ƒä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (</span><br><span class="line">  $(<span class="string">".toc-link.active"</span>).offset() != <span class="literal">undefined</span> &amp;&amp;</span><br><span class="line">  $(<span class="string">".toc-link.active"</span>).offset().top - <span class="built_in">document</span>.documentElement.scrollTop &gt;</span><br><span class="line">    (<span class="built_in">window</span>.innerHeight * <span class="number">1</span>) / <span class="number">2</span></span><br><span class="line">) &#123;</span><br><span class="line">  $(<span class="string">".post-toc"</span>).offset(&#123;</span><br><span class="line">    top: <span class="built_in">Math</span>.min(</span><br><span class="line">      $footer.offset().top - $toc.height() - SPACING,</span><br><span class="line">      (<span class="built_in">window</span>.innerHeight * <span class="number">1</span>) / <span class="number">2</span> +</span><br><span class="line">        <span class="built_in">document</span>.documentElement.scrollTop -</span><br><span class="line">        ($(<span class="string">".toc-link.active"</span>).offset().top - $(<span class="string">".post-toc"</span>).offset().top)</span><br><span class="line">    ),</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€»è¾‘å°±æ˜¯ï¼Œå¦‚æœå½“å‰æ­£åœ¨è®¿é—®çš„ç›®å½•åœ¨å±å¹•çš„ 1/2 å¤„å¾€ä¸‹äº†ï¼Œé‚£ä¹ˆæˆ‘ä¹ˆå°±å¾€ä¸Šæ»‘ç›®å½•ï¼Œä½¿å¾—å½“å‰æ­£åœ¨è®¿é—®çš„æ ‡é¢˜å§‹ç»ˆå¤„äºæ–‡æ¡£çš„æ­£ä¸­å¿ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> toc </tag>
            
            <tag> hexo-theme-even </tag>
            
            <tag> blog </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ ç¬”è®°-20200812</title>
      <link href="/blog/2020/08/12/note-20200812/"/>
      <url>/blog/2020/08/12/note-20200812/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ†æå­¦ç”Ÿåœ¨æ…•è¯¾ä¸­çš„æ‹–å»¶ï¼šå¤šå˜é‡éœå…‹æ–¯æ–¹æ³•"><a class="header-anchor" href="#åˆ†æå­¦ç”Ÿåœ¨æ…•è¯¾ä¸­çš„æ‹–å»¶ï¼šå¤šå˜é‡éœå…‹æ–¯æ–¹æ³•">#</a>åˆ†æå­¦ç”Ÿåœ¨æ…•è¯¾ä¸­çš„æ‹–å»¶ï¼šå¤šå˜é‡éœå…‹æ–¯æ–¹æ³•</h2><p>è¿‡å»çš„ç ”ç©¶ä¸»è¦é€šè¿‡é™æ€æ—¶é—´ç›¸å…³çš„æµ‹é‡ï¼ˆä¾‹å¦‚æ¯ä¸ªå­¦ç”Ÿæ‰€æœ‰ä½œä¸šçš„å¹³å‡å¼€å§‹æ—¶é—´ï¼‰æˆ–æ—¶é—´æ¨¡å‹çš„å‚æ•°æ¥æè¿°å­¦ç”Ÿçš„æ‹–å»¶ï¼Œå‡è®¾å­¦ç”Ÿçš„æ´»åŠ¨ä»¥æ’å®šçš„é€Ÿç‡å‘ç”Ÿï¼ˆä¾‹å¦‚é½æ¬¡æ³Šæ¾æ¨¡å‹ï¼‰ã€‚</p><a id="more"></a><p>å­¦ç”Ÿä¸ä¸€ç§å­¦ä¹ ææ–™çš„äº’åŠ¨ç‹¬ç«‹äºä¸å¦ä¸€ç§ææ–™çš„äº’åŠ¨</p><p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å»ºè®®è€ƒè™‘å­¦ç”Ÿçš„æ—¶é—´æ´»åŠ¨ä¹‹é—´çš„ç›¸äº’ä¾èµ–æ€§ï¼ŒåŒæ—¶åœ¨ä¸€ä¸ªè¿ç»­çš„æ—¶é—´å°ºåº¦ä¸Šæ¨¡æ‹Ÿä»–ä»¬çš„åºåˆ—ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å»ºè®®å°†æ¯ä¸ªå­¦ç”Ÿå’Œæ¯ä¸ªè¯¾ç¨‹æ¨¡å—ï¼Œå³æ¯ä¸ªæ¨¡å—å­¦ç”Ÿå¯¹ä¹‹é—´çš„äº¤äº’åºåˆ—å»ºæ¨¡ä¸ºå¤šç»´éœå…‹æ–¯è¿‡ç¨‹ï¼Œå®ƒä¸ä»…æ•æ‰åˆ°å­¦ç”Ÿçš„å­¦ä¹ æ´»åŠ¨ä¸å…¶å¤–ç”Ÿåˆºæ¿€ï¼ˆå¦‚ä½œä¸šæˆªæ­¢æ—¥æœŸï¼‰ä¹‹é—´çš„å…³ç³»ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ•æ‰åˆ°å­¦ä¹ ææ–™ç±»å‹å†…éƒ¨å’Œä¹‹é—´çš„å†…æºæ€§ååº”ã€‚æˆ‘ä»¬çš„å®éªŒè¡¨æ˜ï¼Œå½“æ¶‰åŠä¸åŒç±»å‹çš„å­¦ä¹ ææ–™æ—¶ï¼Œä¸ä»…å­¦ç”Ÿçš„å†å²æ´»åŠ¨ä¸æœªæ¥æ´»åŠ¨ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè€Œä¸”è¿™ç§ä¾èµ–æ€§ä¹Ÿå¯¹å­¦ç”Ÿçš„æ‹–å»¶è¡Œä¸ºæä¾›äº†æœ‰æ„ä¹‰çš„è§£é‡Šã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„ç ”ç©¶ç»“æœæ˜¾ç¤ºï¼Œé™¤äº†ä¸å»¶è¿Ÿç›¸å…³å¤–ï¼Œå¤šç»´ Hawkes è¿‡ç¨‹å­¦ä¹ çš„å‚æ•°æä¾›äº†æ›´å¤šä¸æ‹–å»¶ç›¸å…³çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥æ”¹å–„æˆ‘ä»¬å¯¹å­¦ç”Ÿæˆç»©çš„è§£é‡Šã€‚</p><p>ä»¥å¾€çš„å†å²å¤šåŸºäºå­¦ç”Ÿçš„è‡ªæˆ‘è°ƒæŸ¥æŠ¥å‘Šæˆ–è€…ä¸å­¦ç”Ÿæ‹–å»¶è¡Œä¸ºç›¸å…³çš„æ—¶é—´ç›¸å…³ç‰¹å¾ã€‚</p><p>è€ƒè™‘åˆ°è‡ªæˆ‘æŠ¥å‘Šæ•°æ®çš„å™ªéŸ³ï¼Œåœ¨æœ€è¿‘çš„ç ”ç©¶ä¸­ï¼Œæ›´å¤šçš„å…³æ³¨é›†ä¸­åœ¨æ‹–å»¶çš„è¡Œä¸ºæ–¹é¢ï¼Œæå‡ºäº†ä¸æ—¶é—´ç›¸å…³çš„æµ‹é‡æ–¹æ³•ï¼Œå¹¶å°†å…¶ä½œä¸ºå­¦ç”Ÿæ‹–å»¶çš„è¡¨å¾ã€‚</p><p>è¿™äº›æŒ‡æ ‡ç¼ºä¹æè¿°å­¦ç”Ÿåœ¨ä¸€æ®µæ—¶é—´å†…æŒç»­è¡Œä¸ºçš„èƒ½åŠ›ã€‚ä¸è¿™ç§æ–¹æ³•ç±»ä¼¼çš„æ˜¯ï¼Œåœ¨ä¸å®Œå…¨äº†è§£åˆ†å¸ƒçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ ·æœ¬å¹³å‡å€¼æ¥æè¿°æ•´ä¸ªåˆ†å¸ƒã€‚ä¸ºäº†è§£å†³è¿™ä¸€å±€é™æ€§ï¼Œæœ€è¿‘ï¼Œé‡ç‚¹æ˜¯é€šè¿‡éšæœºæ¨¡å‹ä»å­¦ç”Ÿçš„å­¦ä¹ è½¨è¿¹æ•°æ®ä¸­æå–å­¦ç”Ÿæ´»åŠ¨çš„æ—¶é—´ç‚¹ï¼ˆä¾‹å¦‚ï¼Œå­¦ç”Ÿå†å²è¡Œä¸ºçš„æ—¥å¿—æˆ–ç‚¹å‡»æµï¼‰ã€‚</p><p>ç„¶è€Œï¼Œæ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œè¿‡å»çš„ç ”ç©¶æ²¡æœ‰è€ƒè™‘åˆ°å­¦ç”Ÿä¸ä¸åŒå­¦ä¹ ææ–™ç±»å‹çš„äº’åŠ¨ä¹‹é—´å¯èƒ½å­˜åœ¨çš„æ—¶é—´ä¾èµ–æ€§ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ä½œä¸šçš„ç¬¬ä¸€æ¬¡å°è¯•ä¹‹å‰æ›´é›†ä¸­åœ°è§‚çœ‹è§†é¢‘è®²è¯¾ï¼Œå¯èƒ½è¡¨æ˜å­¦ç”Ÿæ›´å–œæ¬¢åœ¨å°è¯•ä½œä¸šä¹‹å‰å…ˆå­¦ä¹ ææ–™ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨ä½œä¸šçš„ç¬¬ä¸€æ¬¡å°è¯•ä¹‹åï¼Œä¸»è¦è§‚çœ‹è¯¾å ‚è§†é¢‘ï¼Œè¿™å¯èƒ½æ„å‘³ç€å­¦ç”Ÿæ›´å–œæ¬¢å…ˆå°è¯•ä½œä¸šï¼Œç„¶ååœ¨é‡åˆ°ä»»ä½•é—®é¢˜æ—¶å†çœ‹è§†é¢‘è®²åº§ã€‚</p><p>è¿‡å»çš„ç ”ç©¶è¯•å›¾ç”¨é™æ€çš„æ—¶é—´åº¦é‡æ¥æè¿°æ‹–å»¶ï¼Œæˆ–è€…ä»æ›´å¤æ‚çš„æ—¶é—´æ¨¡å‹ä¸­æ€»ç»“å‡ºæ¥çš„åº¦é‡ï¼ŒåŸºäºå­¦ç”Ÿä¸ä¸€ä¸ªæˆ–å¤šä¸ªå­¦ä¹ ææ–™çš„äº¤äº’ä½œç”¨ã€‚ç„¶è€Œï¼Œå­¦ç”Ÿè¡Œä¸ºçš„ä¸¤ä¸ªé‡è¦å› ç´ åŠå…¶ä¸æ‹–å»¶çš„å…³ç³»è¿˜æ²¡æœ‰å¾—åˆ°å……åˆ†çš„ç ”ç©¶ï¼šï¼ˆ1ï¼‰åœ¨æ¯ç§å­¦ä¹ ææ–™ç±»å‹ä¸­ï¼Œå­¦ç”Ÿè¿‡å»å’Œå°†æ¥çš„äº’åŠ¨ä¹‹é—´çš„ä¾èµ–æ€§ï¼ˆä¾‹å¦‚ï¼ŒçŸ¥é“ä¸€ä¸ªå­¦ç”Ÿåœ¨æŸä¸ªæ—¶é—´çœ‹è¿‡å¹»ç¯ç‰‡ï¼Œä»–ä»¬å°†å¦‚ä½•ä»¥åŠä½•æ—¶è¿›è¡Œä¸‹ä¸€é¡¹æ´»åŠ¨ï¼Ÿï¼‰ä»¥åŠï¼ˆ2ï¼‰å­¦ç”Ÿä¸ä¸åŒç±»å‹å­¦ä¹ ææ–™çš„äº’åŠ¨ä¹‹é—´çš„ä¾èµ–æ€§ï¼ˆä¾‹å¦‚ï¼Œè§‚çœ‹è§†é¢‘è®²åº§åé€šå¸¸ä¼šæäº¤ä½œä¸šå—ï¼Ÿï¼‰åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡å›ç­”ä»¥ä¸‹é—®é¢˜æ¥è§£å†³è¿™ä¸¤ä¸ªå› ç´ ï¼šåœ¨æ¯ä¸ªå­¦ä¹ æ¨¡å—ä¸­ï¼Œå³æä¾›å­¦ä¹ ææ–™çš„è¯¾ç¨‹å•å…ƒï¼Œï¼ˆQ1ï¼‰è¿‡å»çš„æ´»åŠ¨æ˜¯å¦ç‹¬ç«‹äºæœªæ¥çš„æ´»åŠ¨ï¼Ÿæˆ–è€…æŸäº›æ´»åŠ¨å¯ä»¥è§¦å‘å…¶ä»–æ´»åŠ¨åœ¨çŸ­æ—¶é—´å†…åˆ°è¾¾ï¼ˆå³æ´»åŠ¨ä¹‹é—´çš„æ—¶é—´ä¾èµ–æ€§ï¼‰ï¼Ÿä»¥åŠï¼ˆé—®é¢˜ 2ï¼‰ï¼Œå­¦ç”Ÿä¸ä¸€ç§ç±»å‹çš„å­¦ä¹ ææ–™ï¼ˆå¦‚è§†é¢‘è®²åº§ï¼‰çš„äº’åŠ¨æ˜¯å¦ç‹¬ç«‹äºå¦ä¸€ç§ç±»å‹ï¼ˆå¦‚è®ºå›ï¼‰ï¼Ÿæ­¤å¤–ï¼Œï¼ˆé—®é¢˜ 3ï¼‰å¦‚æœè¿™ç§ä¾èµ–æ€§å­˜åœ¨ï¼Œå®ƒä»¬ä¸å­¦ç”Ÿæ‹–å»¶ç—‡æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿï¼ˆå³å­¦ç”Ÿè¿‡å»å’Œæœªæ¥æ´»åŠ¨ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠå­¦ç”Ÿä¸ä¸€ç§å­¦ä¹ ææ–™ä¸å¦ä¸€ç§å­¦ä¹ ææ–™ä¹‹é—´çš„ç›¸äº’ä¾èµ–å…³ç³»ã€‚ï¼‰</p><p>å› æ­¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ä¸åŒç±»å‹çš„åœ¨çº¿å­¦ä¹ ææ–™ä¸­æ‰¾åˆ°å­¦ç”Ÿæ‹–å»¶å’Œå­¦ç”Ÿæ´»åŠ¨ä¹‹é—´çš„ç¼ºå¤±ç¯èŠ‚ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨å¤šç»´ Hawkes è¿‡ç¨‹ä½œä¸ºä¸€ä¸ªå¼ºæœ‰åŠ›çš„å·¥å…·æ¥è§£å†³å­¦ç”Ÿæ‹–å»¶åˆ†æä¸­çš„ä¸Šè¿°é—®é¢˜ã€‚ç‰¹åˆ«åœ°ï¼Œæˆ‘ä»¬å°†ä¸€ç±»å­¦ä¹ ææ–™ä¸Šçš„æ‰€æœ‰æ´»åŠ¨è¡¨ç¤ºä¸ºå¤šç»´ Hawkes æ¨¡å‹ä¸­çš„ä¸€ç»´ã€‚æˆ‘ä»¬è¡¨æ˜ï¼Œä¸åŸºå‡†æ—¶é—´è¿‡ç¨‹ç›¸æ¯”ï¼Œè¯¥æ¨¡å‹æ›´é€‚åˆæˆ‘ä»¬çš„æ•°æ®ã€‚åŒæ—¶ï¼Œä¸ºäº†å›ç­”é—®é¢˜ 1 å’Œé—®é¢˜ 2ï¼Œæˆ‘ä»¬è¯æ˜äº†å®ƒæ—¢èƒ½æ•æ‰åˆ°å­¦ç”Ÿå¯¹æˆªæ­¢æ—¥æœŸçš„ååº”ï¼Œä½œä¸ºæ¥è‡ªå¤–éƒ¨çš„è¡ŒåŠ¨è§¦å‘å› ç´ ï¼ˆå³å¤–ç”Ÿåˆºæ¿€ï¼‰ï¼Œä¹Ÿèƒ½æ•æ‰åˆ°å­¦ç”Ÿå¯¹ä¹‹å‰ä¸ä¸åŒç±»å‹å­¦ä¹ ææ–™ï¼ˆå¦‚è§†é¢‘è®²åº§ã€ä½œä¸šï¼‰äº’åŠ¨çš„ååº”ï¼Œå’Œè®¨è®ºï¼ˆå³è‡ªæˆ‘å…´å¥‹ï¼‰ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä»éšæœºè¿‡ç¨‹çš„è§’åº¦æ¥ç†è§£å­¦ç”Ÿçš„æ‹–å»¶è¡Œä¸ºï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåˆºæ¿€å› ç´ ï¼šï¼ˆ1ï¼‰å­¦ç”Ÿçš„ä¸€äº›æ´»åŠ¨å¯ä»¥çœ‹ä½œæ˜¯å¯¹å¤–éƒ¨åˆºæ¿€çš„ååº”ï¼Œæ¯”å¦‚ä½œä¸šçš„æˆªæ­¢æ—¥æœŸï¼ˆ2ï¼‰å…¶ä»–ä¸€äº›å­¦ç”Ÿæ´»åŠ¨å¯ä»¥çœ‹ä½œæ˜¯å­¦ç”Ÿä»¥å‰ä¸ç›¸åŒæˆ–å…¶ä»–å­¦ä¹ ææ–™ç±»å‹äº’åŠ¨çš„ç»“æœã€‚åœ¨æ¨¡å‹å‚æ•°çš„åŸºç¡€ä¸Šï¼Œä¸ºäº†å›ç­”é—®é¢˜ 3ï¼Œæˆ‘ä»¬è¿˜æå‡ºäº†ä¸€ä¸ªä¸ä»…èƒ½æè¿°å­¦ç”Ÿæ‹–å»¶è€Œä¸”èƒ½æ›´å¥½åœ°è§£é‡Šå­¦ç”Ÿè¡¨ç°çš„æµ‹é‡æ–¹æ³•ã€‚</p><h2 id="åŸºäºä½œä¸šå¼€å§‹æ—¶é—´çš„åœ¨çº¿å­¦ä¹ æ‹–å»¶æŒ‡æ•°"><a class="header-anchor" href="#åŸºäºä½œä¸šå¼€å§‹æ—¶é—´çš„åœ¨çº¿å­¦ä¹ æ‹–å»¶æŒ‡æ•°">#</a>åŸºäºä½œä¸šå¼€å§‹æ—¶é—´çš„åœ¨çº¿å­¦ä¹ æ‹–å»¶æŒ‡æ•°</h2><h3 id="æ‘˜è¦"><a class="header-anchor" href="#æ‘˜è¦">#</a>æ‘˜è¦</h3><p>è¿™é¡¹å·¥ä½œçš„ç»“æœæ˜¯ä¸€ä¸ªç®€å•è€Œå¯é çš„æ‹–å»¶æŒ‡æ•°ï¼Œå®ƒå¯ä»¥æ¦‚æ‹¬å¤šä¸ªå­¦ç§‘ï¼Œè€ƒè™‘åˆ°ä½œä¸šçš„ä¸ªä½“ç‰¹ç‚¹ï¼Œæ˜¯å­¦ä¹ æˆç»©çš„ä¸€ä¸ªå¼ºæœ‰åŠ›çš„é¢„æµ‹å› å­ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªæ—©æœŸä¿¡å·ï¼Œä½¿æ•™è‚²å·¥ä½œè€…èƒ½å¤Ÿä¸ºé«˜å±å­¦ç”Ÿè®¾è®¡é€‚å½“çš„å¹²é¢„æªæ–½ã€‚</p><h3 id="ä»‹ç»"><a class="header-anchor" href="#ä»‹ç»">#</a>ä»‹ç»</h3><p>æ‰€æœ‰åŸºäºä¸»è§‚å¡«å†™çš„æ‹–å»¶ç—‡åˆ†æéƒ½å…·æœ‰ç¼ºé™·ã€‚æœ¬æ–‡é‡‡ç”¨äº†ä¸€ç§åŸºäºä½œä¸šå¼€å§‹æ—¶é—´çš„åº¦é‡æ‹–å»¶çš„æ–¹å¼ã€‚</p><h3 id="æ–¹æ³•"><a class="header-anchor" href="#æ–¹æ³•">#</a>æ–¹æ³•</h3><p>é‡‡ç”¨äº†<code>Connect</code>åœ¨çº¿å­¦ä¹ å¹³å°çš„å…³äºä½œä¸šçš„å¼€å§‹æ—¶é—´ã€æˆªæ­¢æ—¶é—´ä»¥åŠå­¦ç”Ÿæäº¤æ—¶é—´çš„æ•°æ®ï¼Œå¹¶åªé€‰æ‹©ç¾å›½æœºæ„çš„ï¼Œä»¥æ¶ˆé™¤ç›¸å…³å‚æ•°å½±å“ã€‚</p><h3 id="æ“ä½œå®šä¹‰"><a class="header-anchor" href="#æ“ä½œå®šä¹‰">#</a>æ“ä½œå®šä¹‰</h3><h4 id="å®šä¹‰æ‹–å»¶"><a class="header-anchor" href="#å®šä¹‰æ‹–å»¶">#</a>å®šä¹‰æ‹–å»¶</h4><p>é¦–å…ˆæ ¹æ®ä½œä¸šæäº¤æ—¶é—´å’Œæœ€ç»ˆæˆç»©è¿›è¡Œç»Ÿè®¡ï¼Œåˆ°äº†60%ï¼Œåˆ†æ•°ä½äºå®¶åº­ä½œä¸šçš„å¹³å‡æˆç»©ã€‚åœ¨75%é™„è¿‘ï¼Œåˆ†æ•°ä¸‹é™åˆ°æ¯”å¹³å‡å€¼ä½10%ï¼Œè€Œä¸”ä¸‹é™é€Ÿåº¦åŠ å¿«ã€‚</p><p>æ‰€ä»¥æ¢æ€§åœ°å°†ä½œä¸šçš„é˜ˆå€¼æ—¶é—´<code>Ï„t</code>è®¾ä¸º75%ï¼Œå³75%çš„å­¦ç”Ÿå¼€å§‹ä½œä¸šçš„æ—¶é—´ã€‚åœ¨è¿™ä¹‹å‰çš„æ‹–å»¶æŒ‡æ•°ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚</p><p>å­¦ä¹ è€…æ‹–å»¶æŒ‡æ•°ï¼ˆPIï¼‰ï¼ˆLearner Procrastination Indexï¼‰ï¼šå³æ€»æ‹–å»¶æŒ‡æ•°é™¤ä»¥æ€»ä½œä¸šæ¬¡æ•°ã€‚</p><h3 id="è®¨è®ºä¸ç»“è®º"><a class="header-anchor" href="#è®¨è®ºä¸ç»“è®º">#</a>è®¨è®ºä¸ç»“è®º</h3><p>å°½ç®¡åœ¨è¿‡å»çš„å‡ åå¹´é‡Œå·²ç»æœ‰äº†å¤§é‡çš„å…³äºæ‹–å»¶çš„å·¥ä½œï¼Œä½†å¤§éƒ¨åˆ†å·¥ä½œéƒ½ç€çœ¼äºè‡ªæˆ‘æŠ¥å‘Šçš„æªæ–½æˆ–æäº¤æ—¶é—´ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘å­¦ç”Ÿå¼€å§‹ä½œä¸šçš„æ—¶é—´ï¼Œç›¸å¯¹äºå…¶ä»–å­¦ç”Ÿåœ¨åŒä¸€ä½œä¸šä¸Šçš„ä½œä¸šï¼Œè¿™å¯ä»¥è·¨ä¸Šä¸‹æ–‡å·¥ä½œï¼Œå¹¶ä¸”å¯ä»¥è·¨è¯¾ç¨‹èšåˆã€‚æˆ‘ä»¬çš„é›†åˆï¼Œç§°ä¸ºæ‹–å»¶æŒ‡æ•°ï¼Œä¸ä»…ä¸Connectå¹³å°å†…çš„åˆ†æ•°ç›¸å…³ï¼Œè€Œä¸”ä¸è¯¾ç¨‹çš„æ•´ä½“åˆ†æ•°ç›¸å…³ï¼Œå¹¶ä¸”å¯ä»¥é¢„æµ‹å­¦ç”Ÿçš„æˆç»©ï¼Œå®ç°å…ˆå‰è‡ªæˆ‘æŠ¥å‘Šæªæ–½ä¸­å­¦ç”Ÿæˆç»©çš„ä¸¤åˆ°ä¸‰å€ç›¸å…³æ€§ã€‚</p><p>å¯ä»¥æå‡ºä¸€äº›å¹²é¢„æªæ–½æ¥å‡å°‘æ‹–å»¶ã€‚</p><ul><li>è®©å­¦ç”Ÿæä¾›è‡ªå·±çš„æˆªæ­¢æ—¥æœŸ</li><li>è®¾æƒ³ä¸€ä¸ªç³»ç»Ÿï¼Œä½¿å­¦ç”Ÿèƒ½å¤Ÿæå‡ºæœ€åæœŸé™æˆ–æå‡ºé¢å¤–çš„æœ€åæœŸé™ï¼ˆä¾‹å¦‚ï¼Œå®Œæˆä¸€åŠä½œä¸šçš„ç›®æ ‡ï¼‰ï¼Œä»¥å¸®åŠ©ä»–ä»¬åˆ†è§£ä»»åŠ¡å¹¶å‡å°‘æ‹–å»¶ã€‚</li></ul><p>åœ¨ä»¥å¯æ‰©å±•çš„æ–¹å¼å‡å°‘æ‹–å»¶å’Œæ”¹å–„ç»“æœæ–¹é¢ï¼Œå“ªäº›å¹²é¢„æªæ–½æœ€æœ‰æ•ˆï¼Œè¿˜æœ‰å¾…è§‚å¯Ÿã€‚ä¸å¯»æ±‚å¸®åŠ©ç­‰å…¶ä»–é¢†åŸŸä¸€æ ·ï¼Œæ‹–å»¶ä¸ç»“æœä¹‹é—´çš„å…³ç³»å¯èƒ½ä¸æ˜¯å®Œå…¨å› æœå…³ç³»ï¼Œå¹¶ä¸”å¯èƒ½åœ¨ä¸æ”¹å–„ç»“æœçš„æƒ…å†µä¸‹å‡å°‘æ‹–å»¶ã€‚æ‰¾åˆ°æ­£ç¡®çš„å¹²é¢„æªæ–½æ¥æ”¹å–„ç»“æœä¸ä»…æœ‰åŠ©äºæ”¹å–„ç»“æœï¼Œè€Œä¸”æœ‰åŠ©äºç†è§£æ‹–å»¶æ˜¯å¦ä»¥åŠå¦‚ä½•å¯¹å­¦ä¹ äº§ç”Ÿå› æœå½±å“ã€‚æ›´ä¸€èˆ¬åœ°è¯´ï¼Œå¯¹æ‹–å»¶çš„æ›´å…¨é¢çš„ç†è§£å¯èƒ½æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°å‡è½»æ‹–å»¶çš„å½±å“ã€‚å­¦ç”Ÿæ‹–å»¶æ˜¯ä¸€ç§ä¹ æƒ¯ï¼Œè¿˜æ˜¯åœ¨ä¼°è®¡ä»–ä»¬çš„æ—¶é—´éœ€æ±‚æ—¶ä¸€ç›´å­˜åœ¨é”™è¯¯ï¼Ÿæ— èŠå’Œç¼ºä¹å‚ä¸æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿæ›´å¥½åœ°ç†è§£è¿™äº›é—®é¢˜çš„ç­”æ¡ˆå¯èƒ½æœ€ç»ˆå¯¼è‡´é‡æ–°è®¾è®¡è¯¾ç¨‹å’Œ/æˆ–ä½œä¸šï¼Œä»¥æ›´å¥½åœ°è®©å­¦ç”Ÿåœ¨æ•´ä¸ªå­¦æœŸå†…ä»¥ç¨³å®šçš„æ–¹å¼å‚ä¸å­¦ä¹ ã€‚</p><p>æˆ‘ä»¬è®¡åˆ’åˆ©ç”¨è¿™é¡¹ç ”ç©¶æ¥æ”¹è¿›æˆ‘ä»¬çš„äº§å“â€”â€”é’ˆå¯¹é‚£äº›ç»å¸¸æ‹–å»¶æ”¹è¿›çš„å†…å®¹â€”â€”å¹¶å¼€å‘ä¸€äº›æ–¹æ³•æ¥ä¿ƒä½¿å­¦ç”Ÿæ›´æœ‰æ•ˆåœ°å·¥ä½œå¹¶æ›´æ—©åœ°å®Œæˆä»–ä»¬çš„ä»»åŠ¡ã€‚å¦‚æœæˆ‘ä»¬ä½œä¸ºä¸€ä¸ªé¢†åŸŸï¼Œåœæ­¢åœ¨è¿™ä¸ªé‡è¦é—®é¢˜ä¸Šæ‹–å»¶ï¼Œå¯¹æˆ‘ä»¬å­¦ç”Ÿçš„å½±å“å¯èƒ½æ˜¯æ·±è¿œçš„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> procrastination </tag>
            
            <tag> æ‹–å»¶ç—‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sync Sofa</title>
      <link href="/blog/2020/08/12/sync-sofa-doc/"/>
      <url>/blog/2020/08/12/sync-sofa-doc/</url>
      
        <content type="html"><![CDATA[<h1 id="sync-sofa-streaming-video-playback-synchronizer-extension"><a class="header-anchor" href="#sync-sofa-streaming-video-playback-synchronizer-extension">#</a>Sync Sofa (streaming video playback synchronizer extension)</h1><blockquote><p>This chrome extension allows multi-user sync streaming video in a fast, simple and stable way.</p></blockquote><p><a href="https://github.com/LouisYLWang/Sync-Sofa/stargazers" target="_blank" rel="noopener"><img src="https://img.shields.io/github/stars/LouisYLWang/Sync-Sofa" alt="stars"></a> <a href="https://github.com/LouisYLWang/Sync-Sofa/tree/dev" target="_blank" rel="noopener"><img src="https://img.shields.io/github/last-commit/LouisYLWang/Sync-Sofa/dev" alt="last-commit"></a> <a href="https://raw.githubusercontent.com/LouisYLWang/Sync-Sofa/master/LICENSE" target="_blank" rel="noopener"><img src="https://img.shields.io/github/license/LouisYLWang/Sync-Sofa" alt="GitHub license"></a> <img src="https://img.shields.io/github/go-mod/go-version/LouisYLWang/Sync-Sofa?filename=server%2Fgo.mod&amp;style=flat-square" alt="GitHub go.mod Go version (subfolder of monorepo)"><br><a href="https://chrome.google.com/webstore/detail/sync-sofa-beta-online-vid/kgpnhgmpijhpkefpddoehhminpfiddmg" target="_blank" rel="noopener"><img src="https://img.shields.io/chrome-web-store/users/kgpnhgmpijhpkefpddoehhminpfiddmg?style=flat-square" alt="Chrome web store users"></a> <img src="https://img.shields.io/uptimerobot/status/m785506902-abf56ee3c6b33304675185c6?label=sync-us&amp;style=flat-square" alt="Uptime Robot status"> <img src="https://img.shields.io/uptimerobot/status/m785506916-32a7dc946ed8718c859e7cdd?label=sync-cn&amp;style=flat-square" alt="Uptime Robot status"> <img src="https://img.shields.io/uptimerobot/status/m785512978-f4cf51568a716df159f1c762?label=sync-cn2&amp;style=flat-square" alt="Uptime Robot status"></p><p><a href="#sync-sofa-streaming-video-playback-synchronizer-extension">English</a> | <a href="#sync-sofa-%E5%9C%A8%E7%BA%BF%E8%A7%86%E9%A2%91%E5%90%8C%E6%AD%A5%E6%92%AD%E6%94%BE%E6%8F%92%E4%BB%B6">ä¸­æ–‡</a></p><p>Sync Sofa is a full stack web extension support a easy-to-use and stable way to synchronize streaming playback for multiple users. It can improve the experience when users from different locations want to share a video/movie remotely. Currently, the feartures include:</p><ul><li>2 party connection: either party can be the host of a sync room and the other can join with connection code.</li><li>sync pause/play: each user pause/play the video, the other side will do the same</li><li>sync play process bar control: the playing time change will also affect other side user</li><li>local video sync: provide two ways to sync your playing of local video file</li></ul><h2 id="current-version"><a class="header-anchor" href="#current-version">#</a>Current version</h2><p><strong>v1.0.9 - update on 14 Aug 2020</strong></p><p>âš ï¸âš ï¸âš ï¸ Each website has itâ€™s <code>own controller</code> of playback rate, so please ignore the wrong display of <code>playback rate</code>.</p><p>Add:</p><ol><li>playback rate sync: any side userâ€™s change to the playback rate will sync to the other side.</li></ol><p>Fix:</p><ol><li>Fix bug of no new bugs</li></ol><hr><p><strong>v1.0.8 - update on 8 Aug 2020</strong></p><p>âš ï¸âš ï¸âš ï¸ <strong>Do Not</strong> try to use <code>Room code</code> like <code>0000</code> or <code>1234</code>, We strongly recommend you use uncommon code so that you do not need to change it.</p><p>Add:</p><ol><li>allow customized connection code, user can directly connect to peer simply click the start button, without reapplying a new code</li><li>simple built-in chat feature (can be toggled in options page)</li><li>add system notification (can be toggled in options page)</li><li>add connection status budge to extension icon (red-unconnected, yellow-pending connection, green-connecting)</li><li>add a notification for unknown socket disconcerting</li><li>add duplicate connection code notification</li></ol><p>Fix:</p><ol><li>Fix bug of no new bugs</li></ol><hr><a id="more"></a><h2 id="supported-list"><a class="header-anchor" href="#supported-list">#</a>Supported list</h2><ul><li><a href="https://www.iqiyi.com/" target="_blank" rel="noopener">Iqiyi</a></li><li><a href="https://www.youku.com/" target="_blank" rel="noopener">Youku</a></li><li><a href="https://www.weiyun.com/" target="_blank" rel="noopener">Tencent Cloud</a></li><li><a href="https://v.qq.com/" target="_blank" rel="noopener">Tencent Video</a></li><li><a href="https://www.youtube.com/" target="_blank" rel="noopener">YouTube</a></li><li><a href="https://www.mgtv.com/" target="_blank" rel="noopener">Mango TV</a></li><li>Local mp4 file via Browser</li><li><a href="https://www.videolan.org/vlc/index.html" target="_blank" rel="noopener">Local video file via VLC media player</a></li></ul><p><a href="https://github.com/LouisYLWang/Sync-Sofa/issues/22" target="_blank" rel="noopener">Click here to tell us more</a></p><h2 id="setting"><a class="header-anchor" href="#setting">#</a>Setting</h2><p>ğŸ˜Š This part is optional, we have already set default options for you, if you are not interested, please skip to <a href="#usage">next part</a>.</p><h3 id="server-list"><a class="header-anchor" href="#server-list">#</a>Server list</h3><p>Recently, Many Chinese users said our service is unstable, that is because our default server is located at us, so here is the server list, you can pick the nearest one.</p><ul><li>sync-cn:<ul><li><code>https</code></li><li><code>sync-cn.onns.xyz</code></li></ul></li><li>sync-cn-2 (Thanks to <a href="https://github.com/huoranxuanyuan" target="_blank" rel="noopener">@huoranxuanyuan</a>):<ul><li><code>https</code></li><li><code>api.huoranxuanyuan.cn</code></li></ul></li><li>sync-us:<ul><li><code>https</code></li><li><code>app.ylwang.me</code></li></ul></li></ul><p>Before setting, check server status here: <a href="https://sync-status.onns.xyz/" target="_blank" rel="noopener">https://sync-status.onns.xyz/</a>.</p><p>We will be grateful for supporting us to build more server, if it is convenient (Cause this project is unprofitable).</p><p><strong>Alipay, Wechat pay, Paypal</strong></p><p><img src="https://onns.xyz/blog/image/20200704-1.png" alt="alipay"> <img src="https://onns.xyz/blog/image/20200704-2.png" alt="wechat pay"> <img src="https://onns.xyz/blog/image/20200704-3.jpg" alt="paypal"></p><p>If you have already built your own server, and wanna share, please tell us!</p><h3 id="options-page"><a class="header-anchor" href="#options-page">#</a>Options page</h3><p>There are two ways to visit options page.</p><ol><li>Right click <code>Sync Sofa</code> extension, choose <code>Options</code>.</li><li>Left click <code>Sync Sofa</code> extension, choose <code>Setting</code> icon in popup page.</li></ol><p>Your webpage should be like this:</p><p><img src="https://onns.xyz/blog/image/20200629-3.png" alt="Sync Sofa - Options"></p><h3 id="refresh-video-page"><a class="header-anchor" href="#refresh-video-page">#</a>Refresh video page</h3><p>After saving options, please also refresh the video page or local mp4 page or <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a> to make changes work.</p><h2 id="usage"><a class="header-anchor" href="#usage">#</a>Usage</h2><h3 id="notices"><a class="header-anchor" href="#notices">#</a>Notices</h3><p>âš ï¸ Before use, please make sure <code>the version number</code> of two clients are consistent.</p><p>âš ï¸ Before use, please make sure <code>the server host</code> of two clients are consistent.</p><p>âš ï¸ If you want to play local <code>.mp4</code> file, please enable <code>Allow access to file URLs</code> in extension details page.</p><ol><li>Open <code>chrome://extensions/</code>, find <code>Sync Sofa</code>, click <code>Details</code> button, enable <code>Allow access to file URLs</code>.</li><li>Right click <code>Sync Sofa</code> extension, choose <code>Manage Extensions</code>, enable <code>Allow access to file URLs</code>.</li></ol><p>âš ï¸ If there are <code>multiple versions</code> of extensions in your browser, please enable one and disable others.</p><h3 id="open-a-video-page"><a class="header-anchor" href="#open-a-video-page">#</a>Open a video page</h3><p>You two donâ€™t have to open the same webpage, you play the video via local <code>.mp4</code> file and your partner watch it one some video websites, is ok as long as you both watch the same video actually (source providers are different).</p><p>In this doc, for example, <code>User A</code> will watch the video on Bilibili and <code>User B</code> will do it on Youtube. Here is the webpage:</p><ul><li><a href="https://www.bilibili.com/video/BV1k5411Y7Rc" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1k5411Y7Rc</a></li><li><a href="https://www.youtube.com/watch?v=QAelMP1PoNA" target="_blank" rel="noopener">https://www.youtube.com/watch?v=QAelMP1PoNA</a></li></ul><p>PS: Iâ€™m a fan of Boki, and screenshots have been Gaussian blurred. If there is copyright infringement, please contact us to delete.</p><p><img src="https://onns.xyz/blog/image/20200627-1.png" alt="User A"><br><img src="https://onns.xyz/blog/image/20200627-2.png" alt="User B"></p><p>If there are any ads before the video, watch them before the next step.</p><h3 id="request-new-code"><a class="header-anchor" href="#request-new-code">#</a>Request new code</h3><p>Click the <code>Sync Sofa</code> extension and then click <code>START</code> button.</p><p><img src="https://onns.xyz/blog/image/20200627-3.png" alt="User A"></p><p>If nothing goes wrong you will receive a message like <code>Room created and room code copied to clipboard</code>, and the <code>room code</code> has been copied to your clipboard, send it to your partner.</p><h3 id="start-connection"><a class="header-anchor" href="#start-connection">#</a>Start connection</h3><p>Your partner receives the <code>room code</code>, click the <code>Sync Sofa</code> extension, paste it in the input area and click <code>START</code> button.</p><p><img src="https://onns.xyz/blog/image/20200627-4.png" alt="User B"></p><h3 id="enjoy-yourselves"><a class="header-anchor" href="#enjoy-yourselves">#</a>Enjoy yourselves</h3><p><img src="https://onns.xyz/blog/image/20200627-5.png" alt="User A"><br><img src="https://onns.xyz/blog/image/20200627-6.png" alt="User B"></p><p>Now you can play the video, your operations will be synced to your partner. Enjoy yourselves!</p><h2 id="vlc-support"><a class="header-anchor" href="#vlc-support">#</a>VLC support</h2><p>If you and your partner play video via <code>VLC media player</code>, <code>Sync Sofa</code> can also synchronize your operations.</p><h3 id="start-vlc-on-the-server-with-the-web-interface"><a class="header-anchor" href="#start-vlc-on-the-server-with-the-web-interface">#</a>Start VLC on the server with the Web Interface</h3><p>First we need to enable controlling VLC via our browser, here is the official documentation:</p><ul><li><a href="https://wiki.videolan.org/Control_VLC_via_a_browser/" target="_blank" rel="noopener">Control VLC via a browser</a></li><li><a href="https://wiki.videolan.org/Documentation:Modules/http_intf/#VLC_2.0.0_and_later" target="_blank" rel="noopener">Start VLC on the server with the Web Interface</a></li></ul><ol><li>Open VLC media player</li><li>Go <code>Tools â†’ Preferences (select &quot;All&quot; radio-button) â†’ Interface â†’ Main interfaces</code>, check â€œWebâ€<br><img src="https://onns.xyz/blog/image/20200628-1.png" alt="Step 2"></li><li>Go <code>Tools â†’ Preferences (select &quot;All&quot; radio-button) â†’ Interface â†’ Main interfaces â†’ Lua</code>, set <code>Lua HTTP - Password</code><br><img src="https://onns.xyz/blog/image/20200628-2.png" alt="Step 3"></li><li><code>Save</code> and <code>reopen</code> VLC media player</li><li>Open <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a> in your browser</li></ol><p>Your webpage should be like this:</p><p><img src="https://onns.xyz/blog/image/20200628-3.png" alt="VLC media player - Web Interface"></p><h3 id="open-your-video"><a class="header-anchor" href="#open-your-video">#</a>Open your video</h3><p>Our extension control <code>VLC</code> via controlling <code>VLC Web Interface</code>(<a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>), so next step you should open your local video via <code>VLC Media Player</code> and see if <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a> can control the video. If the answer is â€œyesâ€, go to the next step, otherwise you should check if there are multiple <code>VLC windows</code>, close the others and recheck. Your <code>VLC Web Interface</code> should be like this:</p><p><img src="https://onns.xyz/blog/image/20200722-1.png" alt="VLC media player - Web Interface"></p><p>Video title, current time and total time on the webpage.</p><h3 id="request-new-code-2"><a class="header-anchor" href="#request-new-code-2">#</a>Request new code</h3><p>Open <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>, click the <code>Sync Sofa</code> extension and then click <code>REQUEST NEW CODE</code> button.</p><p>If nothing goes wrong you will receive a message like <code>Room created and room code copied to clipboard</code>, and the <code>room code</code> has been copied to your clipboard, send it to your partner.</p><h3 id="start-connection-2"><a class="header-anchor" href="#start-connection-2">#</a>Start connection</h3><p>Your partner receives the <code>room code</code>, click the <code>Sync Sofa</code> extension, paste it in the input area and click <code>START</code> button.</p><h3 id="enjoy-yourselves-2"><a class="header-anchor" href="#enjoy-yourselves-2">#</a>Enjoy yourselves</h3><p>Now you can play the video, your operations will be synced to your partner. Enjoy yourselves!</p><p><strong>Notice</strong>:</p><p>âš ï¸ Keep your browser open and <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a> itself.</p><h3 id="close-controller-webpage"><a class="header-anchor" href="#close-controller-webpage">#</a>Close Controller webpage</h3><p>After your video is finished, please click <code>STOP</code> button on <code>Sync Sofa</code> extension manually or just close <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>.</p><h2 id="installation"><a class="header-anchor" href="#installation">#</a>Installation</h2><h3 id="google-chrome"><a class="header-anchor" href="#google-chrome">#</a>Google Chrome</h3><h4 id="install-from-chrome-web-store"><a class="header-anchor" href="#install-from-chrome-web-store">#</a>Install from Chrome Web Store</h4><ol><li>Open <a href="https://chrome.google.com/webstore/detail/sync-sofa-online-video-sy/kgpnhgmpijhpkefpddoehhminpfiddmg" target="_blank" rel="noopener">Sync Sofa - Online Video Synchronizer - Chrome Web Store</a> in your Chrome</li><li>Click <code>Add to Chrome</code> button</li><li>Choose <code>Add extension</code></li></ol><h4 id="install-from-local-crx-file"><a class="header-anchor" href="#install-from-local-crx-file">#</a>Install from local .crx file</h4><ol><li>Open <a href="https://github.com/LouisYLWang/Sync-Sofa/releases/latest" target="_blank" rel="noopener">Github release page</a></li><li>Download <code>sync_sofa.[version].crx</code>, <em>[version]</em> is the number of the latest version</li><li>Open <code>chrome://extensions/</code> in your Chrome</li><li>Turn on <code>Developer mode</code> (in the top right corner)</li><li>Drag <code>sync_sofa.[version].crx</code> into the <code>chrome://extensions/</code> page</li><li>Choose <code>Add extension</code></li></ol><p><strong>Notices</strong>:<br>If the extension is disabled by Chrome, try <a href="#install-from-chrome-web-store">Install from chrome web store</a> or <a href="#install-from-unpackaged-folder">Install from unpackaged folder</a>.</p><blockquote><p>This extension is not listed in the Chrome Web Store and may have been added without your knowledge.</p></blockquote><h4 id="install-from-unpackaged-folder"><a class="header-anchor" href="#install-from-unpackaged-folder">#</a>Install from unpackaged folder</h4><ol><li>Download <a href="https://github.com/LouisYLWang/Sync-Sofa/archive/master.zip" target="_blank" rel="noopener">stable version</a> or <a href="https://github.com/LouisYLWang/Sync-Sofa/archive/dev.zip" target="_blank" rel="noopener">development version</a> (with new features and some bugs maybe)</li><li>Unzip the <code>.zip</code> file you downloaded</li><li>Open <code>chrome://extensions/</code> in your Chrome</li><li>Turn on <code>Developer mode</code> (in the top right corner)</li><li>Click <code>Load unpacked</code> (in the top left corner)</li><li>Choose <code>[download_path]/[unzip folder]/client/chrome_extension</code></li><li>Click <code>select</code></li></ol><h3 id="microsoft-edge"><a class="header-anchor" href="#microsoft-edge">#</a>Microsoft Edge:</h3><h4 id="install-from-microsoft-edge-addons"><a class="header-anchor" href="#install-from-microsoft-edge-addons">#</a>Install from Microsoft Edge Addons</h4><ol><li>Open <a href="https://microsoftedge.microsoft.com/addons/detail/kpfbclpafmmjalikjjlcoddffpfgghgp" target="_blank" rel="noopener">Sync Sofa - Online Video Synchronizer - Microsoft Edge Addons</a> in your Microsoft Edge</li><li>Click <code>Get</code> button</li></ol><h3 id="firefox-will-be-supported-in-later-version"><a class="header-anchor" href="#firefox-will-be-supported-in-later-version">#</a>Firefox (will be supported in later version)</h3><h2 id="self-hosting-guide"><a class="header-anchor" href="#self-hosting-guide">#</a>Self-hosting Guide</h2><p><strong>Notices</strong>:<br>âš ï¸ Before hosting, make sure your server can communicate securely with HTTPS and link to an domain name. All deploy script are based on Letâ€™s Encrypt certificates, you can customize with your own SSL certificate providers.<br>âš ï¸ dev mode intends for http transmission, prod mode intends for https transmission.</p><h3 id="without-docker"><a class="header-anchor" href="#without-docker">#</a>Without Docker</h3><p><strong>1. Get binary executable file</strong></p><ul><li><p>If you want to alter the source code and build yourself, make sure you have <code>golang environment</code> in your server, then run script below to get and build binary file:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/LouisYLWang/Sync-Sofa/server</span><br><span class="line"><span class="comment"># If you don't know $GOPATH</span></span><br><span class="line"><span class="comment"># try "go env GOPATH"</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$GOPATH</span>/src/github.com/LouisYLWang/Sync-Sofa/server</span><br><span class="line"></span><br><span class="line"><span class="comment"># Next step is optional</span></span><br><span class="line"><span class="comment"># If you have any error message like:</span></span><br><span class="line"><span class="comment"># "dial tcp 216.58.200.49:443: i/o timeout"</span></span><br><span class="line"><span class="comment"># then try</span></span><br><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.io</span><br><span class="line"></span><br><span class="line">go install</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$GOPATH</span>/bin</span><br></pre></td></tr></table></figure></li><li><p>If you want to only deploy the binary file:</p><ol><li>Open <a href="https://github.com/LouisYLWang/Sync-Sofa/releases/latest" target="_blank" rel="noopener">Github release page</a></li><li>Download <code>server</code> binary file for linux server</li><li>Download <code>config.json</code> file to the same directory of binary file</li></ol></li></ul><p><strong>2. In the directory of binary file, adjust config file base on your need:</strong></p><ul><li><p>Config file variables:</p><ul><li><code>addr</code>: port of server</li><li><code>runmode</code>:<ul><li>dev: developing mode</li><li>prod: producting mode</li></ul></li><li><code>tlsdir</code>: TLS certificate paths<ul><li><code>tlskey</code>: TLS certificate privatekey path</li><li><code>tlscert</code>: TLS certification path</li></ul></li></ul><p><strong>Notices</strong>: <code>addr</code>, <code>runmode</code> are mandatory, <code>tlskey</code>, <code>tlscert</code> are required for TLS connection</p></li><li><p>minimal (non-https) config file:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"addr"</span>: <span class="string">":80"</span>,</span><br><span class="line">  <span class="attr">"runmode"</span>: <span class="string">"dev"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>production environment (https) config file:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"addr"</span>: <span class="string">":443"</span>,</span><br><span class="line">  <span class="attr">"runmode"</span>: <span class="string">"prod"</span>,</span><br><span class="line">  <span class="attr">"tlsdir"</span>: &#123;</span><br><span class="line">    <span class="attr">"tlskey"</span>: <span class="string">"/etc/letsencrypt/live/your.host.url/privkey.pem"</span>,</span><br><span class="line">    <span class="attr">"tlscert"</span>: <span class="string">"/etc/letsencrypt/live/your.host.url/fullchain.pem"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>3. Run <code>./server</code> to delopy the server, deployment is successful if you see:</strong></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">found config file, read parameters from config file...</span><br><span class="line">server is listening at &#123;your_port_number&#125;...</span><br></pre></td></tr></table></figure><h3 id="with-docker"><a class="header-anchor" href="#with-docker">#</a>With Docker</h3><p>Make sure docker service is runing on your server, make change to the script blow and run:</p><ul><li><p>variables</p><ul><li><code>ADDR</code>: port of server</li><li><code>RUNMODE</code>:<ul><li>dev: developing mode</li><li>prod: producting mode</li></ul></li><li><code>APIHOST</code>: your host name</li><li><code>IMGNAME</code>: your docker image name, set arbitrarily</li><li><code>TLSKEYPATH</code>: TLS certificate privatekey path</li><li><code>TLSCERTPATH</code>: TLS certification path</li></ul></li><li><p>minimal (non-https) hosting script:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker pull louisylwang/watchtogether</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> ADDR=:4000 \      </span><br><span class="line"><span class="built_in">export</span> RUNMODE=dev \   </span><br><span class="line"><span class="built_in">export</span> IMGNAME=yourimagename \   </span><br><span class="line"></span><br><span class="line">docker run -d \</span><br><span class="line">-e ADDR=:4000 \</span><br><span class="line">-e RUNMODE=RUNMODE \</span><br><span class="line">-p 4000:4000 \</span><br><span class="line">--name IMGNAME louisylwang/watchtogether</span><br></pre></td></tr></table></figure></li><li><p>production environment (https) hosting script:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">docker pull louisylwang/watchtogether</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> ADDR=:443 \      </span><br><span class="line"><span class="built_in">export</span> RUNMODE=prod \   </span><br><span class="line"><span class="built_in">export</span> APIHOST=your.host.name \   </span><br><span class="line"><span class="built_in">export</span> IMGNAME=yourimagename \   </span><br><span class="line"><span class="built_in">export</span> TLSKEYPATH=/your/path/to/TLS/privatekey \</span><br><span class="line"><span class="built_in">export</span> TLSCERTPATH=/your/path/to/TLS/certification \</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run -d \</span><br><span class="line">-e ADDR=:ADDR \</span><br><span class="line"><span class="comment">#docker port to server:server port to docker, not necessarily the same</span></span><br><span class="line">-p ADDR:ADDR \ </span><br><span class="line">-e RUNMODE=RUNMODE \</span><br><span class="line"><span class="comment">#if you use letsencrypt, TLSKEY value should be /etc/letsencrypt/live/$APIHOST/privkey.pem</span></span><br><span class="line">-e TLSKEY=TLSKEYPATH \ </span><br><span class="line"><span class="comment">#if you use letsencrypt, TLSCERT value should be /etc/letsencrypt/live/$APIHOST/fullchain.pem </span></span><br><span class="line">-e TLSCERT=TLSCERTPATH \ </span><br><span class="line"><span class="comment">#need to expose your TLS certification file to docker</span></span><br><span class="line">-v /etc/letsencrypt:/etc/letsencrypt:ro \ </span><br><span class="line">--name IMGNAME louisylwang/watchtogether \</span><br><span class="line">--restart=always</span><br></pre></td></tr></table></figure></li><li><p>deployment is successful if you see in <code>docker logs {your docker image name}</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">not found config file, read parameters from system variables...</span><br><span class="line">YYYY&#x2F;MM&#x2F;DD HH:MM:SS server is listening at :ADDR...</span><br></pre></td></tr></table></figure></li></ul><h2 id="release-history"><a class="header-anchor" href="#release-history">#</a>Release History</h2><h3 id="v1-0-9"><a class="header-anchor" href="#v1-0-9">#</a>v1.0.9</h3><h2 id="ğŸ› -update-on-14-aug-2020"><a class="header-anchor" href="#ğŸ› -update-on-14-aug-2020">#</a>ğŸ›  update on 14 Aug 2020</h2><p>âš ï¸âš ï¸âš ï¸ Each website has itâ€™s <code>own controller</code> of playback rate, so please ignore the wrong display of <code>playback rate</code>.</p><p>Add:</p><ol><li>playback rate sync: any side userâ€™s change to the playback rate will sync to the other side.</li></ol><p>Fix:</p><ol><li>Fix bug of no new bugs</li></ol><h3 id="v1-0-8"><a class="header-anchor" href="#v1-0-8">#</a>v1.0.8</h3><h2 id="ğŸ› -update-on-8-aug-2020"><a class="header-anchor" href="#ğŸ› -update-on-8-aug-2020">#</a>ğŸ›  update on 8 Aug 2020</h2><p>âš ï¸âš ï¸âš ï¸ <strong>Do Not</strong> try to use <code>Room code</code> like <code>0000</code> or <code>1234</code>, We strongly recommend you use uncommon code so that you do not need to change it.</p><p>Add:</p><ol><li>allow customized connection code, user can directly connect to peer simply click the start button, without reapplying a new code</li><li>simple built-in chat feature (can be toggled in options page)</li><li>add system notification (can be toggled in options page)</li><li>add connection status budge to extension icon (red-unconnected, yellow-pending connection, green-connecting)</li><li>add a notification for unknown socket disconcerting</li><li>add duplicate connection code notification</li></ol><p>Fix:</p><ol><li>Fix bug of no new bugs</li></ol><h3 id="v1-0-7"><a class="header-anchor" href="#v1-0-7">#</a>v1.0.7</h3><h2 id="ğŸ› -update-on-7-july-2020"><a class="header-anchor" href="#ğŸ› -update-on-7-july-2020">#</a>ğŸ›  update on 7 July 2020</h2><p>âš ï¸âš ï¸âš ï¸ Notice, this version is not compatible with any version before 1.0.6 (&lt;= 1.0.5), please please please make sure your version is the same as your peerâ€™s version</p><p>Add:<br>add version detection (lower version number will be detected from user with higher version number if room was established by lower version extension)</p><p>Fix:<br>fix support for <a href="https://www.bilibili.com/bangumi/*" target="_blank" rel="noopener">https://www.bilibili.com/bangumi/*</a> (bilibili movie)<br>fix support for Youku &amp; mangoTV</p><h3 id="v1-0-6"><a class="header-anchor" href="#v1-0-6">#</a>v1.0.6</h3><h2 id="ğŸ› -update-on-28-june-2020"><a class="header-anchor" href="#ğŸ› -update-on-28-june-2020">#</a>ğŸ›  update on 28 June 2020</h2><p>âš ï¸âš ï¸âš ï¸ Notice, this version is not compatible with any version before, please please please make sure your version is the same as your peerâ€™s version</p><ul><li>Add:<ul><li>add support for Mango TV (happy Sistering ğŸ¤£)</li><li>add support for local video file syncing with VLC player #20</li><li>add options page - debugging mode &amp; self-hosting option #21</li><li>add donating page</li><li>add new wiki page #11</li></ul></li><li>Fix:<ul><li>improve sync performance &amp; stability:<ul><li>new sync logic, not compatible with any version before</li><li>improve buffer detection</li></ul></li></ul></li></ul><h3 id="v1-0-5"><a class="header-anchor" href="#v1-0-5">#</a>v1.0.5</h3><h2 id="ğŸ› -update-on-12-may-2020"><a class="header-anchor" href="#ğŸ› -update-on-12-may-2020">#</a>ğŸ›  update on 12 May 2020</h2><p>Improve stability</p><blockquote><p>Test for a new logic to avoid infinite echo back (each party repeat the last operation of other party) : introduce a queue as a buffer of operation and if the operations is beyond frequency threshold, the client will automatically to halt and cool down for sometime.</p></blockquote><p>Add support for edge browser (beta)</p><h3 id="v1-0-4"><a class="header-anchor" href="#v1-0-4">#</a>v1.0.4</h3><h2 id="ğŸ› -update-on-10-may-2020"><a class="header-anchor" href="#ğŸ› -update-on-10-may-2020">#</a>ğŸ›  update on 10 May 2020</h2><p>Now user will get notification when they successfully connected to each other<br>Improve stability, better sync performance<br>Change the notification UI using sweetalert</p><h3 id="v1-0-3"><a class="header-anchor" href="#v1-0-3">#</a>v1.0.3</h3><h2 id="ğŸ› -update-on-8-may-2020"><a class="header-anchor" href="#ğŸ› -update-on-8-may-2020">#</a>ğŸ›  update on 8 May 2020</h2><p>improve stability &amp; UX logic<br>Added support of following websites:</p><ul><li><a href="https://www.iqiyi.com/" target="_blank" rel="noopener">iqiyi</a></li><li><a href="https://www.youku.com/" target="_blank" rel="noopener">youku</a></li><li><a href="https://www.weiyun.com/" target="_blank" rel="noopener">weiyun</a></li><li><a href="https://v.qq.com/" target="_blank" rel="noopener">tencent video</a></li></ul><p>Fixed the support of duonao live;<br>Removed the support of 91mjw (temporarily);<br>Refined documentation, will add more detail in next verison;</p><h3 id="v1-0-2"><a class="header-anchor" href="#v1-0-2">#</a>v1.0.2</h3><h2 id="ğŸ› -update-on-31-mar-2020"><a class="header-anchor" href="#ğŸ› -update-on-31-mar-2020">#</a>ğŸ›  update on 31 Mar 2020</h2><p>Add support of play process bar control sync<br>Fixed the issue that when syncing playing time, there is the possibility to crash the extension</p><h3 id="v0-0-1"><a class="header-anchor" href="#v0-0-1">#</a>v0.0.1</h3><h2 id="ğŸ› -update-on-26-mar-2020-beta-version"><a class="header-anchor" href="#ğŸ› -update-on-26-mar-2020-beta-version">#</a>ğŸ›  update on 26 Mar 2020 (beta version)</h2><p>Add support of 2 parties connection<br>Add support of sync pause and play action<br>Add support of out-of-sync notification</p><h2 id="meta"><a class="header-anchor" href="#meta">#</a>Meta</h2><p>Yiliang â€œLouisâ€ Wang â€“ <a href="https://ylwang.codes/" target="_blank" rel="noopener">@blog</a> â€“ <a href="mailto:louis.yl.wang@outlook.com">@mail</a></p><p>Onns â€“ <a href="https://onns.xyz/">@blog</a> â€“ <a href="mailto:onns@onns.xyz">@mail</a></p><h2 id="contributing"><a class="header-anchor" href="#contributing">#</a>Contributing</h2><ol><li>Fork it (<a href="https://github.com/LouisYLWang/Sync-Sofa/fork" target="_blank" rel="noopener">https://github.com/LouisYLWang/Sync-Sofa/fork</a>)</li><li>Create your feature branch (<code>git checkout -b feature/fooBar</code>)</li><li>Commit your changes (<code>git commit -am 'Add some fooBar'</code>)</li><li>Push to the branch (<code>git push origin feature/fooBar</code>)</li><li>Create a new Pull Request</li></ol><!-- Markdown link & img dfn's --><h2 id="faq"><a class="header-anchor" href="#faq">#</a>FAQ</h2><ol><li><p><strong>Q:</strong> When I installed, Chrome popup says that Sync Sofa requires the permissions of <code>read and change your data on a number of websites</code> and <code>read your browsing history</code>, sounds so horrible, is that safe?<br><strong>A:</strong> We do not collect your browsing data, the only thing we do is to get your current tab information and make sure you are visiting a site we support (<a href="#supported-list">support list</a>). All information is collected and processed locally. We do not mess up the data on the websites you are watching, just inject a sync script to get your pause, play and seek operation. <strong>All source code can be reviewed at <a href="https://github.com/LouisYLWang/Sync-Sofa" target="_blank" rel="noopener">our github page</a>, we promise everything we did is necessary and not harmful.</strong></p></li><li><p>If your find your extension <strong>button is darken</strong>, please first make sure you are in a video playing page.</p></li><li><p>If you find your extension <strong>can not request room code</strong>, please first check the  <a href="#options-page">option page</a> and click <code>RESET</code> button. If it still not work, please close your web browser, wait for a while and try again. Currently our server is hosting abroad, it may cause connecting issue.</p></li><li><p>If you find your extension cannot connect to your peer, please check following:</p><ol><li>please make sure the <strong>version number</strong> of two clients are consistent. To check the version number, you need to open <a href="chrome://extensions/">chrome extension page</a> (if this link is not work, please type <code>chrome://extensions/</code> into the address bar and visit). You will find a extension with the title of <code>Sync Sofa - Online Video Synchronizer 1.0.6</code>. <code>1.0.6</code> is your current version number of Sync Sofa.</li><li>If 4.1 does not solve your problem, please try step 2 again.</li></ol></li></ol><h3 id="how-to-get-debug-info"><a class="header-anchor" href="#how-to-get-debug-info">#</a>How to get debug info</h3><ol><li>Open <code>Debug mode</code> in <a href="#options-page">Options page</a>.</li><li>Refresh video page (to make changes work).</li><li><code>Shift + ctrl + i</code> in Windows or <code>Shift + cmd + i</code> in MacOS.</li><li>Choose <code>console</code> tab.</li></ol><h3 id="can-not-open-vlc-web-interface"><a class="header-anchor" href="#can-not-open-vlc-web-interface">#</a>Can not open VLC web Interface</h3><p>First, check if <code>http://127.0.0.1:8080/</code>can be opened successfully, if the answer is not, go and check if <code>8080</code> is binded by some other process. If this process can be shuted down, turn it off and try again.</p><p>If not, please change the default port of the VLC web interface to <code>9891</code>. (Will come into operation from <code>v1.0.10</code>)</p><h1 id="sync-sofa-åœ¨çº¿è§†é¢‘åŒæ­¥æ’­æ”¾æ’ä»¶"><a class="header-anchor" href="#sync-sofa-åœ¨çº¿è§†é¢‘åŒæ­¥æ’­æ”¾æ’ä»¶">#</a>Sync Sofa (åœ¨çº¿è§†é¢‘åŒæ­¥æ’­æ”¾æ’ä»¶)</h1><blockquote><p>ä»¥ç¨³å®šï¼Œå¿«æ·çš„æ–¹å¼è¿œç¨‹åŒæ­¥è§‚çœ‹åœ¨çº¿/æœ¬åœ°è§†é¢‘</p></blockquote><p><a href="https://github.com/LouisYLWang/Sync-Sofa/stargazers" target="_blank" rel="noopener"><img src="https://img.shields.io/github/stars/LouisYLWang/Sync-Sofa" alt="stars"></a> <a href="https://github.com/LouisYLWang/Sync-Sofa/tree/dev" target="_blank" rel="noopener"><img src="https://img.shields.io/github/last-commit/LouisYLWang/Sync-Sofa/dev" alt="last-commit"></a> <a href="https://raw.githubusercontent.com/LouisYLWang/Sync-Sofa/master/LICENSE" target="_blank" rel="noopener"><img src="https://img.shields.io/github/license/LouisYLWang/Sync-Sofa" alt="GitHub license"></a> <img src="https://img.shields.io/github/go-mod/go-version/LouisYLWang/Sync-Sofa?filename=server%2Fgo.mod&amp;style=flat-square" alt="GitHub go.mod Go version (subfolder of monorepo)"><br><a href="https://chrome.google.com/webstore/detail/sync-sofa-beta-online-vid/kgpnhgmpijhpkefpddoehhminpfiddmg" target="_blank" rel="noopener"><img src="https://img.shields.io/chrome-web-store/users/kgpnhgmpijhpkefpddoehhminpfiddmg?style=flat-square" alt="Chrome web store users"></a> <img src="https://img.shields.io/uptimerobot/status/m785506902-abf56ee3c6b33304675185c6?label=sync-us&amp;style=flat-square" alt="Uptime Robot status"> <img src="https://img.shields.io/uptimerobot/status/m785506916-32a7dc946ed8718c859e7cdd?label=sync-cn&amp;style=flat-square" alt="Uptime Robot status"> <img src="https://img.shields.io/uptimerobot/status/m785512978-f4cf51568a716df159f1c762?label=sync-cn2&amp;style=flat-square" alt="Uptime Robot status"></p><p><a href="#sync-sofa-streaming-video-playback-synchronizer-extension">English</a> | <a href="#sync-sofa-%E5%9C%A8%E7%BA%BF%E8%A7%86%E9%A2%91%E5%90%8C%E6%AD%A5%E6%92%AD%E6%94%BE%E6%8F%92%E4%BB%B6">ä¸­æ–‡</a></p><p>Sync Sofaæ˜¯ä¸€ä¸ªç¨³å®šæ˜“ç”¨çš„Chromeæµè§ˆå™¨æ‹“å±•æ’ä»¶ï¼Œå¯åŒæ­¥ä¸¤ç«¯ç”¨æˆ·çš„è§†é¢‘æ’­æ”¾æ“ä½œï¼Œæé«˜ä¸èº«å¤„å¼‚åœ°çš„å°ä¼™ä¼´ä¸€åŒè§‚çœ‹è§†é¢‘çš„ä½“éªŒï¼Œç›®å‰æ”¯æŒä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š</p><ul><li>å¹³ç­‰åŒäººè¿æ¥ï¼šä»»æ„ä¸€ç«¯å‡å¯æ§åˆ¶å¯¹æ–¹æ’­æ”¾çŠ¶æ€</li><li>åŒæ­¥æ’­æ”¾è¿›åº¦ï¼šæ”¯æŒæ’­æ”¾ã€æš‚åœã€è¿›åº¦åˆ‡æ¢ç­‰æ“ä½œ</li><li>æœ¬åœ°è§†é¢‘åŒæ­¥ï¼šå¯é€šè¿‡VLCåŒæ­¥æœ¬åœ°è§†é¢‘æ’­æ”¾çŠ¶æ€</li></ul><h2 id="å½“å‰ç‰ˆæœ¬ç‰¹æ€§"><a class="header-anchor" href="#å½“å‰ç‰ˆæœ¬ç‰¹æ€§">#</a>å½“å‰ç‰ˆæœ¬ç‰¹æ€§</h2><p><strong>v1.0.9 - 2020å¹´8æœˆ14æ—¥æ›´æ–°</strong></p><p>âš ï¸âš ï¸âš ï¸ æ¯ä¸ªç½‘ç«™éƒ½æœ‰å®ƒ<code>è‡ªå·±çš„å€é€Ÿæ§ä»¶</code>ï¼Œæ‰€ä»¥è¯·å¿½ç•¥å‰ç«¯çš„é”™è¯¯<code>æ’­æ”¾é€Ÿåº¦</code>æ˜¾ç¤ºã€‚</p><p>æ–°å¢ï¼š</p><ol><li>æ’­æ”¾é€Ÿç‡åŒæ­¥åŠŸèƒ½ï¼šä»»æ„ç«¯ç”¨æˆ·å¯¹æ’­æ”¾é€Ÿç‡çš„è°ƒæ•´ä¼šè‡ªåŠ¨åŒæ­¥è‡³å¦ä¸€ç«¯</li></ol><p>ä¿®å¤ï¼š</p><ol><li>ä¿®å¤äº†æ²¡æœ‰bugçš„bug</li></ol><hr><p><strong>v1.0.8 - 2020å¹´8æœˆ8æ—¥æ›´æ–°</strong></p><p>âš ï¸âš ï¸âš ï¸ <strong>è¯·ä¸è¦</strong>å°è¯•ä½¿ç”¨åƒ<code>0000</code>å’Œ<code>1234</code>è¿™æ ·ç®€å•çš„<code>æˆ¿é—´ç </code>ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ä½¿ç”¨ä¸å¸¸è§çš„æˆ¿é—´ç ï¼Œè¿™æ ·å°±ä¸å¿…é¢‘ç¹æ›´æ”¹å®ƒã€‚</p><p>æ–°å¢ï¼š</p><ol><li>ä¿®æ”¹æˆ¿é—´ç”³è¯·ç é€»è¾‘ï¼Œç”¨æˆ·å¯è‡ªè¡Œè¾“å…¥æˆ¿é—´ç ï¼Œä¸”ä¸‹æ¬¡è¿æ¥æ—¶æ— éœ€é‡æ–°ç”³è¯·ï¼Œåªéœ€ç‚¹å‡»startæŒ‰é’®å³å¯å¿«é€Ÿè¿æ¥ï¼ˆï¼æˆ¿é—´ç é¡»ä¸ºå››ä½å°å†™å­—æ¯+æ•°å­—çš„ç»„åˆï¼‰</li><li>å¢åŠ å†…ç½®æ–‡å­—èŠå¤©ï¼ˆå¯åœ¨é…ç½®é¡µé¢åˆ‡æ¢ï¼‰</li><li>å¢åŠ ç³»ç»Ÿé€šçŸ¥é€‰é¡¹ï¼ˆå¯åœ¨é…ç½®é¡µé¢åˆ‡æ¢ï¼‰</li><li>å¢åŠ è¿æ¥çŠ¶æ€æŒ‡ç¤ºç¯ï¼Œæ˜¾ç¤ºåœ¨æ’ä»¶å›¾æ ‡å³ä¸‹è§’ï¼ˆçº¢-æœªè¿æ¥ï¼Œé»„-ç­‰å¾…å¯¹æ–¹è¿æ¥ï¼Œç»¿-æ­£åœ¨è¿æ¥ï¼‰</li><li>å¢åŠ socketæ–­å¼€å› æœªçŸ¥åŸå› æ–­å¼€é€šçŸ¥</li><li>å¢åŠ æˆ¿é—´ç å ç”¨é€šçŸ¥</li></ol><p>ä¿®å¤ï¼š</p><ol><li>ä¿®å¤äº†æ²¡æœ‰bugçš„bug</li></ol><hr><h2 id="æ”¯æŒç½‘ç«™åˆ—è¡¨"><a class="header-anchor" href="#æ”¯æŒç½‘ç«™åˆ—è¡¨">#</a>æ”¯æŒç½‘ç«™åˆ—è¡¨</h2><ul><li><a href="https://www.iqiyi.com/" target="_blank" rel="noopener">çˆ±å¥‡è‰º</a></li><li><a href="https://www.youku.com/" target="_blank" rel="noopener">ä¼˜é…·</a></li><li><a href="https://www.weiyun.com/" target="_blank" rel="noopener">å¾®äº‘</a></li><li><a href="https://v.qq.com/" target="_blank" rel="noopener">è…¾è®¯è§†é¢‘</a></li><li><a href="https://www.youtube.com/" target="_blank" rel="noopener">æ²¹ç®¡</a></li><li><a href="https://www.mgtv.com/" target="_blank" rel="noopener">èŠ’æœ</a></li><li>é€šè¿‡æµè§ˆå™¨æ’­æ”¾æœ¬åœ°è§†é¢‘ï¼ˆä»…æ”¯æŒAVC/H.264ç¼–ç ï¼‰</li><li><a href="https://www.videolan.org/vlc/index.html" target="_blank" rel="noopener">é€šè¿‡VLCè§†é¢‘æ’­æ”¾å™¨æ’­æ”¾æœ¬åœ°è§†é¢‘</a></li></ul><p><a href="https://github.com/LouisYLWang/Sync-Sofa/issues/22" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œå‘æˆ‘ä»¬åé¦ˆæ›´å¤šç½‘ç«™</a></p><h2 id="è®¾ç½®"><a class="header-anchor" href="#è®¾ç½®">#</a>è®¾ç½®</h2><p>ğŸ˜Š æ­¤éƒ¨åˆ†ä¸ºå¯é€‰è®¾ç½®ï¼Œæˆ‘ä»¬å·²ç»ä¸ºä½ é…ç½®å¥½é»˜è®¤æœåŠ¡å™¨ï¼Œå¦‚æœä½ ä¸æ„Ÿå…´è¶£ï¼Œæˆ–è€…æ²¡æœ‰ä¿®æ”¹æœåŠ¡å™¨çš„éœ€æ±‚ï¼Œè¯·ç§»æ­¥è‡³<a href="#usage">ä¸‹ä¸€éƒ¨åˆ†</a>.</p><h3 id="æœåŠ¡å™¨åˆ—è¡¨"><a class="header-anchor" href="#æœåŠ¡å™¨åˆ—è¡¨">#</a>æœåŠ¡å™¨åˆ—è¡¨</h3><p>æœ€è¿‘è®¸å¤šç”¨æˆ·åæ˜ å›½å†…çš„è®¿é—®ä¸ç¨³å®šï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬çš„é»˜è®¤æœåŠ¡å™¨åœ¨ç¾å›½ï¼Œå› æ­¤æˆ‘ä»¬æä¾›äº†å¤‡ç”¨æœåŠ¡å™¨åˆ—è¡¨ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„ä½ç½®åˆ‡æ¢åˆ°ç¦»ä½ è·ç¦»æ›´è¿‘çš„æœåŠ¡å™¨ã€‚</p><ul><li>ä¸­å›½æ­å·:<ul><li><code>https</code></li><li><code>sync-cn.onns.xyz</code></li></ul></li><li>ä¸­å›½åŒ—äº¬ (æ„Ÿè°¢ <a href="https://github.com/huoranxuanyuan" target="_blank" rel="noopener">@huoranxuanyuan</a>):<ul><li><code>https</code></li><li><code>api.huoranxuanyuan.cn</code></li></ul></li><li>ç¾å›½:<ul><li><code>https</code></li><li><code>app.ylwang.me</code></li></ul></li></ul><p>åœ¨è®¾ç½®æœåŠ¡å™¨å‰ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨çš„çŠ¶æ€ï¼š<a href="https://sync-status.onns.xyz/" target="_blank" rel="noopener">https://sync-status.onns.xyz/</a>.</p><p>æˆ‘ä»¬ä¼šæ„Ÿè°¢ä½ å¯¹è¯¥å¼€æºé¡¹ç›®ä½œå‡ºçš„è´¡çŒ®ï¼Œä½ å¯ä»¥é€šè¿‡<strong>æä¾›è‡ªå·±éƒ¨ç½²çš„æœåŠ¡</strong>æ¥æ”¯æŒæˆ‘ä»¬ï¼Œä¹Ÿå¯ä»¥å¸®æˆ‘ä»¬<strong>åˆ†æ‹…ä¸€ç‚¹æœåŠ¡å™¨è´¹ç”¨</strong>çš„å‹åŠ›ã€‚ï¼ˆ<s>ä¹Ÿå¯ä»¥ä¸€é”®ä¸‰è¿</s>ï¼‰</p><p><strong>æ”¯ä»˜å®, å¾®ä¿¡æ”¯ä»˜, è´å®</strong></p><p><img src="https://onns.xyz/blog/image/20200704-1.png" alt="alipay"> <img src="https://onns.xyz/blog/image/20200704-2.png" alt="wechat pay"> <img src="https://onns.xyz/blog/image/20200704-3.jpg" alt="paypal"></p><h3 id="é€‰é¡¹é¡µ"><a class="header-anchor" href="#é€‰é¡¹é¡µ">#</a>é€‰é¡¹é¡µ</h3><p>æ‰“å¼€é€‰é¡¹é¡µæœ‰ä¸‹åˆ—ä¸¤ç§æ–¹æ³•ï¼š</p><ol><li>å³é”®ç‚¹å‡»<code>Sync Sofa</code>æ’ä»¶å›¾æ ‡, é€‰æ‹©<code>é€‰é¡¹</code>ã€‚</li><li>å·¦é”®ç‚¹å‡»<code>Sync Sofa</code>æ’ä»¶å›¾æ ‡, åœ¨æ’ä»¶å¼¹çª—ä¸­é€‰æ‹©åº•éƒ¨<code>è®¾ç½®</code>å›¾æ ‡ã€‚</li></ol><p>è®¾ç½®ç•Œé¢å¦‚ä¸‹ï¼š</p><p><img src="https://onns.xyz/blog/image/20200629-3.png" alt="Sync Sofa - Options"></p><h3 id="åˆ·æ–°è§†é¢‘é¡µé¢"><a class="header-anchor" href="#åˆ·æ–°è§†é¢‘é¡µé¢">#</a>åˆ·æ–°è§†é¢‘é¡µé¢</h3><p>ä¿®æ”¹è®¾ç½®å¹¶ä¿å­˜åï¼Œè¯·åˆ·æ–°è§†é¢‘ç½‘ç«™é¡µé¢/æœ¬åœ°è§†é¢‘é¡µé¢/ <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>ï¼ˆå¦‚æœä½ ä½¿ç”¨VLCæ’­æ”¾æœ¬åœ°è§†é¢‘ï¼‰æ¥ä½¿è®¾ç½®ç”Ÿæ•ˆã€‚</p><h2 id="ä½¿ç”¨è¯´æ˜"><a class="header-anchor" href="#ä½¿ç”¨è¯´æ˜">#</a>ä½¿ç”¨è¯´æ˜</h2><h3 id="æ³¨æ„äº‹é¡¹"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹">#</a>æ³¨æ„äº‹é¡¹</h3><p>âš ï¸ ä½¿ç”¨å‰è¯·ç¡®ä¿ä¸¤ä¸ª<code>å®¢æˆ·ç«¯ç‰ˆæœ¬å·</code>ä¸€è‡´ã€‚</p><p>âš ï¸ ä½¿ç”¨å‰è¯·ç¡®ä¿ä¸¤ä¸ª<code>æœåŠ¡å™¨åŸŸå</code>ä¸€è‡´ã€‚</p><p>âš ï¸ å¦‚éœ€æ’­æ”¾æœ¬åœ°<code>.mp4</code>æ–‡ä»¶ï¼Œè¯·åœ¨æ‰©å±•è¯¦ç»†ä¿¡æ¯é¡µé¢å¯ç”¨â€œå…è®¸è®¿é—®æ–‡ä»¶urlâ€ã€‚</p><p>æ–¹æ³•1. åœ¨åœ°å€æ è¾“å…¥<code>chrome://extensions/</code>ï¼Œæ‰¾åˆ°<code>Sync Sofa</code>ï¼Œç‚¹å‡»<code>è¯¦æƒ…</code>æŒ‰é’®ï¼Œå¯ç”¨<code>å…è®¸è®¿é—®æ–‡ä»¶ç½‘å€</code>ã€‚</p><p>æ–¹æ³•2.å³å‡»æµè§ˆå™¨å·¦ä¸Šè§’<code>Sync Sofa</code>å›¾æ ‡ï¼Œé€‰æ‹©<code>ç®¡ç†æ‹“å±•ç¨‹åº</code>, å¯ç”¨<code>å…è®¸è®¿é—®æ–‡ä»¶ç½‘å€</code>ã€‚</p><p>âš ï¸ å¦‚æœä½ çš„æµè§ˆå™¨ä¸­å®‰è£…äº†<code>å¤šä¸ªä¸åŒç‰ˆæœ¬</code>çš„<code>Sync Sofa</code>,è¯·åªå¯ç”¨å…¶ä¸­ä¸€ä¸ªå¹¶ç¦ç”¨å…¶ä»–ç‰ˆæœ¬ã€‚</p><h3 id="æ‰“å¼€è§†é¢‘é¡µé¢"><a class="header-anchor" href="#æ‰“å¼€è§†é¢‘é¡µé¢">#</a>æ‰“å¼€è§†é¢‘é¡µé¢</h3><p>ä½ ä»¬å¯ä»¥åŒæ­¥è§‚çœ‹ä¸åŒæ¥æºçš„è§†é¢‘ï¼Œåœ¨æ’­æ”¾æœ¬åœ°<code>.mp4</code>è§†é¢‘æ–‡ä»¶æ—¶ï¼Œä½ çš„å°ä¼™ä¼´å¯ä»¥é€‰æ‹©åœ¨è§†é¢‘ç½‘ç«™ä¸Šå’Œä½ åŒæ­¥è§‚çœ‹ï¼Œæ­¤å¤–ï¼Œä½ ä»¬è¿˜å¯ä»¥åœ¨ä¸åŒçš„è§†é¢‘ç½‘ç«™çœ‹è§‚çœ‹ç›¸åŒçš„è§†é¢‘ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>ç”¨æˆ·A</code>åœ¨Bilibiliä¸Šè§‚çœ‹æ­¤è§†é¢‘ï¼š</p><ul><li><a href="https://www.bilibili.com/video/BV1k5411Y7Rc" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1k5411Y7Rc</a><br><img src="https://onns.xyz/blog/image/20200627-1.png" alt="User A"></li></ul><p>æ­¤æ—¶<code>ç”¨æˆ·B</code>å¯åœ¨YouTubeä¸ŠåŒæ­¥è§‚çœ‹åŒä¸€è§†é¢‘ï¼š</p><ul><li><a href="https://www.youtube.com/watch?v=QAelMP1PoNA" target="_blank" rel="noopener">https://www.youtube.com/watch?v=QAelMP1PoNA</a><br><img src="https://onns.xyz/blog/image/20200627-2.png" alt="User B"></li></ul><p>PSï¼šæˆ‘æ˜¯bokiçš„ç²‰ä¸ï¼Œæ‰€ä»¥å°±ç”¨äº†å¥¹çš„è§†é¢‘æˆªå›¾ï¼Œå·²ç»é«˜æ–¯æ¨¡ç³Šå¤„ç†è¿‡äº†ï¼Œå¦‚æœæœ‰ä¾µæƒçš„è¯ï¼Œè¯·è”ç³»æˆ‘ä»¬åˆ é™¤ï¼ŒçœŸçš„å¾ˆæŠ±æ­‰ï¼</p><p>å¦‚æœè§†é¢‘å¼€å§‹å‰æœ‰å¹¿å‘Šï¼Œè¯·åœ¨å¹¿å‘Šç»“æŸåè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p><h3 id="è·å–è¿æ¥ç "><a class="header-anchor" href="#è·å–è¿æ¥ç ">#</a>è·å–è¿æ¥ç </h3><p>ç‚¹å‡» <code>Sync Sofa</code> æ’ä»¶å›¾æ ‡å¹¶ç‚¹å‡»<code>START</code>ï¼ˆå¼€å§‹ï¼‰ æŒ‰é’®.</p><p><img src="https://onns.xyz/blog/image/20200627-3.png" alt="User A"></p><p>å¦‚ä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šæ”¶åˆ°å¼¹çª—æç¤º<code>Room created and room code copied to clipboard</code> ï¼ˆæˆ¿é—´å·²å»ºç«‹ï¼Œè¿æ¥ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼‰ï¼ŒåŒæ—¶<code>è¿æ¥ç </code>å°†è‡ªåŠ¨æ‹·è´åˆ°å‰ªåˆ‡æ¿ä¸­ï¼Œè¯·å°†å®ƒå‘ç»™ä½ çš„å°ä¼™ä¼´ã€‚</p><h3 id="å¼€å§‹è¿æ¥"><a class="header-anchor" href="#å¼€å§‹è¿æ¥">#</a>å¼€å§‹è¿æ¥</h3><p>ä½ çš„å°ä¼™ä¼´æ”¶åˆ°<code>room codeï¼ˆè¿æ¥ç ï¼‰</code>åï¼Œç‚¹å‡»<code>Sync Sofa</code>æ’ä»¶å›¾æ ‡ï¼Œç²˜è´´åˆ°è¾“å…¥æ ä¸­ç‚¹å‡»<code>STARTï¼ˆå¼€å§‹ï¼‰</code>æŒ‰é’®ã€‚</p><p><img src="https://onns.xyz/blog/image/20200627-4.png" alt="User B"></p><h3 id="æ„‰å¿«è§‚çœ‹å§"><a class="header-anchor" href="#æ„‰å¿«è§‚çœ‹å§">#</a>æ„‰å¿«è§‚çœ‹å§</h3><p><img src="https://onns.xyz/blog/image/20200627-5.png" alt="User A"><br><img src="https://onns.xyz/blog/image/20200627-6.png" alt="User B"></p><p>ç°åœ¨ä½ å¯ä»¥æ’­æ”¾è§†é¢‘äº†ï¼Œä½ çš„æ’­æ”¾ï¼Œæš‚åœï¼Œæ›´æ”¹æ—¶é—´ç­‰æ“ä½œéƒ½ä¼šåŒæ­¥ç»™ä½ çš„å°ä¼™ä¼´ã€‚æ„‰å¿«åœ°åŒæ­¥è§‚çœ‹å§!</p><h2 id="vlcæ”¯æŒ"><a class="header-anchor" href="#vlcæ”¯æŒ">#</a>VLCæ”¯æŒ</h2><p>å¦‚æœä½ ä»¬éƒ½é€šè¿‡<code>VLC åª’ä½“æ’­æ”¾å™¨</code>æ’­æ”¾è§†é¢‘ï¼Œ<code>Sync Sofa</code>ä¹Ÿå¯ä»¥åŒæ­¥ä½ ä»¬çš„æ“ä½œã€‚</p><h3 id="é€šè¿‡webæ§åˆ¶ç•Œé¢æ“æ§vlcæ’­æ”¾"><a class="header-anchor" href="#é€šè¿‡webæ§åˆ¶ç•Œé¢æ“æ§vlcæ’­æ”¾">#</a>é€šè¿‡Webæ§åˆ¶ç•Œé¢æ“æ§VLCæ’­æ”¾</h3><p>é¦–å…ˆä½ ä»¬éœ€è¦å¼€å¯VLCçš„Webæ§åˆ¶ç•Œé¢ï¼Œä½¿æµè§ˆå™¨å¯ä»¥æ§åˆ¶VLCçš„æ’­æ”¾ï¼Œè¯·å‚è€ƒä»¥ä¸‹å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li><a href="https://wiki.videolan.org/Control_VLC_via_a_browser/" target="_blank" rel="noopener">é€šè¿‡æµè§ˆå™¨æ§åˆ¶VLC</a></li><li><a href="https://wiki.videolan.org/Documentation:Modules/http_intf/#VLC_2.0.0_and_later" target="_blank" rel="noopener">å¼€å¯VLCçš„webæ§åˆ¶ç•Œé¢</a></li></ul><ol><li>æ‰“å¼€VLCåª’ä½“æ’­æ”¾å™¨</li><li>è¿›å…¥ <code>å·¥å…· â†’ åå¥½è®¾ç½® (å·¦ä¸‹è§’æ˜¾ç¤ºè®¾ç½®é€‰æ‹© &quot;å…¨éƒ¨&quot;) â†’ ç•Œé¢ â†’ ä¸»ç•Œé¢</code>, å‹¾é€‰ â€œWebâ€<br><img src="https://onns.xyz/blog/image/20200628-1.png" alt="Step 2"></li><li>è¿›å…¥ <code>å·¥å…· â†’ åå¥½è®¾ç½® (å·¦ä¸‹è§’æ˜¾ç¤ºè®¾ç½®é€‰æ‹© &quot;å…¨éƒ¨&quot;) â†’ ç•Œé¢ â†’ ä¸»ç•Œé¢ â†’ Lua</code>, è®¾ç½® <code>Lua HTTP - å¯†ç </code><br><img src="https://onns.xyz/blog/image/20200628-2.png" alt="Step 3"></li><li>ç‚¹å‡»<code>ä¿å­˜</code> å¹¶é‡å¯VLCåª’ä½“æ’­æ”¾å™¨</li><li>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a></li></ol><p>è¿™æ—¶ä½ çš„ç½‘é¡µåº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="https://onns.xyz/blog/image/20200628-3.png" alt="VLC media player - Web Interface"></p><h3 id="æ‰“å¼€æœ¬åœ°è§†é¢‘"><a class="header-anchor" href="#æ‰“å¼€æœ¬åœ°è§†é¢‘">#</a>æ‰“å¼€æœ¬åœ°è§†é¢‘</h3><p>æœ¬æ’ä»¶æœ¬è´¨ä¸Šæ˜¯é€šè¿‡æ§åˆ¶<code>VLCçš„ç½‘é¡µæ§åˆ¶é¡µé¢</code>ï¼ˆ<a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>ï¼‰æ¥æ§åˆ¶<code>VLC</code>çš„ï¼Œæ‰€ä»¥ä¸‹ä¸€æ­¥ä½ åº”è¯¥ç”¨<code>VLCåª’ä½“æ’­æ”¾å™¨</code>æ¥æ‰“å¼€ä½ æƒ³åŒæ­¥çš„è§†é¢‘ï¼Œç„¶åæ£€æŸ¥ä¸€ä¸‹<a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>èƒ½å¦é¡ºåˆ©æ§åˆ¶è§†é¢‘çš„æ’­æ”¾ç­‰ã€‚å¦‚æœå¯ä»¥ï¼Œå³å¯è¿›å…¥ä¸‹ä¸€æ­¥ï¼›å¦åˆ™éœ€è¦æ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯æ‰“å¼€äº†å¤šä¸ª<code>VLCçš„çª—å£</code>ï¼Œå¦‚æœæ˜¯è¯·å…³æ‰å…¶å®ƒçš„ï¼Œç„¶åé‡æ–°å°è¯•æ§åˆ¶ã€‚ä¸€ä¸ªæ­£å¸¸çš„<code>VLCæ§åˆ¶ç•Œé¢</code>åº”è¯¥å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://onns.xyz/blog/image/20200722-1.png" alt="VLC media player - Web Interface"></p><p>åœ¨ç½‘é¡µä¸Šæœ‰è§†é¢‘æ ‡é¢˜ï¼Œå½“å‰æ’­æ”¾æ—¶é—´å’Œæ€»æ’­æ”¾æ—¶é•¿ç­‰ã€‚</p><h3 id="è·å–è¿æ¥ç -2"><a class="header-anchor" href="#è·å–è¿æ¥ç -2">#</a>è·å–è¿æ¥ç </h3><p>ç¡®è®¤å·²åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>,<br>ç‚¹å‡» <code>Sync Sofa</code> æ’ä»¶å›¾æ ‡å¹¶ç‚¹å‡»<code>REQUEST NEW CODE</code>ï¼ˆè·å–é“¾æ¥ç ï¼‰ æŒ‰é’®.</p><p>å¦‚ä¸€åˆ‡æ­£å¸¸ï¼Œä½ ä¼šæ”¶åˆ°å¼¹çª—æç¤º<code>Room created and room code copied to clipboard</code>ï¼ˆæˆ¿é—´å·²å»ºç«‹ï¼Œè¿æ¥ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ŒåŒæ—¶<code>è¿æ¥ç </code>å°†è‡ªåŠ¨æ‹·è´åˆ°å‰ªåˆ‡æ¿ä¸­ï¼Œè¯·å°†å®ƒå‘ç»™ä½ çš„å°ä¼™ä¼´ã€‚</p><h3 id="å¼€å§‹è¿æ¥-2"><a class="header-anchor" href="#å¼€å§‹è¿æ¥-2">#</a>å¼€å§‹è¿æ¥</h3><p>ä½ çš„å°ä¼™ä¼´æ”¶åˆ°<code>room code</code>åï¼Œç‚¹å‡»<code>Sync Sofa</code>æ’ä»¶å›¾æ ‡ï¼Œç²˜è´´åˆ°è¾“å…¥æ ä¸­ç‚¹å‡»<code>START</code>ï¼ˆå¼€å§‹ï¼‰æŒ‰é’®ã€‚</p><h3 id="æ„‰å¿«è§‚çœ‹å§-2"><a class="header-anchor" href="#æ„‰å¿«è§‚çœ‹å§-2">#</a>æ„‰å¿«è§‚çœ‹å§</h3><p>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨<code>Sync Sofa</code>é€šè¿‡VLCåŒæ­¥æœ¬åœ°è§†é¢‘æ’­æ”¾çŠ¶æ€äº†ï¼Œä½ çš„æ’­æ”¾ï¼Œæš‚åœï¼Œæ›´æ”¹æ—¶é—´ç­‰æ“ä½œéƒ½ä¼šåŒæ­¥ç»™ä½ çš„å°ä¼™ä¼´ã€‚æ„‰å¿«åœ°åŒæ­¥è§‚çœ‹å§!</p><p><strong>æ³¨æ„</strong>:</p><p>âš ï¸ åœ¨æ’­æ”¾æ—¶ï¼Œåˆ‡å‹¿å…³é—­<a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>é¡µé¢ã€‚</p><h3 id="å…³é—­æ§åˆ¶é¡µé¢"><a class="header-anchor" href="#å…³é—­æ§åˆ¶é¡µé¢">#</a>å…³é—­æ§åˆ¶é¡µé¢</h3><p>è§†é¢‘æ’­æ”¾å®Œæ¯•åï¼Œç‚¹å‡»<code>Sync Sofa</code>æ’ä»¶é¡µé¢ä¸Šçš„<code>STOP</code>æŒ‰é’®ï¼Œæˆ–å…³é—­<a href="http://127.0.0.1:8080/" target="_blank" rel="noopener">http://127.0.0.1:8080/</a>é¡µé¢ã€‚</p><h2 id="å®‰è£…"><a class="header-anchor" href="#å®‰è£…">#</a>å®‰è£…</h2><h3 id="è°·æ­Œæµè§ˆå™¨"><a class="header-anchor" href="#è°·æ­Œæµè§ˆå™¨">#</a>è°·æ­Œæµè§ˆå™¨</h3><h4 id="ä»è°·æ­Œå•†åº—å®‰è£…"><a class="header-anchor" href="#ä»è°·æ­Œå•†åº—å®‰è£…">#</a>ä»è°·æ­Œå•†åº—å®‰è£…</h4><ol><li>åœ¨Chromeæµè§ˆå™¨ä¸­æ‰“å¼€ <a href="https://chrome.google.com/webstore/detail/sync-sofa-online-video-sy/kgpnhgmpijhpkefpddoehhminpfiddmg" target="_blank" rel="noopener">Sync Sofa - Online Video Synchronizer - Chrome Web Store</a></li><li>ç‚¹å‡» <code>Add to Chrome</code> æŒ‰é’®</li><li>é€‰æ‹© <code>Add extension</code></li></ol><h4 id="ä»æœ¬åœ°-crx-æ–‡ä»¶å®‰è£…"><a class="header-anchor" href="#ä»æœ¬åœ°-crx-æ–‡ä»¶å®‰è£…">#</a>ä»æœ¬åœ° .crx æ–‡ä»¶å®‰è£…</h4><ol><li>æ‰“å¼€ <a href="https://github.com/LouisYLWang/Sync-Sofa/releases/latest" target="_blank" rel="noopener">Github release pageï¼ˆç‰ˆæœ¬å‘å¸ƒé¡µé¢ï¼‰</a></li><li>ä¸‹è½½ <code>sync_sofa.[version].crx</code>, <em>[version]</em> ä¸ºå½“å‰æœ€æ–°ç‰ˆæœ¬ç¼–å·</li><li>åœ¨Chromeæµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥ <code>chrome://extensions/</code></li><li>å¯ç”¨ <code>å¼€å‘è€…æ¨¡å¼</code> (é¡µé¢å³ä¸Šè§’)</li><li>å°† <code>sync_sofa.[ç‰ˆæœ¬å·].crx</code> æ‹–å…¥ <code>chrome://extensions/</code> é¡µé¢</li><li>ç‚¹å‡» <code>æ·»åŠ æ’ä»¶</code> æŒ‰é’®</li></ol><p><strong>æ³¨æ„</strong>:<br>å¦‚æœè¯¥æ’ä»¶è¢«Chromeæµè§ˆå™¨ç¦ç”¨ï¼Œè¯·å°è¯• <a href="#%E4%BB%8E%E8%B0%B7%E6%AD%8C%E5%95%86%E5%BA%97%E5%AE%89%E8%A3%85">ä»è°·æ­Œå•†åº—å®‰è£…</a> æˆ–è€… <a href="#%E5%AE%89%E8%A3%85%E6%9C%AA%E6%89%93%E5%8C%85%E7%9A%84%E6%8F%92%E4%BB%B6">å®‰è£…æœªæ‰“åŒ…çš„æ’ä»¶</a></p><blockquote><p>This extension is not listed in the Chrome Web Store and may have been added without your knowledge.</p></blockquote><h4 id="å®‰è£…æœªæ‰“åŒ…çš„æ’ä»¶"><a class="header-anchor" href="#å®‰è£…æœªæ‰“åŒ…çš„æ’ä»¶">#</a>å®‰è£…æœªæ‰“åŒ…çš„æ’ä»¶</h4><ol><li>ä¸‹è½½ <a href="https://github.com/LouisYLWang/Sync-Sofa/archive/master.zip" target="_blank" rel="noopener">ç¨³å®šç‰ˆæœ¬</a> or <a href="https://github.com/LouisYLWang/Sync-Sofa/archive/dev.zip" target="_blank" rel="noopener">å¼€å‘ç‰ˆæœ¬</a> (æ–°ç‰¹æ€§ï¼Œä¹Ÿè®¸ä¹Ÿæœ‰bug)</li><li>è§£å‹ä½ ä¸‹è½½çš„<code>.zip</code> å‹ç¼©æ–‡ä»¶</li><li>åœ¨Chromeåœ°å€æ è¾“å…¥ <code>chrome://extensions/</code> æ‰“å¼€æ’ä»¶ç®¡ç†é¡µé¢</li><li>å¼€å¯å³ä¸Šè§’<code>å¼€å‘è€…æ¨¡å¼</code> æŒ‰é’®</li><li>ç‚¹å‡»å·¦ä¸Šè§’<code>åŠ è½½æœªæ‰“åŒ…çš„æ‹“å±•</code> æŒ‰é’®</li><li>é€‰æ‹© <code>ä¸‹è½½è·¯å¾„/è§£å‹è·¯å¾„/client/chrome_extension</code></li><li>ç‚¹å‡» <code>é€‰æ‹©</code></li></ol><h3 id="å¾®è½¯edgeæµè§ˆå™¨"><a class="header-anchor" href="#å¾®è½¯edgeæµè§ˆå™¨">#</a>å¾®è½¯Edgeæµè§ˆå™¨:</h3><h4 id="ä»edgeæµè§ˆå™¨æ’ä»¶ä¸­å¿ƒå®‰è£…"><a class="header-anchor" href="#ä»edgeæµè§ˆå™¨æ’ä»¶ä¸­å¿ƒå®‰è£…">#</a>ä»Edgeæµè§ˆå™¨æ’ä»¶ä¸­å¿ƒå®‰è£…</h4><ol><li>åœ¨Edgeæµè§ˆå™¨ä¸­æ‰“å¼€ <a href="https://microsoftedge.microsoft.com/addons/detail/kpfbclpafmmjalikjjlcoddffpfgghgp" target="_blank" rel="noopener">Sync Sofa - Online Video Synchronizer - Microsoft Edge Addons</a></li><li>ç‚¹å‡» <code>è·å–</code> æŒ‰é’®</li></ol><h3 id="firefoxï¼ˆåç»­ç‰ˆæœ¬æ·»åŠ æ”¯æŒï¼‰"><a class="header-anchor" href="#firefoxï¼ˆåç»­ç‰ˆæœ¬æ·»åŠ æ”¯æŒï¼‰">#</a>Firefoxï¼ˆåç»­ç‰ˆæœ¬æ·»åŠ æ”¯æŒï¼‰</h3><p><s>å…¶å®ä¹Ÿå¯èƒ½ä¸ä¼š</s></p><h2 id="æœåŠ¡ç«¯éƒ¨ç½²æŒ‡å—"><a class="header-anchor" href="#æœåŠ¡ç«¯éƒ¨ç½²æŒ‡å—">#</a>æœåŠ¡ç«¯éƒ¨ç½²æŒ‡å—</h2><p><strong>æ³¨æ„</strong>:</p><p>âš ï¸ éƒ¨ç½²å‰ï¼Œå»ºè®®ä½ çš„æœåŠ¡å™¨å·²ç»éƒ¨ç½²äº†SSL/TLSè¯ä¹¦ï¼Œå¹¶å·²è¿æ¥åˆ°åŸŸåã€‚ä»¥ä¸‹éƒ¨ç½²è„šæœ¬åŸºäºä½¿ç”¨Letâ€™s Encrypt certificateséªŒè¯çš„æœåŠ¡å™¨ï¼Œå¦‚ä½¿ç”¨å…¶ä»–çš„è¯ä¹¦æä¾›å•†ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹éƒ¨åˆ†è„šæœ¬ä»¥æ­£å¸¸è¿è¡Œã€‚</p><p>âš ï¸ devæ¨¡å¼ä½¿ç”¨httpåè®®è¿›è¡Œä¼ è¾“ï¼Œprodä½¿ç”¨httpsåè®®è¿›è¡Œä¼ è¾“</p><h3 id="ç›´æ¥éƒ¨ç½²ï¼ˆä¸ä½¿ç”¨dockerå®¹å™¨ï¼‰"><a class="header-anchor" href="#ç›´æ¥éƒ¨ç½²ï¼ˆä¸ä½¿ç”¨dockerå®¹å™¨ï¼‰">#</a>ç›´æ¥éƒ¨ç½²ï¼ˆä¸ä½¿ç”¨Dockerå®¹å™¨ï¼‰:</h3><p><strong>1. è·å–æ‰§è¡Œæ–‡ä»¶</strong></p><ul><li><p>å¦‚æœä½ æƒ³è¦ä¿®æ”¹æºä»£ç å¹¶è‡ªè¡Œç¼–è¯‘ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹shellè„šæœ¬è·å–äºŒè¿›åˆ¶æ–‡ä»¶ã€‚åœ¨æ‰§è¡Œå‰ï¼Œè¯·ç¡®è®¤æœåŠ¡å™¨å·²å®‰è£…<code>Go</code>çš„ç¯å¢ƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">go get github.com/LouisYLWang/Sync-Sofa/server</span><br><span class="line"><span class="comment"># å¦‚æœä½ ä¸æ¸…æ¥š $GOPATH</span></span><br><span class="line"><span class="comment"># è¯·å°è¯•è¾“å…¥å¹¶æ‰§è¡Œ "go env GOPATH"</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$GOPATH</span>/src/github.com/LouisYLWang/Sync-Sofa/server</span><br><span class="line"></span><br><span class="line"><span class="comment"># ï¼ˆä¸‹ä¸€æ­¥å¯çœç•¥ï¼‰</span></span><br><span class="line"><span class="comment"># å¦‚æœä½ çœ‹åˆ°äº†è¿™æ¡æ¶ˆæ¯:</span></span><br><span class="line"><span class="comment"># "dial tcp 216.58.200.49:443: i/o timeout"</span></span><br><span class="line"><span class="comment"># è¯·æ·»åŠ å¹¶æ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤</span></span><br><span class="line"><span class="built_in">export</span> GOPROXY=https://goproxy.io</span><br><span class="line"></span><br><span class="line">go install</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$GOPATH</span>/bin</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ— éœ€ä¿®æ”¹æºä»£ç å¹¶è‡ªè¡Œç¼–è¯‘ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶:</p><ol><li>æ‰“å¼€ <a href="https://github.com/LouisYLWang/Sync-Sofa/releases/latest" target="_blank" rel="noopener">Github release page</a></li><li>ä¸‹è½½ <code>server</code> æ–‡ä»¶ï¼ˆé€‚ç”¨äºlinuxæœåŠ¡å™¨ï¼‰</li><li>ä¸‹è½½ <code>config.json</code> æ–‡ä»¶ï¼Œç§»åŠ¨è‡³<code>server</code>åŒä¸€è·¯å¾„</li></ol></li></ul><p><strong>2. ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</strong></p><ul><li><p>é…ç½®å˜é‡ï¼š</p><ul><li><code>addr</code>: æœåŠ¡å™¨ç«¯å£</li><li><code>runmode</code>:<ul><li>dev: å¼€å‘æ¨¡å¼ï¼ˆå»ºè®®æœ¬åœ°ä½¿ç”¨ï¼Œä¸åŒ…å«å¯¹HTTPSçš„æ”¯æŒï¼‰</li><li>prod: ç”Ÿäº§æ¨¡å¼</li></ul></li><li><code>tlsdir</code>:<ul><li><code>tlskey</code>: TLSè¯ä¹¦ç§é’¥è·¯å¾„</li><li><code>tlscert</code>: TLSè¯ä¹¦è·¯å¾„</li></ul></li></ul><p><strong>Notices</strong>: <code>addr</code>, <code>runmode</code> ä¸ºå¿…é¡»å‚æ•°, <code>tlskey</code>, <code>tlscert</code> å‚æ•°åœ¨ä½¿ç”¨HTTPSè¿æ¥æ—¶ï¼ˆç”Ÿäº§ç¯å¢ƒä¸‹ï¼‰ä¸ºå¿…é¡»å‚æ•°</p></li><li><p>å¼€å‘æ¨¡å¼ï¼ˆhttpï¼‰é…ç½®æ–‡ä»¶æ ·ä¾‹:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"addr"</span>: <span class="string">":80"</span>,</span><br><span class="line">  <span class="attr">"runmode"</span>: <span class="string">"dev"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”Ÿäº§æ¨¡å¼ï¼ˆhttpsï¼‰é…ç½®æ–‡ä»¶æ ·ä¾‹:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"addr"</span>: <span class="string">":443"</span>,</span><br><span class="line">  <span class="attr">"runmode"</span>: <span class="string">"prod"</span>,</span><br><span class="line">  <span class="attr">"tlsdir"</span>: &#123;</span><br><span class="line">    <span class="attr">"tlskey"</span>: <span class="string">"/etc/letsencrypt/live/your.host.url/privkey.pem"</span>,</span><br><span class="line">    <span class="attr">"tlscert"</span>: <span class="string">"/etc/letsencrypt/live/your.host.url/fullchain.pem"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>3. åœ¨æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œ <code>./server</code> éƒ¨ç½²æœåŠ¡å™¨, éƒ¨ç½²æˆåŠŸä¿¡æ¯å¦‚ä¸‹:</strong></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">found config file, read parameters from config file...</span><br><span class="line">server is listening at &#123;your_port_number&#125;...</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨dockerå®¹å™¨éƒ¨ç½²"><a class="header-anchor" href="#ä½¿ç”¨dockerå®¹å™¨éƒ¨ç½²">#</a>ä½¿ç”¨Dockerå®¹å™¨éƒ¨ç½²</h3><p>åœ¨éƒ¨ç½²å‰è¯·ç¡®è®¤Dockerå®¹å™¨åœ¨æœåŠ¡å™¨ç«¯å¯æ­£å¸¸è¿è¡Œï¼Œè¯·æŒ‰ç…§å¦‚ä¸‹æç¤ºä¿®æ”¹å‚æ•°</p><ul><li><p>é…ç½®å˜é‡ï¼š</p><ul><li><code>ADDR</code>: æœåŠ¡å™¨ç«¯å£</li><li><code>RUNMODE</code>:<ul><li>dev: å¼€å‘æ¨¡å¼ï¼ˆå»ºè®®æœ¬åœ°ä½¿ç”¨ï¼Œä¸åŒ…å«å¯¹HTTPSçš„æ”¯æŒï¼‰</li><li>prod: ç”Ÿäº§æ¨¡å¼</li></ul></li><li><code>APIHOST</code>: æœåŠ¡å™¨ç½‘å€</li><li><code>IMGNAME</code>: dockerå®¹å™¨åç§°ï¼ˆå¯è‡ªé€‰ï¼‰</li><li><code>TLSKEYPATH</code>: TLSè¯ä¹¦ç§é’¥è·¯å¾„</li><li><code>TLSCERTPATH</code>: TLSè¯ä¹¦è·¯å¾„</li></ul></li><li><p>å¼€å‘æ¨¡å¼ï¼ˆhttpï¼‰é…ç½®æ–‡ä»¶æ ·ä¾‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker pull louisylwang/watchtogether</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> ADDR=:4000 \      </span><br><span class="line"><span class="built_in">export</span> RUNMODE=dev \   </span><br><span class="line"><span class="built_in">export</span> IMGNAME=yourimagename \   </span><br><span class="line"></span><br><span class="line">docker run -d \</span><br><span class="line">-e ADDR=:4000 \</span><br><span class="line">-e RUNMODE=RUNMODE \</span><br><span class="line">-p 4000:4000 \</span><br><span class="line">--name IMGNAME louisylwang/watchtogether</span><br></pre></td></tr></table></figure></li><li><p>ç”Ÿäº§æ¨¡å¼ï¼ˆhttpsï¼‰é…ç½®æ–‡ä»¶æ ·ä¾‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">docker pull louisylwang/watchtogether</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> ADDR=:443 \      </span><br><span class="line"><span class="built_in">export</span> RUNMODE=prod \   </span><br><span class="line"><span class="built_in">export</span> APIHOST=your.host.name \   </span><br><span class="line"><span class="built_in">export</span> IMGNAME=yourimagename \   </span><br><span class="line"><span class="built_in">export</span> TLSKEYPATH=/your/path/to/TLS/privatekey \</span><br><span class="line"><span class="built_in">export</span> TLSCERTPATH=/your/path/to/TLS/certification \</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker run -d \</span><br><span class="line">-e ADDR=:ADDR \</span><br><span class="line"><span class="comment">#docker port to server:server port to docker, not necessarily the same</span></span><br><span class="line">-p ADDR:ADDR \ </span><br><span class="line">-e RUNMODE=RUNMODE \</span><br><span class="line"><span class="comment">#if you use letsencrypt, TLSKEY value should be /etc/letsencrypt/live/$APIHOST/privkey.pem</span></span><br><span class="line">-e TLSKEY=TLSKEYPATH \ </span><br><span class="line"><span class="comment">#if you use letsencrypt, TLSCERT value should be /etc/letsencrypt/live/$APIHOST/fullchain.pem </span></span><br><span class="line">-e TLSCERT=TLSCERTPATH \ </span><br><span class="line"><span class="comment">#need to expose your TLS certification file to docker</span></span><br><span class="line">-v /etc/letsencrypt:/etc/letsencrypt:ro \ </span><br><span class="line">--name IMGNAME louisylwang/watchtogether \</span><br><span class="line">--restart=always</span><br></pre></td></tr></table></figure></li><li><p>éƒ¨ç½²æˆåŠŸåï¼Œæ‰§è¡Œ <code>docker logs {your docker image name}</code>å°†ä¼šæç¤ºä¸‹åˆ—æ—¥å¿—ä¿¡æ¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">not found config file, read parameters from system variables...</span><br><span class="line">YYYY&#x2F;MM&#x2F;DD HH:MM:SS server is listening at :ADDR...</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç‰ˆæœ¬æ—¥å¿—"><a class="header-anchor" href="#ç‰ˆæœ¬æ—¥å¿—">#</a>ç‰ˆæœ¬æ—¥å¿—</h2><h3 id="v1-0-9-2"><a class="header-anchor" href="#v1-0-9-2">#</a>v1.0.9</h3><h2 id="ğŸ› -2020å¹´8æœˆ14æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´8æœˆ14æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´8æœˆ14æ—¥æ›´æ–°</h2><p>âš ï¸âš ï¸âš ï¸ æ¯ä¸ªç½‘ç«™éƒ½æœ‰å®ƒ<code>è‡ªå·±çš„å€é€Ÿæ§ä»¶</code>ï¼Œæ‰€ä»¥è¯·å¿½ç•¥å‰ç«¯çš„é”™è¯¯<code>æ’­æ”¾é€Ÿåº¦</code>æ˜¾ç¤ºã€‚</p><p>æ–°å¢ï¼š</p><ol><li>æ’­æ”¾é€Ÿç‡åŒæ­¥åŠŸèƒ½ï¼šä»»æ„ç«¯ç”¨æˆ·å¯¹æ’­æ”¾é€Ÿç‡çš„è°ƒæ•´ä¼šè‡ªåŠ¨åŒæ­¥è‡³å¦ä¸€ç«¯</li></ol><p>ä¿®å¤ï¼š</p><ol><li>ä¿®å¤äº†æ²¡æœ‰bugçš„bug</li></ol><h3 id="v1-0-8-2"><a class="header-anchor" href="#v1-0-8-2">#</a>v1.0.8</h3><h2 id="ğŸ› -2020å¹´8æœˆ8æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´8æœˆ8æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´8æœˆ8æ—¥æ›´æ–°</h2><p>âš ï¸âš ï¸âš ï¸ <strong>è¯·ä¸è¦</strong>å°è¯•ä½¿ç”¨åƒ<code>0000</code>å’Œ<code>1234</code>è¿™æ ·ç®€å•çš„<code>æˆ¿é—´ç </code>ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ ä½¿ç”¨ä¸å¸¸è§çš„æˆ¿é—´ç ï¼Œè¿™æ ·å°±ä¸å¿…é¢‘ç¹æ›´æ”¹å®ƒã€‚</p><p>æ–°å¢ï¼š</p><ol><li>ä¿®æ”¹æˆ¿é—´ç”³è¯·ç é€»è¾‘ï¼Œç”¨æˆ·å¯è‡ªè¡Œè¾“å…¥æˆ¿é—´ç ï¼Œä¸”ä¸‹æ¬¡è¿æ¥æ—¶æ— éœ€é‡æ–°ç”³è¯·ï¼Œåªéœ€ç‚¹å‡»startæŒ‰é’®å³å¯å¿«é€Ÿè¿æ¥ï¼ˆï¼æˆ¿é—´ç é¡»ä¸ºå››ä½å°å†™å­—æ¯+æ•°å­—çš„ç»„åˆï¼‰</li><li>å¢åŠ å†…ç½®æ–‡å­—èŠå¤©ï¼ˆå¯åœ¨é…ç½®é¡µé¢åˆ‡æ¢ï¼‰</li><li>å¢åŠ ç³»ç»Ÿé€šçŸ¥é€‰é¡¹ï¼ˆå¯åœ¨é…ç½®é¡µé¢åˆ‡æ¢ï¼‰</li><li>å¢åŠ è¿æ¥çŠ¶æ€æŒ‡ç¤ºç¯ï¼Œæ˜¾ç¤ºåœ¨æ’ä»¶å›¾æ ‡å³ä¸‹è§’ï¼ˆçº¢-æœªè¿æ¥ï¼Œé»„-ç­‰å¾…å¯¹æ–¹è¿æ¥ï¼Œç»¿-æ­£åœ¨è¿æ¥ï¼‰</li><li>å¢åŠ socketæ–­å¼€å› æœªçŸ¥åŸå› æ–­å¼€é€šçŸ¥</li><li>å¢åŠ æˆ¿é—´ç å ç”¨é€šçŸ¥</li></ol><p>ä¿®å¤ï¼š</p><ol><li>ä¿®å¤äº†æ²¡æœ‰bugçš„bug</li></ol><h3 id="v1-0-7-2"><a class="header-anchor" href="#v1-0-7-2">#</a>v1.0.7</h3><h2 id="ğŸ› -2020å¹´7æœˆ5æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´7æœˆ5æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´7æœˆ5æ—¥æ›´æ–°</h2><p>âš ï¸âš ï¸âš ï¸ æ³¨æ„ï¼Œæ­¤ç‰ˆæœ¬ä¸&lt;= 1.0.5çš„ä»»ä½•ç‰ˆæœ¬éƒ½ä¸å…¼å®¹ï¼Œè¯·åŠ¡å¿…ç¡®ä¿ä½ çš„ç‰ˆæœ¬ä¸å°ä¼™ä¼´çš„ç‰ˆæœ¬ä¸€è‡´ã€‚</p><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>æ–°å¢ç‰ˆæœ¬æ£€æµ‹ï¼ˆé«˜ç‰ˆæœ¬ç”¨æˆ·ä¸ä½ç‰ˆæœ¬ç”¨æˆ·è¿æ¥æ—¶ï¼Œè‹¥è¿æ¥ç ç”±ä½ç‰ˆæœ¬ç”¨æˆ·ç”³è¯·ï¼Œé«˜ç‰ˆæœ¬ç”¨æˆ·å°†æ”¶åˆ°æç¤ºï¼Œè¯·æ ¹æ®æç¤ºå‘ŠçŸ¥å¯¹æ–¹å‡çº§æœ€æ–°ç‰ˆæœ¬ï¼‰</li></ul></li><li>ä¿®å¤åŠŸèƒ½:<ul><li>ä¿®å¤å¯¹ <a href="https://www.bilibili.com/bangumi/*" target="_blank" rel="noopener">bilibili movie</a> çš„æ”¯æŒ</li><li>ä¿®å¤äº†ä¼˜é…·åŠèŠ’æœTVæ— æ³•åŒæ­¥æ“ä½œçš„é—®é¢˜</li></ul></li></ul><h3 id="v1-0-6-2"><a class="header-anchor" href="#v1-0-6-2">#</a>v1.0.6</h3><h2 id="ğŸ› -2020å¹´6æœˆ28æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´6æœˆ28æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´6æœˆ28æ—¥æ›´æ–°</h2><p>âš ï¸âš ï¸âš ï¸ æ³¨æ„ï¼Œæ­¤ç‰ˆæœ¬ä¸ä¹‹å‰çš„ä»»ä½•ç‰ˆæœ¬éƒ½ä¸å…¼å®¹ï¼Œè¯·åŠ¡å¿…ç¡®ä¿ä½ çš„ç‰ˆæœ¬ä¸å°ä¼™ä¼´çš„ç‰ˆæœ¬ä¸€è‡´ã€‚</p><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>æ”¯æŒèŠ’æœTVï¼ˆæ¥ä¹˜é£ç ´æµªå§ï¼ğŸ¤£ï¼‰</li><li>æ”¯æŒä½¿ç”¨VLCæ’­æ”¾å™¨åŒæ­¥æ’­æ”¾æœ¬åœ°è§†é¢‘æ–‡ä»¶</li><li>æ–°å¢è®¾ç½®é¡µé¢-è°ƒè¯•æ¨¡å¼</li><li>æ–°å¢æèµ é¡µé¢</li><li>æ–°å¢wikié¡µé¢</li></ul></li><li>ä¿®å¤åŠŸèƒ½:<ul><li>æé«˜åŒæ­¥çš„ç¨³å®šæ€§:<ul><li>æ›´æ–°äº†åŒæ­¥é€»è¾‘ï¼ˆä¸ä¸ä¹‹å‰çš„ä»»ä½•ç‰ˆæœ¬å…¼å®¹ï¼Œè¯·å°½å¿«æ›´æ–°è‡³1.0.6+ï¼‰</li><li>å¢åŠ ç¼“å†²æ£€æµ‹</li></ul></li></ul></li></ul><h3 id="v1-0-5-2"><a class="header-anchor" href="#v1-0-5-2">#</a>v1.0.5</h3><h2 id="ğŸ› -2020å¹´5æœˆ12æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´5æœˆ12æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´5æœˆ12æ—¥æ›´æ–°</h2><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>å¢åŠ å¯¹Edgeæµè§ˆå™¨çš„æ”¯æŒ</li></ul></li><li>ä¿®å¤åŠŸèƒ½ï¼š<ul><li>æé«˜åŒæ­¥çš„ç¨³å®šæ€§</li></ul></li></ul><h3 id="v1-0-4-2"><a class="header-anchor" href="#v1-0-4-2">#</a>v1.0.4</h3><h2 id="ğŸ› -2020å¹´5æœˆ10æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´5æœˆ10æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´5æœˆ10æ—¥æ›´æ–°</h2><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>æ–°å¢æˆåŠŸè¿æ¥æç¤º</li></ul></li><li>ä¿®å¤åŠŸèƒ½ï¼š<ul><li>æé«˜åŒæ­¥çš„ç¨³å®šæ€§</li><li>ä¿®æ”¹æ¶ˆæ¯å¼¹çª—æ ·å¼</li></ul></li></ul><h3 id="v1-0-3-2"><a class="header-anchor" href="#v1-0-3-2">#</a>v1.0.3</h3><h2 id="ğŸ› -2020å¹´5æœˆ8æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´5æœˆ8æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´5æœˆ8æ—¥æ›´æ–°</h2><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>æ–°å¢å¯¹ä»¥ä¸‹è§†é¢‘ç½‘ç«™çš„æ”¯æŒ<ul><li><a href="https://www.iqiyi.com/" target="_blank" rel="noopener">çˆ±å¥‡è‰º</a></li><li><a href="https://www.youku.com/" target="_blank" rel="noopener">ä¼˜é…·</a></li><li><a href="https://www.weiyun.com/" target="_blank" rel="noopener">å¾®äº‘</a></li><li><a href="https://v.qq.com/" target="_blank" rel="noopener">è…¾è®¯è§†é¢‘</a></li></ul></li></ul></li><li>ä¿®å¤åŠŸèƒ½ï¼š<ul><li>æé«˜åŒæ­¥çš„ç¨³å®šæ€§</li><li>ä¿®æ”¹æ–‡æ¡£</li></ul></li></ul><h3 id="v1-0-2-2"><a class="header-anchor" href="#v1-0-2-2">#</a>v1.0.2</h3><h2 id="ğŸ› -2020å¹´3æœˆ31æ—¥æ›´æ–°"><a class="header-anchor" href="#ğŸ› -2020å¹´3æœˆ31æ—¥æ›´æ–°">#</a>ğŸ›  2020å¹´3æœˆ31æ—¥æ›´æ–°</h2><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>æ”¯æŒå¯¹ä¿®æ”¹æ’­æ”¾è¿›åº¦çš„åŒæ­¥</li></ul></li><li>ä¿®å¤åŠŸèƒ½ï¼š<ul><li>æé«˜åŒæ­¥çš„ç¨³å®šæ€§</li></ul></li></ul><h3 id="v0-0-1-2"><a class="header-anchor" href="#v0-0-1-2">#</a>v0.0.1</h3><h2 id="ğŸ› -2020å¹´3æœˆ26æ—¥æ›´æ–°-æµ‹è¯•ç‰ˆ"><a class="header-anchor" href="#ğŸ› -2020å¹´3æœˆ26æ—¥æ›´æ–°-æµ‹è¯•ç‰ˆ">#</a>ğŸ›  2020å¹´3æœˆ26æ—¥æ›´æ–° (æµ‹è¯•ç‰ˆ)</h2><ul><li>æ–°å¢åŠŸèƒ½ï¼š<ul><li>æ”¯æŒæ’­æ”¾æš‚åœåŒæ­¥</li><li>æ”¯æŒæ–­å¼€è¿æ¥æç¤º</li></ul></li></ul><h2 id="å¼€å‘è€…"><a class="header-anchor" href="#å¼€å‘è€…">#</a>å¼€å‘è€…</h2><p>Yiliang â€œLouisâ€ Wang â€“ <a href="https://ylwang.codes/" target="_blank" rel="noopener">@blog</a> â€“ <a href="mailto:louis.yl.wang@outlook.com">@mail</a></p><p>Onns â€“ <a href="https://onns.xyz/">@blog</a> â€“ <a href="mailto:onns@onns.xyz">@mail</a></p><h2 id="å‚ä¸æ›´æ–°"><a class="header-anchor" href="#å‚ä¸æ›´æ–°">#</a>å‚ä¸æ›´æ–°</h2><ol><li>æ‹·è´å½“å‰ä»£ç ï¼ˆ<a href="https://github.com/LouisYLWang/Sync-Sofa/fork%EF%BC%89" target="_blank" rel="noopener">https://github.com/LouisYLWang/Sync-Sofa/forkï¼‰</a></li><li>åˆ›å»ºä½ è‡ªå·±çš„åˆ†æ”¯ (<code>git checkout -b feature/fooBar</code>)</li><li>æ·»åŠ è¯„è®º (<code>git commit -am 'Add some fooBar'</code>)</li><li>æäº¤ä»£ç  (<code>git push origin feature/fooBar</code>)</li><li>åˆ›å»ºä¸€ä¸ªæ›´æ–°è¯·æ±‚</li></ol><!-- Markdown link & img dfn's --><h2 id="å¸¸è§é—®é¢˜"><a class="header-anchor" href="#å¸¸è§é—®é¢˜">#</a>å¸¸è§é—®é¢˜</h2><ol><li><p><strong>Q:</strong> åœ¨æˆ‘å®‰è£…çš„æ—¶å€™ï¼ŒChromeæç¤ºæˆ‘Sync Sofaå¯ä»¥<code>è¯»å–å’Œæ›´æ”¹æ‚¨åœ¨ä¸€äº›ç½‘ç«™ä¸Šçš„æ•°æ®</code>ä»¥åŠ<code>è¯»å–æ‚¨çš„æµè§ˆè®°å½•</code>ï¼Œå¬èµ·æ¥å¾ˆä¸¥é‡ï¼Œå®ƒå®‰å…¨å—ï¼Ÿ</p><p><strong>A:</strong> æˆ‘ä»¬ä¸ä¼šæ”¶é›†ä½ çš„æµè§ˆæ•°æ®ï¼Œæˆ‘ä»¬åªä¼šè¯»å–ä½ å½“å‰æ ‡ç­¾é¡µçš„æ ‡é¢˜ï¼Œç”¨æ¥åˆ¤æ–­ä½ æ˜¯å¦åœ¨è®¿é—®æˆ‘ä»¬æ”¯æŒçš„é¡µé¢(<a href="#supported-list">æ”¯æŒç½‘ç«™åˆ—è¡¨</a>)ï¼Œä»¥é¿å…å½±å“ä½¿ç”¨ä½“éªŒçš„äº‹æƒ…å‘ç”Ÿã€‚æ‰€æœ‰å¯¹ä½ æµè§ˆæ•°æ®çš„æ”¶é›†å’Œå¤„ç†åªä¼šå‘ç”Ÿåœ¨æœ¬åœ°ï¼›äº‹å®ä¸Šæˆ‘ä»¬ä¹Ÿä¸ä¼šéšæ„ä¿®æ”¹ç½‘ç«™çš„æ•°æ®ï¼Œæˆ‘ä»¬åªä¼šä½¿ç”¨ä¸€ä¸ªåŒæ­¥è„šæœ¬æ¥ç›‘æµ‹ä½ æ’­æ”¾ï¼Œæš‚åœåŠæ›´æ–°è¿›åº¦ç­‰æ“ä½œï¼ˆæˆ‘ä»¬ä¸å¾—ä¸è¿™æ ·åšï¼‰ã€‚<strong>æ‰€æœ‰çš„æºç éƒ½å¯ä»¥åœ¨ [æˆ‘ä»¬çš„é¡¹ç›®ä¸»é¡µ]å®¡æ ¸(<a href="https://github.com/LouisYLWang/Sync-Sofa" target="_blank" rel="noopener">https://github.com/LouisYLWang/Sync-Sofa</a>), æˆ‘ä»¬æ‰¿è¯ºç›®å‰åšçš„æ‰€æœ‰äº‹æƒ…éƒ½æ˜¯å¿…è¦ä¸”æ— å®³çš„.</strong></p></li><li><p>å¦‚æœä½ å‘ç°<strong>æŒ‰é’®å˜ç°</strong>, è¯·ç¡®è®¤ä½ æ˜¯å¦åœ¨æˆ‘ä»¬æ”¯æŒçš„ç½‘ç«™æ“ä½œ(<a href="#supported-list">æ”¯æŒç½‘ç«™åˆ—è¡¨</a>).</p></li><li><p>å¦‚æœä½ å‘ç°æ’ä»¶<strong>æ— æ³•è·å–åŒæ­¥ç </strong>ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ£€æŸ¥é—®é¢˜ï¼š</p><ol><li>è¯·æ£€æŸ¥ <a href="#options-page">é€‰é¡¹é¡µé¢</a> å¹¶ç‚¹å‡»<code>é‡ç½®</code> æŒ‰é’®</li><li>è¯·å‚è€ƒ <a href="#options-page">é€‰é¡¹é¡µé¢</a> æ ¹æ®ä½ æ‰€åœ¨çš„ä½ç½®é€‰æ‹©å¹¶è®¾ç½®åˆé€‚çš„æœåŠ¡å™¨</li><li>è¯·æ£€æŸ¥æœåŠ¡å™¨å½“å‰çŠ¶æ€ <a href="https://sync-status.onns.xyz/" target="_blank" rel="noopener">https://sync-status.onns.xyz/</a>æ˜¯å¦æ­£å¸¸å¯åŠ¨</li><li>å¦‚ä»¥ä¸Šéƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ï¼Œè¯·é€šè¿‡<a href="https://github.com/LouisYLWang/Sync-Sofa/issues" target="_blank" rel="noopener">é¡¹ç›®åé¦ˆé¡µé¢</a>æˆ–<a href="https://onns.xyz/sync-sofa/">é¡¹ç›®wikié¡µé¢</a>å³ä¸‹è§’çš„åé¦ˆæŒ‰é’®é€šçŸ¥æˆ‘ä»¬ã€‚</li></ol></li><li><p>å¦‚æœä½ å‘ç°æ’ä»¶<strong>æ— æ³•æ­£å¸¸åŒæ­¥æ“ä½œ</strong>ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ£€æŸ¥é—®é¢˜ï¼š</p><ol><li>è¯·åŠ¡å¿…ç¡®è®¤ä¸¤æ–¹ç‰ˆæœ¬å·æ˜¯å¦ä¸€è‡´ï¼Œæ¬²æ£€æµ‹ç‰ˆæœ¬å·ï¼Œéœ€æ‰“å¼€<a href="chrome://extensions/">chrome extension page</a>ï¼Œå¹¶æ‰¾åˆ°<code>Sync Sofa - Online Video Synchronizer *.*.*</code>ï¼Œå…¶ä¸­ <code>*.*.*</code> ä¸ºå½“å‰ç‰ˆæœ¬ã€‚</li><li>è¯·æ£€æŸ¥ <a href="#options-page">é€‰é¡¹é¡µé¢</a> å¹¶ç‚¹å‡»<code>é‡ç½®</code> æŒ‰é’®</li><li>è¯·å‚è€ƒ <a href="#options-page">é€‰é¡¹é¡µé¢</a> æ ¹æ®ä½ æ‰€åœ¨çš„ä½ç½®é€‰æ‹©å¹¶è®¾ç½®åˆé€‚çš„æœåŠ¡å™¨</li><li>è¯·æ£€æŸ¥æœåŠ¡å™¨å½“å‰çŠ¶æ€ <a href="https://sync-status.onns.xyz/" target="_blank" rel="noopener">https://sync-status.onns.xyz/</a>æ˜¯å¦æ­£å¸¸å¯åŠ¨.</li><li>å¦‚ä»¥ä¸Šéƒ½ä¸èƒ½è§£å†³ä½ çš„é—®é¢˜ï¼Œè¯·é€šè¿‡<a href="https://github.com/LouisYLWang/Sync-Sofa/issues" target="_blank" rel="noopener">é¡¹ç›®åé¦ˆé¡µé¢</a>æˆ–<a href="https://onns.xyz/sync-sofa/">é¡¹ç›®wikié¡µé¢</a>å³ä¸‹è§’çš„åé¦ˆæŒ‰é’®é€šçŸ¥æˆ‘ä»¬ã€‚</li></ol></li></ol><h3 id="å¦‚ä½•è·å–è°ƒè¯•ä¿¡æ¯"><a class="header-anchor" href="#å¦‚ä½•è·å–è°ƒè¯•ä¿¡æ¯">#</a>å¦‚ä½•è·å–è°ƒè¯•ä¿¡æ¯</h3><ol><li>åœ¨<a href="#%E9%80%89%E9%A1%B9%E9%A1%B5">é€‰é¡¹é¡µ</a>é‡Œæ‰“å¼€ <code>debugæ¨¡å¼</code>ã€‚</li><li>åˆ·æ–°è§†é¢‘é¡µé¢ã€‚</li><li><code>Shift + ctrl + i</code> åœ¨ Windows ä¸‹ æˆ–è€… <code>Shift + cmd + i</code> åœ¨ MacOS ä¸‹.</li><li>é€‰æ‹© <code>console</code> æ ‡ç­¾é¡µ.</li></ol><h3 id="vlcåŒæ­¥åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨"><a class="header-anchor" href="#vlcåŒæ­¥åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨">#</a>VLCåŒæ­¥åŠŸèƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨</h3><p>é¦–å…ˆç¡®è®¤<code>http://127.0.0.1:8080/</code>èƒ½å¦æ­£å¸¸æ‰“å¼€ï¼Œå¦‚æœä¸èƒ½ï¼Œè¯·æŸ¥çœ‹ä¸€ä¸‹<code>8080</code>ç«¯å£æ˜¯å¦è¢«å…¶å®ƒåº”ç”¨ç¨‹åºå ç”¨ã€‚å¦‚æœè¯¥ç¨‹åºå¯ä»¥è¢«å…³é—­ï¼Œè¯·å…³é—­åå†æ¬¡å°è¯•å¼€å¯ã€‚</p><p>å¦‚æœä¸èƒ½ï¼Œè¯·å‚è€ƒç›¸å…³é…ç½®å°†<code>VLC</code>çš„ç«¯å£å·è®¾ç½®ä¸º<code>9891</code>ã€‚ï¼ˆå°†åœ¨<code>v1.0.10</code>ä¹‹åç”Ÿæ•ˆï¼‰</p><p>å¦‚æœå¯ä»¥æ‰“å¼€<code>http://127.0.0.1:8080/</code>ï¼Œä½†é¡µé¢æ— æ³•æ­£å¸¸æ¸²æŸ“ï¼Œè¯·å°è¯•å¼€å¯<code>ç§‘å­¦ä¸Šç½‘</code>åå†æ¬¡åˆ·æ–°é¡µé¢ã€‚ï¼ˆé¡µé¢éœ€è¦åŠ è½½googleçš„ä¸€ä¸ªjsæ–‡ä»¶ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> try </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> extension </tag>
            
            <tag> sync-sofa </tag>
            
            <tag> document </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡è¡¨æƒ…åŒ…</title>
      <link href="/blog/2020/08/10/wechat-sticker/"/>
      <url>/blog/2020/08/10/wechat-sticker/</url>
      
        <content type="html"><![CDATA[<p>ä¸€ç›´æœ‰ä¸ªæ„¿æœ›å¸Œæœ›å¯ä»¥åšä¸€å¥—è¡¨æƒ…åŒ…ï¼ŒçŒ«çŒ«ç‹—ç‹—çš„ï¼Œå‘å¸ƒåˆ°å¾®ä¿¡è¡¨æƒ…å•†åº—å»ï¼Œç„¶åè·å¾—ä¸€ä»½æ¥è‡ªé™Œç”Ÿäººçš„æ‰“èµã€‚</p><p>å…œå…œè½¬è½¬ï¼Œæœ€ç»ˆç»ˆäºå‘å‡ºå»äº†ï¼š<a href="https://w.url.cn/s/AhnuUpf#wechat_redirect" target="_blank" rel="noopener">ã€åœ†ä¸æºœQã€‘</a></p><center><p><img src="//onns.xyz/blog/image/20200810-1.jpg" alt="QQ"></p></center><a id="more"></a><p>å››èˆäº”å…¥ï¼Œä¹Ÿç®—æ˜¯æœ‰äº†è‡ªå·±çš„çŒ«äº†ã€‚</p><p>ä¹Ÿç®—æ˜¯ä»Šå¹´çš„å°ç›®æ ‡ï¼š</p><ul><li>å‘å¸ƒä¸€å¥—å¾®ä¿¡è¡¨æƒ… âœ“</li><li>è·å¾—ä¸€ä»½é™Œç”Ÿäººçš„èµèµ x</li></ul><p>å¼€é€šèµèµå¥½éº»çƒ¦ï¼Œéœ€è¦çš„ç´ ææ–‡ä»¶å¤§å°å¤ªå¤§ï¼Œåœ¨<code>é™è´¨</code>æ–¹é¢æµªè´¹äº†å¥½å¤šæ—¶é—´ã€‚</p><p>ç»“æœå› ä¸ºç”¨é”™å­—ä½“ï¼Œåˆé‡æ–°å¯¼å‡ºäº†ä¸€æ¬¡è¡¨æƒ…åŒ…ï¼Œå¦‚æœèƒ½å¤Ÿæ‰¹é‡å¯¼å‡ºï¼Œè¯¥æœ‰å¤šå¥½å‘€ã€‚</p><p>ç¬¬ä¸€æ¬¡å®¡æ ¸ç¬¬äºŒå¤©å°±å‡ºç»“æœäº†ï¼Œä¸é€šè¿‡ï¼Œå› ä¸º<code>æ†¨æ‰¹</code>è¿™ä¸ªè¯ï¼Œä¸ç¬¦åˆä»·å€¼è§‚ã€‚</p><p>ç¬¬äºŒæ¬¡æ˜¯äº”å¤©åæ‰å‡ºçš„ç»“æœï¼Œç»ˆäºé€šè¿‡äº†ï¼Œå”‰ â•®(â•¯â–½â•°)â•­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> try </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wechat </tag>
            
            <tag> å¾®ä¿¡ </tag>
            
            <tag> è¡¨æƒ…åŒ… </tag>
            
            <tag> sticker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxè¿½åŠ æ—¥å¿—æµ‹è¯•</title>
      <link href="/blog/2020/08/10/log-write-test/"/>
      <url>/blog/2020/08/10/log-write-test/</url>
      
        <content type="html"><![CDATA[<p>æ’ä»¶ç›‘æ§æœ‰ç”¨åˆ°ç®€å•çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæƒ³çŸ¥é“å†™å…¥é‡å¾ˆå¤§ä¹‹åä¼šä¸ä¼šæœ‰å¤ªå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œè¿™æ ·æ‰å¥½ç¡®å®šæ˜¯å•ä¸ªæ—¥å¿—æ–‡ä»¶ï¼ˆæ–¹ä¾¿æ”¶é›†å’ŒæŸ¥çœ‹ï¼‰è¿˜æ˜¯è¦å¤šä¸ªæ—¥å¿—æ–‡ä»¶ã€‚</p><a id="more"></a><h2 id="ä¿®æ”¹ç§é’¥æƒé™"><a class="header-anchor" href="#ä¿®æ”¹ç§é’¥æƒé™">#</a>ä¿®æ”¹ç§é’¥æƒé™</h2><p>ä¸€èˆ¬ SSH ç§é’¥éƒ½è¦èµ‹äºˆä¸€ä¸ª<code>600</code>çš„æƒé™ï¼Œå¦åˆ™ä¼šæç¤ºæƒé™è¿‡é«˜ä¸èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯ Windows æ²¡æœ‰ç±»ä¼¼<code>chmod</code>çš„å‘½ä»¤ï¼Œæ‰€ä»¥åªèƒ½æ‰‹åŠ¨çš„ä¿®æ”¹æƒé™ã€‚</p><ol><li>æ‰“å¼€<code>Windows PowerShell</code>ï¼Œè¾“å…¥<code>$env:username</code>å¾—åˆ°å½“å‰ç”¨æˆ·å</li><li>å³é”®-&gt;å±æ€§-&gt;å®‰å…¨-&gt;é«˜çº§</li><li>ç¦ç”¨ç»§æ‰¿</li><li>åˆ é™¤æ‰€æœ‰çš„<code>æƒé™æ¡ç›®</code></li><li>å°†ç§é’¥æ–‡ä»¶çš„æ‰€æœ‰è€…è®¾ç½®ä¸ºå½“å‰ç”¨æˆ·ï¼Œå³åˆšåˆšæ‹¿åˆ°çš„ç”¨æˆ·å</li></ol><p>è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒ <a href="https://blog.csdn.net/joshua2011/article/details/90208741" target="_blank" rel="noopener">çœŸæ­£è§£å†³ windows OpenSSH WARNING: UNPROTECTED PRIVATE KEY FILE!</a>ã€‚</p><h2 id="æŸ¥çœ‹ç³»ç»Ÿ"><a class="header-anchor" href="#æŸ¥çœ‹ç³»ç»Ÿ">#</a>æŸ¥çœ‹ç³»ç»Ÿ</h2><p>é¦–å…ˆè¦çœ‹ä¸‹æ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºå„ä¸ªæ–‡ä»¶ç³»ç»Ÿå¯èƒ½å­˜åœ¨å·®å¼‚ã€‚</p><p>æœåŠ¡å™¨æ˜¯é˜¿é‡Œäº‘çš„ï¼Œç³»ç»Ÿç‰ˆæœ¬ä¸º<code>CentOS7</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ lsb_release -a</span><br><span class="line">LSB Version:    :core-4.1-amd64:core-4.1-noarch</span><br><span class="line">Distributor ID: CentOS</span><br><span class="line">Description:    CentOS Linux release 7.8.2003 (Core)</span><br><span class="line">Release:        7.8.2003</span><br><span class="line">Codename:       Core</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿ"><a class="header-anchor" href="#æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿ">#</a>æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿ</h2><p>æ‰€ç”¨çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯<code>ext4</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs        909M     0  909M   0% /dev</span><br><span class="line">tmpfs           919M     0  919M   0% /dev/shm</span><br><span class="line">tmpfs           919M  540K  919M   1% /run</span><br><span class="line">tmpfs           919M     0  919M   0% /sys/fs/cgroup</span><br><span class="line">/dev/vda1        40G  3.1G   35G   9% /</span><br><span class="line">overlay          40G  3.1G   35G   9% /var/lib/docker/overlay2/ccce49da9cce1095aa9a4c46c83ec608529802a0ad8643e90e99e4e60bdc5a00/merged</span><br><span class="line">tmpfs           184M     0  184M   0% /run/user/0</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ file -s /dev/vda1</span><br><span class="line">/dev/vda1: Linux rev 1.0 ext4 filesystem data, UUID=59d9ca7b-4f39-4c0c-9334-c56c182076b5 (needs journal recovery) (extents) (large files) (huge files)</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆæ•°æ®æ–‡ä»¶"><a class="header-anchor" href="#ç”Ÿæˆæ•°æ®æ–‡ä»¶">#</a>ç”Ÿæˆæ•°æ®æ–‡ä»¶</h2><p>æ¨¡æ‹Ÿå·²ç»å†™å…¥è¿‡çš„æ•°æ®æ–‡ä»¶ï¼Œä¸€ä¸ª<code>1GB</code>ï¼Œä¸€ä¸ª<code>10GB</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/zero of=1.test bs=8M count=128</span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=10.test bs=8M count=1280</span><br></pre></td></tr></table></figure><h2 id="å†™å…¥æµ‹è¯•"><a class="header-anchor" href="#å†™å…¥æµ‹è¯•">#</a>å†™å…¥æµ‹è¯•</h2><p>ç®€å•çš„ç”¨ Python æµ‹è¯•ä¸€ä¸‹ï¼Œå†™å…¥<code>10ä¸‡</code>æ¡æ•°æ®è®°å½•æ—¶é—´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"></span><br><span class="line">work_dir = os.path.dirname(os.path.realpath(__file__))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># file_name = os.path.join(work_dir,'1.test')</span></span><br><span class="line">file_name = os.path.join(work_dir,<span class="string">'10.test'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> time.time()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000</span>):</span><br><span class="line">url_us = <span class="string">'https://app.ylwang.me/v1/status'</span></span><br><span class="line">us = url_us</span><br><span class="line"></span><br><span class="line">url_cn = <span class="string">'https://sync-cn.onns.xyz/v1/status'</span></span><br><span class="line">cn = url_cn</span><br><span class="line"></span><br><span class="line">url_cn2 = <span class="string">'https://api.huoranxuanyuan.cn/v1/status'</span></span><br><span class="line">cn2 = url_cn2</span><br><span class="line"></span><br><span class="line">f = open(file_name, <span class="string">'a'</span>)</span><br><span class="line">f.write(json.dumps(&#123;time.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>, time.localtime(time.time())):&#123;<span class="string">"us"</span>:us,<span class="string">"cn"</span>:cn,<span class="string">"cn2"</span>:cn2&#125;&#125;))</span><br><span class="line">f.write(<span class="string">"\n"</span>)</span><br><span class="line">f.close()</span><br><span class="line"><span class="keyword">print</span> time.time()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> time.time()</span><br></pre></td></tr></table></figure><h2 id="æµ‹è¯•ç»“æœ"><a class="header-anchor" href="#æµ‹è¯•ç»“æœ">#</a>æµ‹è¯•ç»“æœ</h2><center><table><thead><tr><th style="text-align:center">å·²æœ‰æ–‡ä»¶å¤§å°</th><th style="text-align:center">å¼€å§‹æ—¶é—´æˆ³</th><th style="text-align:center">ç»“æŸæ—¶é—´æˆ³</th><th style="text-align:center">å·®å€¼ï¼ˆå•ä½ï¼šç§’ï¼‰</th></tr></thead><tbody><tr><td style="text-align:center">1GB</td><td style="text-align:center">1597029893.02</td><td style="text-align:center">1597029897.22</td><td style="text-align:center">4.20</td></tr><tr><td style="text-align:center">10GB</td><td style="text-align:center">1597029915.22</td><td style="text-align:center">1597029919.57</td><td style="text-align:center">4.30</td></tr></tbody></table></center><p>æ€»å¾—æ¥è¯´ï¼Œè¿½åŠ å†™å…¥æ–‡ä»¶æ˜¯ä¸€ä»¶è¢«ä¼˜åŒ–è¿‡çš„äº‹æƒ…ï¼ˆæˆ‘è‡ªå·±ç†è§£çš„ï¼‰ï¼Œä¸ä¼šå¯¹å·²æœ‰çš„ç³»ç»Ÿé€ æˆå¤ªå¤§çš„è´Ÿæ‹…ï¼Œæˆ‘ä¹‹å‰è¿˜åœ¨æƒ³ä¼šä¸ä¼šå› ä¸ºæ–‡ä»¶è¿‡å¤§ï¼Œä»è€Œé€ æˆä¸»è¦æ“ä½œè€—æ—¶è¿‡é•¿ã€‚</p><p>çŸ¥é“äº†ä¸€ä¸ªå¤§æ¦‚çš„æ•°é‡çº§ï¼Œå¯¹ä»¥åçš„åº”ç”¨ä¹Ÿèƒ½æœ‰ä¸ªç²—ç•¥çš„æ¦‚å¿µï¼<br>çŸ¥é“äº†ä¸€äº›æ–°çš„ Linux å‘½ä»¤~</p><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://blog.csdn.net/joshua2011/article/details/90208741" target="_blank" rel="noopener">çœŸæ­£è§£å†³ windows OpenSSH WARNING: UNPROTECTED PRIVATE KEY FILE!</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> system </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> linux </tag>
            
            <tag> log </tag>
            
            <tag> file system </tag>
            
            <tag> ext4 </tag>
            
            <tag> ssh </tag>
            
            <tag> windows </tag>
            
            <tag> permission </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–°é‚®ä»¶ç­¾åï¼</title>
      <link href="/blog/2020/08/09/new-email-signature/"/>
      <url>/blog/2020/08/09/new-email-signature/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©è¿‡ç”Ÿæ—¥ï¼å‘é‚®ä»¶çš„æ—¶å€™å‘ç°ä»¥å‰çš„é‚®ä»¶ç­¾åå¥½ä¸‘ï½æ¢ä¸€ä¸ªå§ï¼</p><center><p><img src="//onns.xyz/blog/image/20200809-1.png" alt="é‚®ä»¶ç­¾å"></p></center><p>æ¥æºæ˜¯ï¼š<a href="https://www.freepik.com/" target="_blank" rel="noopener">https://www.freepik.com/</a></p>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> email </tag>
            
            <tag> signature </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šåˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼</title>
      <link href="/blog/2020/07/24/solution-of-split-array-largest-sum/"/>
      <url>/blog/2020/07/24/solution-of-split-array-largest-sum/</url>
      
        <content type="html"><![CDATA[<h2 id="410-åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼"><a class="header-anchor" href="#410-åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼">#</a><a href="https://leetcode-cn.com/problems/split-array-largest-sum/" target="_blank" rel="noopener">410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼</a></h2><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°<code>m</code>ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ<code>m</code>ä¸ªéç©ºçš„è¿ç»­å­æ•°ç»„ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™<code>m</code>ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚</p><p>æ³¨æ„:<br>æ•°ç»„é•¿åº¦<code>n</code>æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:</p><ul><li>1 â‰¤ <code>n</code> â‰¤ 1000</li><li>1 â‰¤ <code>m</code> â‰¤ min(50, n)</li></ul><p>ç¤ºä¾‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥:</span><br><span class="line">nums &#x3D; [7,2,5,10,8]</span><br><span class="line">m &#x3D; 2</span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">18</span><br><span class="line"></span><br><span class="line">è§£é‡Š:</span><br><span class="line">ä¸€å…±æœ‰å››ç§æ–¹æ³•å°†numsåˆ†å‰²ä¸º2ä¸ªå­æ•°ç»„ã€‚</span><br><span class="line">å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º[7,2,5] å’Œ [10,8]ï¼Œ</span><br><span class="line">å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h2><p><a href="https://onns.xyz/blog/2020/07/02/solution-of-kth-smallest-element-in-a-sorted-matrix/">ä¸Šæ¬¡è¯´çš„</a>æ•°ç»„æº¢å‡ºé—®é¢˜ï¼Œè¿™æ¬¡å€’æ˜¯æ²¡æœ‰çŠ¯äº†ï¼Œä½†è¿™æ¬¡æ‰¾è¾¹ç•Œæ¡ä»¶çš„åˆæ˜¯å› ä¸º<code>+1</code>æ²¡æœ‰ææ˜ç™½ï¼Œå…¶å®ä¸Šæ¬¡å°±æœ‰é‡åˆ°ï¼Œè¿™æ¬¡ä¸€å®šè¦è®°ä½äº†ã€‚</p><h2 id="ä¸å¯è¡Œæ–¹æ¡ˆ"><a class="header-anchor" href="#ä¸å¯è¡Œæ–¹æ¡ˆ">#</a>ä¸å¯è¡Œæ–¹æ¡ˆ</h2><p>æˆ‘æœ€å¼€å§‹æƒ³åˆ°çš„æ–¹æ³•æ˜¯ï¼Œå…ˆæŠŠå­æ•°ç»„<code>ç²—ç•¥åœ°</code>åˆ’åˆ†ä¸€ä¸‹ã€‚</p><ol><li>æ±‚å‡ºæ‰€æœ‰å…ƒç´ ä¹‹å’Œ<code>total</code>ï¼Œç„¶åé™¤ä»¥<code>m</code>å¾—åˆ°æ¯ä¸ªå­æ•°ç»„çš„å¹³å‡å€¼ï¼Œè®°ä¸º<code>threshold</code>ã€‚</li><li>å°½é‡é è¿‘è¾¹ç•Œè¿›è¡Œåˆ’åˆ†ï¼Œæ¯”å¦‚è¯´å¦‚æœå½“å‰çš„å’Œ<code>current</code>æ¯”<code>current + nums[i]</code>ç¦»<code>threshold</code>æ›´è¿‘ï¼Œå°±ä¸åŠ ï¼Œå¦åˆ™åŠ ã€‚</li><li>æœ€åä¸€æ¬¡åˆ’åˆ†çš„æ—¶å€™å°†æ‰€æœ‰æœªç»Ÿè®¡è¿‡çš„æ•°å­—éƒ½å½’åˆ°æœ€åä¸€ä¸ªå­æ•°ç»„ä¸­ã€‚</li></ol><p>å¦‚æœè¯´æƒ³å¾—åˆ°ä¸€ä¸ª<code>å±€éƒ¨æœ€ä¼˜è§£</code>ï¼Œé‚£ä¹ˆè¿™æ ·çš„åˆ’åˆ†æ–¹æ³•è‚¯å®šæ²¡æœ‰é—®é¢˜ï¼Œä½†å±€éƒ¨æœ€ä¼˜ä¸æ˜¯å…¨å±€æœ€ä¼˜ï¼Œæƒ³äº†å¥½ä¹…å¦‚ä½•è°ƒæ•´ï¼Œæ²¡æœ‰æ€è·¯ï¼Œæ­¤æ–¹æ³•å°±æ­¤ä½œç½¢ã€‚</p><h2 id="åŠ¨æ€è§„åˆ’"><a class="header-anchor" href="#åŠ¨æ€è§„åˆ’">#</a>åŠ¨æ€è§„åˆ’</h2><p>åŠ¨æ€è§„åˆ’æœ€é‡è¦çš„æ˜¯è¦æ‰¾åˆ°<code>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</code>ï¼Œç„¶åç¡®å®š<code>åˆå§‹æ¡ä»¶</code>ã€‚</p><p>ä»¤<code>f(i)(j)</code>ä¸ºå°†<code>nums[0]</code>åˆ°<code>nums[i]</code>åˆ’åˆ†æˆ<code>j</code>ä¸ªå­æ•°ç»„çš„å„è‡ªå’Œçš„æœ€å°å€¼ï¼Œåˆ™<code>f(i)(j)</code>ä¸€å®šå¯ä»¥è¡¨ç¤ºä¸ºæŸä¸ªå­åˆ’åˆ†çš„æœ€å°å€¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> dynamic programming </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
            <tag> binary search </tag>
            
            <tag> äºŒåˆ†æŸ¥æ‰¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šæˆ³æ°”çƒ</title>
      <link href="/blog/2020/07/24/solution-of-burst-balloons/"/>
      <url>/blog/2020/07/24/solution-of-burst-balloons/</url>
      
        <content type="html"><![CDATA[<h2 id="312-æˆ³æ°”çƒ"><a class="header-anchor" href="#312-æˆ³æ°”çƒ">#</a><a href="https://leetcode-cn.com/problems/burst-balloons/" target="_blank" rel="noopener">312. æˆ³æ°”çƒ</a></h2><p>æœ‰ <code>n</code> ä¸ªæ°”çƒï¼Œç¼–å·ä¸º <code>0</code> åˆ° <code>n-1</code>ï¼Œæ¯ä¸ªæ°”çƒä¸Šéƒ½æ ‡æœ‰ä¸€ä¸ªæ•°å­—ï¼Œè¿™äº›æ•°å­—å­˜åœ¨æ•°ç»„Â <code>nums</code>Â ä¸­ã€‚</p><p>ç°åœ¨è¦æ±‚ä½ æˆ³ç ´æ‰€æœ‰çš„æ°”çƒã€‚å¦‚æœä½ æˆ³ç ´æ°”çƒ <code>i</code>ï¼Œå°±å¯ä»¥è·å¾— <code>nums[left] * nums[i] * nums[right]</code> ä¸ªç¡¬å¸ã€‚è¿™é‡Œçš„ <code>left</code> å’Œ <code>right</code> ä»£è¡¨å’ŒÂ <code>i</code> ç›¸é‚»çš„ä¸¤ä¸ªæ°”çƒçš„åºå·ã€‚æ³¨æ„å½“ä½ æˆ³ç ´äº†æ°”çƒ <code>i</code> åï¼Œæ°”çƒ <code>left</code>Â å’Œæ°”çƒ <code>right</code> å°±å˜æˆäº†ç›¸é‚»çš„æ°”çƒã€‚</p><p>æ±‚æ‰€èƒ½è·å¾—ç¡¬å¸çš„æœ€å¤§æ•°é‡ã€‚</p><p>è¯´æ˜ï¼š</p><ul><li>ä½ å¯ä»¥å‡è®¾Â <code>nums[-1] = nums[n] = 1</code>ï¼Œä½†æ³¨æ„å®ƒä»¬ä¸æ˜¯çœŸå®å­˜åœ¨çš„æ‰€ä»¥å¹¶ä¸èƒ½è¢«æˆ³ç ´ã€‚</li><li>0 â‰¤ <code>n</code> â‰¤ 500, 0 â‰¤ <code>nums[i]</code> â‰¤ 100</li></ul><p>ç¤ºä¾‹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: [3,1,5,8]</span><br><span class="line">è¾“å‡º: 167</span><br><span class="line">è§£é‡Š: nums &#x3D; [3,1,5,8] --&gt; [3,5,8] --&gt;   [3,8]   --&gt;  [8]  --&gt; []</span><br><span class="line">Â     coins &#x3D;  3*1*5      +  3*5*8    +  1*3*8      + 1*8*1   &#x3D; 167</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h2><p>æ²¡å¤ªåšå‡ºæ¥ï¼Œæƒ³äº†å¾ˆä¹…ï¼Œå®˜æ–¹ç»™çš„æ€è·¯æ ¹æœ¬ä¸å¯èƒ½æƒ³å‡ºæ¥ã€‚ã€‚ã€‚é¡ºç€ <a href="https://www.cnblogs.com/niuyourou/p/11964842.html" target="_blank" rel="noopener">Burst Balloonsï¼ˆleetcodeæˆ³æ°”çƒï¼Œå›°éš¾ï¼‰ä»æŒ‡æ•°çº§æ—¶é—´å¤æ‚åº¦åˆ°å¤šé¡¹å¼çº§æ—¶é—´å¤æ‚åº¦çš„è¶…è¯¦ç»†ä¼˜åŒ–æ€è·¯ï¼ˆå›æº¯åˆ°åˆ†æ²»åˆ°åŠ¨æ€è§„åˆ’ï¼‰</a> çš„æ€è·¯ä¸€ç‚¹ç‚¹è‡ªå·±åšä¸‹æ¥çš„ã€‚</p><h2 id="é€’å½’-å›æº¯"><a class="header-anchor" href="#é€’å½’-å›æº¯">#</a>é€’å½’+å›æº¯</h2><p>æœ€ç®€å•çš„åŠæ³•å°±æ˜¯ç©·ä¸¾ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½çš„æƒ…å†µéƒ½åˆ—ä¸¾ä¸€æ¬¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BurstBalloonsSolution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> c; <span class="comment">// ç”¨æ¥ç»Ÿè®¡è®¡ç®—æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxCoins</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span>[] flag = <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length];</span><br><span class="line">        <span class="keyword">this</span>.c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> r = burst(nums, flag, <span class="number">0</span>);</span><br><span class="line">        System.out.println(c);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">burst</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] flag, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (count == n) <span class="comment">// æˆ³å¤Ÿäº†è¶³å¤Ÿå¤šçš„æ°”çƒä¹‹åï¼Œå°±ä¸æˆ³äº†</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123; <span class="comment">// éå†æ°”çƒæ•°ç»„</span></span><br><span class="line">            <span class="keyword">if</span> (!flag[i]) &#123; <span class="comment">// å¦‚æœå½“å‰æ°”çƒæ²¡æœ‰è¢«æˆ³è¿‡</span></span><br><span class="line">                flag[i] = <span class="keyword">true</span>; <span class="comment">// æ ‡è®°å½“å‰æ°”çƒä¸ºå·²æˆ³</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> res = find(nums, flag, i) * nums[i] + burst(nums, flag, count + <span class="number">1</span>); <span class="comment">// è®¡ç®—æˆ³å½“å‰æ°”çƒèƒ½æ‹¿åˆ°çš„åˆ†æ•°ï¼Œç„¶åé€’å½’å‰©ä¸‹çš„æ°”çƒ</span></span><br><span class="line">                <span class="keyword">if</span> (res &gt; max) &#123;</span><br><span class="line">                    max = res; <span class="comment">// æ›´æ–°æœ€å¤§å€¼</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                flag[i] = <span class="keyword">false</span>; <span class="comment">// å›æº¯ï¼ŒæŠŠæˆ³è¿‡çš„æ°”çƒè¿˜åŸ</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] flag, <span class="keyword">int</span> cur)</span> </span>&#123; <span class="comment">// find æ–¹æ³•æ˜¯æ‰¾åˆ°å½“å‰æ°”çƒçš„å‰ä¸€ä¸ªå’Œåä¸€ä¸ªï¼Œç›¸ä¹˜å¹¶è¿”å›</span></span><br><span class="line">        <span class="keyword">this</span>.c += <span class="number">1</span>; <span class="comment">// è®¡æ•°</span></span><br><span class="line">        <span class="keyword">int</span> i = cur;</span><br><span class="line">        <span class="keyword">int</span> pre = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> next = <span class="number">1</span>;</span><br><span class="line">        cur -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!flag[cur]) &#123;</span><br><span class="line">                pre = nums[cur];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cur -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (cur &lt; nums.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!flag[cur]) &#123;</span><br><span class="line">                next = nums[cur];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cur += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pre * next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œä¹‹åèƒ½å¤Ÿå¾—åˆ°ç»“æœï¼Œä½†æ˜¯è¿™æ ·çš„ä¸€ä¸ªç¨‹åºçš„æ—¶é—´å¤æ‚åº¦è¾¾åˆ°äº† <code>n!</code>ï¼Œæ˜¾ç„¶ä¸è¡Œã€‚</p><h2 id="åˆ†æ²»"><a class="header-anchor" href="#åˆ†æ²»">#</a>åˆ†æ²»</h2><p>æ‘¸äº†ï¼Œå…ˆä¸Šä»£ç ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> dynamic programming </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
            <tag> é€’å½’ </tag>
            
            <tag> å›æº¯ </tag>
            
            <tag> recursion </tag>
            
            <tag> traceback </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æ·»åŠ æœç´¢æ”¯æŒ</title>
      <link href="/blog/2020/07/18/blog-search-support/"/>
      <url>/blog/2020/07/18/blog-search-support/</url>
      
        <content type="html"><![CDATA[<p>æ—©å°±æƒ³ç»™åšå®¢åŠ æœç´¢åŠŸèƒ½äº†ï¼Œä½†æ˜¯ä¹‹å‰å¿™ç€é¢è¯•ï¼Œç°åœ¨é¢è¯•å‡‰äº†ï¼Œæœ‰çŸ­æš‚çš„æ—¶é—´å¯ä»¥æ¥åšäº›è‡ªå·±çš„äº‹æƒ…äº†ï¼Œå¼€æ•´ã€‚</p><a id="more"></a><h2 id="æœç´¢æ±‡æ€»"><a class="header-anchor" href="#æœç´¢æ±‡æ€»">#</a>æœç´¢æ±‡æ€»</h2><p>å› ä¸ºé™æ€åšå®¢ï¼Œæ‰€ä»¥éœ€è¦æŠŠåšå®¢çš„å…¨éƒ¨å†…å®¹æ‰“åŒ…æˆä¸€ä¸ª<code>æœç´¢é›†åˆ</code>ï¼Œå€ŸåŠ© <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”Ÿæˆé™æ€æ–‡ä»¶çš„æ—¶å€™ç›´æ¥ç”Ÿæˆä¸€ä¸ª <code>search.xml</code>ï¼Œåç»­å†é€šè¿‡ <code>ajax</code> è¯»å–å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>åœ¨åšå®¢æ ¹ç›®å½•çš„ <code>_config.yml</code> è¾“å…¥é…ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="æœç´¢æ ·å¼"><a class="header-anchor" href="#æœç´¢æ ·å¼">#</a>æœç´¢æ ·å¼</h2><p>æ¥ä¸‹æ¥å°±è¦è‡ªå·±å®ç°æœç´¢äº†ï¼ŒGoogle äº†ä¸€æ³¢ï¼Œé€‰äº†ä¸€ä¸ªæ¯”è¾ƒèƒ½å¥‘åˆä¸»é¢˜çš„ï¼š<a href="https://codepen.io/choogoor/pen/NGJVMb" target="_blank" rel="noopener">https://codepen.io/choogoor/pen/NGJVMb</a>ã€‚</p><p>é¦–å…ˆåœ¨ <code>header.swig</code> é‡Œæ·»åŠ æœç´¢æ‰€éœ€è¦çš„ <code>html</code> ç»“æ„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- if config.search -%&#125;</span><br><span class="line">    &lt;div class&#x3D;&quot;search-button&quot;&gt;</span><br><span class="line">        &lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;search-toggle&quot; data-selector&#x3D;&quot;.site-navbar&quot;&gt;&lt;&#x2F;a&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;search-box&quot;&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;local-search-input&quot; class&#x3D;&quot;text search-input&quot; placeholder&#x3D;&quot;Type here to search...&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&#123;%- endif -%&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ·»åŠ æœç´¢çš„ <code>js</code> ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- <span class="keyword">if</span> config.search -%&#125;</span><br><span class="line">&lt;script id=<span class="string">"search"</span>&gt;</span><br><span class="line">    <span class="keyword">var</span> searchFunc = <span class="function"><span class="keyword">function</span>(<span class="params">path, search_id, content_id</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: <span class="string">"xml"</span>,</span><br><span class="line">        success: <span class="function"><span class="keyword">function</span>(<span class="params"> xmlResponse </span>) </span>&#123;</span><br><span class="line">            <span class="comment">// get the contents from search data</span></span><br><span class="line">            <span class="keyword">var</span> datas = $( <span class="string">"entry"</span>, xmlResponse ).map(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    title: $( <span class="string">"title"</span>, <span class="keyword">this</span> ).text(),</span><br><span class="line">                    content: $(<span class="string">"content"</span>,<span class="keyword">this</span>).text(),</span><br><span class="line">                    url: $( <span class="string">"url"</span> , <span class="keyword">this</span>).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> $input = <span class="built_in">document</span>.getElementById(search_id);</span><br><span class="line"><span class="keyword">if</span> (!$input) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">var</span> $resultContent = <span class="built_in">document</span>.getElementById(content_id);</span><br><span class="line"></span><br><span class="line">            $input.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> str = <span class="string">'&lt;section class=\"posts\"&gt;'</span>;</span><br><span class="line">                <span class="keyword">var</span> keywords = <span class="keyword">this</span>.value.trim().toLowerCase().split(<span class="regexp">/[\s\-]+/</span>);</span><br><span class="line">                $resultContent.innerHTML = <span class="string">""</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.value.trim().length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// perform local searching</span></span><br><span class="line">                datas.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">var</span> isMatch = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">var</span> content_index = [];</span><br><span class="line">                    <span class="keyword">if</span> (!data.title || data.title.trim() === <span class="string">''</span>) &#123;</span><br><span class="line">                        data.title = <span class="string">"Untitled"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">var</span> data_title = data.title.trim().toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>).toLowerCase();</span><br><span class="line">                    <span class="keyword">var</span> data_url = data.url;</span><br><span class="line">                    <span class="keyword">var</span> index_title = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> index_content = <span class="number">-1</span>;</span><br><span class="line">                    <span class="keyword">var</span> first_occur = <span class="number">-1</span>;</span><br><span class="line">                    <span class="comment">// only match artiles with not empty contents</span></span><br><span class="line">                    <span class="keyword">if</span> (data_content !== <span class="string">''</span>) &#123;</span><br><span class="line">                        keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword, i</span>) </span>&#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (index_title &lt; <span class="number">0</span> &amp;&amp; index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                isMatch = <span class="literal">false</span>;</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                <span class="keyword">if</span> (index_content &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                    index_content = <span class="number">0</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="comment">// content_index.push(&#123;index_content:index_content, keyword_len:keyword_len&#125;);</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        isMatch = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="comment">// show search results</span></span><br><span class="line">                    <span class="keyword">if</span> (isMatch) &#123;</span><br><span class="line">                        str += <span class="string">`</span></span><br><span class="line"><span class="string">&lt;article class="post"&gt;</span></span><br><span class="line"><span class="string">    &lt;header class="post-header"&gt;</span></span><br><span class="line"><span class="string">      &lt;h1 class="post-title"&gt;&lt;a class="post-link" href="`</span>+ data_url +<span class="string">`"&gt;`</span>+ data_title +<span class="string">`&lt;/a&gt;</span></span><br><span class="line"><span class="string">        &lt;/h1&gt;</span></span><br><span class="line"><span class="string">    &lt;/header&gt;</span></span><br><span class="line"><span class="string">    &lt;div class="post-content"&gt;</span></span><br><span class="line"><span class="string">        `</span>;</span><br><span class="line">                        <span class="keyword">var</span> content = data.content.trim().replace(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">""</span>);</span><br><span class="line">                        <span class="keyword">if</span> (first_occur &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="comment">// cut out 100 characters</span></span><br><span class="line">                            <span class="keyword">var</span> start = first_occur - <span class="number">20</span>;</span><br><span class="line">                            <span class="keyword">var</span> end = first_occur + <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                                start = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (start == <span class="number">0</span>) &#123;</span><br><span class="line">                                end = <span class="number">100</span>;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">if</span> (end &gt; content.length) &#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">var</span> match_content = content.substring(start, end);</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// highlight all keywords</span></span><br><span class="line">                            keywords.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">keyword</span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">var</span> regS = <span class="keyword">new</span> <span class="built_in">RegExp</span>(keyword, <span class="string">"gi"</span>);</span><br><span class="line">                                match_content = match_content.replace(regS, <span class="string">"&lt;code&gt;"</span> + keyword + <span class="string">"&lt;/code&gt;"</span>);</span><br><span class="line">                            &#125;);</span><br><span class="line"></span><br><span class="line">                            str += <span class="string">"&lt;p&gt;"</span> + match_content + <span class="string">"...&lt;/p&gt;"</span></span><br><span class="line">                        &#125;</span><br><span class="line">                        str += <span class="string">"&lt;/article&gt;"</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                str += <span class="string">"&lt;/section&gt;"</span>;</span><br><span class="line">                $resultContent.innerHTML = str;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> search_path = <span class="string">"&#123;&#123; config.search.path &#125;&#125;"</span>;</span><br><span class="line"><span class="keyword">if</span> (search_path.length == <span class="number">0</span>) &#123;</span><br><span class="line">search_path = <span class="string">"search.xml"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> path = <span class="string">"&#123;&#123; config.root &#125;&#125;"</span> + search_path;</span><br><span class="line">searchFunc(path, <span class="string">'local-search-input'</span>, <span class="string">'local-search-result'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&#123;%- endif -%&#125;</span></span><br></pre></td></tr></table></figure><p>è¯´èµ·æ¥ç®€å•ï¼Œä½†æ˜¯å„ç§æœ€åè¿˜æ˜¯èŠ±äº†ä¸€ä¸‹åˆçš„æ—¶é—´ã€‚</p><p>æ•ˆæœé¡µé¢é‡Œå°±æœ‰å’¯ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener">hexo-generator-search</a></li><li><a href="https://github.com/wzpan/hexo-generator-search#how-to-use-this-plugin-in-my-hexo-blog" target="_blank" rel="noopener">How to use this plugin in my Hexo blog?</a></li><li><a href="https://codepen.io/choogoor/pen/NGJVMb" target="_blank" rel="noopener">Header Search</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> hexo-theme-even </tag>
            
            <tag> blog </tag>
            
            <tag> search </tag>
            
            <tag> hexo-generator-search </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å„ç§å‰§æ›´æ–°é‚®ä»¶æ¨é€</title>
      <link href="/blog/2020/07/13/dramas-update-email-notification/"/>
      <url>/blog/2020/07/13/dramas-update-email-notification/</url>
      
        <content type="html"><![CDATA[<p>é—²çš„æ— äº‹ï¼Œä¸æƒ³å­¦ä¹ ï¼Œåšäº†ä¸€ä¸ªå°çš„<code>å®šæ—¶è„šæœ¬</code>æ¥æ£€æµ‹éŸ©å‰§ç½‘ç«™çš„ç†Ÿè‚‰æ›´æ–°ã€‚å› ä¸ºè™½ç„¶å‰§æ¯å‘¨éƒ½æ˜¯æŒ‰æ—¥æœŸæ’­ï¼Œä½†æ˜¯å­—å¹•ç»„ä»¬å¯èƒ½å°±æ²¡æœ‰é‚£ä¹ˆå‡†æ—¶äº†ï¼Œä¸å…¶è‡ªå·±æ‰‹åŠ¨åˆ·æ–°ï¼Œä¸å¦‚<s>æ‡’ï¼ˆä¸æ˜¯</s>å«æœåŠ¡å™¨å¸®æˆ‘å®Œæˆï¼Œåæ­£æœåŠ¡å™¨é™¤äº†æ¶äº†ä¸ªæ’ä»¶çš„åå°æ²¡ä»€ä¹ˆåˆ«çš„ç”¨ã€‚</p><a id="more"></a><h2 id="è·å–æ›´æ–°"><a class="header-anchor" href="#è·å–æ›´æ–°">#</a>è·å–æ›´æ–°</h2><p>ä¸€èˆ¬ä¸€ä¸ªå­—å¹•ç»„çš„å‰§é›†ä¸»é¡µéƒ½æ˜¯ä¸å˜çš„ï¼Œè¿™æ ·æ–¹ä¾¿å„ä¸ªåœ°æ–¹ç´¢å¼•ï¼Œä½†æ˜¯èµ„æºçš„ç½‘ç«™åŸºæœ¬éƒ½æ˜¯å˜çš„ï¼Œå› ä¸ºå¯èƒ½çš„ç‰ˆæƒå•Šä¹‹ç±»çš„ï¼Œæ‰€ä»¥è¦ä¸€å±‚ä¸€å±‚ä¸€å±‚çš„<s>æ‹¨å¼€æˆ‘çš„å¿ƒ</s>æ‰¾åˆ°æœ€ç»ˆçš„èµ„æºé¡µï¼Œæ‰èƒ½çŸ¥é“æœ‰æœ¨æœ‰æ›´æ–°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root</span><br><span class="line">â”œâ”€â”€ ju.py</span><br><span class="line">â””â”€â”€ data.json</span><br></pre></td></tr></table></figure><h2 id="å‰§æ•°æ®"><a class="header-anchor" href="#å‰§æ•°æ®">#</a>å‰§æ•°æ®</h2><p>å½“ç„¶ï¼Œä¸€ä¸ªå°å°çš„è„šæœ¬æ˜¯ä¸éœ€è¦æ•°æ®åº“æ¥æ€é¸¡ç‰›åˆ€çš„ï¼Œå°±ç›´æ¥å†™å…¥æ–‡ä»¶è¯»å–æ–‡ä»¶å§ï¼ˆå› ä¸ºè¦è®°å½•ä¹‹å‰å¤šå°‘é›†ï¼Œæ‰æœ‰æ›´æ–°ä¸€è¯´ï¼‰ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://newzmz.com/details-xN3YGxeW.html"</span>,</span><br><span class="line">    <span class="attr">"count"</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"\u867d\u7136\u662f\u7cbe\u795e\u75c5\u4f46\u6ca1\u5173\u7cfb"</span>,</span><br><span class="line">    <span class="attr">"element"</span>: [<span class="string">"&lt;a class=\"addgz\" href=\"([\\S]+)\""</span>, <span class="string">"&lt;tr&gt;"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯<code>data.json</code>çš„å†…å®¹ï¼Œå› ä¸ºæœªæ¥å¯èƒ½ä¼šæœ‰å¾ˆå¤šå‰§éœ€è¦è¿½æ›´ï¼Œæ‰€ä»¥æœ€å¤–å±‚æ˜¯ä¸ªæ•°ç»„ï¼Œç„¶åæ‰æ˜¯æ¯ä¸ªå‰§çš„å­—å…¸ã€‚</p><p>å› ä¸ºåŠŸèƒ½å¾ˆç®€å•ï¼Œæ‰€ä»¥å­—æ®µæš‚æ—¶å…ˆå¼„è¿™ä¹ˆå¤šï¼Œ<s>åé¢éœ€è¦å†åŠ </s>ã€‚</p><ul><li><code>url</code>: å°±æ˜¯å‰é¢è¯´çš„å­—å¹•ç»„çš„å‰§é›†ä¸»é¡µï¼Œä¸ä¼šå˜çš„ã€‚</li><li><code>count</code>: è®°å½•å½“å‰é›†æ•°ã€‚</li><li><code>name</code>: å°±æ˜¯è¿™éƒ¨å‰§çš„åå­—ï¼Œå‘é‚®ä»¶çš„æ—¶å€™è¦å¸¦ä¸Šçš„ï¼Œè¿™é‡Œå…¶å®æ˜¯<code>ã€Šè™½ç„¶æ˜¯ç²¾ç¥ç—…ä½†æ²¡å…³ç³»ã€‹</code>çš„ unicode å­—ç¬¦ã€‚</li><li><code>element</code>: è¿™ä¸ªå°±æ˜¯æ¯”è¾ƒé‡è¦çš„ä¸œè¥¿äº†ï¼Œæ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œ<code>å‰é¢çš„ n-1 ä¸ª</code>æ˜¯ç”¨æ¥æ‰¾åˆ°æœ€ç»ˆçš„èµ„æºé¡µé¢çš„ï¼Œ<code>æœ€åä¸€ä¸ª</code>æ˜¯ç”¨æ¥æ•°æ•°çš„ï¼Œå°±æ˜¯æœ‰å¤šå°‘é›†ã€‚</li></ul><h2 id="ä¸»ä½“ä»£ç "><a class="header-anchor" href="#ä¸»ä½“ä»£ç ">#</a>ä¸»ä½“ä»£ç </h2><p>ä¸ºäº†å…¼å®¹ï¼Œå†™çš„æ˜¯<code>python2</code>çš„ç‰ˆæœ¬ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.utils <span class="keyword">import</span> formataddr</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure><p>å‘é‚®ä»¶ç›´æ¥ copy å¹•è¯¾çš„ï¼Œå› ä¸ºä»¥å‰æœ‰ä¸ªç”µè´¹æé†’çš„è„šæœ¬ï¼Œæ‰€ä»¥ç›´æ¥æ‹¿è¿‡æ¥ç”¨äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">my_sender=<span class="string">'i@onns.xyz'</span>    <span class="comment"># å‘ä»¶äººé‚®ç®±è´¦å·</span></span><br><span class="line">my_pass = <span class="string">''</span>              <span class="comment"># å‘ä»¶äººé‚®ç®±å¯†ç </span></span><br><span class="line">my_user=<span class="string">'onns@onns.xyz'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mail</span><span class="params">(to,content)</span>:</span></span><br><span class="line">ret=<span class="literal">True</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">msg=MIMEText(content,<span class="string">'plain'</span>,<span class="string">'utf-8'</span>)</span><br><span class="line">msg[<span class="string">'From'</span>]=formataddr([<span class="string">"Onns"</span>,my_sender])  <span class="comment"># æ‹¬å·é‡Œçš„å¯¹åº”å‘ä»¶äººé‚®ç®±æ˜µç§°ã€å‘ä»¶äººé‚®ç®±è´¦å·</span></span><br><span class="line">msg[<span class="string">'To'</span>]=formataddr([<span class="string">'to'</span>,to])              <span class="comment"># æ‹¬å·é‡Œçš„å¯¹åº”æ”¶ä»¶äººé‚®ç®±æ˜µç§°ã€æ”¶ä»¶äººé‚®ç®±è´¦å·</span></span><br><span class="line">msg[<span class="string">'Subject'</span>]=<span class="string">"æ–°å‰§æé†’"</span>                <span class="comment"># é‚®ä»¶çš„ä¸»é¢˜ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line">server=smtplib.SMTP_SSL(<span class="string">"smtp.exmail.qq.com"</span>, <span class="number">465</span>)  <span class="comment"># å‘ä»¶äººé‚®ç®±ä¸­çš„SMTPæœåŠ¡å™¨ï¼Œç«¯å£æ˜¯25</span></span><br><span class="line">server.login(my_sender, my_pass)  <span class="comment"># æ‹¬å·ä¸­å¯¹åº”çš„æ˜¯å‘ä»¶äººé‚®ç®±è´¦å·ã€é‚®ç®±å¯†ç </span></span><br><span class="line">server.sendmail(my_sender,[to,],msg.as_string())  <span class="comment"># æ‹¬å·ä¸­å¯¹åº”çš„æ˜¯å‘ä»¶äººé‚®ç®±è´¦å·ã€æ”¶ä»¶äººé‚®ç®±è´¦å·ã€å‘é€é‚®ä»¶</span></span><br><span class="line">server.quit()  <span class="comment"># å…³é—­è¿æ¥</span></span><br><span class="line"><span class="keyword">except</span> Exception, e:  <span class="comment"># å¦‚æœ try ä¸­çš„è¯­å¥æ²¡æœ‰æ‰§è¡Œï¼Œåˆ™ä¼šæ‰§è¡Œä¸‹é¢çš„ ret=False</span></span><br><span class="line"><span class="keyword">print</span> e</span><br><span class="line">ret=<span class="literal">False</span></span><br><span class="line"><span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure><p>ä¸»ä½“ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">'/root/data.json'</span>, <span class="string">'r'</span>)</span><br><span class="line">data =  json.loads(f.read())</span><br><span class="line">f.close()</span><br><span class="line">new_data = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ju <span class="keyword">in</span> data:</span><br><span class="line">html = <span class="string">''</span></span><br><span class="line">url = ju[<span class="string">'url'</span>]</span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> ju[<span class="string">'element'</span>]:</span><br><span class="line">html = urllib2.urlopen(url).read().decode(<span class="string">'utf-8'</span>)</span><br><span class="line">results = re.findall(ele, html)</span><br><span class="line">url = results[<span class="number">0</span>]</span><br><span class="line">count = len(results)</span><br><span class="line"><span class="keyword">if</span> count &gt; ju[<span class="string">'count'</span>]:</span><br><span class="line">ret=mail(my_user,<span class="string">u'ã€Š'</span>+ju[<span class="string">'name'</span>]+ <span class="string">u'ã€‹æ›´æ–°å•¦ï¼'</span>)</span><br><span class="line">ju[<span class="string">'count'</span>] = count</span><br><span class="line">new_data.append(ju)</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">'/root/data.json'</span>, <span class="string">'w'</span>)</span><br><span class="line">f.write(json.dumps(new_data))</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h2 id="ä¸ŠæœåŠ¡å™¨"><a class="header-anchor" href="#ä¸ŠæœåŠ¡å™¨">#</a>ä¸ŠæœåŠ¡å™¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -e</span><br></pre></td></tr></table></figure><p>æŠŠå®šæ—¶è„šæœ¬åŠ è¿›å»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*/10 * * * 6,7,1 /usr/bin/python /root/ju.py /dev/null 1&gt;/dev/null</span><br></pre></td></tr></table></figure><p>å› ä¸ºä¸ç”¨å¾ˆç²¾ç»†å°± 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œå‘¨æœ«æ™šé—´æ›´æ–°æ‰€ä»¥ <code>6ã€7ã€1</code> ä¸‰å¤©æ‰éœ€è¦è·‘çš„ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200713-1.jpg" alt="æˆªå›¾"></p></center><p>å®Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> drama </tag>
            
            <tag> email </tag>
            
            <tag> è™½ç„¶æ˜¯ç²¾ç¥ç—…ä½†æ²¡å…³ç³» </tag>
            
            <tag> éŸ©å‰§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chromeå…³é—­æ·±è‰²æ¨¡å¼</title>
      <link href="/blog/2020/07/09/chrome-turn-off-dark-mode/"/>
      <url>/blog/2020/07/09/chrome-turn-off-dark-mode/</url>
      
        <content type="html"><![CDATA[<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.google.Chrome NSRequiresAquaSystemAppearance -bool YES</span><br></pre></td></tr></table></figure><p>ç„¶åé‡å¯Chromeã€‚</p>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> dark mode </tag>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HashMapæºç é˜…è¯»</title>
      <link href="/blog/2020/07/07/hashmap-source-code/"/>
      <url>/blog/2020/07/07/hashmap-source-code/</url>
      
        <content type="html"><![CDATA[<p>è®²é“ç†ï¼Œå¤ä¹ é¢è¯•æ˜¯çœŸçš„å¤ä¹ åäº†ã€‚ã€‚ã€‚å®åœ¨æ˜¯å¤ä¹ ä¸ä¸‹å»äº†ï¼Œæ‘¸ä¼šé±¼ï¼Œçœ‹çœ‹<code>HashMap</code>çš„æºç å§ğŸ˜­ğŸ˜­ğŸ˜­ã€‚</p><a id="more"></a><h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>æˆ‘çš„Javaç‰ˆæœ¬æ˜¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%</span><span class="bash"> java --version</span></span><br><span class="line">java 13.0.2 2020-01-14</span><br><span class="line">Java(TM) SE Runtime Environment (build 13.0.2+8)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 13.0.2+8, mixed mode, sharing)</span><br></pre></td></tr></table></figure><h2 id="å…³é”®å‚æ•°"><a class="header-anchor" href="#å…³é”®å‚æ•°">#</a>å…³é”®å‚æ•°</h2><p>å…ˆæ¥çœ‹å‚æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The default initial capacity - MUST be a power of two.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_INITIAL_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">4</span>; <span class="comment">// aka 16</span></span><br></pre></td></tr></table></figure><p>é»˜è®¤çš„å®¹å™¨å¤§å°ï¼Œå°±æ˜¯æ•°ç»„çš„å¤§å°ã€‚HashMapçš„åº•å±‚å°±æ˜¯æ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> HashMap </tag>
            
            <tag> source code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcodeé¢˜è§£ï¼šæœ‰åºçŸ©é˜µä¸­ç¬¬Kå°çš„å…ƒç´ </title>
      <link href="/blog/2020/07/02/solution-of-kth-smallest-element-in-a-sorted-matrix/"/>
      <url>/blog/2020/07/02/solution-of-kth-smallest-element-in-a-sorted-matrix/</url>
      
        <content type="html"><![CDATA[<h2 id="378-æœ‰åºçŸ©é˜µä¸­ç¬¬kå°çš„å…ƒç´ "><a class="header-anchor" href="#378-æœ‰åºçŸ©é˜µä¸­ç¬¬kå°çš„å…ƒç´ ">#</a><a href="https://leetcode-cn.com/problems/kth-smallest-element-in-a-sorted-matrix/" target="_blank" rel="noopener">378. æœ‰åºçŸ©é˜µä¸­ç¬¬Kå°çš„å…ƒç´ </a></h2><p>ç»™å®šä¸€ä¸ª <code>n * n</code> çŸ©é˜µï¼Œå…¶ä¸­æ¯è¡Œå’Œæ¯åˆ—å…ƒç´ å‡æŒ‰å‡åºæ’åºï¼Œæ‰¾åˆ°çŸ©é˜µä¸­ç¬¬ <code>k</code> å°çš„å…ƒç´ ã€‚<br>è¯·æ³¨æ„ï¼Œå®ƒæ˜¯æ’åºåçš„ç¬¬ <code>k</code> å°å…ƒç´ ï¼Œè€Œä¸æ˜¯ç¬¬ <code>k</code> ä¸ªä¸åŒçš„å…ƒç´ ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">matrix &#x3D; [</span><br><span class="line">[ 1,  5,  9],</span><br><span class="line">[10, 11, 13],</span><br><span class="line">[12, 13, 15]</span><br><span class="line">],</span><br><span class="line">k &#x3D; 8,</span><br><span class="line"></span><br><span class="line">è¿”å› 13ã€‚</span><br></pre></td></tr></table></figure><p>æç¤ºï¼š<br>ä½ å¯ä»¥å‡è®¾ k çš„å€¼æ°¸è¿œæ˜¯æœ‰æ•ˆçš„ï¼Œ<code>1 â‰¤ k â‰¤ n^2</code> ã€‚</p><a id="more"></a><h2 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h2><p>å†™è¿™ä¸ªçš„æ ¹æœ¬ç›®çš„æ˜¯è®°å½•ä¸€äº›ä¹‹å‰æ ¹æœ¬ä¸ä¼šæ³¨æ„åˆ°çš„å°<code>é”™è¯¯</code>ã€‚åœ¨æˆ‘å†™å®Œå»çœ‹å®˜æ–¹é¢˜è§£çš„æ—¶å€™ï¼Œå®˜æ–¹çš„æ±‚ä¸­ä½æ•°æ–¹æ³•æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> mid = left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>è‡ªå·±çš„æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> temp = (min + max) / <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>æ„Ÿå¹è‡ªå·±ä¸ä¼šç§»ä½ä½†å´å°‘äº†ä¸€æ­¥å‡æ³•çš„æ—¶å€™ï¼Œå´æ²¡æœ‰è€ƒè™‘åˆ°ä¸¤ä¸ª <code>int</code> ç›¸åŠ æ˜¯å¯èƒ½ä¼šæº¢å‡ºçš„ã€‚</p><p>æ‰€ä»¥ä»Šæ—¥å°tipï¼š</p><ul><li>ä¸¤ä¸ª <code>int</code> ç›¸åŠ æ˜¯å¯èƒ½æº¢å‡ºçš„ã€‚</li></ul><h2 id="äºŒåˆ†æŸ¥æ‰¾"><a class="header-anchor" href="#äºŒåˆ†æŸ¥æ‰¾">#</a>äºŒåˆ†æŸ¥æ‰¾</h2><p>æœ€ç®€å•çš„ï¼Œå–å‡ºæ¥æ’åºï¼Œè¿™ä¸ªå°±ä¸è¯´äº†ï¼Œè‚¯å®šä¸æ˜¯æœ€ä¼˜é›…çš„è§£æ³•ã€‚</p><p>è€å®è¯´æˆ‘æœ€å¼€å§‹çš„æƒ³æ³•æ˜¯ä»å·¦ä¸Šè§’å¼€å§‹å‘ä¸‹å‘å³æ•°ä¸ªæ•°ï¼Œç»´æŠ¤ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªå‘å³çš„ï¼Œä¸€ä¸ªå‘ä¸‹çš„ã€‚ä½†æˆ‘æ„è¯†åˆ°å®Œå…¨å­˜åœ¨ç€<code>ä¸€ä¸ªæ•°çš„å‘ä¸‹</code>å¯èƒ½å°äº<code>å‰é¢æŸä¸€ä¸ªæ•°çš„å‘å³</code>ã€‚å®Œå…¨æ²¡æœ‰åŠæ³•æŒ‰åºè¾“å‡ºã€‚æ­¤æ€è·¯ä½œç½¢ã€‚</p><p>ç¬¬äºŒä¸ªæ€è·¯æ˜¯ <code>i * i</code> çš„å€¼å¦‚æœå¤§äº <code>k</code>ï¼Œé‚£ä¹ˆç»“æœä¸€å®šåœ¨ <code>i * i</code>çš„å­çŸ©é˜µä¸­ã€‚ä½†é™¤äº† <code>matrix[i][i]</code>è¿™ä¸ªç‚¹ä¹‹å¤–ï¼Œæ‰€æœ‰å…¶å®ƒçš„ç‚¹éƒ½æœ‰å¯èƒ½æ˜¯ç»“æœï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•é€šè¿‡è¿™ä¸ªæ¡ä»¶ç»§ç»­ç¼©å°èŒƒå›´äº†ã€‚</p><p>æƒ³äº†åŠå°æ—¶æ²¡æœ‰æƒ³åˆ°å¥½çš„è§£æ³•ï¼Œæˆ‘é€‰æ‹©äº†å»çœ‹å®˜æ–¹é¢˜è§£ï¼Œç®€å•äº†è§£äº†ä¸€ä¸‹æ€è·¯åï¼Œå›æ¥è‡ªå·±æƒ³ã€‚</p><h3 id="åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ"><a class="header-anchor" href="#åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ">#</a>åˆ¤æ–­ç‰¹æ®Šæƒ…å†µ</h3><p>å·²ç»å…»æˆä¹ æƒ¯äº†ï¼Œåœ¨æ¯ä¸ªæ–¹æ³•çš„æœ€å¼€å§‹å°†ç‰¹æ®Šæƒ…å†µåˆ¤æ–­ä¸€ä¸‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrixSolution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = matrix.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿›è¡Œä¸€æ¬¡æŸ¥æ‰¾"><a class="header-anchor" href="#è¿›è¡Œä¸€æ¬¡æŸ¥æ‰¾">#</a>è¿›è¡Œä¸€æ¬¡æŸ¥æ‰¾</h3><p>å…ˆå†™ä¸€æ¬¡æŸ¥æ‰¾çš„ç»“æœï¼Œçœ‹çœ‹å¯¹ä¸å¯¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrixSolution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = matrix.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> min = matrix[<span class="number">0</span>][<span class="number">0</span>]; <span class="comment">// åˆå§‹åŒ–æœ€å°å€¼</span></span><br><span class="line"><span class="keyword">int</span> max = matrix[n - <span class="number">1</span>][n - <span class="number">1</span>]; <span class="comment">// åˆå§‹åŒ–æœ€å¤§å€¼</span></span><br><span class="line"><span class="keyword">int</span> i = n - <span class="number">1</span>, j = <span class="number">0</span>; <span class="comment">// ä»å·¦ä¸‹è§’å¼€å§‹æ‰¾</span></span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>; <span class="comment">// è®°å½•ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">int</span> temp = (min+max)/<span class="number">2</span>; <span class="comment">// ä¸­ä½æ•°å¼€å§‹æ‰¾</span></span><br><span class="line"><span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123; <span class="comment">// è¶…è¿‡æ•°ç»„èŒƒå›´åˆ™é€€å‡º</span></span><br><span class="line"><span class="keyword">if</span>(matrix[i][j] &lt;= temp)&#123; <span class="comment">// å‘å·¦</span></span><br><span class="line">j+=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123; <span class="comment">// å‘ä¸Š</span></span><br><span class="line">count += j; <span class="comment">// å‘ä¸Šä¹‹å‰ï¼ŒæŠŠç¬¬iè¡Œå‰j-1ä¸ªå…ƒç´ éƒ½ç®—ä¸Š</span></span><br><span class="line"><span class="comment">// ç´¢å¼•é»˜è®¤0å¼€å§‹ï¼Œj-1+1=j</span></span><br><span class="line">i -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">count += (i+<span class="number">1</span>)*n; <span class="comment">// å¦‚æœå› ä¸ºjè¶Šç•Œçš„åŸå› é€€å‡ºï¼Œè¯æ˜ä¸Šé¢è¿˜æœ‰i+1è¡Œæ²¡æœ‰ç®—</span></span><br><span class="line"><span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td><span style="color:red">1</span></td><td><span style="color:red">3</span></td><td><span style="color:red">5</span></td><td><span style="color:red">7</span></td><td>9</td><td>11</td></tr><tr><td><span style="color:red">2</span></td><td><span style="color:red">4</span></td><td><span style="color:red">6</span></td><td><span style="color:red">8</span></td><td>10</td><td>12</td></tr><tr><td><span style="color:red">3</span></td><td><span style="color:red">5</span></td><td><span style="color:red">7</span></td><td>9</td><td>11</td><td>13</td></tr><tr><td><span style="color:red">4</span></td><td><span style="color:red">6</span></td><td><span style="color:red">8</span></td><td>10</td><td>12</td><td>14</td></tr><tr><td><span style="color:red">5</span></td><td><span style="color:red">7</span></td><td>9</td><td>11</td><td>13</td><td>15</td></tr><tr><td><span style="color:red">6</span></td><td><span style="color:red">8</span></td><td>10</td><td>12</td><td>14</td><td>16</td></tr></tbody></table><p>ç»“æœæ˜¯ <code>18</code>ï¼Œæ­£ç¡®ã€‚</p><h3 id="è¿­ä»£æŸ¥æ‰¾"><a class="header-anchor" href="#è¿­ä»£æŸ¥æ‰¾">#</a>è¿­ä»£æŸ¥æ‰¾</h3><p>æ¥ç€å°±å¯ä»¥å†™æ›´æ–°ç­–ç•¥äº†ï¼Œæˆ‘æƒ³çš„æ˜¯ï¼Œå¦‚æœç°åœ¨çš„æ•°<code>å°äº</code>è¦æ±‚çš„æ•°ï¼Œé‚£ä¸€å®šæ˜¯åœ¨åé¢ï¼Œä½†æ˜¯å¦‚æœ<code>ç­‰äº</code>å´ä¸ä¸€å®šï¼Œå› ä¸ºè¿™ä¸ªä¸­ä½æ•°å¯èƒ½æ˜¯çŸ©é˜µä¸­ä¸å­˜åœ¨çš„æ•°ï¼Œä½†æœ€ç»ˆç»“æœä¸€å®šä¼š<code>å°äºç­‰äº</code>ç°åœ¨çš„æ•°ï¼Œæ‰€ä»¥<code>&gt;=</code>çš„ç­–ç•¥å¯ä»¥å†™åœ¨ä¸€èµ·ã€‚</p><p>æœ€åçš„çš„è¿­ä»£ç»ˆæ­¢æ¡ä»¶å°±æ˜¯<code>min==max</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrixSolution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = matrix.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> min = matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> max = matrix[n - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> i = n - <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> temp = (min + max) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123;</span><br><span class="line"><span class="keyword">if</span> (matrix[i][j] &lt;= temp) &#123;</span><br><span class="line">j += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">count += j;</span><br><span class="line">i -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">count += (i + <span class="number">1</span>) * n;</span><br><span class="line"><span class="keyword">if</span> (count &lt; k) &#123;</span><br><span class="line">min = temp;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">max = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (min == max) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™ä¸ªä¼šæ­»å¾ªç¯å¡ä½ï¼Œæˆ‘ç”¨çº¸è‡ªå·±è·‘äº†ä¸€ä¸‹ï¼Œå‘ç°å‡å¦‚<code>min = 7, max = 8</code>ï¼Œå†è·‘ä¸€è½®çš„æ—¶å€™è¿­ä»£è¿˜ä¼šæ˜¯<code>min = 7, max = 8</code>ï¼Œæ— é™å¾ªç¯äº†ã€‚è§£å†³æ–¹æ³•æ˜¯åˆ¤æ–­è¿­ä»£å€¼å’Œ <code>min</code> æ˜¯å¦ç›¸ç­‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrixSolution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = matrix.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> min = matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> max = matrix[n - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> i = n - <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> temp = (min + max) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123;</span><br><span class="line"><span class="keyword">if</span> (matrix[i][j] &lt;= temp) &#123;</span><br><span class="line">j += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">count += j;</span><br><span class="line">i -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">count += (i + <span class="number">1</span>) * n;</span><br><span class="line"><span class="keyword">if</span> (count &lt; k) &#123;</span><br><span class="line"><span class="keyword">if</span> (temp == min) &#123;</span><br><span class="line">min += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">min = temp;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">max = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (min == max) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡äº†ã€‚å½“ç„¶ï¼Œå®˜æ–¹é¢˜è§£é‡Œçš„ <code>+1</code> å°±å¾ˆçµæ€§ï¼Œä½†æ˜¯æˆ‘æƒ³ä¸åˆ°ã€‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrixSolution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = matrix.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> min = matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> max = matrix[n - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> i = n - <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> temp = (min + max) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123;</span><br><span class="line"><span class="keyword">if</span> (matrix[i][j] &lt;= temp) &#123;</span><br><span class="line">j += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">count += j;</span><br><span class="line">i -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">count += (i + <span class="number">1</span>) * n;</span><br><span class="line"><span class="keyword">if</span> (count &lt; k) &#123;</span><br><span class="line">min = temp + <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">max = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (min == max) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´ä»£ç "><a class="header-anchor" href="#å®Œæ•´ä»£ç ">#</a>å®Œæ•´ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> leetcode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrix</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[][] matrix = &#123; &#123; <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span> &#125;, &#123; <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span> &#125;, &#123; <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">13</span> &#125;,</span><br><span class="line">&#123; <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span> &#125;, &#123; <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">15</span> &#125;, &#123; <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">16</span> &#125; &#125;;</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">18</span>;</span><br><span class="line">KthSmallestElementInASortedMatrixSolution sol = <span class="keyword">new</span> KthSmallestElementInASortedMatrixSolution();</span><br><span class="line"><span class="keyword">int</span> res = sol.kthSmallest(matrix, k);</span><br><span class="line">System.out.println(res);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KthSmallestElementInASortedMatrixSolution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">kthSmallest</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = matrix.length;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> min = matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line"><span class="keyword">int</span> max = matrix[n - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> i = n - <span class="number">1</span>, j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> temp = (min + max) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; j &lt; n) &#123;</span><br><span class="line"><span class="keyword">if</span> (matrix[i][j] &lt;= temp) &#123;</span><br><span class="line">j += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">count += j;</span><br><span class="line">i -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">count += (i + <span class="number">1</span>) * n;</span><br><span class="line"><span class="keyword">if</span> (count &lt; k) &#123;</span><br><span class="line"><span class="keyword">if</span> (temp == min) &#123;</span><br><span class="line">min += <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">min = temp;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">max = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (min == max) &#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> min;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">% javac leetcode/KthSmallestElementInASortedMatrix.java</span><br><span class="line">% java leetcode.KthSmallestElementInASortedMatrix</span><br><span class="line">8</span><br></pre></td></tr></table></figure><p>å®Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> tips </tag>
            
            <tag> leetcode </tag>
            
            <tag> binary search </tag>
            
            <tag> äºŒåˆ†æŸ¥æ‰¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•å¤ä¹ æçº²</title>
      <link href="/blog/2020/06/18/review-for-the-interview/"/>
      <url>/blog/2020/06/18/review-for-the-interview/</url>
      
        <content type="html"><![CDATA[<p>å¤ä¹ </p><a id="more"></a><h2 id="tcp-udp"><a class="header-anchor" href="#tcp-udp">#</a>TCP UDP</h2><p>TCP: ä¼ è¾“æ§åˆ¶åè®®ï¼ˆè‹±è¯­ï¼šTransmission Control Protocolï¼Œç¼©å†™ä¸º TCPï¼‰æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ï¼Œç”± IETF çš„ RFC 793 å®šä¹‰ã€‚</p><p>UDP:ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆè‹±è¯­ï¼šUser Datagram Protocolï¼Œç¼©å†™ä¸º UDPï¼‰ï¼Œåˆç§°ä½¿ç”¨è€…èµ„æ–™åŒ…åå®šï¼Œæ˜¯ä¸€ä¸ªç®€å•çš„é¢å‘æ•°æ®æŠ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæ­£å¼è§„èŒƒä¸º RFC 768ã€‚</p><h3 id="tcp-ä¸-udp-åŸºæœ¬åŒºåˆ«"><a class="header-anchor" href="#tcp-ä¸-udp-åŸºæœ¬åŒºåˆ«">#</a>TCP ä¸ UDP åŸºæœ¬åŒºåˆ«</h3><ol><li>åŸºäºè¿æ¥ä¸æ— è¿æ¥</li><li>TCP è¦æ±‚ç³»ç»Ÿèµ„æºè¾ƒå¤šï¼ŒUDP è¾ƒå°‘ï¼›</li><li>UDP ç¨‹åºç»“æ„è¾ƒç®€å•</li><li>æµæ¨¡å¼ï¼ˆTCPï¼‰ä¸æ•°æ®æŠ¥æ¨¡å¼(UDP);</li><li>TCP ä¿è¯æ•°æ®æ­£ç¡®æ€§ï¼ŒUDP å¯èƒ½ä¸¢åŒ…</li><li>TCP ä¿è¯æ•°æ®é¡ºåºï¼ŒUDP ä¸ä¿è¯</li><li>UDP æ˜¯ä¸å¤„ç†å µå¡ï¼Œåº”ç”¨éœ€è¦å‘ï¼Œå°±ä¼šå‘é€ã€‚TCP è¿˜æ‹¥æœ‰å µå¡æ§åˆ¶ï¼ŒTCP ä¼šæ ¹æ®ç½‘ç»œç¯å¢ƒè°ƒæ•´å‘åŒ…çš„é¢‘ç‡ã€‚</li><li>UDP æ”¯æŒå¤šæ’­å’Œå¹¿æ’­</li><li>TCP æœ‰æµé‡æ§åˆ¶ï¼ˆæ»‘åŠ¨çª—å£ï¼‰å’Œæ‹¥å¡æ§åˆ¶ï¼ˆæ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤ï¼‰</li></ol><h3 id="udp-åº”ç”¨åœºæ™¯"><a class="header-anchor" href="#udp-åº”ç”¨åœºæ™¯">#</a>UDP åº”ç”¨åœºæ™¯</h3><ol><li>é¢å‘æ•°æ®æŠ¥æ–¹å¼</li><li>ç½‘ç»œæ•°æ®å¤§å¤šä¸ºçŸ­æ¶ˆæ¯</li><li>æ‹¥æœ‰å¤§é‡ Client</li><li>å¯¹æ•°æ®å®‰å…¨æ€§æ— ç‰¹æ®Šè¦æ±‚</li><li>ç½‘ç»œè´Ÿæ‹…éå¸¸é‡ï¼Œä½†å¯¹å“åº”é€Ÿåº¦è¦æ±‚é«˜</li><li>QQ çš„æ–‡ä»¶ä¼ è¾“</li><li>DNSã€TFTPã€RIPï¼ˆè·¯ç”±é€‰æ‹©åè®®ï¼‰ã€SNMPã€NFS</li></ol><h3 id="tcp-ä¸‰æ¬¡æ¡æ‰‹"><a class="header-anchor" href="#tcp-ä¸‰æ¬¡æ¡æ‰‹">#</a>TCP ä¸‰æ¬¡æ¡æ‰‹</h3><center><p><img src="//onns.xyz/blog/image/20200618-1.png" alt="TCPä¸‰æ¬¡æ¡æ‰‹"></p></center><h3 id="tcp-å››æ¬¡æ¡æ‰‹"><a class="header-anchor" href="#tcp-å››æ¬¡æ¡æ‰‹">#</a>TCP å››æ¬¡æ¡æ‰‹</h3><center><p><img src="//onns.xyz/blog/image/20200618-2.png" alt="TCPå››æ¬¡æ¡æ‰‹"></p></center><h4 id="ä¸ºä»€ä¹ˆä¸¤æ¬¡æ¡æ‰‹ä¸è¡Œ"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¸¤æ¬¡æ¡æ‰‹ä¸è¡Œ">#</a>ä¸ºä»€ä¹ˆä¸¤æ¬¡æ¡æ‰‹ä¸è¡Œ</h4><p>ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº† Bï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚A å‘é€çš„åŒ…ä¸¢äº†ï¼Œåˆå‘é€ä¸€ä¸ªåŒ…å»ºç«‹è¿æ¥ï¼Œç»“æœè¿™ä¸ªä¸¢çš„åŒ…åˆè¢«æ‰¾å›æ¥äº†ï¼ŒB åˆå»ºç«‹äº†ä¸€ä¸ª A ä¸è®¤å¯çš„è¿æ¥ã€‚</p><h4 id="ä¸ºä»€ä¹ˆéœ€è¦è®¾ç½®ä¸€ä¸ª-time-wait-çš„æ—¶é—´"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦è®¾ç½®ä¸€ä¸ª-time-wait-çš„æ—¶é—´">#</a>ä¸ºä»€ä¹ˆéœ€è¦è®¾ç½®ä¸€ä¸ª TIME-WAIT çš„æ—¶é—´</h4><ol><li>ä¿è¯ TCP åè®®çš„å…¨åŒå·¥è¿æ¥èƒ½å¤Ÿå¯é å…³é—­ã€‚å…ˆè¯´ç¬¬ä¸€ç‚¹ï¼Œå¦‚æœ Client ç›´æ¥ CLOSED äº†ï¼Œé‚£ä¹ˆç”±äº IP åè®®çš„ä¸å¯é æ€§æˆ–è€…æ˜¯å…¶å®ƒç½‘ç»œåŸå› ï¼Œå¯¼è‡´ Server æ²¡æœ‰æ”¶åˆ° Client æœ€åå›å¤çš„ ACKã€‚é‚£ä¹ˆ Server å°±ä¼šåœ¨è¶…æ—¶ä¹‹åç»§ç»­å‘é€ FINï¼Œæ­¤æ—¶ç”±äº Client å·²ç» CLOSED äº†ï¼Œå°±æ‰¾ä¸åˆ°ä¸é‡å‘çš„ FIN å¯¹åº”çš„è¿æ¥ï¼Œæœ€å Server å°±ä¼šæ”¶åˆ° RST è€Œä¸æ˜¯ ACKï¼ŒServer å°±ä¼šä»¥ä¸ºæ˜¯è¿æ¥é”™è¯¯æŠŠé—®é¢˜æŠ¥å‘Šç»™é«˜å±‚ã€‚è¿™æ ·çš„æƒ…å†µè™½ç„¶ä¸ä¼šé€ æˆæ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯å´å¯¼è‡´ TCP åè®®ä¸ç¬¦åˆå¯é è¿æ¥çš„è¦æ±‚ã€‚æ‰€ä»¥ï¼ŒClient ä¸æ˜¯ç›´æ¥è¿›å…¥ CLOSEDï¼Œè€Œæ˜¯è¦ä¿æŒ TIME_WAITï¼Œå½“å†æ¬¡æ”¶åˆ° FIN çš„æ—¶å€™ï¼Œèƒ½å¤Ÿä¿è¯å¯¹æ–¹æ”¶åˆ° ACKï¼Œæœ€åæ­£ç¡®çš„å…³é—­è¿æ¥ã€‚</li><li>ä¿è¯è¿™æ¬¡è¿æ¥çš„é‡å¤æ•°æ®æ®µä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚å†è¯´ç¬¬äºŒç‚¹ï¼Œå¦‚æœ Client ç›´æ¥ CLOSEDï¼Œç„¶ååˆå†å‘ Server å‘èµ·ä¸€ä¸ªæ–°è¿æ¥ï¼Œæˆ‘ä»¬ä¸èƒ½ä¿è¯è¿™ä¸ªæ–°è¿æ¥ä¸åˆšå…³é—­çš„è¿æ¥çš„ç«¯å£å·æ˜¯ä¸åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´æœ‰å¯èƒ½æ–°è¿æ¥å’Œè€è¿æ¥çš„ç«¯å£å·æ˜¯ç›¸åŒçš„ã€‚ä¸€èˆ¬æ¥è¯´ä¸ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ç‰¹æ®Šæƒ…å†µå‡ºç°ï¼šå‡è®¾æ–°è¿æ¥å’Œå·²ç»å…³é—­çš„è€è¿æ¥ç«¯å£å·æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœå‰ä¸€æ¬¡è¿æ¥çš„æŸäº›æ•°æ®ä»ç„¶æ»ç•™åœ¨ç½‘ç»œä¸­ï¼Œè¿™äº›å»¶è¿Ÿæ•°æ®åœ¨å»ºç«‹æ–°è¿æ¥ä¹‹åæ‰åˆ°è¾¾ Serverï¼Œç”±äºæ–°è¿æ¥å’Œè€è¿æ¥çš„ç«¯å£å·æ˜¯ä¸€æ ·çš„ï¼Œåˆå› ä¸º TCP åè®®åˆ¤æ–­ä¸åŒè¿æ¥çš„ä¾æ®æ˜¯ socket pairï¼Œäºæ˜¯ï¼ŒTCP åè®®å°±è®¤ä¸ºé‚£ä¸ªå»¶è¿Ÿçš„æ•°æ®æ˜¯å±äºæ–°è¿æ¥çš„ï¼Œè¿™æ ·å°±å’ŒçœŸæ­£çš„æ–°è¿æ¥çš„æ•°æ®åŒ…å‘ç”Ÿæ··æ·†äº†ã€‚æ‰€ä»¥ TCP è¿æ¥è¿˜è¦åœ¨ TIME_WAIT çŠ¶æ€ç­‰å¾… 2 å€ MSLï¼Œè¿™æ ·å¯ä»¥ä¿è¯æœ¬æ¬¡è¿æ¥çš„æ‰€æœ‰æ•°æ®éƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚</li></ol><h3 id="tcp-å¦‚ä½•ä¿è¯å¯é çš„ä¼ è¾“"><a class="header-anchor" href="#tcp-å¦‚ä½•ä¿è¯å¯é çš„ä¼ è¾“">#</a>TCP å¦‚ä½•ä¿è¯å¯é çš„ä¼ è¾“?</h3><ol><li>ç¡®è®¤å’Œé‡ä¼ </li><li>æ•°æ®æ ¡éªŒ</li><li>æ•°æ®åˆç†åˆ†ç‰‡å’Œæ’åº</li><li>æµé‡æ§åˆ¶ï¼šå½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚</li><li>æ‹¥å¡æ§åˆ¶ï¼šå½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚</li></ol><h3 id="ç›¸å…³åè¯"><a class="header-anchor" href="#ç›¸å…³åè¯">#</a>ç›¸å…³åè¯</h3><ul><li>MSLï¼ˆMaximum Segment Lifetimeï¼‰ï¼šæŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´</li><li>MTUï¼ˆMaximum Transmission Unitï¼‰ï¼šç”¨æ¥é€šçŸ¥å¯¹æ–¹æ‰€èƒ½æ¥å—æ•°æ®æœåŠ¡å•å…ƒçš„æœ€å¤§å°ºå¯¸ï¼Œè¯´æ˜å‘é€æ–¹èƒ½å¤Ÿæ¥å—çš„æœ‰æ•ˆè½½è·å¤§å°ã€‚</li></ul><h2 id="è¿›ç¨‹å’Œçº¿ç¨‹"><a class="header-anchor" href="#è¿›ç¨‹å’Œçº¿ç¨‹">#</a>è¿›ç¨‹å’Œçº¿ç¨‹</h2><h3 id="å®šä¹‰"><a class="header-anchor" href="#å®šä¹‰">#</a>å®šä¹‰</h3><p>è¿›ç¨‹:å…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºå…³äºæŸä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨,è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½.</p><p>çº¿ç¨‹:è¿›ç¨‹çš„ä¸€ä¸ªå®ä½“,æ˜¯ CPU è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½,å®ƒæ˜¯æ¯”è¿›ç¨‹æ›´å°çš„èƒ½ç‹¬ç«‹è¿è¡Œçš„åŸºæœ¬å•ä½.çº¿ç¨‹è‡ªå·±åŸºæœ¬ä¸Šä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æº,åªæ‹¥æœ‰ä¸€ç‚¹åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æº(å¦‚ç¨‹åºè®¡æ•°å™¨,ä¸€ç»„å¯„å­˜å™¨å’Œæ ˆ),ä½†æ˜¯å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çš„çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æº.</p><h3 id="å…³ç³»"><a class="header-anchor" href="#å…³ç³»">#</a>å…³ç³»</h3><p>ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤é”€å¦ä¸€ä¸ªçº¿ç¨‹;åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œ.</p><p>ç›¸å¯¹è¿›ç¨‹è€Œè¨€ï¼Œçº¿ç¨‹æ˜¯ä¸€ä¸ªæ›´åŠ æ¥è¿‘äºæ‰§è¡Œä½“çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥ä¸åŒè¿›ç¨‹ä¸­çš„å…¶ä»–çº¿ç¨‹å…±äº«æ•°æ®ï¼Œä½†æ‹¥æœ‰è‡ªå·±çš„æ ˆç©ºé—´ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„æ‰§è¡Œåºåˆ—ã€‚</p><h3 id="åŒºåˆ«"><a class="header-anchor" href="#åŒºåˆ«">#</a>åŒºåˆ«</h3><p>è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸»è¦å·®åˆ«åœ¨äºå®ƒä»¬æ˜¯ä¸åŒçš„æ“ä½œç³»ç»Ÿèµ„æºç®¡ç†æ–¹å¼ã€‚è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶å®ƒè¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œè€Œçº¿ç¨‹åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒæ‰§è¡Œè·¯å¾„ã€‚çº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œä½†çº¿ç¨‹ä¹‹é—´æ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªçº¿ç¨‹æ­»æ‰å°±ç­‰äºæ•´ä¸ªè¿›ç¨‹æ­»æ‰ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åºè¦æ¯”å¤šçº¿ç¨‹çš„ç¨‹åºå¥å£®ï¼Œä½†åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œè€—è´¹èµ„æºè¾ƒå¤§ï¼Œæ•ˆç‡è¦å·®ä¸€äº›ã€‚ä½†å¯¹äºä¸€äº›è¦æ±‚åŒæ—¶è¿›è¡Œå¹¶ä¸”åˆè¦å…±äº«æŸäº›å˜é‡çš„å¹¶å‘æ“ä½œï¼Œåªèƒ½ç”¨çº¿ç¨‹ï¼Œä¸èƒ½ç”¨è¿›ç¨‹ã€‚</p><ol><li>ç®€è€Œè¨€ä¹‹,ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹.</li><li>çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚</li><li>å¦å¤–ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</li><li>çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸è¿›ç¨‹è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚æ¯ä¸ªç‹¬ç«‹çš„çº¿ç¨‹æœ‰ä¸€ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£ã€é¡ºåºæ‰§è¡Œåºåˆ—å’Œç¨‹åºçš„å‡ºå£ã€‚ä½†æ˜¯çº¿ç¨‹ä¸èƒ½å¤Ÿç‹¬ç«‹æ‰§è¡Œï¼Œå¿…é¡»ä¾å­˜åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œç”±åº”ç”¨ç¨‹åºæä¾›å¤šä¸ªçº¿ç¨‹æ‰§è¡Œæ§åˆ¶ã€‚</li><li>ä»é€»è¾‘è§’åº¦æ¥çœ‹ï¼Œå¤šçº¿ç¨‹çš„æ„ä¹‰åœ¨äºä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰å¤šä¸ªæ‰§è¡Œéƒ¨åˆ†å¯ä»¥åŒæ—¶æ‰§è¡Œã€‚ä½†æ“ä½œç³»ç»Ÿå¹¶æ²¡æœ‰å°†å¤šä¸ªçº¿ç¨‹çœ‹åšå¤šä¸ªç‹¬ç«‹çš„åº”ç”¨ï¼Œæ¥å®ç°è¿›ç¨‹çš„è°ƒåº¦å’Œç®¡ç†ä»¥åŠèµ„æºåˆ†é…ã€‚è¿™å°±æ˜¯è¿›ç¨‹å’Œçº¿ç¨‹çš„é‡è¦åŒºåˆ«ã€‚</li></ol><hr><p>æ ¹æœ¬åŒºåˆ«ï¼šè¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè€Œçº¿ç¨‹æ˜¯ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œçš„åŸºæœ¬å•ä½</p><p>åœ¨å¼€é”€æ–¹é¢ï¼šæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„ä»£ç å’Œæ•°æ®ç©ºé—´ï¼ˆç¨‹åºä¸Šä¸‹æ–‡ï¼‰ï¼Œç¨‹åºä¹‹é—´çš„åˆ‡æ¢ä¼šæœ‰è¾ƒå¤§çš„å¼€é”€ï¼›çº¿ç¨‹å¯ä»¥çœ‹åšè½»é‡çº§çš„è¿›ç¨‹ï¼ŒåŒä¸€ç±»çº¿ç¨‹å…±äº«ä»£ç å’Œæ•°æ®ç©ºé—´ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰ï¼Œçº¿ç¨‹ä¹‹é—´åˆ‡æ¢çš„å¼€é”€å°ã€‚</p><p>æ‰€å¤„ç¯å¢ƒï¼šåœ¨æ“ä½œç³»ç»Ÿä¸­èƒ½åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰ï¼›è€Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰ä¸­æœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼ˆé€šè¿‡ CPU è°ƒåº¦ï¼Œåœ¨æ¯ä¸ªæ—¶é—´ç‰‡ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼‰</p><p>å†…å­˜åˆ†é…æ–¹é¢ï¼šç³»ç»Ÿåœ¨è¿è¡Œçš„æ—¶å€™ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜ç©ºé—´ï¼›è€Œå¯¹çº¿ç¨‹è€Œè¨€ï¼Œé™¤äº† CPU å¤–ï¼Œç³»ç»Ÿä¸ä¼šä¸ºçº¿ç¨‹åˆ†é…å†…å­˜ï¼ˆçº¿ç¨‹æ‰€ä½¿ç”¨çš„èµ„æºæ¥è‡ªå…¶æ‰€å±è¿›ç¨‹çš„èµ„æºï¼‰ï¼Œçº¿ç¨‹ç»„ä¹‹é—´åªèƒ½å…±äº«èµ„æºã€‚</p><p>åŒ…å«å…³ç³»ï¼šæ²¡æœ‰çº¿ç¨‹çš„è¿›ç¨‹å¯ä»¥çœ‹åšæ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹å†…æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œåˆ™æ‰§è¡Œè¿‡ç¨‹ä¸æ˜¯ä¸€æ¡çº¿çš„ï¼Œè€Œæ˜¯å¤šæ¡çº¿ï¼ˆçº¿ç¨‹ï¼‰å…±åŒå®Œæˆçš„ï¼›çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥çº¿ç¨‹ä¹Ÿè¢«ç§°ä¸ºè½»æƒè¿›ç¨‹æˆ–è€…è½»é‡çº§è¿›ç¨‹ã€‚</p><h3 id="åç¨‹"><a class="header-anchor" href="#åç¨‹">#</a>åç¨‹</h3><p>åç¨‹ï¼Œæ˜¯ä¸€ç§æ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨ï¼Œåç¨‹ä¸æ˜¯è¢«æ“ä½œç³»ç»Ÿå†…æ ¸æ‰€ç®¡ç†ï¼Œè€Œå®Œå…¨æ˜¯ç”±ç¨‹åºæ‰€æ§åˆ¶ï¼ˆä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ€æ‰§è¡Œï¼‰ã€‚è¿™æ ·å¸¦æ¥çš„å¥½å¤„å°±æ˜¯æ€§èƒ½å¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼Œä¸ä¼šåƒçº¿ç¨‹åˆ‡æ¢é‚£æ ·æ¶ˆè€—èµ„æºã€‚</p><p>æé«˜çš„æ‰§è¡Œæ•ˆç‡ï¼šå› ä¸ºå­ç¨‹åºåˆ‡æ¢ä¸æ˜¯çº¿ç¨‹åˆ‡æ¢ï¼Œè€Œæ˜¯ç”±ç¨‹åºè‡ªèº«æ§åˆ¶ï¼Œå› æ­¤ï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå’Œå¤šçº¿ç¨‹æ¯”ï¼Œçº¿ç¨‹æ•°é‡è¶Šå¤šï¼Œåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ï¼›<br>ä¸éœ€è¦å¤šçº¿ç¨‹çš„é”æœºåˆ¶ï¼šå› ä¸ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿä¸å­˜åœ¨åŒæ—¶å†™å˜é‡å†²çªï¼Œåœ¨åç¨‹ä¸­æ§åˆ¶å…±äº«èµ„æºä¸åŠ é”ï¼Œåªéœ€è¦åˆ¤æ–­çŠ¶æ€å°±å¥½äº†ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡æ¯”å¤šçº¿ç¨‹é«˜å¾ˆå¤šã€‚</p><h2 id="çº¢é»‘æ ‘"><a class="header-anchor" href="#çº¢é»‘æ ‘">#</a>çº¢é»‘æ ‘</h2><h3 id="æ€§è´¨"><a class="header-anchor" href="#æ€§è´¨">#</a>æ€§è´¨</h3><ol><li>æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯é»‘è‰²ï¼Œè¦ä¹ˆæ˜¯çº¢è‰²ã€‚</li><li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚</li><li>æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚</li><li>æ¯ä¸ªçº¢è‰²ç»“ç‚¹çš„ä¸¤ä¸ªå­ç»“ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²ã€‚</li><li>ä»»æ„ä¸€ç»“ç‚¹åˆ°æ¯ä¸ªå¶å­ç»“ç‚¹çš„è·¯å¾„éƒ½åŒ…å«æ•°é‡ç›¸åŒçš„é»‘ç»“ç‚¹ã€‚</li></ol><h3 id="æ’å…¥"><a class="header-anchor" href="#æ’å…¥">#</a>æ’å…¥</h3><center><p><img src="//onns.xyz/blog/image/20200703-1.png" alt="æ’å…¥"></p></center><h3 id="åˆ é™¤"><a class="header-anchor" href="#åˆ é™¤">#</a>åˆ é™¤</h3><center><p><img src="//onns.xyz/blog/image/20200703-2.png" alt="åˆ é™¤"></p></center><h3 id="æ—¶é—´å¤æ‚åº¦"><a class="header-anchor" href="#æ—¶é—´å¤æ‚åº¦">#</a>æ—¶é—´å¤æ‚åº¦</h3><table><thead><tr><th>Algorithm</th><th>Average</th><th>Worst case</th></tr></thead><tbody><tr><td>Space</td><td>O(n)</td><td>O(n)</td></tr><tr><td>Search</td><td>O(log n)</td><td>O(log n)</td></tr><tr><td>Insert</td><td>O(log n)</td><td>O(log n)</td></tr><tr><td>Delete</td><td>O(log n)</td><td>O(log n)</td></tr></tbody></table><h3 id="ä¸-avl-åŒºåˆ«"><a class="header-anchor" href="#ä¸-avl-åŒºåˆ«">#</a>ä¸ AVL åŒºåˆ«</h3><p>AVL æ˜¯ä¸¥æ ¼çš„å¹³è¡¡æ ‘ï¼Œå› æ­¤åœ¨å¢åŠ æˆ–è€…åˆ é™¤èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ ¹æ®ä¸åŒæƒ…å†µï¼Œæ—‹è½¬çš„æ¬¡æ•°æ¯”çº¢é»‘æ ‘è¦å¤šï¼›<br>çº¢é»‘æ ‘æ˜¯ç”¨éä¸¥æ ¼çš„å¹³è¡¡æ¥æ¢å–å¢åˆ èŠ‚ç‚¹æ—¶å€™æ—‹è½¬æ¬¡æ•°çš„é™ä½å¼€é”€ï¼›<br>æ‰€ä»¥ç®€å•è¯´ï¼Œå¦‚æœä½ çš„åº”ç”¨ä¸­ï¼Œæœç´¢çš„æ¬¡æ•°è¿œè¿œå¤§äºæ’å…¥å’Œåˆ é™¤ï¼Œé‚£ä¹ˆé€‰æ‹© AVL æ ‘ï¼Œ<br>å¦‚æœæœç´¢ï¼Œæ’å…¥åˆ é™¤æ¬¡æ•°å‡ ä¹å·®ä¸å¤šï¼Œåº”é€‰æ‹©çº¢é»‘æ ‘ã€‚å³ï¼Œæœ‰æ—¶ä»…ä¸ºäº†æ’åºï¼ˆå»ºç«‹-éå†-åˆ é™¤ï¼‰ï¼Œä¸æŸ¥æ‰¾æˆ–æŸ¥æ‰¾æ¬¡æ•°å¾ˆå°‘ï¼ŒR-B æ ‘åˆç®—ä¸€äº›ã€‚<br>AVL æ ‘åœ¨é¡ºåºæ’å…¥å’Œåˆ é™¤æ—¶æœ‰ 20%å·¦å³çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä½†éšæœºæ€§èƒ½åè€Œè½å 15%å·¦å³ï¼Œç°å®åº”ç”¨å½“ç„¶ä¸€èˆ¬éƒ½æ˜¯éšæœºæƒ…å†µï¼Œæ‰€ä»¥çº¢é»‘æ ‘å¾—åˆ°äº†æ›´å¹¿æ³›çš„åº”ç”¨ã€‚</p><h2 id="æ­»é”"><a class="header-anchor" href="#æ­»é”">#</a>æ­»é”</h2><p>æ­»é”æ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºç«äº‰èµ„æºæˆ–è€…ç”±äºå½¼æ­¤é€šä¿¡è€Œé€ æˆçš„ä¸€ç§é˜»å¡çš„ç°è±¡ï¼ˆäº’ç›¸æŒ‚èµ·ç­‰å¾…ï¼‰ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•æ¨è¿›ä¸‹å»ã€‚</p><h3 id="å¸¸è§æ­»é”"><a class="header-anchor" href="#å¸¸è§æ­»é”">#</a>å¸¸è§æ­»é”</h3><ol><li>çº¿ç¨‹å°†è‡ªå·±é”ä½</li></ol><p>ä¸ºäº†ä¿è¯çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥å’Œäº’æ–¥ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ç»™å…¶åŠ é”ï¼Œæœ‰æ—¶å€™ï¼Œçº¿ç¨‹ç”³è¯·äº†é”èµ„æºï¼Œè¿˜æ²¡æœ‰ç­‰å¾…é‡Šæ”¾ï¼Œåˆä¸€æ¬¡ç”³è¯·è¿™æŠŠé”ï¼Œç»“æœå°±æ˜¯æŒ‚èµ·ç­‰å¾…è¿™æŠŠé”çš„é‡Šæ”¾ï¼Œä½†æ˜¯è¿™æŠŠé”æ˜¯è¢«è‡ªå·±æ‹¿ç€ï¼Œæ‰€ä»¥å°±ä¼šæ°¸è¿œæŒ‚èµ·ç­‰å¾…ï¼Œå°±é€ æˆäº†æ­»é”ã€‚</p><ol start="2"><li>å¤šçº¿ç¨‹ç«äº‰èµ„æºå¾ªç¯ç­‰å¾…</li></ol><p>æœ‰ä¸¤ä¸ªçº¿ç¨‹ P1 å’Œ P2ï¼ŒP1 é¦–å…ˆç”³è¯·å¾—åˆ°äº†é” L1,P2 ç”³è¯·å¾—åˆ°äº†é” L2,è¿™ä¸ªæ—¶å€™ P1 æœ‰å‘å»ç”³è¯·é” L2ï¼Œç»“æœæ˜¯è¢«æŒ‚èµ·ç­‰å¾… P2 é‡Šæ”¾é” L2,è€Œ P2 æ°å¥½ä¹Ÿæƒ³ç”³è¯·é” L1ï¼Œç»“æœæ˜¯æŒ‚èµ·ç­‰å¾… P1 é‡Šæ”¾é” L1ï¼Œæ­¤æ—¶å°±é€ æˆä¸¤ä¸ªçº¿ç¨‹äº’ç›¸åƒµæŒï¼Œé€ æˆæ­»é”ã€‚</p><ol start="3"><li>è¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“å¼•èµ·çš„æ­»é”é—®é¢˜</li></ol><p>æœ‰ä¸‰ä¸ªçº¿ç¨‹ï¼ŒP1ï¼ŒP2 å’Œ P3ï¼Œåˆ†åˆ«ç”Ÿäº§æ•°æ® M1ï¼ŒM2ï¼ŒM3ï¼ŒåŒæ—¶åˆ†åˆ«æ¥æ”¶åˆ«çš„çº¿ç¨‹äº§ç”Ÿçš„æ•°æ® M3,M2,M1,å¦‚æœçº¿ç¨‹æ¨è¿›çš„é¡ºåºæ­£ç¡®ï¼Œå³ä¸‰ä¸ªçº¿ç¨‹éƒ½å…ˆç”Ÿäº§æ•°æ®ï¼Œå†æ¥æ”¶ï¼Œé‚£ä¹ˆæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦çº¿ç¨‹å…ˆæ¥å—æ•°æ®ï¼Œå†ç”Ÿäº§æ•°æ®ï¼Œå› ä¸ºä¸€å¼€å§‹æ²¡æœ‰æ•°æ®äº§ç”Ÿï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆä¸‰ä¸ªçº¿ç¨‹çš„æ­»é”é—®é¢˜ã€‚</p><h3 id="äº§ç”ŸåŸå› "><a class="header-anchor" href="#äº§ç”ŸåŸå› ">#</a>äº§ç”ŸåŸå› </h3><ol><li>ç³»ç»Ÿçš„èµ„æºä¸è¶³ã€‚</li><li>è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰æ¨è¿›çš„é¡ºåºä¸å¯¹ã€‚</li><li>èµ„æºçš„åˆ†é…ä¸å½“ã€‚</li></ol><h3 id="å¿…è¦æ¡ä»¶"><a class="header-anchor" href="#å¿…è¦æ¡ä»¶">#</a>å¿…è¦æ¡ä»¶</h3><ol><li>äº’æ–¥æ¡ä»¶ï¼šè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰ç”³è¯·çš„èµ„æºåœ¨ä¸€æ®µæ—¶é—´ä¸­åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰ä½¿ç”¨ã€‚</li><li>è¯·æ±‚ä¸ç­‰å¾…æ¡ä»¶ï¼šè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªèµ„æºï¼Œä½†æ˜¯åˆç”³è¯·æ–°çš„èµ„æºï¼Œæ‹¥æœ‰çš„èµ„æºä¿æŒä¸å˜ ã€‚</li><li>ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šåœ¨ä¸€ä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰æ²¡æœ‰ç”¨å®Œï¼Œä¸»åŠ¨é‡Šæ”¾èµ„æºçš„æ—¶å€™ï¼Œä¸èƒ½è¢«æŠ¢å ã€‚</li><li>å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå¤šä¸ªè¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰ä¹‹é—´å­˜åœ¨èµ„æºå¾ªç¯é“¾ã€‚</li></ol><h4 id="æ‰“ç ´"><a class="header-anchor" href="#æ‰“ç ´">#</a>æ‰“ç ´</h4><ol><li>æ‰“ç ´äº’æ–¥æ¡ä»¶ï¼šæ”¹é€ ç‹¬å æ€§èµ„æºä¸ºè™šæ‹Ÿå¤§èµ„æºï¼Œä½†æ˜¯å¤§éƒ¨åˆ†èµ„æºæ— æ³•æ”¹é€ ï¼Œå› æ­¤ä¸å»ºè®®ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</li><li>æ‰“ç ´è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šåœ¨è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰è¿è¡Œä¹‹å‰ï¼Œå°±æŠŠéœ€è¦ç”³è¯·çš„èµ„æºä¸€æ¬¡æ€§ç”³è¯·åˆ°ä½ï¼Œæ»¡è¶³åˆ™è¿è¡Œï¼Œä¸æ»¡è¶³å°±ç­‰å¾…ï¼Œè¿™æ ·å°±ä¸ä¼šé€ æˆåœ¨å æœ‰èµ„æºçš„æƒ…å†µä¸‹ï¼Œè¿˜è¦ç”³è¯·æ–°èµ„æºã€‚</li><li>æ‰“ç ´ä¸å¯å‰¥å¤ºæ¡ä»¶ï¼šåœ¨å æœ‰èµ„æºå¹¶ä¸”è¿˜æƒ³è¦ç”³è¯·æ–°èµ„æºçš„æ—¶å€™ï¼Œå½’è¿˜å·²ç»å æœ‰çš„èµ„æºã€‚</li><li>æ‰“ç ´å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå®ç°èµ„æºçš„æœ‰åºåˆ†é…ï¼Œå³å¯¹æ‰€æœ‰çš„è®¾å¤‡è¿›è¡Œåˆ†ç±»ç¼–å·ï¼Œåªèƒ½ä»¥å‡åºçš„æ–¹å¼æ¥ç”³è¯·èµ„æºã€‚</li></ol><h3 id="å¤„ç†æ–¹æ³•"><a class="header-anchor" href="#å¤„ç†æ–¹æ³•">#</a>å¤„ç†æ–¹æ³•</h3><ol><li>é¢„é˜²æ­»é”ï¼šç ´åæ­»é”äº§ç”Ÿçš„å››ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼Œæ³¨æ„ï¼Œäº’æ–¥æ¡ä»¶ä¸èƒ½ç ´åã€‚</li><li>é¿å…æ­»é”ï¼šåˆç†çš„åˆ†é…èµ„æºã€‚</li><li>æ£€æŸ¥æ­»é”ï¼šåˆ©ç”¨ä¸“é—¨çš„æ­»é”æœºæ„æ£€æŸ¥æ­»é”çš„å‘ç”Ÿï¼Œç„¶åé‡‡å–ç›¸åº”çš„æ–¹æ³•ã€‚</li><li>è§£é™¤æ­»é”ï¼šå‘ç”Ÿæ­»é”æ—¶å€™ï¼Œé‡‡å–åˆç†çš„æ–¹æ³•è§£å†³æ­»é”ã€‚ä¸€èˆ¬æ˜¯å¼ºè¡Œå‰¥å¤ºèµ„æºã€‚</li></ol><ul><li>ç­‰å¾…æŸä¸ªèµ„æºæ—¶ï¼Œä½¿ç”¨è¶…æ—¶æœºåˆ¶ã€‚</li><li>é‡‡ç”¨æ¶ˆæ¯é€šä¿¡çš„é€šä¿¡æœºåˆ¶ï¼Œè€Œä¸æ˜¯å…±äº«å†…å­˜çš„é€šä¿¡æœºåˆ¶ã€‚</li></ul><h2 id="http"><a class="header-anchor" href="#http">#</a>HTTP</h2><p>HTTP åè®®æ˜¯ Hyper Text Transfer Protocolï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰çš„ç¼©å†™ï¼Œæ˜¯ç”¨äºä»ä¸‡ç»´ç½‘æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„ä¼ é€åè®®ã€‚<br>HTTP æ˜¯ä¸€ä¸ªåŸºäº TCP/IP é€šä¿¡åè®®æ¥ä¼ é€’æ•°æ®ã€‚<br>åº”ç”¨å±‚åè®®ã€‚</p><ol><li>HTTP æ˜¯æ— è¿æ¥ï¼šæ— è¿æ¥çš„å«ä¹‰æ˜¯é™åˆ¶æ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´ã€‚</li><li>HTTP æ˜¯åª’ä½“ç‹¬ç«‹çš„ï¼šè¿™æ„å‘³ç€ï¼Œåªè¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çŸ¥é“å¦‚ä½•å¤„ç†çš„æ•°æ®å†…å®¹ï¼Œä»»ä½•ç±»å‹çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡ HTTP å‘é€ã€‚å®¢æˆ·ç«¯ä»¥åŠæœåŠ¡å™¨æŒ‡å®šä½¿ç”¨é€‚åˆçš„ MIME-type å†…å®¹ç±»å‹ã€‚</li><li>HTTP æ˜¯æ— çŠ¶æ€ï¼šHTTP åè®®æ˜¯æ— çŠ¶æ€åè®®ã€‚æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ã€‚ç¼ºå°‘çŠ¶æ€æ„å‘³ç€å¦‚æœåç»­å¤„ç†éœ€è¦å‰é¢çš„ä¿¡æ¯ï¼Œåˆ™å®ƒå¿…é¡»é‡ä¼ ï¼Œè¿™æ ·å¯èƒ½å¯¼è‡´æ¯æ¬¡è¿æ¥ä¼ é€çš„æ•°æ®é‡å¢å¤§ã€‚å¦ä¸€æ–¹é¢ï¼Œåœ¨æœåŠ¡å™¨ä¸éœ€è¦å…ˆå‰ä¿¡æ¯æ—¶å®ƒçš„åº”ç­”å°±è¾ƒå¿«ã€‚</li></ol><h3 id="http-2-0"><a class="header-anchor" href="#http-2-0">#</a>HTTP 2.0</h3><p>HTTP/2ï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ç¬¬ 2 ç‰ˆï¼Œæœ€åˆå‘½åä¸º HTTP2.0ï¼‰ï¼Œæ˜¯ HTTP åè®®çš„ç¬¬äºŒä¸ªä¸»è¦ç‰ˆæœ¬ã€‚HTTP/2 æ˜¯ HTTP åè®®è‡ª 1999 å¹´ HTTP1.1 å‘å¸ƒåçš„é¦–ä¸ªæ›´æ–°ï¼Œä¸»è¦åŸºäº SPDY åè®®ã€‚<br>HTTP2.0 çš„ç‰¹ç‚¹æ˜¯ï¼šåœ¨ä¸æ”¹åŠ¨ HTTP è¯­ä¹‰ã€æ–¹æ³•ã€çŠ¶æ€ç ã€URI åŠé¦–éƒ¨å­—æ®µçš„æƒ…å†µä¸‹ï¼Œå¤§å¹…åº¦æé«˜äº† web æ€§èƒ½ã€‚</p><p>SPDY åè®®ï¼šGoogle å¼€å‘çš„åŸºäº TCP åè®®çš„åº”ç”¨å±‚åè®®ã€‚ç›®æ ‡æ˜¯ä¼˜åŒ– HTTP åè®®çš„æ€§èƒ½ï¼Œé€šè¿‡å‹ç¼©ã€å¤šè·¯å¤ç”¨å’Œä¼˜å…ˆçº§ç­‰æŠ€æœ¯ï¼Œç¼©çŸ­ç½‘é¡µçš„åŠ è½½æ—¶é—´å¹¶æé«˜å®‰å…¨æ€§ã€‚SPDY åè®®çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°½é‡å‡å°‘ TCP è¿æ¥æ•°ã€‚SPDY å¹¶ä¸æ˜¯ä¸€ç§ç”¨äºæ›¿ä»£ HTTP çš„åè®®ï¼Œè€Œæ˜¯å¯¹ HTTP åè®®çš„å¢å¼ºã€‚</p><h4 id="äºŒè¿›åˆ¶ä¼ è¾“"><a class="header-anchor" href="#äºŒè¿›åˆ¶ä¼ è¾“">#</a>äºŒè¿›åˆ¶ä¼ è¾“</h4><p>HTTP2.0 ä¸­æ‰€æœ‰åŠ å¼ºæ€§èƒ½çš„æ ¸å¿ƒæ˜¯äºŒè¿›åˆ¶ä¼ è¾“ï¼Œåœ¨ HTTP1.x ä¸­ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡æ–‡æœ¬çš„æ–¹å¼ä¼ è¾“æ•°æ®ã€‚åŸºäºæ–‡æœ¬çš„æ–¹å¼ä¼ è¾“æ•°æ®å­˜åœ¨å¾ˆå¤šç¼ºé™·ï¼Œæ–‡æœ¬çš„è¡¨ç°å½¢å¼æœ‰å¤šæ ·æ€§ï¼Œå› æ­¤è¦åšåˆ°å¥å£®æ€§è€ƒè™‘çš„åœºæ™¯å¿…ç„¶æœ‰å¾ˆå¤šï¼Œä½†æ˜¯äºŒè¿›åˆ¶åˆ™ä¸åŒï¼Œåªæœ‰ 0 å’Œ 1 çš„ç»„åˆï¼Œå› æ­¤é€‰æ‹©äº†äºŒè¿›åˆ¶ä¼ è¾“ï¼Œå®ç°æ–¹ä¾¿ä¸”å¥å£®ã€‚<br>åœ¨ HTTP2.0 ä¸­å¼•å…¥äº†æ–°çš„ç¼–ç æœºåˆ¶ï¼Œæ‰€æœ‰ä¼ è¾“çš„æ•°æ®éƒ½ä¼šè¢«åˆ†å‰²ï¼Œå¹¶é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ã€‚<br>ä¸ºäº†ä¿è¯ HTTP ä¸å—å½±å“ï¼Œé‚£å°±éœ€è¦åœ¨åº”ç”¨å±‚ï¼ˆHTTP2.0ï¼‰å’Œä¼ è¾“å±‚ï¼ˆTCP or UDPï¼‰ä¹‹é—´å¢åŠ ä¸€ä¸ªäºŒè¿›åˆ¶åˆ†å¸§å±‚ã€‚åœ¨äºŒè¿›åˆ¶åˆ†å¸§å±‚ä¸Šï¼ŒHTTP2.0 ä¼šå°†æ‰€æœ‰ä¼ è¾“çš„ä¿¡æ¯åˆ†ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ï¼Œå…¶ä¸­ HTTP1.x çš„é¦–éƒ¨ä¿¡æ¯ä¼šè¢«å°è£…åˆ° Headers å¸§ï¼Œè€Œ Request Body åˆ™å°è£…åˆ° Data å¸§ã€‚</p><h4 id="å¤šè·¯å¤ç”¨"><a class="header-anchor" href="#å¤šè·¯å¤ç”¨">#</a>å¤šè·¯å¤ç”¨</h4><p>åœ¨ HTTP1.0 ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨åˆ°é›ªç¢§å›¾ã€ä½¿ç”¨å¤šä¸ªåŸŸåç­‰æ–¹å¼æ¥è¿›è¡Œä¼˜åŒ–ï¼Œéƒ½æ˜¯å› ä¸ºæµè§ˆå™¨é™åˆ¶äº†åŒä¸€ä¸ªåŸŸåä¸‹çš„è¯·æ±‚æ•°é‡ï¼Œå½“é¡µé¢éœ€è¦è¯·æ±‚å¾ˆå¤šèµ„æºçš„æ—¶å€™ï¼Œé˜Ÿå¤´é˜»å¡ï¼ˆHead of line blockingï¼‰ä¼šå¯¼è‡´åœ¨è¾¾åˆ°æœ€å¤§è¯·æ±‚æ—¶ï¼Œèµ„æºéœ€è¦ç­‰å¾…å…¶ä»–èµ„æºè¯·æ±‚å®Œæˆåæ‰èƒ½ç»§ç»­å‘é€ã€‚<br>HTTP2.0 ä¸­ï¼Œæœ‰ä¸¤ä¸ªæ¦‚å¿µéå¸¸é‡è¦ï¼šå¸§ï¼ˆframeï¼‰å’Œæµï¼ˆstreamï¼‰ã€‚<br>å¸§æ˜¯æœ€å°çš„æ•°æ®å•ä½ï¼Œæ¯ä¸ªå¸§ä¼šæ ‡è¯†å‡ºè¯¥å¸§å±äºå“ªä¸ªæµï¼Œæµæ˜¯å¤šä¸ªå¸§ç»„æˆçš„æ•°æ®æµã€‚<br>æ‰€è°“å¤šè·¯å¤ç”¨ï¼Œå³åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­å­˜åœ¨å¤šä¸ªæµï¼Œå³å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚ï¼Œå¯¹ç«¯å¯ä»¥é€šè¿‡å¸§ä¸­çš„è¡¨ç¤ºçŸ¥é“è¯¥å¸§å±äºå“ªä¸ªè¯·æ±‚ã€‚åœ¨å®¢æˆ·ç«¯ï¼Œè¿™äº›å¸§ä¹±åºå‘é€ï¼Œåˆ°å¯¹ç«¯åå†æ ¹æ®æ¯ä¸ªå¸§é¦–éƒ¨çš„æµæ ‡è¯†ç¬¦é‡æ–°ç»„è£…ã€‚é€šè¿‡è¯¥æŠ€æœ¯ï¼Œå¯ä»¥é¿å… HTTP æ—§ç‰ˆæœ¬çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œæå¤§æé«˜ä¼ è¾“æ€§èƒ½ã€‚</p><h4 id="header-å‹ç¼©"><a class="header-anchor" href="#header-å‹ç¼©">#</a>Header å‹ç¼©</h4><p>åœ¨ HTTP1.0 ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–‡æœ¬çš„å½¢å¼ä¼ è¾“ headerï¼Œåœ¨ header ä¸­æºå¸¦ cookie çš„è¯ï¼Œæ¯æ¬¡éƒ½éœ€è¦é‡å¤ä¼ è¾“å‡ ç™¾åˆ°å‡ åƒçš„å­—èŠ‚ï¼Œè¿™ç€å®æ˜¯ä¸€ç¬”ä¸å°çš„å¼€é”€ã€‚<br>åœ¨ HTTP2.0 ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† HPACKï¼ˆHTTP2 å¤´éƒ¨å‹ç¼©ç®—æ³•ï¼‰å‹ç¼©æ ¼å¼å¯¹ä¼ è¾“çš„ header è¿›è¡Œç¼–ç ï¼Œå‡å°‘äº† header çš„å¤§å°ã€‚å¹¶åœ¨ä¸¤ç«¯ç»´æŠ¤äº†ç´¢å¼•è¡¨ï¼Œç”¨äºè®°å½•å‡ºç°è¿‡çš„ headerï¼Œåé¢åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­å°±å¯ä»¥ä¼ è¾“å·²ç»è®°å½•è¿‡çš„ header çš„é”®åï¼Œå¯¹ç«¯æ”¶åˆ°æ•°æ®åå°±å¯ä»¥é€šè¿‡é”®åæ‰¾åˆ°å¯¹åº”çš„å€¼ã€‚</p><h4 id="æœåŠ¡å™¨-push"><a class="header-anchor" href="#æœåŠ¡å™¨-push">#</a>æœåŠ¡å™¨ Push</h4><p>åœ¨ HTTP2.0 ä¸­ï¼ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å®¢æˆ·ç«¯æŸä¸ªè¯·æ±‚åï¼Œä¸»åŠ¨æ¨é€å…¶ä»–èµ„æºã€‚<br>å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼ŒæŸäº›èµ„æºå®¢æˆ·ç«¯æ˜¯ä¸€å®šä¼šè¯·æ±‚çš„ï¼Œè¿™æ—¶å°±å¯ä»¥é‡‡å–æœåŠ¡ç«¯ push çš„æŠ€æœ¯ï¼Œæå‰ç»™å®¢æˆ·ç«¯æ¨é€å¿…è¦çš„èµ„æºï¼Œå°±å¯ä»¥ç›¸å¯¹å‡å°‘ä¸€ç‚¹å»¶è¿Ÿæ—¶é—´ã€‚åœ¨æµè§ˆå™¨å…¼å®¹çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ prefetchã€‚</p><h4 id="æ›´å®‰å…¨"><a class="header-anchor" href="#æ›´å®‰å…¨">#</a>æ›´å®‰å…¨</h4><p>HTTP2.0 ä½¿ç”¨äº† tls çš„æ‹“å±• ALPN åšä¸ºåè®®å‡çº§ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒHTTP2.0 å¯¹ tls çš„å®‰å…¨æ€§åšäº†è¿‘ä¸€æ­¥åŠ å¼ºï¼Œé€šè¿‡é»‘åå•æœºåˆ¶ç¦ç”¨äº†å‡ ç™¾ç§ä¸å†å®‰å…¨çš„åŠ å¯†ç®—æ³•ã€‚</p><h2 id="æ•°æ®åº“"><a class="header-anchor" href="#æ•°æ®åº“">#</a>æ•°æ®åº“</h2><h3 id="ä¸‰ä¸ªé—®é¢˜"><a class="header-anchor" href="#ä¸‰ä¸ªé—®é¢˜">#</a>ä¸‰ä¸ªé—®é¢˜</h3><h4 id="è„è¯»ï¼ˆè¯»å–æœªæäº¤æ•°æ®ï¼‰"><a class="header-anchor" href="#è„è¯»ï¼ˆè¯»å–æœªæäº¤æ•°æ®ï¼‰">#</a>è„è¯»ï¼ˆè¯»å–æœªæäº¤æ•°æ®ï¼‰</h4><p>A äº‹åŠ¡è¯»å– B äº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®ï¼Œæ­¤æ—¶å¦‚æœ B äº‹åŠ¡å‘ç”Ÿé”™è¯¯å¹¶æ‰§è¡Œå›æ»šæ“ä½œï¼Œé‚£ä¹ˆ A äº‹åŠ¡è¯»å–åˆ°çš„æ•°æ®å°±æ˜¯è„æ•°æ®ã€‚å°±å¥½åƒåŸæœ¬çš„æ•°æ®æ¯”è¾ƒå¹²å‡€ã€çº¯ç²¹ï¼Œæ­¤æ—¶ç”±äº B äº‹åŠ¡æ›´æ”¹äº†å®ƒï¼Œè¿™ä¸ªæ•°æ®å˜å¾—ä¸å†çº¯ç²¹ã€‚è¿™ä¸ªæ—¶å€™ A äº‹åŠ¡ç«‹å³è¯»å–äº†è¿™ä¸ªè„æ•°æ®ï¼Œä½†äº‹åŠ¡ B è‰¯å¿ƒå‘ç°ï¼Œåˆç”¨å›æ»šæŠŠæ•°æ®æ¢å¤æˆåŸæ¥å¹²å‡€ã€çº¯ç²¹çš„æ ·å­ï¼Œè€Œäº‹åŠ¡ A å´ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯äº‹åŠ¡ A è¯»å–äº†æ­¤æ¬¡çš„è„æ•°æ®ï¼Œç§°ä¸ºè„è¯»ã€‚</p><table><thead><tr><th style="text-align:center">æ—¶é—´é¡ºåº</th><th style="text-align:center">è½¬è´¦äº‹åŠ¡</th><th style="text-align:center">å–æ¬¾äº‹åŠ¡</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center"></td><td style="text-align:center">å¼€å§‹äº‹åŠ¡</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">å¼€å§‹äº‹åŠ¡</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">3</td><td style="text-align:center"></td><td style="text-align:center">æŸ¥è¯¢è´¦æˆ·ä½™é¢ä¸º 2000 å…ƒ</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center"></td><td style="text-align:center">å–æ¬¾ 1000 å…ƒï¼Œä½™é¢è¢«æ›´æ”¹ä¸º 1000 å…ƒ</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">æŸ¥è¯¢è´¦æˆ·ä½™é¢ä¸º 1000 å…ƒï¼ˆäº§ç”Ÿè„è¯»ï¼‰</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">6</td><td style="text-align:center"></td><td style="text-align:center">å–æ¬¾æ“ä½œå‘ç”ŸæœªçŸ¥é”™è¯¯ï¼Œäº‹åŠ¡å›æ»šï¼Œä½™é¢å˜æ›´ä¸º 2000 å…ƒ</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">è½¬å…¥ 2000 å…ƒï¼Œä½™é¢è¢«æ›´æ”¹ä¸º 3000 å…ƒï¼ˆè„è¯»çš„ 1000+2000ï¼‰</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">æäº¤äº‹åŠ¡</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">å¤‡æ³¨</td><td style="text-align:center">æŒ‰ç…§æ­£ç¡®é€»è¾‘ï¼Œæ­¤æ—¶è´¦æˆ·ä½™é¢åº”è¯¥ä¸º 4000 å…ƒ</td><td style="text-align:center"></td></tr></tbody></table><h4 id="ä¸å¯é‡å¤è¯»ï¼ˆå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®å†…å®¹ä¸ä¸€è‡´ï¼‰"><a class="header-anchor" href="#ä¸å¯é‡å¤è¯»ï¼ˆå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®å†…å®¹ä¸ä¸€è‡´ï¼‰">#</a>ä¸å¯é‡å¤è¯»ï¼ˆå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®å†…å®¹ä¸ä¸€è‡´ï¼‰</h4><p>äº‹åŠ¡ A åœ¨æ‰§è¡Œè¯»å–æ“ä½œï¼Œç”±æ•´ä¸ªäº‹åŠ¡ A æ¯”è¾ƒå¤§ï¼Œå‰åè¯»å–åŒä¸€æ¡æ•°æ®éœ€è¦ç»å†å¾ˆé•¿çš„æ—¶é—´ ã€‚è€Œåœ¨äº‹åŠ¡ A ç¬¬ä¸€æ¬¡è¯»å–æ•°æ®ï¼Œæ¯”å¦‚æ­¤æ—¶è¯»å–äº†å°æ˜çš„å¹´é¾„ä¸º 20 å²ï¼Œäº‹åŠ¡ B æ‰§è¡Œæ›´æ”¹æ“ä½œï¼Œå°†å°æ˜çš„å¹´é¾„æ›´æ”¹ä¸º 30 å²ï¼Œæ­¤æ—¶äº‹åŠ¡ A ç¬¬äºŒæ¬¡è¯»å–åˆ°å°æ˜çš„å¹´é¾„æ—¶ï¼Œå‘ç°å…¶å¹´é¾„æ˜¯ 30 å²ï¼Œå’Œä¹‹å‰çš„æ•°æ®ä¸ä¸€æ ·äº†ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸é‡å¤äº†ï¼Œç³»ç»Ÿä¸å¯ä»¥è¯»å–åˆ°é‡å¤çš„æ•°æ®ï¼Œæˆä¸ºä¸å¯é‡å¤è¯»ã€‚</p><table><thead><tr><th style="text-align:center">æ—¶é—´é¡ºåº</th><th style="text-align:center">äº‹åŠ¡ A</th><th style="text-align:center">äº‹åŠ¡ B</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">å¼€å§‹äº‹åŠ¡</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼Œå°æ˜çš„å¹´é¾„ä¸º 20 å²</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">3</td><td style="text-align:center"></td><td style="text-align:center">å¼€å§‹äº‹åŠ¡</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">å…¶ä»–æ“ä½œ</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">5</td><td style="text-align:center"></td><td style="text-align:center">æ›´æ”¹å°æ˜çš„å¹´é¾„ä¸º 30 å²</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center"></td><td style="text-align:center">æäº¤äº‹åŠ¡</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼Œå°æ˜çš„å¹´é¾„ä¸º 30 å²</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">å¤‡æ³¨</td><td style="text-align:center">æŒ‰ç…§æ­£ç¡®é€»è¾‘ï¼Œäº‹åŠ¡ A å‰åä¸¤æ¬¡è¯»å–åˆ°çš„æ•°æ®åº”è¯¥ä¸€è‡´</td><td style="text-align:center"></td></tr></tbody></table><h4 id="å¹»è¯»ï¼ˆå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®æ€»é‡ä¸ä¸€è‡´ï¼‰"><a class="header-anchor" href="#å¹»è¯»ï¼ˆå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®æ€»é‡ä¸ä¸€è‡´ï¼‰">#</a>å¹»è¯»ï¼ˆå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®æ€»é‡ä¸ä¸€è‡´ï¼‰</h4><p>äº‹åŠ¡ A åœ¨æ‰§è¡Œè¯»å–æ“ä½œï¼Œéœ€è¦ä¸¤æ¬¡ç»Ÿè®¡æ•°æ®çš„æ€»é‡ï¼Œå‰ä¸€æ¬¡æŸ¥è¯¢æ•°æ®æ€»é‡åï¼Œæ­¤æ—¶äº‹åŠ¡ B æ‰§è¡Œäº†æ–°å¢æ•°æ®çš„æ“ä½œå¹¶æäº¤åï¼Œè¿™ä¸ªæ—¶å€™äº‹åŠ¡ A è¯»å–çš„æ•°æ®æ€»é‡å’Œä¹‹å‰ç»Ÿè®¡çš„ä¸ä¸€æ ·ï¼Œå°±åƒäº§ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œå¹³ç™½æ— æ•…çš„å¤šäº†å‡ æ¡æ•°æ®ï¼Œæˆä¸ºå¹»è¯»ã€‚</p><table><thead><tr><th style="text-align:center">æ—¶é—´é¡ºåº</th><th style="text-align:center">äº‹åŠ¡ A</th><th style="text-align:center">äº‹åŠ¡ B</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">å¼€å§‹äº‹åŠ¡</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">ç¬¬ä¸€æ¬¡æŸ¥è¯¢ï¼Œæ•°æ®æ€»é‡ä¸º 100 æ¡</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">3</td><td style="text-align:center"></td><td style="text-align:center">å¼€å§‹äº‹åŠ¡</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">å…¶ä»–æ“ä½œ</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">5</td><td style="text-align:center"></td><td style="text-align:center">æ–°å¢ 100 æ¡æ•°æ®</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center"></td><td style="text-align:center">æäº¤äº‹åŠ¡</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">ç¬¬äºŒæ¬¡æŸ¥è¯¢ï¼Œæ•°æ®æ€»é‡ä¸º 200 æ¡</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">å¤‡æ³¨</td><td style="text-align:center">æŒ‰ç…§æ­£ç¡®é€»è¾‘ï¼Œäº‹åŠ¡ A å‰åä¸¤æ¬¡è¯»å–åˆ°çš„æ•°æ®æ€»é‡åº”è¯¥ä¸€è‡´</td><td style="text-align:center"></td></tr></tbody></table><h3 id="éš”ç¦»çº§åˆ«"><a class="header-anchor" href="#éš”ç¦»çº§åˆ«">#</a>éš”ç¦»çº§åˆ«</h3><h4 id="è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰"><a class="header-anchor" href="#è¯»æœªæäº¤ï¼ˆread-uncommittedï¼‰">#</a>è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰</h4><p>åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ‰€æœ‰äº‹åŠ¡èƒ½å¤Ÿè¯»å–å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚è¯»å–å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œä¼šé€ æˆè„è¯»ã€‚å› æ­¤åœ¨è¯¥ç§éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¸èƒ½è§£å†³è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»ã€‚</p><h4 id="è¯»å·²æäº¤ï¼ˆread-committedï¼‰"><a class="header-anchor" href="#è¯»å·²æäº¤ï¼ˆread-committedï¼‰">#</a>è¯»å·²æäº¤ï¼ˆRead committedï¼‰</h4><p>åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ‰€æœ‰äº‹åŠ¡åªèƒ½è¯»å–å…¶ä»–äº‹åŠ¡å·²ç»æäº¤çš„å†…å®¹ã€‚èƒ½å¤Ÿå½»åº•è§£å†³è„è¯»çš„ç°è±¡ã€‚ä½†åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹ï¼Œä¼šå‡ºç°ä¸€ä¸ªäº‹åŠ¡çš„å‰åå¤šæ¬¡çš„æŸ¥è¯¢ä¸­å´è¿”å›äº†ä¸åŒå†…å®¹çš„æ•°æ®çš„ç°è±¡ï¼Œä¹Ÿå°±æ˜¯å‡ºç°äº†ä¸å¯é‡å¤è¯»ã€‚</p><p>è¿™æ˜¯å¤§å¤šæ•°æ•°æ®åº“ç³»ç»Ÿé»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼Œä¾‹å¦‚ Oracle å’Œ SQL Serverï¼Œä½† mysql ä¸æ˜¯ã€‚</p><h4 id="å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰"><a class="header-anchor" href="#å¯é‡å¤è¯»ï¼ˆrepeatable-readï¼‰">#</a>å¯é‡å¤è¯»ï¼ˆRepeatable readï¼‰</h4><p>åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ‰€æœ‰äº‹åŠ¡å‰åå¤šæ¬¡çš„è¯»å–åˆ°çš„æ•°æ®å†…å®¹æ˜¯ä¸å˜çš„ã€‚ä¹Ÿå°±æ˜¯æŸä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¸å…è®¸å…¶ä»–äº‹åŠ¡è¿›è¡Œ update æ“ä½œï¼Œä½†å…è®¸å…¶ä»–äº‹åŠ¡è¿›è¡Œ add æ“ä½œï¼Œé€ æˆæŸä¸ªäº‹åŠ¡å‰åå¤šæ¬¡è¯»å–åˆ°çš„æ•°æ®æ€»é‡ä¸ä¸€è‡´çš„ç°è±¡ï¼Œä»è€Œäº§ç”Ÿå¹»è¯»ã€‚</p><p>mysql çš„é»˜è®¤äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚</p><h4 id="å¯ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰"><a class="header-anchor" href="#å¯ä¸²è¡ŒåŒ–ï¼ˆserializableï¼‰">#</a>å¯ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰</h4><p>åœ¨è¿™ç§éš”ç¦»çº§åˆ«ä¸‹ï¼Œæ‰€æœ‰çš„äº‹åŠ¡é¡ºåºæ‰§è¡Œï¼Œæ‰€ä»¥ä»–ä»¬ä¹‹é—´ä¸å­˜åœ¨å†²çªï¼Œä»è€Œèƒ½æœ‰æ•ˆåœ°è§£å†³è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„ç°è±¡ã€‚ä½†æ˜¯å®‰å…¨å’Œæ•ˆç‡ä¸èƒ½å…¼å¾—ï¼Œè¿™æ ·äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä¼šå¯¼è‡´å¤§é‡çš„æ“ä½œè¶…æ—¶å’Œé”ç«äº‰ï¼Œä»è€Œå¤§å¤§é™ä½æ•°æ®åº“çš„æ€§èƒ½ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨è¿™æ ·äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚</p><h4 id="æ€»ç»“"><a class="header-anchor" href="#æ€»ç»“">#</a>æ€»ç»“</h4><table><thead><tr><th style="text-align:center">éš”ç¦»çº§åˆ«</th><th style="text-align:center">è„è¯»</th><th style="text-align:center">ä¸å¯é‡å¤è¯»</th><th style="text-align:center">å¹»è¯»</th></tr></thead><tbody><tr><td style="text-align:center">è¯»æœªæäº¤ï¼ˆRead uncommittedï¼‰</td><td style="text-align:center">Ã—(æœªè§£å†³)</td><td style="text-align:center">Ã—</td><td style="text-align:center">Ã—</td></tr><tr><td style="text-align:center">è¯»å·²æäº¤ï¼ˆRead committedï¼‰</td><td style="text-align:center">âˆš(è§£å†³)</td><td style="text-align:center">Ã—</td><td style="text-align:center">Ã—</td></tr><tr><td style="text-align:center">å¯é‡å¤è¯»ï¼ˆRepeatable readï¼‰</td><td style="text-align:center">âˆš</td><td style="text-align:center">âˆš</td><td style="text-align:center">Ã—</td></tr><tr><td style="text-align:center">å¯ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰</td><td style="text-align:center">âˆš</td><td style="text-align:center">âˆš</td><td style="text-align:center">âˆš</td></tr></tbody></table><h3 id="äº‹åŠ¡"><a class="header-anchor" href="#äº‹åŠ¡">#</a>äº‹åŠ¡</h3><p>æ•°æ®åº“äº‹åŠ¡(Database Transaction) ï¼Œæ˜¯æŒ‡ä½œä¸ºå•ä¸ªé€»è¾‘å·¥ä½œå•å…ƒæ‰§è¡Œçš„ä¸€ç³»åˆ—æ“ä½œï¼ˆå¯¹æ•°æ®åº“çš„ç›¸å…³å¢åˆ æ”¹æŸ¥çš„æ“ä½œï¼‰ï¼Œè¦ä¹ˆå®Œå…¨åœ°æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨åœ°ä¸æ‰§è¡Œã€‚</p><h4 id="ç‰¹æ€§ï¼ˆacidï¼‰"><a class="header-anchor" href="#ç‰¹æ€§ï¼ˆacidï¼‰">#</a>ç‰¹æ€§ï¼ˆACIDï¼‰</h4><ol><li>åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æ‰§è¡Œï¼ŒåŒ…å«åœ¨å…¶ä¸­çš„å¯¹æ•°æ®åº“çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨è¢«æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚</li><li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šäº‹åŠ¡åº”ç¡®ä¿æ•°æ®åº“çš„çŠ¶æ€ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€è½¬å˜ä¸ºå¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€ã€‚ä¸€è‡´çŠ¶æ€çš„å«ä¹‰æ˜¯æ•°æ®åº“ä¸­çš„æ•°æ®åº”æ»¡è¶³å®Œæ•´æ€§çº¦æŸã€‚</li><li>éš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸åº”å½±å“å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œã€‚</li><li>æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œä»–å¯¹æ•°æ®åº“çš„ä¿®æ”¹åº”è¯¥æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚</li></ol><p>ç”¨ä¸€ä¸ªå¸¸ç”¨çš„â€œA è´¦æˆ·å‘ B è´¦å·æ±‡é’±â€çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•é€šè¿‡æ•°æ®åº“äº‹åŠ¡ä¿è¯æ•°æ®çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚ç†Ÿæ‚‰å…³ç³»å‹æ•°æ®åº“äº‹åŠ¡çš„éƒ½çŸ¥é“ä»å¸å· A åˆ°å¸å· B éœ€è¦ 6 ä¸ªæ“ä½œï¼š</p><p>1ã€ä» A è´¦å·ä¸­æŠŠä½™é¢è¯»å‡ºæ¥ï¼ˆ500ï¼‰ã€‚<br>2ã€å¯¹ A è´¦å·åšå‡æ³•æ“ä½œï¼ˆ500-100ï¼‰ã€‚<br>3ã€æŠŠç»“æœå†™å› A è´¦å·ä¸­ï¼ˆ400ï¼‰ã€‚<br>4ã€ä» B è´¦å·ä¸­æŠŠä½™é¢è¯»å‡ºæ¥ï¼ˆ500ï¼‰ã€‚<br>5ã€å¯¹ B è´¦å·åšåŠ æ³•æ“ä½œï¼ˆ500+100ï¼‰ã€‚<br>6ã€æŠŠç»“æœå†™å› B è´¦å·ä¸­ï¼ˆ600ï¼‰ã€‚</p><p>åŸå­æ€§ï¼š<br>ä¿è¯ 1-6 æ‰€æœ‰è¿‡ç¨‹è¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚ä¸€æ—¦åœ¨æ‰§è¡ŒæŸä¸€æ­¥éª¤çš„è¿‡ç¨‹ä¸­å‘ç”Ÿé—®é¢˜ï¼Œå°±éœ€è¦æ‰§è¡Œå›æ»šæ“ä½œã€‚ å‡å¦‚æ‰§è¡Œåˆ°ç¬¬äº”æ­¥çš„æ—¶å€™ï¼ŒB è´¦æˆ·çªç„¶ä¸å¯ç”¨ï¼ˆæ¯”å¦‚è¢«æ³¨é”€ï¼‰ï¼Œé‚£ä¹ˆä¹‹å‰çš„æ‰€æœ‰æ“ä½œéƒ½åº”è¯¥å›æ»šåˆ°æ‰§è¡Œäº‹åŠ¡ä¹‹å‰çš„çŠ¶æ€ã€‚</p><p>ä¸€è‡´æ€§<br>åœ¨è½¬è´¦ä¹‹å‰ï¼ŒA å’Œ B çš„è´¦æˆ·ä¸­å…±æœ‰ 500+500=1000 å…ƒé’±ã€‚åœ¨è½¬è´¦ä¹‹åï¼ŒA å’Œ B çš„è´¦æˆ·ä¸­å…±æœ‰ 400+600=1000 å…ƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®çš„çŠ¶æ€åœ¨æ‰§è¡Œè¯¥äº‹åŠ¡æ“ä½œä¹‹åä»ä¸€ä¸ªçŠ¶æ€æ”¹å˜åˆ°äº†å¦å¤–ä¸€ä¸ªçŠ¶æ€ã€‚åŒæ—¶ä¸€è‡´æ€§è¿˜èƒ½ä¿è¯è´¦æˆ·ä½™é¢ä¸ä¼šå˜æˆè´Ÿæ•°ç­‰ã€‚</p><p>éš”ç¦»æ€§<br>åœ¨ A å‘ B è½¬è´¦çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œåªè¦äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤ï¼ˆcommitï¼‰ï¼ŒæŸ¥è¯¢ A è´¦æˆ·å’Œ B è´¦æˆ·çš„æ—¶å€™ï¼Œä¸¤ä¸ªè´¦æˆ·é‡Œé¢çš„é’±çš„æ•°é‡éƒ½ä¸ä¼šæœ‰å˜åŒ–ã€‚<br>å¦‚æœåœ¨ A ç»™ B è½¬è´¦çš„åŒæ—¶ï¼Œæœ‰å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œäº† C ç»™ B è½¬è´¦çš„æ“ä½œï¼Œé‚£ä¹ˆå½“ä¸¤ä¸ªäº‹åŠ¡éƒ½ç»“æŸçš„æ—¶å€™ï¼ŒB è´¦æˆ·é‡Œé¢çš„é’±åº”è¯¥æ˜¯ A è½¬ç»™ B çš„é’±åŠ ä¸Š C è½¬ç»™ B çš„é’±å†åŠ ä¸Šè‡ªå·±åŸæœ‰çš„é’±ã€‚</p><p>æŒä¹…æ€§<br>ä¸€æ—¦è½¬è´¦æˆåŠŸï¼ˆäº‹åŠ¡æäº¤ï¼‰ï¼Œä¸¤ä¸ªè´¦æˆ·çš„é‡Œé¢çš„é’±å°±ä¼šçœŸçš„å‘ç”Ÿå˜åŒ–ï¼ˆä¼šæŠŠæ•°æ®å†™å…¥æ•°æ®åº“åšæŒä¹…åŒ–ä¿å­˜ï¼‰ï¼</p><p>åŸå­æ€§ä¸éš”ç¦»è¡Œ<br>ä¸€è‡´æ€§ä¸åŸå­æ€§æ˜¯å¯†åˆ‡ç›¸å…³çš„,åŸå­æ€§çš„ç ´åå¯èƒ½å¯¼è‡´æ•°æ®åº“çš„ä¸ä¸€è‡´ï¼Œæ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜å¹¶ä¸éƒ½å’ŒåŸå­æ€§æœ‰å…³ã€‚<br>æ¯”å¦‚åˆšåˆšçš„ä¾‹å­ï¼Œåœ¨ç¬¬äº”æ­¥çš„æ—¶å€™ï¼Œå¯¹ B è´¦æˆ·åšåŠ æ³•æ—¶åªåŠ äº† 50 å…ƒã€‚é‚£ä¹ˆè¯¥è¿‡ç¨‹å¯ä»¥ç¬¦åˆåŸå­æ€§ï¼Œä½†æ˜¯æ•°æ®çš„ä¸€è‡´æ€§å°±å‡ºç°äº†é—®é¢˜ã€‚</p><p>å› æ­¤ï¼Œäº‹åŠ¡çš„åŸå­æ€§ä¸ä¸€è‡´æ€§ç¼ºä¸€ä¸å¯ã€‚</p><h3 id="ç´¢å¼•"><a class="header-anchor" href="#ç´¢å¼•">#</a>ç´¢å¼•</h3><p>ä¼˜ç‚¹ï¼š</p><p>1.å¤§å¤§åŠ å¿«æ•°æ®çš„æ£€ç´¢é€Ÿåº¦</p><p>2.åˆ›å»ºå”¯ä¸€æ€§ç´¢å¼•ï¼Œä¿è¯æ•°æ®åº“è¡¨ä¸­æ¯ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ€§</p><p>3.åŠ é€Ÿè¡¨å’Œè¡¨ä¹‹é—´çš„è¿æ¥</p><p>4.åœ¨ä½¿ç”¨åˆ†ç»„å’Œæ’åºå­å¥è¿›è¡Œæ•°æ®æ£€ç´¢æ—¶ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æŸ¥è¯¢ä¸­åˆ†ç»„å’Œæ’åºçš„æ—¶é—´</p><p>ç¼ºç‚¹</p><p>1.ç´¢å¼•éœ€è¦å ç”¨æ•°æ®è¡¨ä»¥å¤–çš„ç‰©ç†å­˜å‚¨ç©ºé—´</p><p>2.åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´</p><p>3.å½“å¯¹è¡¨è¿›è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œç´¢å¼•éœ€è¦è¢«é‡å»ºï¼Œè¿™æ ·é™ä½äº†æ•°æ®çš„ç»´æŠ¤é€Ÿåº¦</p><h4 id="åˆ†ç±»"><a class="header-anchor" href="#åˆ†ç±»">#</a>åˆ†ç±»</h4><p>ä¸»é”®ç´¢å¼•ï¼ˆPRIMAY KEYï¼‰</p><p>ä¸»é”®ï¼š</p><p>æŸä¸€ä¸ªå±æ€§ç»„èƒ½å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•</p><p>å¦‚ï¼šå­¦ç”Ÿè¡¨ï¼ˆå­¦å·ï¼Œå§“åï¼Œç­çº§ï¼Œæ€§åˆ«ç­‰ç­‰ï¼‰ï¼Œå­¦å·æ—¶å”¯ä¸€æ ‡è¯†çš„ï¼Œå¯ä»¥ä½œä¸ºä¸»é”®</p><p>ç‰¹ç‚¹ï¼š</p><p>æœ€å¸¸è§çš„ç´¢å¼•ç±»å‹</p><p>ç¡®ä¿æ•°æ®è®°å½•çš„å”¯ä¸€æ€§</p><p>ç¡®å®šç‰¹å®šæ•°æ®è®°å½•åœ¨æ•°æ®åº“ä¸­çš„ä½ç½®</p><p>å®ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`è¡¨å`</span>ï¼ˆã€</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="string">`GradeID`</span> <span class="built_in">INT</span>(<span class="number">11</span>)  AUTO_INCREMENT PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">#æˆ– PRIMARY KEY(`GradeID`)</span></span><br><span class="line"></span><br><span class="line">ï¼‰</span><br></pre></td></tr></table></figure><p>å”¯ä¸€ç´¢å¼•ï¼ˆUNIQUEï¼‰</p><p>ä½œç”¨ï¼š</p><p>é¿å…åŒä¸€ä¸ªè¡¨ä¸­æŸæ•°æ®åˆ—ä¸­çš„å€¼é‡å¤</p><p>ä¸ä¸»é”®ç´¢å¼•çš„åŒºåˆ«</p><p>ä¸»é”®ç´¢å¼•åªèƒ½æœ‰ä¸€ä¸ª</p><p>å”¯ä¸€ç´¢å¼•å¯æœ‰å¤šä¸ª</p><p>å®ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`Grade`</span>ï¼ˆã€</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="string">`GradeID`</span> <span class="built_in">INT</span>(<span class="number">11</span>)  AUTO_INCREMENT PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="string">`GradeName`</span> <span class="built_in">VARCHAR</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">UNIQUE</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">#æˆ– UNIQUE KEY ` GradeID`(`GradeID`)</span></span><br></pre></td></tr></table></figure><p>å¸¸è§„ç´¢å¼•ï¼ˆINDEXï¼‰</p><p>ä½œç”¨ï¼š</p><p>å¿«é€Ÿå®šä½ç‰¹å®šæ•°æ®</p><p>æ³¨æ„ï¼š</p><p>index å’Œ key å…³é”®å­—éƒ½å¯ä»¥è®¾ç½®å¸¸è§„ç´¢å¼•</p><p>åº”åŠ åœ¨æŸ¥è¯¢æ¡ä»¶çš„å­—æ®µ</p><p>ä¸æ˜“æ·»åŠ å¤ªå¤šå¸¸è§„ç´¢å¼•ï¼Œå½±å“æ•°æ®çš„æ’å…¥ï¼Œåˆ é™¤å’Œä¿®æ”¹æ“ä½œ</p><p>å®ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##åˆ›å»ºè¡¨æ—¶æ·»åŠ </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`result`</span>&#123;</span><br><span class="line"></span><br><span class="line">ã€€ã€€//çœç•¥ä¸€äº›ä»£ç </span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="keyword">INDEX</span> / <span class="keyword">KEY</span> <span class="string">`ind`</span> (<span class="string">`studentNo`</span>,<span class="string">`subjectNo`</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">##åˆ›å»ºåè¿½åŠ </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`result`</span> <span class="keyword">ADD</span>  <span class="keyword">INDEX</span> <span class="string">`ind`</span> (<span class="string">`studentNo`</span>,<span class="string">`subjectNo`</span>);</span><br></pre></td></tr></table></figure><p>å…¨æ–‡ç´¢å¼•ï¼ˆFULLTEXTï¼‰</p><p>ä½œç”¨ï¼š</p><p>å¿«é€Ÿå®šä½ç‰¹å®šæ•°æ®</p><p>æ³¨æ„ï¼š</p><p>åªèƒ½ç”¨äº MyISAM ç±»å‹çš„æ•°æ®è¡¨</p><p>åªèƒ½ç”¨äº CHAR ,VARCHAR,TEXT æ•°æ®åˆ—ç±»å‹</p><p>ä½¿ç”¨å¤§å‹æ•°æ®é›†</p><p>å®ä¾‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`student`</span>(</span><br><span class="line"></span><br><span class="line">ã€€ã€€<span class="comment">#çœç•¥ä¸€äº›sqlè¯­å¥</span></span><br><span class="line"></span><br><span class="line">ã€€ã€€ã€€ã€€FULLTEXT(<span class="string">`StudentName`</span>)</span><br><span class="line"></span><br><span class="line">)ENDINE=MYISAM;</span><br><span class="line"></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> employee <span class="keyword">ADD</span> FULLTEXT(<span class="string">`first_name`</span>)</span><br></pre></td></tr></table></figure><h3 id="è¦†ç›–ç´¢å¼•ä¸å›è¡¨"><a class="header-anchor" href="#è¦†ç›–ç´¢å¼•ä¸å›è¡¨">#</a>è¦†ç›–ç´¢å¼•ä¸å›è¡¨</h3><h4 id="èšç°‡ç´¢å¼•"><a class="header-anchor" href="#èšç°‡ç´¢å¼•">#</a>èšç°‡ç´¢å¼•</h4><ul><li>å¦‚æœè¡¨è®¾ç½®äº†ä¸»é”®ï¼Œåˆ™ä¸»é”®å°±æ˜¯èšç°‡ç´¢å¼•</li><li>å¦‚æœè¡¨æ²¡æœ‰ä¸»é”®ï¼Œåˆ™ä¼šé»˜è®¤ç¬¬ä¸€ä¸ª NOT NULLï¼Œä¸”å”¯ä¸€ï¼ˆUNIQUEï¼‰çš„åˆ—ä½œä¸ºèšç°‡ç´¢å¼•</li><li>ä»¥ä¸Šéƒ½æ²¡æœ‰ï¼Œåˆ™ä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ªéšè—çš„ row_id ä½œä¸ºèšç°‡ç´¢å¼•</li></ul><p>InnoDB çš„èšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯è¡Œè®°å½•ï¼ˆå…¶å®æ˜¯é¡µç»“æ„ï¼Œä¸€ä¸ªé¡µåŒ…å«å¤šè¡Œæ•°æ®ï¼‰ï¼ŒInnoDB å¿…é¡»è¦æœ‰è‡³å°‘ä¸€ä¸ªèšç°‡ç´¢å¼•ã€‚<br>ç”±æ­¤å¯è§ï¼Œä½¿ç”¨èšç°‡ç´¢å¼•æŸ¥è¯¢ä¼šå¾ˆå¿«ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥å®šä½åˆ°è¡Œè®°å½•ã€‚</p><h4 id="æ™®é€šç´¢å¼•"><a class="header-anchor" href="#æ™®é€šç´¢å¼•">#</a>æ™®é€šç´¢å¼•</h4><p>æ™®é€šç´¢å¼•ä¹Ÿå«äºŒçº§ç´¢å¼•ï¼Œé™¤èšç°‡ç´¢å¼•å¤–çš„ç´¢å¼•ï¼Œå³éèšç°‡ç´¢å¼•ã€‚<br>InnoDB çš„æ™®é€šç´¢å¼•å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®ï¼ˆèšç°‡ç´¢å¼•ï¼‰çš„å€¼ï¼Œè€Œ MyISAM çš„æ™®é€šç´¢å¼•å­˜å‚¨çš„æ˜¯è®°å½•æŒ‡é’ˆã€‚</p><h4 id="å›è¡¨æŸ¥è¯¢"><a class="header-anchor" href="#å›è¡¨æŸ¥è¯¢">#</a>å›è¡¨æŸ¥è¯¢</h4><p>å…ˆé€šè¿‡æ™®é€šç´¢å¼•çš„å€¼å®šä½èšç°‡ç´¢å¼•å€¼ï¼Œå†é€šè¿‡èšç°‡ç´¢å¼•çš„å€¼å®šä½è¡Œè®°å½•æ•°æ®ï¼Œéœ€è¦æ‰«æä¸¤æ¬¡ç´¢å¼• B+æ ‘ï¼Œå®ƒçš„æ€§èƒ½è¾ƒæ‰«ä¸€éç´¢å¼•æ ‘æ›´ä½ã€‚</p><h4 id="ç´¢å¼•è¦†ç›–"><a class="header-anchor" href="#ç´¢å¼•è¦†ç›–">#</a>ç´¢å¼•è¦†ç›–</h4><p>åªéœ€è¦åœ¨ä¸€æ£µç´¢å¼•æ ‘ä¸Šå°±èƒ½è·å– SQL æ‰€éœ€çš„æ‰€æœ‰åˆ—æ•°æ®ï¼Œæ— éœ€å›è¡¨ï¼Œé€Ÿåº¦æ›´å¿«ã€‚<br>ä¾‹å¦‚ï¼šselect id,age from user where age = 10;</p><p>å¸¸è§çš„æ–¹æ³•æ˜¯ï¼šå°†è¢«æŸ¥è¯¢çš„å­—æ®µï¼Œå»ºç«‹åˆ°è”åˆç´¢å¼•é‡Œå»ã€‚</p><h2 id="b-æ ‘"><a class="header-anchor" href="#b-æ ‘">#</a>B+æ ‘</h2><p>B+ æ ‘æ˜¯ä¸€ç§æ ‘æ•°æ®ç»“æ„ï¼Œæ˜¯ä¸€ä¸ª n å‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šå¸¸æœ‰å¤šä¸ªå­©å­ï¼Œä¸€é¢— B+æ ‘åŒ…å«æ ¹èŠ‚ç‚¹ã€å†…éƒ¨èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ã€‚B+ æ ‘é€šå¸¸ç”¨äºæ•°æ®åº“å’Œæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚ B+ æ ‘çš„ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿä¿æŒæ•°æ®ç¨³å®šæœ‰åºï¼Œå…¶æ’å…¥ä¸ä¿®æ”¹æ‹¥æœ‰è¾ƒç¨³å®šçš„å¯¹æ•°æ—¶é—´å¤æ‚åº¦ã€‚ B+ æ ‘å…ƒç´ è‡ªåº•å‘ä¸Šæ’å…¥ã€‚</p><ol><li>æ ¹ç»“ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­å¥³ã€‚</li><li>æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½è‡³å°‘åŒ…å« ceil(m / 2)ä¸ªå­©å­ï¼Œæœ€å¤šæœ‰ m ä¸ªå­©å­ã€‚</li><li>æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹éƒ½åŒ…å« k-1 ä¸ªå…ƒç´ ï¼Œå…¶ä¸­ m/2 &lt;= k &lt;= mã€‚</li><li>æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½ä½äºåŒä¸€å±‚ã€‚</li><li>æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—ï¼ŒèŠ‚ç‚¹å½“ä¸­ k-1 ä¸ªå…ƒç´ æ­£å¥½æ˜¯ k ä¸ªå­©å­åŒ…å«çš„å…ƒç´ çš„å€¼åŸŸåˆ†åˆ’ã€‚</li><li>æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œå½¢æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚</li><li>è€Œåªæœ‰å¶å­èŠ‚ç‚¹æ‰ä¼šæœ‰ dataï¼Œå…¶ä»–éƒ½æ˜¯ç´¢å¼•ã€‚</li></ol><h3 id="ä¸-b-æ ‘çš„åŒºåˆ«"><a class="header-anchor" href="#ä¸-b-æ ‘çš„åŒºåˆ«">#</a>ä¸ B æ ‘çš„åŒºåˆ«</h3><ol><li>æœ‰ k ä¸ªå­ç»“ç‚¹çš„ç»“ç‚¹å¿…ç„¶æœ‰ k ä¸ªå…³é”®ç ã€‚</li><li>éå¶ç»“ç‚¹ä»…å…·æœ‰ç´¢å¼•ä½œç”¨ï¼Œè·Ÿè®°å½•æœ‰å…³çš„ä¿¡æ¯å‡å­˜æ”¾åœ¨å¶ç»“ç‚¹ä¸­ã€‚</li><li>æ ‘çš„æ‰€æœ‰å¶ç»“ç‚¹æ„æˆä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼Œå¯ä»¥æŒ‰ç…§å…³é”®ç æ’åºçš„æ¬¡åºéå†å…¨éƒ¨è®°å½•ã€‚</li></ol><h3 id="é¡µ"><a class="header-anchor" href="#é¡µ">#</a>é¡µ</h3><p>è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦äº†è§£é¡µï¼ˆpageï¼‰çš„æ¦‚å¿µï¼Œåœ¨è®¡ç®—æœºé‡Œï¼Œæ— è®ºæ˜¯å†…å­˜è¿˜æ˜¯ç£ç›˜ï¼Œæ“ä½œç³»ç»Ÿéƒ½æ˜¯æŒ‰é¡µçš„å¤§å°è¿›è¡Œè¯»å–çš„ï¼ˆé¡µå¤§å°é€šå¸¸ä¸º 4 kbï¼‰ï¼Œç£ç›˜æ¯æ¬¡è¯»å–éƒ½ä¼šé¢„è¯»ï¼Œä¼šæå‰å°†è¿ç»­çš„æ•°æ®è¯»å…¥å†…å­˜ä¸­ï¼Œè¿™æ ·å°±é¿å…äº†å¤šæ¬¡ IOï¼Œè¿™å°±æ˜¯è®¡ç®—æœºä¸­æœ‰åçš„å±€éƒ¨æ€§åŸç†ï¼Œå³æˆ‘ç”¨åˆ°ä¸€å—æ•°æ®ï¼Œå¾ˆå¤§å¯èƒ½è¿™å—æ•°æ®é™„è¿‘çš„æ•°æ®ä¹Ÿä¼šè¢«ç”¨åˆ°ï¼Œå¹²è„†ä¸€èµ·åŠ è½½ï¼Œçœå¾—å¤šæ¬¡ IO æ‹–æ…¢é€Ÿåº¦ï¼Œ è¿™ä¸ªè¿ç»­æ•°æ®æœ‰å¤šå¤§å‘¢ï¼Œå¿…é¡»æ˜¯æ“ä½œç³»ç»Ÿé¡µå¤§å°çš„æ•´æ•°å€ï¼Œè¿™ä¸ªè¿ç»­æ•°æ®å°±æ˜¯ MySQL çš„é¡µï¼Œé»˜è®¤å€¼ä¸º 16 KBï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äº B+ æ ‘çš„èŠ‚ç‚¹ï¼Œæœ€å¥½è®¾ç½®æˆé¡µçš„å¤§å°ï¼ˆ16 KBï¼‰ï¼Œè¿™æ ·ä¸€ä¸ª B+ æ ‘ä¸Šçš„èŠ‚ç‚¹å°±åªä¼šæœ‰ä¸€æ¬¡ IO è¯»ã€‚</p><h3 id="ä¼˜ç‚¹"><a class="header-anchor" href="#ä¼˜ç‚¹">#</a>ä¼˜ç‚¹</h3><p>B+æ ‘ç›¸æ¯” B æ ‘çš„å­˜å‚¨æ•ˆç‡æ›´é«˜ã€‚<br>B+æ ‘çš„é«˜åº¦æ›´å°ï¼Œæ£€ç´¢æ•ˆç‡æ›´é«˜ã€‚<br>B+æ ‘æ”¯æŒèŒƒå›´æ£€ç´¢ï¼Œåœ¨å®é™…åº”ç”¨ä¸­æ›´ä¸ºå¹¿æ³›ã€‚<br>æ’å…¥å’Œåˆ é™¤æ›´ä¸ºæ–¹ä¾¿ï¼Œå…¶å®æµç¨‹å’Œ B æ ‘ç±»ä¼¼ï¼Œä½† B+æ ‘é‡Œé¢ï¼Œå…³é”®ç çš„ä¸ªæ•°å’Œå­èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯å¯¹ç­‰çš„ï¼Œæ‰€ä»¥ä»è®°å¿†è§’åº¦æ¥è¯´ï¼ŒB+æ ‘æ›´æ–¹ä¾¿è®°å¿†ä½¿ç”¨ï¼Œè€Œ B æ ‘åˆ™éœ€è¦æ—¶åˆ»æ³¨æ„èŠ‚ç‚¹æ•°å’Œå…³é”®ç çš„å¯¹åº”å…³ç³»ã€‚</p><h2 id="mysql"><a class="header-anchor" href="#mysql">#</a>Mysql</h2><h3 id="å¸¸ç”¨å¼•æ“"><a class="header-anchor" href="#å¸¸ç”¨å¼•æ“">#</a>å¸¸ç”¨å¼•æ“</h3><h4 id="åŒºåˆ«-2"><a class="header-anchor" href="#åŒºåˆ«-2">#</a>åŒºåˆ«</h4><ol><li>InnoDB æ”¯æŒäº‹åŠ¡ï¼ŒMyISAM ä¸æ”¯æŒäº‹åŠ¡ã€‚è¿™æ˜¯ MySQL å°†é»˜è®¤å­˜å‚¨å¼•æ“ä» MyISAM å˜æˆ InnoDB çš„é‡è¦åŸå› ä¹‹ä¸€ï¼›</li><li>InnoDB æ”¯æŒå¤–é”®ï¼Œè€Œ MyISAM ä¸æ”¯æŒã€‚å¯¹ä¸€ä¸ªåŒ…å«å¤–é”®çš„ InnoDB è¡¨è½¬ä¸º MYISAM ä¼šå¤±è´¥ï¼›</li><li>InnoDB æ˜¯èšé›†ç´¢å¼•ï¼ŒMyISAM æ˜¯éèšé›†ç´¢å¼•ã€‚èšç°‡ç´¢å¼•çš„æ–‡ä»¶å­˜æ”¾åœ¨ä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šï¼Œå› æ­¤ InnoDB å¿…é¡»è¦æœ‰ä¸»é”®ï¼Œé€šè¿‡ä¸»é”®ç´¢å¼•æ•ˆç‡å¾ˆé«˜ã€‚ä½†æ˜¯è¾…åŠ©ç´¢å¼•éœ€è¦ä¸¤æ¬¡æŸ¥è¯¢ï¼Œå…ˆæŸ¥è¯¢åˆ°ä¸»é”®ï¼Œç„¶åå†é€šè¿‡ä¸»é”®æŸ¥è¯¢åˆ°æ•°æ®ã€‚å› æ­¤ï¼Œä¸»é”®ä¸åº”è¯¥è¿‡å¤§ï¼Œå› ä¸ºä¸»é”®å¤ªå¤§ï¼Œå…¶ä»–ç´¢å¼•ä¹Ÿéƒ½ä¼šå¾ˆå¤§ã€‚è€Œ MyISAM æ˜¯éèšé›†ç´¢å¼•ï¼Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†ç¦»çš„ï¼Œç´¢å¼•ä¿å­˜çš„æ˜¯æ•°æ®æ–‡ä»¶çš„æŒ‡é’ˆã€‚ä¸»é”®ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•æ˜¯ç‹¬ç«‹çš„ã€‚</li><li>InnoDB ä¸ä¿å­˜è¡¨çš„å…·ä½“è¡Œæ•°ï¼Œæ‰§è¡Œ select count(*) from table æ—¶éœ€è¦å…¨è¡¨æ‰«æã€‚è€Œ MyISAM ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜äº†æ•´ä¸ªè¡¨çš„è¡Œæ•°ï¼Œæ‰§è¡Œä¸Šè¿°è¯­å¥æ—¶åªéœ€è¦è¯»å‡ºè¯¥å˜é‡å³å¯ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼›</li><li>InnoDB æœ€å°çš„é”ç²’åº¦æ˜¯è¡Œé”ï¼ŒMyISAM æœ€å°çš„é”ç²’åº¦æ˜¯è¡¨é”ã€‚ä¸€ä¸ªæ›´æ–°è¯­å¥ä¼šé”ä½æ•´å¼ è¡¨ï¼Œå¯¼è‡´å…¶ä»–æŸ¥è¯¢å’Œæ›´æ–°éƒ½ä¼šè¢«é˜»å¡ï¼Œå› æ­¤å¹¶å‘è®¿é—®å—é™ã€‚è¿™ä¹Ÿæ˜¯ MySQL å°†é»˜è®¤å­˜å‚¨å¼•æ“ä» MyISAM å˜æˆ InnoDB çš„é‡è¦åŸå› ä¹‹ä¸€ï¼›</li></ol><h4 id="å¦‚ä½•é€‰æ‹©"><a class="header-anchor" href="#å¦‚ä½•é€‰æ‹©">#</a>å¦‚ä½•é€‰æ‹©</h4><ol><li>æ˜¯å¦è¦æ”¯æŒäº‹åŠ¡ï¼Œå¦‚æœè¦è¯·é€‰æ‹© InnoDBï¼Œå¦‚æœä¸éœ€è¦å¯ä»¥è€ƒè™‘ MyISAMï¼›</li><li>å¦‚æœè¡¨ä¸­ç»å¤§å¤šæ•°éƒ½åªæ˜¯è¯»æŸ¥è¯¢ï¼Œå¯ä»¥è€ƒè™‘ MyISAMï¼Œå¦‚æœæ—¢æœ‰è¯»å†™ä¹ŸæŒºé¢‘ç¹ï¼Œè¯·ä½¿ç”¨ InnoDBã€‚</li><li>ç³»ç»Ÿå¥”æºƒåï¼ŒMyISAM æ¢å¤èµ·æ¥æ›´å›°éš¾ï¼Œèƒ½å¦æ¥å—ï¼Œä¸èƒ½æ¥å—å°±é€‰ InnoDBï¼›</li><li>MySQL5.5 ç‰ˆæœ¬å¼€å§‹ Innodb å·²ç»æˆä¸º Mysql çš„é»˜è®¤å¼•æ“(ä¹‹å‰æ˜¯ MyISAM)ï¼Œè¯´æ˜å…¶ä¼˜åŠ¿æ˜¯æœ‰ç›®å…±ç¹çš„ã€‚å¦‚æœä½ ä¸çŸ¥é“ç”¨ä»€ä¹ˆå­˜å‚¨å¼•æ“ï¼Œé‚£å°±ç”¨ InnoDBï¼Œè‡³å°‘ä¸ä¼šå·®ã€‚</li></ol><h3 id="binlog-å’Œ-redolog"><a class="header-anchor" href="#binlog-å’Œ-redolog">#</a>binlog å’Œ redolog</h3><ol><li>åŠŸèƒ½ä¸åŒï¼Œbinlog ä¸»è¦ç”¨äºå½’æ¡£ï¼Œè€Œ redolog ä¸»è¦ç”¨äºå´©æºƒæ¢å¤</li><li>å†…å®¹ä¸åŒï¼Œbinlog æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè€Œ redolog æ˜¯ç‰©ç†æ—¥å¿—</li><li>å†™å…¥æ—¶æœºä¸åŒï¼Œbinlog æ˜¯ server å±‚è®°å½•çš„ï¼Œæ‰€æœ‰å­˜å‚¨å¼•æ“å¯å…±äº«ï¼Œè€Œ redolog æ˜¯ InnoDB å¼•æ“ç‰¹æœ‰çš„</li><li>å†™å…¥æ–¹å¼ä¸åŒï¼Œbinlog å®¹é‡æ— é™ï¼Œè¿½åŠ å†™å…¥ï¼Œè€Œ redolog å®¹é‡æœ‰é™ï¼Œå¾ªç¯å†™å…¥</li></ol><h2 id="java"><a class="header-anchor" href="#java">#</a>JAVA</h2><h3 id="ç±»åŠ è½½è¿‡ç¨‹"><a class="header-anchor" href="#ç±»åŠ è½½è¿‡ç¨‹">#</a>ç±»åŠ è½½è¿‡ç¨‹</h3><h4 id="åŠ è½½"><a class="header-anchor" href="#åŠ è½½">#</a>åŠ è½½</h4><p>ç®€å•æ¥è¯´ï¼ŒåŠ è½½æŒ‡çš„æ˜¯æŠŠ class å­—èŠ‚ç æ–‡ä»¶ä»å„ä¸ªæ¥æºé€šè¿‡ç±»åŠ è½½å™¨è£…è½½å…¥å†…å­˜ä¸­ã€‚</p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªé‡ç‚¹ï¼š</p><p>å­—èŠ‚ç æ¥æºã€‚ä¸€èˆ¬çš„åŠ è½½æ¥æºåŒ…æ‹¬ä»æœ¬åœ°è·¯å¾„ä¸‹ç¼–è¯‘ç”Ÿæˆçš„.class æ–‡ä»¶ï¼Œä» jar åŒ…ä¸­çš„.class æ–‡ä»¶ï¼Œä»è¿œç¨‹ç½‘ç»œï¼Œä»¥åŠåŠ¨æ€ä»£ç†å®æ—¶ç¼–è¯‘</p><p>ç±»åŠ è½½å™¨ã€‚ä¸€èˆ¬åŒ…æ‹¬å¯åŠ¨ç±»åŠ è½½å™¨ï¼Œæ‰©å±•ç±»åŠ è½½å™¨ï¼Œåº”ç”¨ç±»åŠ è½½å™¨ï¼Œä»¥åŠç”¨æˆ·çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨ã€‚</p><p>æ³¨ï¼šä¸ºä»€ä¹ˆä¼šæœ‰è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Ÿ</p><p>ä¸€æ–¹é¢æ˜¯ç”±äº java ä»£ç å¾ˆå®¹æ˜“è¢«åç¼–è¯‘ï¼Œå¦‚æœéœ€è¦å¯¹è‡ªå·±çš„ä»£ç åŠ å¯†çš„è¯ï¼Œå¯ä»¥å¯¹ç¼–è¯‘åçš„ä»£ç è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå†é€šè¿‡å®ç°è‡ªå·±çš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨è¿›è¡Œè§£å¯†ï¼Œæœ€åå†åŠ è½½ã€‚</p><p>å¦ä¸€æ–¹é¢ä¹Ÿæœ‰å¯èƒ½ä»éæ ‡å‡†çš„æ¥æºåŠ è½½ä»£ç ï¼Œæ¯”å¦‚ä»ç½‘ç»œæ¥æºï¼Œé‚£å°±éœ€è¦è‡ªå·±å®ç°ä¸€ä¸ªç±»åŠ è½½å™¨ï¼Œä»æŒ‡å®šæºè¿›è¡ŒåŠ è½½ã€‚</p><h4 id="éªŒè¯"><a class="header-anchor" href="#éªŒè¯">#</a>éªŒè¯</h4><p>ä¸»è¦æ˜¯ä¸ºäº†ä¿è¯åŠ è½½è¿›æ¥çš„å­—èŠ‚æµç¬¦åˆè™šæ‹Ÿæœºè§„èŒƒï¼Œä¸ä¼šé€ æˆå®‰å…¨é”™è¯¯ã€‚</p><p>åŒ…æ‹¬å¯¹äºæ–‡ä»¶æ ¼å¼çš„éªŒè¯ï¼Œæ¯”å¦‚å¸¸é‡ä¸­æ˜¯å¦æœ‰ä¸è¢«æ”¯æŒçš„å¸¸é‡ï¼Ÿæ–‡ä»¶ä¸­æ˜¯å¦æœ‰ä¸è§„èŒƒçš„æˆ–è€…é™„åŠ çš„å…¶ä»–ä¿¡æ¯ï¼Ÿ</p><p>å¯¹äºå…ƒæ•°æ®çš„éªŒè¯ï¼Œæ¯”å¦‚è¯¥ç±»æ˜¯å¦ç»§æ‰¿äº†è¢« final ä¿®é¥°çš„ç±»ï¼Ÿç±»ä¸­çš„å­—æ®µï¼Œæ–¹æ³•æ˜¯å¦ä¸çˆ¶ç±»å†²çªï¼Ÿæ˜¯å¦å‡ºç°äº†ä¸åˆç†çš„é‡è½½ï¼Ÿ</p><p>å¯¹äºå­—èŠ‚ç çš„éªŒè¯ï¼Œä¿è¯ç¨‹åºè¯­ä¹‰çš„åˆç†æ€§ï¼Œæ¯”å¦‚è¦ä¿è¯ç±»å‹è½¬æ¢çš„åˆç†æ€§ã€‚</p><p>å¯¹äºç¬¦å·å¼•ç”¨çš„éªŒè¯ï¼Œæ¯”å¦‚æ ¡éªŒç¬¦å·å¼•ç”¨ä¸­é€šè¿‡å…¨é™å®šåæ˜¯å¦èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ç±»ï¼Ÿæ ¡éªŒç¬¦å·å¼•ç”¨ä¸­çš„è®¿é—®æ€§ï¼ˆprivateï¼Œpublic ç­‰ï¼‰æ˜¯å¦å¯è¢«å½“å‰ç±»è®¿é—®ï¼Ÿ</p><h4 id="å‡†å¤‡"><a class="header-anchor" href="#å‡†å¤‡">#</a>å‡†å¤‡</h4><p>ä¸»è¦æ˜¯ä¸ºç±»å˜é‡ï¼ˆæ³¨æ„ï¼Œä¸æ˜¯å®ä¾‹å˜é‡ï¼‰åˆ†é…å†…å­˜ï¼Œå¹¶ä¸”èµ‹äºˆåˆå€¼ã€‚</p><p>ç‰¹åˆ«éœ€è¦æ³¨æ„ï¼Œåˆå€¼ï¼Œä¸æ˜¯ä»£ç ä¸­å…·ä½“å†™çš„åˆå§‹åŒ–çš„å€¼ï¼Œè€Œæ˜¯ Java è™šæ‹Ÿæœºæ ¹æ®ä¸åŒå˜é‡ç±»å‹çš„é»˜è®¤åˆå§‹å€¼ã€‚</p><p>æ¯”å¦‚ 8 ç§åŸºæœ¬ç±»å‹çš„åˆå€¼ï¼Œé»˜è®¤ä¸º 0ï¼›å¼•ç”¨ç±»å‹çš„åˆå€¼åˆ™ä¸º nullï¼›å¸¸é‡çš„åˆå€¼å³ä¸ºä»£ç ä¸­è®¾ç½®çš„å€¼ï¼Œfinal static tmp = 456ï¼Œ é‚£ä¹ˆè¯¥é˜¶æ®µ tmp çš„åˆå€¼å°±æ˜¯ 456</p><h4 id="è§£æ"><a class="header-anchor" href="#è§£æ">#</a>è§£æ</h4><p>å°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹ã€‚</p><p>ä¸¤ä¸ªé‡ç‚¹ï¼š</p><p>ç¬¦å·å¼•ç”¨ã€‚å³ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²ç»™å‡ºäº†ä¸€äº›èƒ½å¤Ÿå”¯ä¸€æ€§è¯†åˆ«ä¸€ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªå˜é‡ï¼Œä¸€ä¸ªç±»çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>ç›´æ¥å¼•ç”¨ã€‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæˆ–è€…ä¸€ä¸ªåç§»é‡ã€‚æ¯”å¦‚ç±»æ–¹æ³•ï¼Œç±»å˜é‡çš„ç›´æ¥å¼•ç”¨æ˜¯æŒ‡å‘æ–¹æ³•åŒºçš„æŒ‡é’ˆï¼›è€Œå®ä¾‹æ–¹æ³•ï¼Œå®ä¾‹å˜é‡çš„ç›´æ¥å¼•ç”¨åˆ™æ˜¯ä»å®ä¾‹çš„å¤´æŒ‡é’ˆå¼€å§‹ç®—èµ·åˆ°è¿™ä¸ªå®ä¾‹å˜é‡ä½ç½®çš„åç§»é‡</p><p>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œç°åœ¨è°ƒç”¨æ–¹æ³• hello()ï¼Œè¿™ä¸ªæ–¹æ³•çš„åœ°å€æ˜¯ 1234567ï¼Œé‚£ä¹ˆ hello å°±æ˜¯ç¬¦å·å¼•ç”¨ï¼Œ1234567 å°±æ˜¯ç›´æ¥å¼•ç”¨ã€‚</p><p>åœ¨è§£æé˜¶æ®µï¼Œè™šæ‹Ÿæœºä¼šæŠŠæ‰€æœ‰çš„ç±»åï¼Œæ–¹æ³•åï¼Œå­—æ®µåè¿™äº›ç¬¦å·å¼•ç”¨æ›¿æ¢ä¸ºå…·ä½“çš„å†…å­˜åœ°å€æˆ–åç§»é‡ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥å¼•ç”¨ã€‚</p><h4 id="åˆå§‹åŒ–"><a class="header-anchor" href="#åˆå§‹åŒ–">#</a>åˆå§‹åŒ–</h4><p>è¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯å¯¹ç±»å˜é‡åˆå§‹åŒ–ï¼Œæ˜¯æ‰§è¡Œç±»æ„é€ å™¨çš„è¿‡ç¨‹ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œåªå¯¹ static ä¿®é¥°çš„å˜é‡æˆ–è¯­å¥è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>å¦‚æœåˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå…¶çˆ¶ç±»å°šæœªåˆå§‹åŒ–ï¼Œåˆ™ä¼˜å…ˆåˆå§‹åŒ–å…¶çˆ¶ç±»ã€‚</p><p>å¦‚æœåŒæ—¶åŒ…å«å¤šä¸ªé™æ€å˜é‡å’Œé™æ€ä»£ç å—ï¼Œåˆ™æŒ‰ç…§è‡ªä¸Šè€Œä¸‹çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚</p><h3 id="classloader"><a class="header-anchor" href="#classloader">#</a>ClassLoader</h3><p>å®ƒæ˜¯ç”¨æ¥åŠ è½½ Class çš„ã€‚å®ƒè´Ÿè´£å°† Class çš„å­—èŠ‚ç å½¢å¼è½¬æ¢æˆå†…å­˜å½¢å¼çš„ Class å¯¹è±¡ã€‚å­—èŠ‚ç å¯ä»¥æ¥è‡ªäºç£ç›˜æ–‡ä»¶ _.classï¼Œä¹Ÿå¯ä»¥æ˜¯ jar åŒ…é‡Œçš„ _.classï¼Œä¹Ÿå¯ä»¥æ¥è‡ªè¿œç¨‹æœåŠ¡å™¨æä¾›çš„å­—èŠ‚æµï¼Œå­—èŠ‚ç çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—èŠ‚æ•°ç»„ []byteï¼Œå®ƒæœ‰ç‰¹å®šçš„å¤æ‚çš„å†…éƒ¨æ ¼å¼ã€‚</p><p>JVM è¿è¡Œå®ä¾‹ä¸­ä¼šå­˜åœ¨å¤šä¸ª ClassLoaderï¼Œä¸åŒçš„ ClassLoader ä¼šä»ä¸åŒçš„åœ°æ–¹åŠ è½½å­—èŠ‚ç æ–‡ä»¶ã€‚å®ƒå¯ä»¥ä»ä¸åŒçš„æ–‡ä»¶ç›®å½•åŠ è½½ï¼Œä¹Ÿå¯ä»¥ä»ä¸åŒçš„ jar æ–‡ä»¶ä¸­åŠ è½½ï¼Œä¹Ÿå¯ä»¥ä»ç½‘ç»œä¸Šä¸åŒçš„é™æ€æ–‡ä»¶æœåŠ¡å™¨æ¥ä¸‹è½½å­—èŠ‚ç å†åŠ è½½ã€‚</p><h4 id="bootstrapclassloader"><a class="header-anchor" href="#bootstrapclassloader">#</a>BootstrapClassLoader</h4><p>å¯åŠ¨ç±»åŠ è½½å™¨ï¼šè´Ÿè´£åŠ è½½ JVM è¿è¡Œæ—¶æ ¸å¿ƒç±»,åŠ è½½ System.getProperty(â€œsun.boot.class.pathâ€)æ‰€æŒ‡å®šçš„è·¯å¾„æˆ– jar</p><h4 id="extensionclassloader"><a class="header-anchor" href="#extensionclassloader">#</a>ExtensionClassLoader</h4><p>æ‹“å±•ç±»åŠ è½½å™¨ï¼šè´Ÿè´£åŠ è½½ JVM æ‰©å±•ç±»ï¼Œæ¯”å¦‚ swing ç³»åˆ—ã€å†…ç½®çš„ js å¼•æ“ã€xml è§£æå™¨ ç­‰ç­‰ï¼Œè¿™äº›åº“åé€šå¸¸ä»¥ javax å¼€å¤´ï¼Œå®ƒä»¬çš„ jar åŒ…ä½äº JAVAHOME/lib/rt.jar æ–‡ä»¶ä¸­.<br>åŠ è½½ System.getProperty(â€œjava.ext.dirsâ€)æ‰€æŒ‡å®šçš„è·¯å¾„æˆ– jarã€‚åœ¨ä½¿ç”¨ Java è¿è¡Œç¨‹åºæ—¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå…¶æœç´¢è·¯å¾„ï¼Œä¾‹å¦‚ï¼šjava -Djava.ext.dirs=d:\projects\testproj\classes HelloWorldã€‚</p><h4 id="appclassloader"><a class="header-anchor" href="#appclassloader">#</a>AppClassLoader</h4><p>ç”¨æˆ·ç±»åŠ è½½å™¨ï¼šå®ƒä¼šåŠ è½½ Classpath ç¯å¢ƒå˜é‡é‡Œå®šä¹‰çš„è·¯å¾„ä¸­çš„ jar åŒ…å’Œç›®å½•ã€‚æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ä»£ç ä»¥åŠä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ jar åŒ…é€šå¸¸éƒ½æ˜¯ç”±å®ƒæ¥åŠ è½½çš„ã€‚<br>åŠ è½½ System.getProperty(â€œjava.class.pathâ€)æ‰€æŒ‡å®šçš„è·¯å¾„æˆ– jarã€‚åœ¨ä½¿ç”¨ Java è¿è¡Œç¨‹åºæ—¶ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Š-cp æ¥è¦†ç›–åŸæœ‰çš„ Classpath è®¾ç½®ï¼Œä¾‹å¦‚ï¼š java -cp ./lavasoft/classes HelloWorld</p><h4 id="urlclassloader"><a class="header-anchor" href="#urlclassloader">#</a>URLClassLoader</h4><p>é‚£äº›ä½äºç½‘ç»œä¸Šé™æ€æ–‡ä»¶æœåŠ¡å™¨æä¾›çš„ jar åŒ…å’Œ class æ–‡ä»¶ï¼Œjdk å†…ç½®äº†ä¸€ä¸ª URLClassLoaderï¼Œç”¨æˆ·åªéœ€è¦ä¼ é€’è§„èŒƒçš„ç½‘ç»œè·¯å¾„ç»™æ„é€ å™¨ï¼Œå°±å¯ä»¥ä½¿ç”¨ URLClassLoader æ¥åŠ è½½è¿œç¨‹ç±»åº“äº†ã€‚URLClassLoader ä¸ä½†å¯ä»¥åŠ è½½è¿œç¨‹ç±»åº“ï¼Œè¿˜å¯ä»¥åŠ è½½æœ¬åœ°è·¯å¾„çš„ç±»åº“ï¼Œå–å†³äºæ„é€ å™¨ä¸­ä¸åŒçš„åœ°å€å½¢å¼ã€‚ExtensionClassLoader å’Œ AppClassLoader éƒ½æ˜¯ URLClassLoader çš„å­ç±»ï¼Œå®ƒä»¬éƒ½æ˜¯ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿé‡ŒåŠ è½½ç±»åº“ã€‚</p><h4 id="å…³äº-jvm-ç±»çš„åŠ è½½"><a class="header-anchor" href="#å…³äº-jvm-ç±»çš„åŠ è½½">#</a>å…³äº jvm ç±»çš„åŠ è½½</h4><p>åœ¨ Java ä¸­ï¼Œç±»è£…è½½å™¨æŠŠä¸€ä¸ªç±»è£…å…¥ Java è™šæ‹Ÿæœºä¸­ï¼Œè¦ç»è¿‡ä¸‰ä¸ªæ­¥éª¤æ¥å®Œæˆï¼šè£…è½½ã€é“¾æ¥å’Œåˆå§‹åŒ–ï¼Œå…¶ä¸­é“¾æ¥åˆå¯ä»¥åˆ†æˆæ ¡éªŒã€å‡†å¤‡å’Œè§£æä¸‰æ­¥ï¼Œé™¤äº†è§£æå¤–ï¼Œå…¶å®ƒæ­¥éª¤æ˜¯ä¸¥æ ¼æŒ‰ç…§é¡ºåºå®Œæˆçš„ï¼Œå„ä¸ªæ­¥éª¤çš„ä¸»è¦å·¥ä½œå¦‚ä¸‹ï¼š</p><p>è£…è½½ï¼šæŸ¥æ‰¾å’Œå¯¼å…¥ç±»æˆ–æ¥å£çš„äºŒè¿›åˆ¶æ•°æ®ï¼› //byte[]</p><p>é“¾æ¥ï¼šæ‰§è¡Œä¸‹é¢çš„æ ¡éªŒã€å‡†å¤‡å’Œè§£ææ­¥éª¤ï¼Œå…¶ä¸­è§£ææ­¥éª¤æ˜¯å¯ä»¥é€‰æ‹©çš„ï¼›//åŒ…å«äº†è™šæ–¹æ³•è¡¨çš„åˆå§‹åŒ–</p><p>æ ¡éªŒï¼šæ£€æŸ¥å¯¼å…¥ç±»æˆ–æ¥å£çš„äºŒè¿›åˆ¶æ•°æ®çš„æ­£ç¡®æ€§ï¼› //é­”æ•° babycafe?</p><p>å‡†å¤‡ï¼šç»™ç±»çš„é™æ€å˜é‡åˆ†é…å¹¶åˆå§‹åŒ–å­˜å‚¨ç©ºé—´ï¼› //åˆ†é…å†…å­˜ç©ºé—´</p><p>è§£æï¼šå°†ç¬¦å·å¼•ç”¨è½¬æˆç›´æ¥å¼•ç”¨ï¼›</p><p>åˆå§‹åŒ–ï¼šæ¿€æ´»ç±»çš„é™æ€å˜é‡çš„åˆå§‹åŒ– Java ä»£ç å’Œé™æ€ Java ä»£ç å—ã€‚<br>//å¯¹åº”çš„ä¸º<clinit>()æ–¹æ³•,è¯¥æ–¹æ³•åœ¨å¤šçº¿ç¯å¢ƒä¸­å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶å»åˆå§‹åŒ–ä¸€ä¸ªç±»,é‚£ä¹ˆä¹…åªæœ‰ä¸€ä¸ªçº¿ç¨‹å»æ‰§è¡Œã€‚<br>//è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å†™å•ä¾‹æ—¶,ä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»äº†,ä¿è¯äº†å†…éƒ¨é‡æ’åºå¯¹å¤–éƒ¨çº¿ç¨‹æ—¶ä¸å¯è§çš„,å…·ä½“å¯ä»¥è§å¯¹ DCL çš„åˆ†æ</p><h3 id="èŒƒå‹"><a class="header-anchor" href="#èŒƒå‹">#</a>èŒƒå‹</h3><p>Java çš„æ³›å‹åªå­˜åœ¨äºç¼–è¯‘æœŸï¼Œä¸€æ—¦ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œæ³›å‹å°†è¢«æ“¦é™¤ã€‚æ³›å‹çš„ä½œç”¨åœ¨äºåœ¨ç¼–è¯‘é˜¶æ®µä¿è¯æˆ‘ä»¬ä½¿ç”¨äº†æ­£ç¡®çš„ç±»å‹ï¼Œå¹¶ä¸”ç”±ç¼–è¯‘å™¨å¸®æˆ‘ä»¬åŠ å…¥è½¬å‹åŠ¨ä½œï¼Œä½¿å¾—è½¬å‹æ˜¯ä¸éœ€è¦å…³å¿ƒä¸”å®‰å…¨çš„ã€‚</p><h3 id="gc"><a class="header-anchor" href="#gc">#</a>GC</h3><h4 id="å¯ä»¥ä½œä¸º-gc-roots-å¯¹è±¡"><a class="header-anchor" href="#å¯ä»¥ä½œä¸º-gc-roots-å¯¹è±¡">#</a>å¯ä»¥ä½œä¸º GC Roots å¯¹è±¡</h4><ol><li>è™šæ‹Ÿæœºæ ˆä¸­å±€éƒ¨å˜é‡è¡¨ä¸­å¼•ç”¨çš„å¯¹è±¡</li><li>æœ¬åœ°æ–¹æ³•æ ˆä¸­ native æ–¹æ³•å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­çš„å¸¸é‡å¼•ç”¨çš„å¯¹è±¡</li></ol><h4 id="å››ç§å¼•ç”¨ç±»å‹"><a class="header-anchor" href="#å››ç§å¼•ç”¨ç±»å‹">#</a>å››ç§å¼•ç”¨ç±»å‹</h4><p>å¼ºå¼•ç”¨ï¼šä½¿ç”¨ new ä¸€ä¸ªæ–°å¯¹è±¡çš„æ–¹å¼æ¥åˆ›å»ºå¼ºå¼•ç”¨ã€‚åªè¦å¼ºå¼•ç”¨è¿˜å­˜åœ¨ï¼Œåƒåœ¾æ”¶é›†å™¨æ°¸è¿œä¸ä¼šå›æ”¶æ‰è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚<br>è½¯å¼•ç”¨ï¼šä¸€äº›è¿˜æœ‰ç”¨ä½†å¹¶éå¿…é¡»çš„å¯¹è±¡ã€‚è½¯å¼•ç”¨å…³è”ç€çš„å¯¹è±¡ï¼Œåœ¨ç³»ç»Ÿè¦å‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ï¼Œä¼šæŠŠè¿™äº›å¯¹è±¡è¿›è¡Œåƒåœ¾å›æ”¶ã€‚<br>å¼±å¼•ç”¨ï¼šä¹Ÿæ˜¯æè¿°ä¸€äº›éå¿…é¡»å¯¹è±¡ï¼Œå¼ºåº¦æ¯”è½¯å¼•ç”¨æ›´å¼±ï¼Œåªè¦å‘ç”Ÿåƒåœ¾å›æ”¶ï¼Œå®ƒå°±ä¸€å®šä¼šè¢«å›æ”¶ã€‚<br>è™šå¼•ç”¨ï¼šåˆç§°å¹½çµå¼•ç”¨ã€å¹»å½±å¼•ç”¨ï¼Œæ˜¯æœ€å¼±çš„ä¸€ç§å¼•ç”¨ã€‚ä¸ºå¯¹è±¡è®¾ç½®è™šå¼•ç”¨çš„å”¯ä¸€ç›®çš„æ˜¯èƒ½åœ¨è¿™ä¸ªå¯¹è±¡è¢«å›æ”¶æ—¶ä¼šæ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚</p><h4 id="åƒåœ¾æ”¶é›†ç®—æ³•"><a class="header-anchor" href="#åƒåœ¾æ”¶é›†ç®—æ³•">#</a>åƒåœ¾æ”¶é›†ç®—æ³•</h4><ol><li>æ ‡è®° - æ¸…é™¤ç®—æ³•ï¼šé€‚ç”¨è€å¹´ä»£</li><li>æ ‡è®° - æ•´ç†ç®—æ³•ï¼šé€‚ç”¨è€å¹´ä»£</li><li>å¤åˆ¶ç®—æ³•ï¼šé€‚ç”¨å¹´è½»ä»£</li></ol><h3 id="çº¿ç¨‹æ± "><a class="header-anchor" href="#çº¿ç¨‹æ± ">#</a>çº¿ç¨‹æ± </h3><h4 id="å¥½å¤„"><a class="header-anchor" href="#å¥½å¤„">#</a>å¥½å¤„</h4><p>æˆ‘ä»¬çŸ¥é“ä¸ç”¨çº¿ç¨‹æ± çš„è¯ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½è¦é€šè¿‡ new Thread(xxRunnable).start()çš„æ–¹å¼æ¥åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹å°‘çš„è¯è¿™ä¸ä¼šæ˜¯é—®é¢˜ï¼Œè€ŒçœŸå®ç¯å¢ƒå¯èƒ½ä¼šå¼€å¯å¤šä¸ªçº¿ç¨‹è®©ç³»ç»Ÿå’Œç¨‹åºè¾¾åˆ°æœ€ä½³æ•ˆç‡ï¼Œå½“çº¿ç¨‹æ•°è¾¾åˆ°ä¸€å®šæ•°é‡å°±ä¼šè€—å°½ç³»ç»Ÿçš„ CPU å’Œå†…å­˜èµ„æºï¼Œä¹Ÿä¼šé€ æˆ GC é¢‘ç¹æ”¶é›†å’Œåœé¡¿ï¼Œå› ä¸ºæ¯æ¬¡åˆ›å»ºå’Œé”€æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æ˜¯è¦æ¶ˆè€—ç³»ç»Ÿèµ„æºçš„ï¼Œå¦‚æœä¸ºæ¯ä¸ªä»»åŠ¡éƒ½åˆ›å»ºçº¿ç¨‹è¿™æ— ç–‘æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ€§èƒ½ç“¶é¢ˆã€‚æ‰€ä»¥ï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¤ç”¨æå¤§èŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œå½“çº¿ç¨‹ä¸€æ®µæ—¶é—´ä¸å†æœ‰ä»»åŠ¡å¤„ç†æ—¶å®ƒä¹Ÿä¼šè‡ªåŠ¨é”€æ¯ï¼Œè€Œä¸ä¼šé•¿é©»å†…å­˜ã€‚</p><h4 id="å·¥ä½œæµç¨‹"><a class="header-anchor" href="#å·¥ä½œæµç¨‹">#</a>å·¥ä½œæµç¨‹</h4><ol><li>å¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å°äº corePoolSize æ—¶å°±ä¼šåˆ›å»ºæ–°çº¿ç¨‹ç›´æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li><li>å¦‚æœçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹å¤§äº corePoolSize æ—¶å°±ä¼šæš‚æ—¶æŠŠä»»åŠ¡å­˜å‚¨åˆ°å·¥ä½œé˜Ÿåˆ— workQueue ä¸­ç­‰å¾…æ‰§è¡Œã€‚</li><li>å¦‚æœå·¥ä½œé˜Ÿåˆ— workQueue ä¹Ÿæ»¡æ—¶ï¼Œå½“çº¿ç¨‹æ•°å°äºæœ€å¤§çº¿ç¨‹æ± æ•° maximumPoolSize æ—¶å°±ä¼šåˆ›å»ºæ–°çº¿ç¨‹æ¥å¤„ç†ï¼Œè€Œçº¿ç¨‹æ•°å¤§äºç­‰äºæœ€å¤§çº¿ç¨‹æ± æ•° maximumPoolSize æ—¶å°±ä¼šæ‰§è¡Œæ‹’ç»ç­–ç•¥ã€‚</li></ol><h4 id="åˆ†ç±»-2"><a class="header-anchor" href="#åˆ†ç±»-2">#</a>åˆ†ç±»</h4><ol><li><p>newFixedThreadPool<br>å›ºå®šçº¿ç¨‹æ± ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°å›ºå®šç›¸ç­‰ï¼Œè€Œç©ºé—²å­˜æ´»æ—¶é—´ä¸º 0 æ¯«ç§’ï¼Œè¯´æ˜æ­¤å‚æ•°ä¹Ÿæ— æ„ä¹‰ï¼Œå·¥ä½œé˜Ÿåˆ—ä¸ºæœ€å¤§ä¸º Integer.MAX_VALUE å¤§å°çš„é˜»å¡é˜Ÿåˆ—ã€‚å½“æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œå¦‚æœçº¿ç¨‹éƒ½å¾ˆå¿™ï¼Œå°±ä¼šä¸¢åˆ°å·¥ä½œé˜Ÿåˆ—ç­‰æœ‰ç©ºé—²çº¿ç¨‹æ—¶å†æ‰§è¡Œï¼Œé˜Ÿåˆ—æ»¡å°±æ‰§è¡Œé»˜è®¤çš„æ‹’ç»ç­–ç•¥ã€‚</p></li><li><p>newCachedThreadPool<br>å¸¦ç¼“å†²çº¿ç¨‹æ± ï¼Œä»æ„é€ çœ‹æ ¸å¿ƒçº¿ç¨‹æ•°ä¸º 0ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸º Integer æœ€å¤§å€¼å¤§å°ï¼Œè¶…è¿‡ 0 ä¸ªçš„ç©ºé—²çº¿ç¨‹åœ¨ 60 ç§’åé”€æ¯ï¼ŒSynchronousQueue è¿™æ˜¯ä¸€ä¸ªç›´æ¥æäº¤çš„é˜Ÿåˆ—ï¼Œæ„å‘³ç€æ¯ä¸ªæ–°ä»»åŠ¡éƒ½ä¼šæœ‰çº¿ç¨‹æ¥æ‰§è¡Œï¼Œå¦‚æœçº¿ç¨‹æ± æœ‰å¯ç”¨çº¿ç¨‹åˆ™æ‰§è¡Œä»»åŠ¡ï¼Œæ²¡æœ‰çš„è¯å°±åˆ›å»ºä¸€ä¸ªæ¥æ‰§è¡Œï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸ç¡®å®šï¼Œä¸€èˆ¬å»ºè®®æ‰§è¡Œé€Ÿåº¦è¾ƒå¿«è¾ƒå°çš„çº¿ç¨‹ï¼Œä¸ç„¶è¿™ä¸ªæœ€å¤§çº¿ç¨‹æ± è¾¹ç•Œè¿‡å¤§å®¹æ˜“é€ æˆå†…å­˜æº¢å‡ºã€‚</p></li><li><p>newSingleThreadExecutor<br>å•çº¿ç¨‹çº¿ç¨‹æ± ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°å‡ä¸º 1ï¼Œç©ºé—²çº¿ç¨‹å­˜æ´» 0 æ¯«ç§’åŒæ ·æ— æ„æ€ï¼Œæ„å‘³ç€æ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå¤šä½™çš„å…ˆå­˜å‚¨åˆ°å·¥ä½œé˜Ÿåˆ—ï¼Œä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œï¼Œä¿è¯äº†çº¿ç¨‹çš„é¡ºåºæ‰§è¡Œã€‚</p></li><li><p>newScheduledThreadPool<br>è°ƒåº¦çº¿ç¨‹æ± ï¼Œå³æŒ‰ä¸€å®šçš„å‘¨æœŸæ‰§è¡Œä»»åŠ¡ï¼Œå³å®šæ—¶ä»»åŠ¡ï¼Œå¯¹ ThreadPoolExecutor è¿›è¡Œäº†åŒ…è£…è€Œå·²ã€‚</p></li></ol><h4 id="æ‹’ç»ç­–ç•¥"><a class="header-anchor" href="#æ‹’ç»ç­–ç•¥">#</a>æ‹’ç»ç­–ç•¥</h4><ol><li>AbortPolicy<br>ç®€å•ç²—æš´ï¼Œç›´æ¥æŠ›å‡ºæ‹’ç»å¼‚å¸¸ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤çš„æ‹’ç»ç­–ç•¥ã€‚</li><li>CallerRunsPolicy<br>å¦‚æœçº¿ç¨‹æ± æœªå…³é—­ï¼Œåˆ™ä¼šåœ¨è°ƒç”¨è€…çº¿ç¨‹ä¸­ç›´æ¥æ‰§è¡Œæ–°ä»»åŠ¡ï¼Œè¿™ä¼šå¯¼è‡´ä¸»çº¿ç¨‹æäº¤çº¿ç¨‹æ€§èƒ½å˜æ…¢ã€‚</li><li>DiscardPolicy<br>ä»æ–¹æ³•çœ‹æ²¡åšä»»åŠ¡æ“ä½œï¼Œå³è¡¨ç¤ºä¸å¤„ç†æ–°ä»»åŠ¡ï¼Œå³ä¸¢å¼ƒã€‚</li><li>DiscardOldestPolicy<br>æŠ›å¼ƒæœ€è€çš„ä»»åŠ¡ï¼Œå°±æ˜¯ä»é˜Ÿåˆ—å–å‡ºæœ€è€çš„ä»»åŠ¡ç„¶åæ”¾å…¥æ–°çš„ä»»åŠ¡è¿›è¡Œæ‰§è¡Œã€‚</li></ol><h3 id="å¤šæ€"><a class="header-anchor" href="#å¤šæ€">#</a>å¤šæ€</h3><p>é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€<br>å¤šæ€çš„å®šä¹‰ï¼šæŒ‡å…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹åŒä¸€æ¶ˆæ¯åšå‡ºå“åº”ã€‚å³åŒä¸€æ¶ˆæ¯å¯ä»¥æ ¹æ®å‘é€å¯¹è±¡çš„ä¸åŒè€Œé‡‡ç”¨å¤šç§ä¸åŒçš„è¡Œä¸ºæ–¹å¼ã€‚ï¼ˆå‘é€æ¶ˆæ¯å°±æ˜¯å‡½æ•°è°ƒç”¨ï¼‰<br>å®ç°å¤šæ€çš„æŠ€æœ¯ç§°ä¸ºï¼šåŠ¨æ€ç»‘å®šï¼ˆdynamic bindingï¼‰ï¼Œæ˜¯æŒ‡åœ¨æ‰§è¡ŒæœŸé—´åˆ¤æ–­æ‰€å¼•ç”¨å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œæ ¹æ®å…¶å®é™…çš„ç±»å‹è°ƒç”¨å…¶ç›¸åº”çš„æ–¹æ³•ã€‚<br>å¤šæ€çš„ä½œç”¨ï¼šæ¶ˆé™¤ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚<br>ç°å®ä¸­ï¼Œå…³äºå¤šæ€çš„ä¾‹å­ä¸èƒœæšä¸¾ã€‚æ¯”æ–¹è¯´æŒ‰ä¸‹ F1 é”®è¿™ä¸ªåŠ¨ä½œï¼Œå¦‚æœå½“å‰åœ¨ Flash ç•Œé¢ä¸‹å¼¹å‡ºçš„å°±æ˜¯ AS 3 çš„å¸®åŠ©æ–‡æ¡£ï¼›å¦‚æœå½“å‰åœ¨ Word ä¸‹å¼¹å‡ºçš„å°±æ˜¯ Word å¸®åŠ©ï¼›åœ¨ Windows ä¸‹å¼¹å‡ºçš„å°±æ˜¯ Windows å¸®åŠ©å’Œæ”¯æŒã€‚åŒä¸€ä¸ªäº‹ä»¶å‘ç”Ÿåœ¨ä¸åŒçš„å¯¹è±¡ä¸Šä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚<br>ä¸‹é¢æ˜¯å¤šæ€å­˜åœ¨çš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼Œè¦æ±‚å¤§å®¶åšæ¢¦æ—¶éƒ½èƒ½èƒŒå‡ºæ¥ï¼</p><p>å¤šæ€å­˜åœ¨çš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶<br>ä¸€ã€è¦æœ‰ç»§æ‰¿ï¼›<br>äºŒã€è¦æœ‰é‡å†™ï¼›<br>ä¸‰ã€çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ã€‚</p><h2 id="epoll"><a class="header-anchor" href="#epoll">#</a>epoll</h2><p>1ã€æ”¯æŒä¸€ä¸ªè¿›ç¨‹æ‰€èƒ½æ‰“å¼€çš„æœ€å¤§è¿æ¥æ•°</p><p>selectï¼šå•ä¸ªè¿›ç¨‹æ‰€èƒ½æ‰“å¼€çš„æœ€å¤§è¿æ¥æ•°æœ‰ FD_SETSIZE å®å®šä¹‰ï¼Œå…¶å¤§å°æ˜¯ 32 ä¸ªæ•´æ•°çš„å¤§å°ï¼ˆåœ¨ 32 ä½çš„æœºå™¨ä¸Šï¼Œå¤§å°å°±æ˜¯ 3232ï¼ŒåŒç† 64 ä½æœºå™¨ä¸Š FD_SETSIZE ä¸º 3264ï¼‰ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥å¯¹è¿›è¡Œä¿®æ”¹ï¼Œç„¶åé‡æ–°ç¼–è¯‘å†…æ ¸ï¼Œä½†æ˜¯æ€§èƒ½å¯èƒ½ä¼šå—åˆ°å½±å“ï¼Œè¿™éœ€è¦è¿›ä¸€æ­¥çš„æµ‹è¯•ã€‚</p><p>pollï¼špoll æœ¬è´¨ä¸Šå’Œ select æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰æœ€å¤§è¿æ¥æ•°çš„é™åˆ¶ï¼ŒåŸå› æ˜¯å®ƒæ˜¯åŸºäºé“¾è¡¨æ¥å­˜å‚¨çš„ã€‚</p><p>epollï¼šè™½ç„¶è¿æ¥æ•°æœ‰ä¸Šé™ï¼Œä½†æ˜¯å¾ˆå¤§ï¼Œ1G å†…å­˜çš„æœºå™¨ä¸Šå¯ä»¥æ‰“å¼€ 10 ä¸‡å·¦å³çš„è¿æ¥ï¼Œ2G å†…å­˜çš„æœºå™¨å¯ä»¥æ‰“å¼€ 20 ä¸‡å·¦å³çš„è¿æ¥ã€‚</p><p>2ã€FD å‰§å¢åå¸¦æ¥çš„ IO æ•ˆç‡é—®é¢˜</p><p>selectï¼šå› ä¸ºæ¯æ¬¡è°ƒç”¨æ—¶éƒ½ä¼šå¯¹è¿æ¥è¿›è¡Œçº¿æ€§éå†ï¼Œæ‰€ä»¥éšç€ FD çš„å¢åŠ ä¼šé€ æˆéå†é€Ÿåº¦æ…¢çš„â€œçº¿æ€§ä¸‹é™æ€§èƒ½é—®é¢˜â€ã€‚</p><p>pollï¼šåŒä¸Š</p><p>epollï¼šå› ä¸º epoll å†…æ ¸ä¸­å®ç°æ˜¯æ ¹æ®æ¯ä¸ª fd ä¸Šçš„ callback å‡½æ•°æ¥å®ç°çš„ï¼Œåªæœ‰æ´»è·ƒçš„ socket æ‰ä¼šä¸»åŠ¨è°ƒç”¨ callbackï¼Œæ‰€ä»¥åœ¨æ´»è·ƒ socket è¾ƒå°‘çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ epoll æ²¡æœ‰å‰é¢ä¸¤è€…çš„çº¿æ€§ä¸‹é™çš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯æ‰€æœ‰ socket éƒ½å¾ˆæ´»è·ƒçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚</p><p>3ã€ æ¶ˆæ¯ä¼ é€’æ–¹å¼</p><p>selectï¼šå†…æ ¸éœ€è¦å°†æ¶ˆæ¯ä¼ é€’åˆ°ç”¨æˆ·ç©ºé—´ï¼Œéƒ½éœ€è¦å†…æ ¸æ‹·è´åŠ¨ä½œ</p><p>pollï¼šåŒä¸Š</p><p>epollï¼šepoll é€šè¿‡å†…æ ¸å’Œç”¨æˆ·ç©ºé—´å…±äº«ä¸€å—å†…å­˜æ¥å®ç°çš„ã€‚</p><p>æ€»ç»“ï¼š</p><p>ç»¼ä¸Šï¼Œåœ¨é€‰æ‹© selectï¼Œpollï¼Œepoll æ—¶è¦æ ¹æ®å…·ä½“çš„ä½¿ç”¨åœºåˆä»¥åŠè¿™ä¸‰ç§æ–¹å¼çš„è‡ªèº«ç‰¹ç‚¹ã€‚</p><p>1ã€è¡¨é¢ä¸Šçœ‹ epoll çš„æ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯åœ¨è¿æ¥æ•°å°‘å¹¶ä¸”è¿æ¥éƒ½ååˆ†æ´»è·ƒçš„æƒ…å†µä¸‹ï¼Œselect å’Œ poll çš„æ€§èƒ½å¯èƒ½æ¯” epoll å¥½ï¼Œæ¯•ç«Ÿ epoll çš„é€šçŸ¥æœºåˆ¶éœ€è¦å¾ˆå¤šå‡½æ•°å›è°ƒã€‚</p><p>selectï¼Œpoll å®ç°éœ€è¦è‡ªå·±ä¸æ–­è½®è¯¢æ‰€æœ‰ fd é›†åˆï¼Œç›´åˆ°è®¾å¤‡å°±ç»ªï¼ŒæœŸé—´å¯èƒ½è¦ç¡çœ å’Œå”¤é†’å¤šæ¬¡äº¤æ›¿ã€‚è€Œ epoll å…¶å®ä¹Ÿéœ€è¦è°ƒç”¨ epoll_wait ä¸æ–­è½®è¯¢å°±ç»ªé“¾è¡¨ï¼ŒæœŸé—´ä¹Ÿå¯èƒ½å¤šæ¬¡ç¡çœ å’Œå”¤é†’äº¤æ›¿ï¼Œä½†æ˜¯å®ƒæ˜¯è®¾å¤‡å°±ç»ªæ—¶ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ï¼ŒæŠŠå°±ç»ª fd æ”¾å…¥å°±ç»ªé“¾è¡¨ä¸­ï¼Œå¹¶å”¤é†’åœ¨ epoll_wait ä¸­è¿›å…¥ç¡çœ çš„è¿›ç¨‹ã€‚è™½ç„¶éƒ½è¦ç¡çœ å’Œäº¤æ›¿ï¼Œä½†æ˜¯ select å’Œ poll åœ¨â€œé†’ç€â€çš„æ—¶å€™è¦éå†æ•´ä¸ª fd é›†åˆï¼Œè€Œ epoll åœ¨â€œé†’ç€â€çš„æ—¶å€™åªè¦åˆ¤æ–­ä¸€ä¸‹å°±ç»ªé“¾è¡¨æ˜¯å¦ä¸ºç©ºå°±è¡Œäº†ï¼Œè¿™èŠ‚çœäº†å¤§é‡çš„ CPU æ—¶é—´ã€‚è¿™å°±æ˜¯å›è°ƒæœºåˆ¶å¸¦æ¥çš„æ€§èƒ½æå‡ã€‚</p><p>2ã€select ä½æ•ˆæ˜¯å› ä¸ºæ¯æ¬¡å®ƒéƒ½éœ€è¦è½®è¯¢ã€‚ä½†ä½æ•ˆä¹Ÿæ˜¯ç›¸å¯¹çš„ï¼Œè§†æƒ…å†µè€Œå®šï¼Œä¹Ÿå¯é€šè¿‡è‰¯å¥½çš„è®¾è®¡æ”¹å–„</p><p>selectï¼Œpoll æ¯æ¬¡è°ƒç”¨éƒ½è¦æŠŠ fd é›†åˆä»ç”¨æˆ·æ€å¾€å†…æ ¸æ€æ‹·è´ä¸€æ¬¡ï¼Œå¹¶ä¸”è¦æŠŠ current å¾€è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­æŒ‚ä¸€æ¬¡ï¼Œè€Œ epoll åªè¦ä¸€æ¬¡æ‹·è´ï¼Œè€Œä¸”æŠŠ current å¾€ç­‰å¾…é˜Ÿåˆ—ä¸ŠæŒ‚ä¹ŸåªæŒ‚ä¸€æ¬¡ï¼ˆåœ¨ epoll_wait çš„å¼€å§‹ï¼Œæ³¨æ„è¿™é‡Œçš„ç­‰å¾…é˜Ÿåˆ—å¹¶ä¸æ˜¯è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ï¼Œåªæ˜¯ä¸€ä¸ª epoll å†…éƒ¨å®šä¹‰çš„ç­‰å¾…é˜Ÿåˆ—ï¼‰ã€‚è¿™ä¹Ÿèƒ½èŠ‚çœä¸å°‘çš„å¼€é”€ã€‚</p><h2 id="è®¡ç®—æœºç½‘ç»œ"><a class="header-anchor" href="#è®¡ç®—æœºç½‘ç»œ">#</a>è®¡ç®—æœºç½‘ç»œ</h2><h3 id="æ•°æ®é“¾è·¯å±‚"><a class="header-anchor" href="#æ•°æ®é“¾è·¯å±‚">#</a>æ•°æ®é“¾è·¯å±‚</h3><h4 id="å°è£…æˆå¸§"><a class="header-anchor" href="#å°è£…æˆå¸§">#</a>å°è£…æˆå¸§</h4><p>å°è£…æˆå¸§ï¼ˆframingï¼‰å°±æ˜¯åœ¨ä¸€æ®µæ•°æ®çš„å‰ååˆ†åˆ«æ·»åŠ é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œè¿™æ ·å°±æ„æˆäº†ä¸€ä¸ªå¸§ã€‚æ¥æ”¶ç«¯åœ¨æ”¶åˆ°ç‰©ç†å±‚ä¸Šäº¤çš„æ¯”ç‰¹æµåï¼Œå°±èƒ½æ ¹æ®é¦–éƒ¨å’Œå°¾éƒ¨çš„æ ‡è®°ï¼Œä»æ¯”ç‰¹æµä¸­è¯†åˆ«å¸§çš„å¼€å§‹å’Œç»“æŸã€‚</p><p>é¦–éƒ¨å’Œå°¾éƒ¨çš„ä¸€ä¸ªé‡è¦ä½œç”¨å°±æ˜¯è¿›è¡Œå¸§å®šç•Œï¼ˆå³ç¡®å®šå¸§çš„ç•Œé™ï¼‰ã€‚æ­¤å¤–ï¼Œé¦–éƒ¨å’Œå°¾éƒ¨è¿˜åŒ…æ‹¬è®¸å¤šå¿…è¦çš„æ§åˆ¶ä¿¡æ¯ã€‚</p><p>ä¸ºäº†æé«˜å¸§çš„ä¼ è¾“æ•ˆç‡ï¼Œåº”å½“ä½¿å¸§çš„æ•°æ®éƒ¨åˆ†é•¿åº¦å°½é‡å¤§äºé¦–éƒ¨å’Œå°¾éƒ¨çš„é•¿åº¦ã€‚<br>æœ€å¤§ä¼ è¾“å•å…ƒ MTUï¼ˆMaximum Transfer Unitï¼‰ï¼šå¸§æ•°æ®éƒ¨åˆ†é•¿åº¦ä¸Šé™ã€‚</p><p>æ§åˆ¶å­—ç¬¦<code>SOH</code>ï¼ˆstart of headerï¼‰æ”¾åœ¨ä¸€å¸§çš„æœ€å‰é¢ï¼Œè¡¨ç¤ºå¸§çš„é¦–éƒ¨å¼€å§‹ã€‚å¦ä¸€ä¸ªæ§åˆ¶å­—ç¬¦<code>EOT</code>ï¼ˆend of transmissionï¼‰è¡¨ç¤ºå¸§çš„ç»“æŸã€‚æ³¨æ„ï¼š<code>SOH</code>å’Œ<code>EOT</code>éƒ½åªæ˜¯æ§åˆ¶å­—ç¬¦çš„åç§°ï¼Œä»–ä»¬çš„åå…­è¿›åˆ¶ç¼–ç åˆ†åˆ«æ˜¯ 01ï¼ˆäºŒè¿›åˆ¶æ˜¯ 00000001ï¼‰å’Œ 04ï¼ˆäºŒè¿›åˆ¶æ˜¯ 00000100ï¼‰ã€‚SOHã€EOT å¹¶ä¸æ˜¯ S O H E O T è¿™å‡ ä¸ªå­—ç¬¦ï¼Œåªæ˜¯åå­—è€Œå·²ã€‚</p><h4 id="é€æ˜ä¼ è¾“"><a class="header-anchor" href="#é€æ˜ä¼ è¾“">#</a>é€æ˜ä¼ è¾“</h4><p>ä¸ºäº†è§£å†³é€æ˜ä¼ è¾“é—®é¢˜ï¼Œå­—èŠ‚å¡«å……æ³•æˆ–å­—ç¬¦å¡«å……ï¼šåœ¨æ§åˆ¶å­—ç¬¦ SOHã€EOT çš„å‰é¢æ’å…¥ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ ESCï¼ˆå…¶åå…­è¿›åˆ¶ç¼–ç æ˜¯ 1Bï¼ŒäºŒè¿›åˆ¶æ˜¯ 00011011ï¼‰ã€‚è€Œæ¥æ”¶ç«¯çš„æ•°æ®é“¾è·¯å±‚åœ¨æŠŠæ•°æ®é€å¾€ç½‘ç»œå±‚ä¹‹å‰åˆ é™¤è¿™ä¸ªæ’å…¥çš„è½¬ä¹‰å­—ç¬¦ã€‚</p><h4 id="å·®é”™æ£€æµ‹"><a class="header-anchor" href="#å·®é”™æ£€æµ‹">#</a>å·®é”™æ£€æµ‹</h4><p>ç›®å‰åœ¨æ•°æ®é“¾è·¯å±‚å¹¿æ³›ä½¿ç”¨äº†å¾ªç¯å†—ä½™æ£€éªŒï¼ˆCRCï¼‰çš„æ£€é”™æŠ€æœ¯ã€‚</p><p>åœ¨æ•°æ®é“¾è·¯å±‚çš„ CRC æ£€éªŒéƒ½æ˜¯ç”¨ç¡¬ä»¶å®Œæˆçš„ï¼Œå¤„ç†å¾ˆè¿…é€Ÿï¼Œå› æ­¤ä¸ä¼šå»¶è¯¯æ•°æ®çš„ä¼ è¾“ã€‚</p><p>ä¸ºä»€ä¹ˆæ•°æ®é“¾è·¯å±‚è¦ä»¥å¸§ä¸ºå•ä½æ¥ä¼ é€æ•°æ®å‘¢ï¼Ÿå› ä¸ºå¦‚æœä¸ä»¥å¸§ä¸ºå•ä½ï¼Œå°±æ— æ³•åŠ å…¥å†—ä½™ç æ¥è¿›è¡Œå·®é”™æ£€éªŒã€‚</p><p>ç°åœ¨çš„äº’è”ç½‘é‡‡ç”¨äº†åŒºåˆ«å¯¹å¾…çš„æ–¹æ³•ï¼š</p><p>å¯¹äºé€šä¿¡è´¨é‡è‰¯å¥½çš„æœ‰çº¿ä¼ è¾“é“¾è·¯ï¼Œæ•°æ®é“¾è·¯å±‚åè®®ä¸ä½¿ç”¨ç¡®è®¤å’Œé‡ä¼ æœºåˆ¶ï¼Œå³ä¸è¦æ±‚æ•°æ®é“¾è·¯å±‚å‘ä¸Šæä¾›å¯é ä¼ è¾“çš„æœåŠ¡ã€‚å¦‚æœåœ¨æ•°æ®é“¾è·¯å±‚ä¼ è¾“æ•°æ®æ—¶å‡ºç°äº†å·®é”™å¹¶ä¸”éœ€è¦è¿›è¡Œæ”¹æ­£ï¼Œé‚£ä¹ˆæ”¹æ­£å·®é”™çš„ä»»åŠ¡å°±ç”±ä¸Šå±‚åè®®ï¼ˆä¾‹å¦‚ï¼Œè¿è¾“å±‚çš„ TCP åè®®ï¼‰æ¥å®Œæˆã€‚</p><p>å¯¹äºé€šä¿¡è´¨é‡è¾ƒå·®çš„æ— çº¿ä¼ è¾“é“¾è·¯ï¼Œæ•°æ®é“¾è·¯å±‚åè®®ä½¿ç”¨ç¡®è®¤å’Œé‡ä¼ æœºåˆ¶ï¼Œæ•°æ®é“¾è·¯å±‚å‘ä¸Šæä¾›å¯é ä¼ è¾“çš„æœåŠ¡ã€‚</p><h2 id="exceptionå’Œerrorçš„åŒºåˆ«"><a class="header-anchor" href="#exceptionå’Œerrorçš„åŒºåˆ«">#</a>Exceptionå’ŒErrorçš„åŒºåˆ«</h2><center><p><img src="//onns.xyz/blog/image/20200916-1.png" alt="ç»§æ‰¿å…³ç³»"></p></center><p>Errorï¼šè¡¨ç¤ºç”± JVM æ‰€ä¾¦æµ‹åˆ°çš„æ— æ³•é¢„æœŸçš„é”™è¯¯ï¼Œç”±äºè¿™æ˜¯å±äº JVM å±‚æ¬¡çš„ä¸¥é‡é”™è¯¯ï¼Œå¯¼è‡´ JVM æ— æ³•ç»§ç»­æ‰§è¡Œï¼Œå› æ­¤ï¼Œè¿™æ˜¯ä¸å¯æ•æ‰åˆ°çš„ï¼Œæ— æ³•é‡‡å–ä»»ä½•æ¢å¤çš„æ“ä½œï¼Œé¡¶å¤šåªèƒ½æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</p><p>Exceptionï¼šè¡¨ç¤ºå¯æ¢å¤çš„ä¾‹å¤–/å¼‚å¸¸ï¼Œè¿™æ˜¯å¯æ•æ‰åˆ°çš„ã€‚</p><p>Java æä¾›äº†ä¸¤ç±»ä¸»è¦çš„å¼‚å¸¸ï¼šRuntimeExceptionå’Œchecked exceptionã€‚</p><p>checkedå¼‚å¸¸ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸é‡åˆ°çš„ IO å¼‚å¸¸ï¼Œä»¥åŠSQL å¼‚å¸¸ç­‰ã€‚å¯¹äºè¿™ç§å¼‚å¸¸ï¼ŒJAVA ç¼–è¯‘å™¨å¼ºåˆ¶è¦æ±‚æˆ‘ä»¬å¿…éœ€å¯¹å‡ºç°çš„è¿™äº›å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</p><p>ä½†æ˜¯RuntimeExceptionï¼Œä¹Ÿç§°è¿è¡Œæ—¶å¼‚å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¤„ç†ã€‚å½“å‡ºç°è¿™æ ·çš„å¼‚å¸¸æ—¶ï¼Œæ€»æ˜¯ç”±è™šæ‹Ÿæœºæ¥ç®¡ã€‚æ¯”å¦‚ï¼šæˆ‘ä»¬ä»æ¥æ²¡æœ‰äººå»å¤„ç†è¿‡NullPointerException å¼‚å¸¸ï¼Œå®ƒå°±æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¹¶ä¸”è¿™ç§å¼‚å¸¸è¿˜æ˜¯æœ€å¸¸è§çš„å¼‚å¸¸ä¹‹ä¸€ã€‚</p><p>å‡ºç°è¿è¡Œæ—¶å¼‚å¸¸åï¼Œç³»ç»Ÿä¼šæŠŠå¼‚å¸¸ä¸€ç›´å¾€ä¸Šå±‚æŠ›ï¼Œä¸€ç›´é‡åˆ°å¤„ç†ä»£ç ã€‚å¦‚æœæ²¡æœ‰å¤„ç†å—ï¼Œåˆ°æœ€ä¸Šå±‚ï¼Œå¦‚æœæ˜¯å¤šçº¿ç¨‹å°±ç”± Thread.run() æŠ›å‡º ï¼Œå¦‚æœæ˜¯å•çº¿ç¨‹å°±è¢« main() æŠ›å‡º ã€‚æŠ›å‡ºä¹‹åï¼Œå¦‚æœæ˜¯çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹ä¹Ÿå°±é€€å‡ºäº†ã€‚å¦‚æœæ˜¯ä¸»ç¨‹åºæŠ›å‡ºçš„å¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™æ•´ä¸ªç¨‹åºä¹Ÿå°±é€€å‡ºäº†ã€‚è¿è¡Œæ—¶å¼‚å¸¸æ˜¯ Exception çš„å­ç±»ï¼Œä¹Ÿæœ‰ä¸€èˆ¬å¼‚å¸¸çš„ç‰¹ç‚¹ï¼Œä¹Ÿæ˜¯å¯ä»¥è¢« Catch å—å¤„ç†çš„ã€‚åªä¸è¿‡å¾€å¾€æˆ‘ä»¬ä¸å¯¹ä»–å¤„ç†ç½¢äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¦‚æœä¸å¯¹è¿è¡Œæ—¶å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œé‚£ä¹ˆå‡ºç°è¿è¡Œæ—¶å¼‚å¸¸ä¹‹åï¼Œè¦ä¹ˆæ˜¯çº¿ç¨‹ä¸­æ­¢ï¼Œè¦ä¹ˆæ˜¯ä¸»ç¨‹åºç»ˆæ­¢ã€‚<br>å¦‚æœä¸æƒ³ç»ˆæ­¢ï¼Œåˆ™å¿…é¡»æ•æ‰æ‰€æœ‰çš„è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå†³ä¸è®©è¿™ä¸ªå¤„ç†çº¿ç¨‹é€€å‡ºã€‚é˜Ÿåˆ—é‡Œé¢å‡ºç°å¼‚å¸¸æ•°æ®äº†ï¼Œæ­£å¸¸çš„å¤„ç†åº”è¯¥æ˜¯æŠŠå¼‚å¸¸æ•°æ®èˆå¼ƒï¼Œç„¶åè®°å½•æ—¥å¿—ã€‚ä¸åº”è¯¥ç”±äºå¼‚å¸¸æ•°æ®è€Œå½±å“ä¸‹é¢å¯¹æ­£å¸¸æ•°æ®çš„å¤„ç†ã€‚åœ¨è¿™ä¸ªåœºæ™¯è¿™æ ·å¤„ç†å¯èƒ½æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åº”ç”¨ï¼Œä½†å¹¶ä¸ä»£è¡¨åœ¨æ‰€æœ‰çš„åœºæ™¯éƒ½åº”è¯¥å¦‚æ­¤ã€‚å¦‚æœåœ¨å…¶å®ƒåœºæ™¯ï¼Œé‡åˆ°äº†ä¸€äº›é”™è¯¯ï¼Œå¦‚æœé€€å‡ºç¨‹åºæ¯”è¾ƒå¥½ï¼Œè¿™æ—¶ä½ å°±å¯ä»¥ä¸ç†ä¼šè¿è¡Œæ—¶å¼‚å¸¸ ã€‚<br>å¼‚å¸¸å¤„ç†çš„ç›®æ ‡ä¹‹ä¸€å°±æ˜¯ä¸ºäº†æŠŠç¨‹åºä»å¼‚å¸¸ä¸­æ¢å¤å‡ºæ¥ ã€‚</p><p>å¯¹äºCheckedå¼‚å¸¸çš„å¤„ç†æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><p>ï¼ˆ1ï¼‰å½“å‰æ–¹æ³•æ˜ç¡®çŸ¥é“å¦‚ä½•å¤„ç†è¯¥å¼‚å¸¸ï¼Œç¨‹åºåº”è¯¥ä½¿ç”¨tryâ€¦catchå—æ¥æ•è·è¯¥å¼‚å¸¸ï¼Œç„¶ååœ¨å¯¹åº”çš„catchå—ä¸­ä¿®è¡¥è¯¥å¼‚å¸¸ã€‚</p><p>ï¼ˆ2ï¼‰å½“å‰æ–¹æ³•ä¸çŸ¥é“å¦‚ä½•å¤„ç†è¿™ç§å¼‚å¸¸ï¼Œåº”è¯¥åœ¨å®šä¹‰è¯¥æ–¹æ³•æ—¶å£°æ˜æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</p><h2 id="assert"><a class="header-anchor" href="#assert">#</a>assert</h2><p>åœ¨Javaä¸­ï¼Œassertå…³é”®å­—æ˜¯ä»JAVA SE 1.4 å¼•å…¥çš„ï¼Œä¸ºäº†é¿å…å’Œè€ç‰ˆæœ¬çš„Javaä»£ç ä¸­ä½¿ç”¨äº†assertå…³é”®å­—å¯¼è‡´é”™è¯¯ï¼ŒJavaåœ¨æ‰§è¡Œçš„æ—¶å€™é»˜è®¤æ˜¯ä¸å¯åŠ¨æ–­è¨€æ£€æŸ¥çš„ï¼ˆè¿™ä¸ªæ—¶å€™ï¼Œæ‰€æœ‰çš„æ–­è¨€è¯­å¥éƒ½å°†å¿½ç•¥ï¼ï¼‰ï¼Œå¦‚æœè¦å¼€å¯æ–­è¨€æ£€æŸ¥ï¼Œåˆ™éœ€è¦ç”¨å¼€å…³-enableassertionsæˆ–-eaæ¥å¼€å¯ã€‚</p><p>assertå…³é”®å­—è¯­æ³•å¾ˆç®€å•ï¼Œæœ‰ä¸¤ç§ç”¨æ³•ï¼š</p><p>1ã€assert &lt;booleanè¡¨è¾¾å¼&gt;<br>å¦‚æœ&lt;booleanè¡¨è¾¾å¼&gt;ä¸ºtrueï¼Œåˆ™ç¨‹åºç»§ç»­æ‰§è¡Œã€‚<br>å¦‚æœä¸ºfalseï¼Œåˆ™ç¨‹åºæŠ›å‡ºAssertionErrorï¼Œå¹¶ç»ˆæ­¢æ‰§è¡Œã€‚</p><p>2ã€assert &lt;booleanè¡¨è¾¾å¼&gt; : &lt;é”™è¯¯ä¿¡æ¯è¡¨è¾¾å¼&gt;<br>å¦‚æœ&lt;booleanè¡¨è¾¾å¼&gt;ä¸ºtrueï¼Œåˆ™ç¨‹åºç»§ç»­æ‰§è¡Œã€‚<br>å¦‚æœä¸ºfalseï¼Œåˆ™ç¨‹åºæŠ›å‡ºjava.lang.AssertionErrorï¼Œå¹¶è¾“å…¥&lt;é”™è¯¯ä¿¡æ¯è¡¨è¾¾å¼&gt;ã€‚</p><h3 id="é™·é˜±"><a class="header-anchor" href="#é™·é˜±">#</a>é™·é˜±</h3><p>assertå…³é”®å­—ç”¨æ³•ç®€å•ï¼Œä½†æ˜¯ä½¿ç”¨assertå¾€å¾€ä¼šè®©ä½ é™·å…¥è¶Šæ¥è¶Šæ·±çš„é™·é˜±ä¸­ã€‚åº”é¿å…ä½¿ç”¨ã€‚ç¬”è€…ç»è¿‡ç ”ç©¶ï¼Œæ€»ç»“äº†ä»¥ä¸‹åŸå› ï¼š</p><p>1ã€assertå…³é”®å­—éœ€è¦åœ¨è¿è¡Œæ—¶å€™æ˜¾å¼å¼€å¯æ‰èƒ½ç”Ÿæ•ˆï¼Œå¦åˆ™ä½ çš„æ–­è¨€å°±æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚è€Œç°åœ¨ä¸»æµçš„Java IDEå·¥å…·é»˜è®¤éƒ½æ²¡æœ‰å¼€å¯-eaæ–­è¨€æ£€æŸ¥åŠŸèƒ½ã€‚è¿™å°±æ„å‘³ç€ä½ å¦‚æœä½¿ç”¨IDEå·¥å…·ç¼–ç ï¼Œè°ƒè¯•è¿è¡Œæ—¶å€™ä¼šæœ‰ä¸€å®šçš„éº»çƒ¦ã€‚å¹¶ä¸”ï¼Œå¯¹äºJava Webåº”ç”¨ï¼Œç¨‹åºä»£ç éƒ½æ˜¯éƒ¨ç½²åœ¨å®¹å™¨é‡Œé¢ï¼Œä½ æ²¡æ³•ç›´æ¥å»æ§åˆ¶ç¨‹åºçš„è¿è¡Œï¼Œå¦‚æœä¸€å®šè¦å¼€å¯-eaçš„å¼€å…³ï¼Œåˆ™éœ€è¦æ›´æ”¹Webå®¹å™¨çš„è¿è¡Œé…ç½®å‚æ•°ã€‚è¿™å¯¹ç¨‹åºçš„ç§»æ¤å’Œéƒ¨ç½²éƒ½å¸¦æ¥å¾ˆå¤§çš„ä¸ä¾¿ã€‚</p><p>2ã€ç”¨assertä»£æ›¿ifæ˜¯é™·é˜±ä¹‹äºŒã€‚assertçš„åˆ¤æ–­å’Œifè¯­å¥å·®ä¸å¤šï¼Œä½†ä¸¤è€…çš„ä½œç”¨æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ï¼šassertå…³é”®å­—æœ¬æ„ä¸Šæ˜¯ä¸ºæµ‹è¯•è°ƒè¯•ç¨‹åºæ—¶ä½¿ç”¨çš„ï¼Œä½†å¦‚æœä¸å°å¿ƒç”¨assertæ¥æ§åˆ¶äº†ç¨‹åºçš„ä¸šåŠ¡æµç¨‹ï¼Œé‚£åœ¨æµ‹è¯•è°ƒè¯•ç»“æŸåå»æ‰assertå…³é”®å­—å°±æ„å‘³ç€ä¿®æ”¹äº†ç¨‹åºçš„æ­£å¸¸çš„é€»è¾‘ã€‚</p><p>3ã€assertæ–­è¨€å¤±è´¥å°†é¢ä¸´ç¨‹åºçš„é€€å‡ºã€‚è¿™åœ¨ä¸€ä¸ªç”Ÿäº§ç¯å¢ƒä¸‹çš„åº”ç”¨æ˜¯ç»ä¸èƒ½å®¹å¿çš„ã€‚ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å¼‚å¸¸å¤„ç†æ¥è§£å†³ç¨‹åºä¸­æ½œåœ¨çš„é”™è¯¯ã€‚ä½†æ˜¯ä½¿ç”¨æ–­è¨€å°±å¾ˆå±é™©ï¼Œä¸€æ—¦å¤±è´¥ç³»ç»Ÿå°±æŒ‚äº†ã€‚</p><h2 id="final"><a class="header-anchor" href="#final">#</a>final</h2><p>finalå…³é”®å­—å¯ä»¥ç”¨æ¥ä¿®é¥°å¼•ç”¨ã€æ–¹æ³•å’Œç±»ã€‚</p><ol><li>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªå¼•ç”¨<br>å¦‚æœå¼•ç”¨ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™è¯¥å¼•ç”¨ä¸ºå¸¸é‡ï¼Œè¯¥å€¼æ— æ³•ä¿®æ”¹ï¼›<br>å¦‚æœå¼•ç”¨ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚å¯¹è±¡ã€æ•°ç»„ï¼Œåˆ™è¯¥å¯¹è±¡ã€æ•°ç»„æœ¬èº«å¯ä»¥ä¿®æ”¹ï¼Œä½†æŒ‡å‘è¯¥å¯¹è±¡æˆ–æ•°ç»„çš„åœ°å€çš„å¼•ç”¨ä¸èƒ½ä¿®æ”¹ã€‚<br>å¦‚æœå¼•ç”¨æ—¶ç±»çš„æˆå‘˜å˜é‡ï¼Œåˆ™å¿…é¡»å½“åœºèµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘ä¼šæŠ¥é”™ã€‚</li><li>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªæ–¹æ³•<br>å½“ä½¿ç”¨finalä¿®é¥°æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å°†æˆä¸ºæœ€ç»ˆæ–¹æ³•ï¼Œæ— æ³•è¢«å­ç±»é‡å†™ã€‚ä½†æ˜¯ï¼Œè¯¥æ–¹æ³•ä»ç„¶å¯ä»¥è¢«ç»§æ‰¿ã€‚</li><li>ç”¨æ¥ä¿®é¥°ç±»<br>å½“ç”¨finalä¿®æ”¹ç±»æ—¶ï¼Œè¯¥ç±»æˆä¸ºæœ€ç»ˆç±»ï¼Œæ— æ³•è¢«ç»§æ‰¿ã€‚ç®€ç§°ä¸ºâ€œæ–­å­ç»å­™ç±»â€ã€‚</li></ol><h2 id="volatile"><a class="header-anchor" href="#volatile">#</a>volatile</h2><p>Javaå†…å­˜æ¨¡å‹è§„å®šæ‰€æœ‰çš„å˜é‡éƒ½æ˜¯å­˜åœ¨ä¸»å­˜å½“ä¸­ï¼ˆç±»ä¼¼äºå‰é¢è¯´çš„ç‰©ç†å†…å­˜ï¼‰ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆç±»ä¼¼äºå‰é¢çš„é«˜é€Ÿç¼“å­˜ï¼‰ã€‚çº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œè€Œä¸èƒ½ç›´æ¥å¯¹ä¸»å­˜è¿›è¡Œæ“ä½œã€‚å¹¶ä¸”æ¯ä¸ªçº¿ç¨‹ä¸èƒ½è®¿é—®å…¶ä»–çº¿ç¨‹çš„å·¥ä½œå†…å­˜ã€‚<br>ç”±äºjavaä¸­çš„æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„å·¥ä½œç©ºé—´ï¼Œè¿™ç§å·¥ä½œç©ºé—´ç›¸å½“äºä¸Šé¢æ‰€è¯´çš„é«˜é€Ÿç¼“å­˜ï¼Œå› æ­¤å¤šä¸ªçº¿ç¨‹åœ¨å¤„ç†ä¸€ä¸ªå…±äº«å˜é‡çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><p>1ï¼‰ä¿è¯äº†ä¸åŒçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶çš„å¯è§æ€§ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™æ–°å€¼å¯¹å…¶ä»–çº¿ç¨‹æ¥è¯´æ˜¯ç«‹å³å¯è§çš„ã€‚<br>2ï¼‰ç¦æ­¢è¿›è¡ŒæŒ‡ä»¤é‡æ’åºã€‚</p><h2 id="è§£å†³å“ˆå¸Œå†²çªçš„å››ç§æ–¹æ³•"><a class="header-anchor" href="#è§£å†³å“ˆå¸Œå†²çªçš„å››ç§æ–¹æ³•">#</a>è§£å†³å“ˆå¸Œå†²çªçš„å››ç§æ–¹æ³•</h2><p>1.å¼€æ”¾åœ°å€æ–¹æ³•</p><p>ï¼ˆ1ï¼‰çº¿æ€§æ¢æµ‹</p><p>æŒ‰é¡ºåºå†³å®šå€¼æ—¶ï¼Œå¦‚æœæŸæ•°æ®çš„å€¼å·²ç»å­˜åœ¨ï¼Œåˆ™åœ¨åŸæ¥å€¼çš„åŸºç¡€ä¸Šå¾€ååŠ ä¸€ä¸ªå•ä½ï¼Œç›´è‡³ä¸å‘ç”Ÿå“ˆå¸Œå†²çªã€‚</p><p>ï¼ˆ2ï¼‰å†å¹³æ–¹æ¢æµ‹</p><p>æŒ‰é¡ºåºå†³å®šå€¼æ—¶ï¼Œå¦‚æœæŸæ•°æ®çš„å€¼å·²ç»å­˜åœ¨ï¼Œåˆ™åœ¨åŸæ¥å€¼çš„åŸºç¡€ä¸Šå…ˆåŠ 1çš„å¹³æ–¹ä¸ªå•ä½ï¼Œè‹¥ä»ç„¶å­˜åœ¨åˆ™å‡1çš„å¹³æ–¹ä¸ªå•ä½ã€‚éšä¹‹æ˜¯2çš„å¹³æ–¹ï¼Œ3çš„å¹³æ–¹ç­‰ç­‰ã€‚ç›´è‡³ä¸å‘ç”Ÿå“ˆå¸Œå†²çªã€‚</p><p>ï¼ˆ3ï¼‰ä¼ªéšæœºæ¢æµ‹</p><p>æŒ‰é¡ºåºå†³å®šå€¼æ—¶ï¼Œå¦‚æœæŸæ•°æ®å·²ç»å­˜åœ¨ï¼Œé€šè¿‡éšæœºå‡½æ•°éšæœºç”Ÿæˆä¸€ä¸ªæ•°ï¼Œåœ¨åŸæ¥å€¼çš„åŸºç¡€ä¸ŠåŠ ä¸Šéšæœºæ•°ï¼Œç›´è‡³ä¸å‘ç”Ÿå“ˆå¸Œå†²çªã€‚</p><p>2.é“¾å¼åœ°å€æ³•ï¼ˆHashMapçš„å“ˆå¸Œå†²çªè§£å†³æ–¹æ³•ï¼‰</p><p>å¯¹äºç›¸åŒçš„å€¼ï¼Œä½¿ç”¨é“¾è¡¨è¿›è¡Œè¿æ¥ã€‚ä½¿ç”¨æ•°ç»„å­˜å‚¨æ¯ä¸€ä¸ªé“¾è¡¨ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><p>ï¼ˆ1ï¼‰æ‹‰é“¾æ³•å¤„ç†å†²çªç®€å•ï¼Œä¸”æ— å †ç§¯ç°è±¡ï¼Œå³éåŒä¹‰è¯å†³ä¸ä¼šå‘ç”Ÿå†²çªï¼Œå› æ­¤å¹³å‡æŸ¥æ‰¾é•¿åº¦è¾ƒçŸ­ï¼›</p><p>ï¼ˆ2ï¼‰ç”±äºæ‹‰é“¾æ³•ä¸­å„é“¾è¡¨ä¸Šçš„ç»“ç‚¹ç©ºé—´æ˜¯åŠ¨æ€ç”³è¯·çš„ï¼Œæ•…å®ƒæ›´é€‚åˆäºé€ è¡¨å‰æ— æ³•ç¡®å®šè¡¨é•¿çš„æƒ…å†µï¼›</p><p>ï¼ˆ3ï¼‰å¼€æ”¾å®šå€æ³•ä¸ºå‡å°‘å†²çªï¼Œè¦æ±‚è£…å¡«å› å­Î±è¾ƒå°ï¼Œæ•…å½“ç»“ç‚¹è§„æ¨¡è¾ƒå¤§æ—¶ä¼šæµªè´¹å¾ˆå¤šç©ºé—´ã€‚è€Œæ‹‰é“¾æ³•ä¸­å¯å–Î±â‰¥1ï¼Œä¸”ç»“ç‚¹è¾ƒå¤§æ—¶ï¼Œæ‹‰é“¾æ³•ä¸­å¢åŠ çš„æŒ‡é’ˆåŸŸå¯å¿½ç•¥ä¸è®¡ï¼Œå› æ­¤èŠ‚çœç©ºé—´ï¼›</p><p>ï¼ˆ4ï¼‰åœ¨ç”¨æ‹‰é“¾æ³•æ„é€ çš„æ•£åˆ—è¡¨ä¸­ï¼Œåˆ é™¤ç»“ç‚¹çš„æ“ä½œæ˜“äºå®ç°ã€‚åªè¦ç®€å•åœ°åˆ å»é“¾è¡¨ä¸Šç›¸åº”çš„ç»“ç‚¹å³å¯ã€‚<br>ã€€ã€€ç¼ºç‚¹ï¼š</p><p>æŒ‡é’ˆå ç”¨è¾ƒå¤§ç©ºé—´æ—¶ï¼Œä¼šé€ æˆç©ºé—´æµªè´¹ï¼Œè‹¥ç©ºé—´ç”¨äºå¢å¤§æ•£åˆ—è¡¨è§„æ¨¡è¿›è€Œæé«˜å¼€æ”¾åœ°å€æ³•çš„æ•ˆç‡ã€‚</p><p>3.å»ºç«‹å…¬å…±æº¢å‡ºåŒº</p><p>å»ºç«‹å…¬å…±æº¢å‡ºåŒºå­˜å‚¨æ‰€æœ‰å“ˆå¸Œå†²çªçš„æ•°æ®ã€‚</p><p>4.å†å“ˆå¸Œæ³•</p><p>å¯¹äºå†²çªçš„å“ˆå¸Œå€¼å†æ¬¡è¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œç›´è‡³æ²¡æœ‰å“ˆå¸Œå†²çªã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://blog.csdn.net/greentealc/article/details/79880220" target="_blank" rel="noopener">å…³äº TCPï¼ŒUDPï¼Œé’ˆå¯¹é¢è¯•ã€‚è¶…è¯¦ç»†</a></li><li><a href="https://www.jianshu.com/p/deee6abf0b72" target="_blank" rel="noopener">é¢è¯•å¸¸é—®ä¹‹ TCP ä¸ UDP</a></li><li><a href="https://www.cnblogs.com/lgk8023/p/6430592.html" target="_blank" rel="noopener">Java åŸºç¡€é¢è¯•é¢˜ï¼ˆè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼‰</a></li><li><a href="https://blog.csdn.net/daaikuaichuan/article/details/82951084" target="_blank" rel="noopener">è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹ä¹‹é—´çš„åŒºåˆ«å’Œè”ç³»</a></li><li><a href="https://www.cnblogs.com/jobbible/p/9766649.html" target="_blank" rel="noopener">æ¯ä¸ªç¨‹åºå‘˜éƒ½ä¼šé‡åˆ°çš„é¢è¯•é—®é¢˜ï¼šè°ˆè°ˆè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</a></li><li><a href="https://www.jianshu.com/p/e136ec79235c" target="_blank" rel="noopener">30 å¼ å›¾å¸¦ä½ å½»åº•ç†è§£çº¢é»‘æ ‘</a></li><li><a href="https://www.cnblogs.com/ryxiong-blog/p/10892010.html" target="_blank" rel="noopener">è¿›ç¨‹ï¼ˆçº¿ç¨‹ï¼‰æ­»é”è¯¦è§£</a></li><li><a href="https://www.runoob.com/http/http-intro.html" target="_blank" rel="noopener">HTTP ç®€ä»‹</a></li><li><a href="https://segmentfault.com/a/1190000016656529?utm_source=tag-newest" target="_blank" rel="noopener">ã€å¿«é€Ÿå…¥é—¨ç³»åˆ—ã€‘ä¸€ç¯‡æ–‡ç« è®©ä½ å…¥é—¨ HTTP2.0</a></li><li><a href="https://blog.csdn.net/qq_33591903/article/details/81672260" target="_blank" rel="noopener">ã€æ•°æ®åº“ã€‘å¿«é€Ÿç†è§£è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»</a></li><li><a href="https://blog.csdn.net/qq_33591903/article/details/82079302" target="_blank" rel="noopener">ã€æ•°æ®åº“ã€‘äº‹åŠ¡éš”ç¦»çº§åˆ«</a></li><li><a href="http://www.hollischuang.com/archives/898" target="_blank" rel="noopener">å½»åº•ç†è§£æ•°æ®åº“äº‹åŠ¡</a></li><li><a href="https://www.jianshu.com/p/71700a464e97" target="_blank" rel="noopener">B+æ ‘æ€»ç»“</a></li><li><a href="https://www.cnblogs.com/zsc1/p/9230096.html" target="_blank" rel="noopener">æ•°æ®åº“ç´¢å¼•</a></li><li><a href="https://zhuanlan.zhihu.com/p/107125866" target="_blank" rel="noopener">MySQL çš„è¦†ç›–ç´¢å¼•ä¸å›è¡¨</a></li><li><a href="https://www.zhihu.com/question/20596402" target="_blank" rel="noopener">Mysql ä¸­ MyISAM å’Œ InnoDB çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="https://www.jianshu.com/p/907f9002442e" target="_blank" rel="noopener">ä¸€æ–‡å¸¦ä½ çœ‹æ‡‚ binlog å’Œ redo log</a></li><li><a href="https://www.jianshu.com/p/ebdf0eb76088" target="_blank" rel="noopener">ClassLoader æ€»ç»“</a></li><li><a href="https://www.jianshu.com/p/6ec45a6da9ba" target="_blank" rel="noopener">Java åŸºç¡€-æ³›å‹çš„ä½¿ç”¨åŠæ³›å‹å®ç°åŸç†</a></li><li><a href="https://blog.csdn.net/wteruiycbqqvwt/article/details/90299610" target="_blank" rel="noopener">æ·±å…¥ç†è§£ selectã€poll å’Œ epoll åŠåŒºåˆ«</a></li><li><a href="https://blog.csdn.net/rongtaoup/article/details/90723680" target="_blank" rel="noopener">ä¸€æ–‡ææ‡‚ JVM åƒåœ¾æ”¶é›†</a></li><li><a href="https://blog.csdn.net/ln152315/article/details/79223441" target="_blank" rel="noopener">é¢è¯•å®˜ï¼šè¯·ä½ è°ˆè°ˆ Java çš„ç±»åŠ è½½è¿‡ç¨‹</a></li><li><a href="https://blog.csdn.net/azsx02/article/details/69387317" target="_blank" rel="noopener">æ•°æ®é“¾è·¯å±‚çš„ä¸‰ä¸ªåŸºæœ¬é—®é¢˜ï¼šå°è£…æˆå¸§ é€æ˜ä¼ è¾“ å·®é”™æ£€æµ‹</a></li><li><a href="https://blog.csdn.net/sjmz30071360/article/details/80016972" target="_blank" rel="noopener">Javaä¸­çš„Errorå’ŒExceptionã€ä¸€ç¯‡å°±å¤Ÿã€‘</a></li><li><a href="https://blog.csdn.net/m0_37602175/article/details/80271647" target="_blank" rel="noopener">Exceptionå’ŒErrorçš„åŒºåˆ«</a></li><li><a href="https://blog.51cto.com/lavasoft/43735" target="_blank" rel="noopener">Javaé™·é˜±ä¹‹assertå…³é”®å­—</a></li><li><a href="https://www.cnblogs.com/chhyan-dream/p/10685878.html" target="_blank" rel="noopener">JAVAä¸­finalå…³é”®å­—çš„ä½œç”¨</a></li><li><a href="https://www.cnblogs.com/dolphin0520/p/3920373.html" target="_blank" rel="noopener">Javaå¹¶å‘ç¼–ç¨‹ï¼švolatileå…³é”®å­—è§£æ</a></li><li><a href="https://www.cnblogs.com/kubidemanong/p/9505944.html" target="_blank" rel="noopener">çº¿ç¨‹å®‰å…¨(ä¸Š)â€“å½»åº•ææ‡‚volatileå…³é”®å­—</a></li><li><a href="https://www.cnblogs.com/higerMan/p/11907117.html" target="_blank" rel="noopener">å“ˆå¸Œå†²çªåŠå››ç§è§£å†³æ–¹æ³•</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> jobs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> interview </tag>
            
            <tag> review </tag>
            
            <tag> tcp </tag>
            
            <tag> udp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæ’ä»¶æµ‹è¯•é¡µé¢</title>
      <link href="/blog/2020/06/15/hexo-plugin-test/"/>
      <url>/blog/2020/06/15/hexo-plugin-test/</url>
      
        <content type="html"><![CDATA[<p>æ–°ç¯å¢ƒæ€»æ‹…å¿ƒæ—§åšæ–‡çš„æ’ä»¶ä¼šå‡ºé—®é¢˜ï¼Œè¿™ä¸ªé¡µé¢é‡Œçš„æ’ä»¶å¦‚æœæ²¡é—®é¢˜çš„è¯ï¼Œå…¶å®ƒçš„ä¹Ÿåº”è¯¥æ²¡é—®é¢˜ã€‚</p><a id="more"></a><h2 id="flowchart"><a class="header-anchor" href="#flowchart">#</a><a href="https://github.com/bubkoo/hexo-filter-flowchart" target="_blank" rel="noopener">flowchart</a></h2><h3 id="å®‰è£…æ–¹æ³•"><a class="header-anchor" href="#å®‰è£…æ–¹æ³•">#</a>å®‰è£…æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-filter-flowchart --save</span><br></pre></td></tr></table></figure><h3 id="å‚æ•°é…ç½®"><a class="header-anchor" href="#å‚æ•°é…ç½®">#</a>å‚æ•°é…ç½®</h3><p>åœ¨ <code>_config.yml</code> ä¸­ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">flowchart:</span></span><br><span class="line">  <span class="attr">raphael:</span>   <span class="string">//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js</span></span><br><span class="line">  <span class="attr">flowchart:</span> <span class="string">//flowchart.js.org/flowchart-latest.js</span></span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœå±•ç¤º"><a class="header-anchor" href="#æ•ˆæœå±•ç¤º">#</a>æ•ˆæœå±•ç¤º</h3><center><div id="flowchart-0" class="flow-chart"></div><p>å›¾1 ç¨‹åºæµç¨‹å›¾</p></center><h2 id="sub-sup-footnote-ins"><a class="header-anchor" href="#sub-sup-footnote-ins">#</a><a href="https://github.com/hexojs/hexo-renderer-markdown-it" target="_blank" rel="noopener">sub,sup,footnote,ins</a></h2><h3 id="å®‰è£…æ–¹æ³•-2"><a class="header-anchor" href="#å®‰è£…æ–¹æ³•-2">#</a>å®‰è£…æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure><h3 id="å‚æ•°é…ç½®-2"><a class="header-anchor" href="#å‚æ•°é…ç½®-2">#</a>å‚æ•°é…ç½®</h3><p>åœ¨ <code>_config.yml</code> ä¸­ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">'â€œâ€â€˜â€™'</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-abbr</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-footnote</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-ins</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sub</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">markdown-it-sup</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">''</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">header-anchor</span></span><br><span class="line">    <span class="attr">permalinkSide:</span> <span class="string">'right'</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">Â¶</span></span><br><span class="line">    <span class="attr">case:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">separator:</span> <span class="string">'-'</span></span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœå±•ç¤º-2"><a class="header-anchor" href="#æ•ˆæœå±•ç¤º-2">#</a>æ•ˆæœå±•ç¤º</h3><h4 id="sub"><a class="header-anchor" href="#sub">#</a>sub</h4><p>H<sub>2</sub>O</p><h4 id="sup"><a class="header-anchor" href="#sup">#</a>sup</h4><p>x<sup>2</sup>y<sup>2</sup></p><h4 id="footnote"><a class="header-anchor" href="#footnote">#</a>footnote</h4><p>è¿™æ˜¯ä¸€æ®µæ­£æ–‡<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h4 id="ins"><a class="header-anchor" href="#ins">#</a>ins</h4><p><ins>inserted</ins></p><h2 id="pdf"><a class="header-anchor" href="#pdf">#</a><a href="https://github.com/superalsrk/hexo-pdf" target="_blank" rel="noopener">pdf</a></h2><h3 id="å®‰è£…æ–¹æ³•-3"><a class="header-anchor" href="#å®‰è£…æ–¹æ³•-3">#</a>å®‰è£…æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-pdf --save</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœå±•ç¤º-3"><a class="header-anchor" href="#æ•ˆæœå±•ç¤º-3">#</a>æ•ˆæœå±•ç¤º</h3><div class="row">    <embed src="//onns.xyz/blog/files/sign-recognition-lab-report.pdf" width="100%" height="550" type="application/pdf"></div><h2 id="math"><a class="header-anchor" href="#math">#</a><a href="https://github.com/hexojs/hexo-math" target="_blank" rel="noopener">math</a></h2><h3 id="å®‰è£…æ–¹æ³•-4"><a class="header-anchor" href="#å®‰è£…æ–¹æ³•-4">#</a>å®‰è£…æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-math --save</span><br></pre></td></tr></table></figure><h3 id="å‚æ•°é…ç½®-3"><a class="header-anchor" href="#å‚æ•°é…ç½®-3">#</a>å‚æ•°é…ç½®</h3><p>åœ¨ <code>_config.yml</code> ä¸­ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">math:</span></span><br><span class="line">  <span class="attr">engine:</span> <span class="string">'mathjax'</span> <span class="comment"># or 'katex'</span></span><br><span class="line">  <span class="attr">mathjax:</span></span><br><span class="line">    <span class="attr">src:</span> <span class="string">custom_mathjax_source</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="comment"># MathJax config</span></span><br><span class="line">  <span class="attr">katex:</span></span><br><span class="line">    <span class="attr">css:</span> <span class="string">custom_css_source</span></span><br><span class="line">    <span class="attr">js:</span> <span class="string">custom_js_source</span> <span class="comment"># not used</span></span><br><span class="line">    <span class="attr">config:</span></span><br><span class="line">      <span class="comment"># KaTeX config</span></span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœå±•ç¤º-4"><a class="header-anchor" href="#æ•ˆæœå±•ç¤º-4">#</a>æ•ˆæœå±•ç¤º</h3><span>$$\begin{aligned}\dot{x} &amp; = \sigma(y-x) \\\dot{y} &amp; = \rho x - y - xz \\\dot{z} &amp; = -\beta z + xy\end{aligned}$$</span><!-- Has MathJax --><h2 id="math-2"><a class="header-anchor" href="#math-2">#</a><a href="https://github.com/hexojs/hexo-math" target="_blank" rel="noopener">math</a></h2><h3 id="å®‰è£…æ–¹æ³•-5"><a class="header-anchor" href="#å®‰è£…æ–¹æ³•-5">#</a>å®‰è£…æ–¹æ³•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-math --save</span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœå±•ç¤º-5"><a class="header-anchor" href="#æ•ˆæœå±•ç¤º-5">#</a>æ•ˆæœå±•ç¤º</h3><div id="graphviz-0"></div><script src="https://unpkg.com/viz.js@2.1.2/viz.js"></script><script src="https://unpkg.com/viz.js@2.1.2/full.render.js"></script><textarea id="graphviz-0-code" style="display: none">digraph G {  "(10,0,0)" -> "(3,7,0)"[color=red,label="1"]  "(10,0,0)" -> "(7,0,3)"[label="2"]  "(3,7,0)" -> "(0,7,3)"[label="2"]  "(3,7,0)" -> "(3,4,3)"[color=red,label="4"]  "(7,0,3)" -> "(7,3,0)"[label="12"]  "(3,4,3)" -> "(6,4,0)"[color=red,label="11"]  "(7,3,0)" -> "(4,3,3)"[label="2"]  "(6,4,0)" -> "(6,1,3)"[color=red,label="4"]  "(4,3,3)" -> "(4,6,0)"[label="12"]  "(6,1,3)" -> "(9,1,0)"[color=red,label="11"]  "(4,6,0)" -> "(1,6,3)"[label="2"]  "(9,1,0)" -> "(9,0,1)"[color=red,label="10"]  "(1,6,3)" -> "(1,7,2)"[label="6"]  "(9,0,1)" -> "(2,7,1)"[color=red,label="1"]  "(1,7,2)" -> "(8,0,2)"[label="9"]  "(2,7,1)" -> "(2,5,3)"[color=red,label="4"]  "(8,0,2)" -> "(8,2,0)"[label="12"]  "(2,5,3)" -> "(5,5,0)"[color=red,label="11"]  "(8,2,0)" -> "(5,2,3)"[label="2"]}</textarea><script>  var viz = new Viz();  var code = document.getElementById("graphviz-0-code").value;  viz.renderSVGElement(code)  .then(function(element) {    document.getElementById("graphviz-0").append(element)  });</script><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: ç¡®å®šåˆå§‹çŠ¶æ€(10, 0, 0), åŠ å…¥é˜Ÿåˆ—e1=>end: æœªæ‰¾åˆ°ç›®æ ‡çŠ¶æ€e2=>end: è¾¾åˆ°ç›®æ ‡çŠ¶æ€(5, 5, 0)op1=>operation: å–å‡ºé˜Ÿåˆ—å¤´éƒ¨ä¸­çš„ç¬¬ä¸€ä¸ªçŠ¶æ€cond1=>condition: æ­¤çŠ¶æ€æ˜¯å¦ä¸ºç©º?cond2=>condition: æ˜¯å¦ä¸ºç›®æ ‡çŠ¶æ€?op2=>operation: å°†æ‰€æœ‰å¯èƒ½ä¸‹ä¸€æ­¥çŠ¶æ€åŠ å…¥é˜Ÿåˆ—å°¾éƒ¨st->op1->cond1cond1(yes)->e1cond1(no)->cond2cond2(yes)->e2cond2(no)->op2op2->op1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>è¿™æ˜¯è„šæ³¨ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> hexo plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿®å¤MacOSä¸Šcrontabçš„Operation not permittedé—®é¢˜</title>
      <link href="/blog/2020/06/10/fix-crontab-operation-not-permitted-on-mac/"/>
      <url>/blog/2020/06/10/fix-crontab-operation-not-permitted-on-mac/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºé¡¹ç›®éœ€è¦Xcodeï¼Œä½†æ˜¯Xcodeåˆå¿…é¡»è¦åœ¨<code>10.15</code>ä»¥ä¸Šçš„ç³»ç»Ÿä¸‹è¿è¡Œï¼Œä¸å¾—å·²æ›´æ–°äº†ç³»ç»Ÿï¼Œç„¶è€Œæ›´æ–°ä¸€æ—¶çˆ½ï¼Œbugä¿®å¤***ã€‚çœŸçš„æ˜¯å‡ºç°äº†å„ç§é—®é¢˜ï¼Œæ²¡åŠæ³•ï¼ŒæŒ¨ä¸ªè§£å†³å­â€¦</p><a id="more"></a><h2 id="èµ·å› "><a class="header-anchor" href="#èµ·å› ">#</a>èµ·å› </h2><p>ä¸ºäº†æ–¹ä¾¿ç”µè„‘è‡ªåŠ¨åŒ–æ•´ç†æ–‡æ¡£ï¼Œæˆ‘çš„ç”µè„‘ä¸Šä¸€ç›´è¿è¡Œç€ä¸€å †å®šæ—¶çš„è„šæœ¬ï¼Œç”¨æ¥éš”ä¸€æ®µæ—¶é—´å°†æˆªå›¾æ•´ç†åˆ°<code>å›¾ç‰‡</code>æ–‡ä»¶å¤¹ã€‚æœ‰äººè¿™é‡Œå¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠæˆªå›¾ç›®å½•è®¾ç½®æˆ<code>Pictures</code>ç›®å½•ï¼Œå› ä¸ºæˆªå›¾åœ¨æ¡Œé¢ç”¨èµ·æ¥æ›´æ–¹ä¾¿è¯¶ï¼Œæ¯•ç«Ÿæˆªå›¾å°±æ˜¯ä¸ºäº†å‘å‡ºå»æˆ–è€…åšä»€ä¹ˆçš„ä¸æ˜¯ã€‚</p><p>ä½†ç”¨å®Œæ‰€æœ‰æˆªå›¾éƒ½åœ¨æ¡Œé¢çœŸçš„å¥½ä¹±ã€‚</p><p>æ‰€ä»¥æˆ‘ä¹‹å‰ç‰ˆæœ¬çš„å®šæ—¶è„šæœ¬éƒ½æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ crontab -l</span><br><span class="line">30 */1 * * * bash /Users/onns/Documents/code/bash/clear </span><br><span class="line">0 22 * * * bash /Users/onns/Documents/code/bash/backup</span><br></pre></td></tr></table></figure><p>åœ¨æ›´æ–°ç³»ç»Ÿä¹‹å‰ä¸€ç›´éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†æ›´æ–°äº†ä¹‹å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">You have new mail.</span><br><span class="line">$ cat /var/mail/onns</span><br><span class="line">...</span><br><span class="line">bash: /Users/onns/Documents/code/bash/clear: Operation not permitted</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªçš„åŸå› å°±æ˜¯è‹¹æœæ›´æ–°äº†<code>System Integrity Protection</code>åŠŸèƒ½ï¼Œå…·ä½“çš„å¯ä»¥å»çœ‹å®˜æ–¹çš„å…¬å‘Šï¼š<a href="https://support.apple.com/en-us/HT204899" target="_blank" rel="noopener">About System Integrity Protection on your Mac</a>ï¼Œæ‰€ä»¥æœ€ç®€å•ç²—æš´çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯å…³é—­<code>SIP</code>ã€‚</p><p>ä½†æˆ‘è§‰å¾—ï¼Œè‹¹æœæ—¢ç„¶å‡ºäºå®‰å…¨è€ƒè™‘æ¨å‡ºäº†è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£å°±å°½é‡éµä»è‹¹æœçš„æ€è·¯æ¥ï¼Œæ¯•ç«Ÿä½ åé¢è¿˜è¦æ›´æ–°ç³»ç»Ÿï¼Œéš¾é“æ¯æ¬¡éƒ½å…³ä¸€æ¬¡ï¼Ÿä½•å†µå…³èµ·æ¥è¿˜æŒºéº»çƒ¦çš„ã€‚ã€‚ã€‚ä¹Ÿä¸å®‰å…¨ã€‚</p><p>åŒæ—¶ä½ ä¼šç•™æ„åˆ°ï¼Œ<code>ç³»ç»Ÿå®‰å…¨éšç§</code>é‡Œå¢åŠ äº†ä¸€é¡¹æƒé™åˆ’åˆ†<code>Full Disk Access</code>ï¼Œå¤§æ¦‚ä¹Ÿæ˜¯å‡ºäºå®‰å…¨è€ƒè™‘å§ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200610-1.png" alt="Full Disk Accessé¡µé¢"></p></center><p>è¿™æ˜¯æˆ‘ä¿®å¤bugä¹‹åçš„æˆªå›¾äº†ï¼Œæœ€å¼€å§‹çš„æ—¶å€™è¿™é‡Œé¢ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚</p><p>è¿˜æœ‰å°±æ˜¯ï¼Œæ‰“å¼€<code>Terminal</code>çš„æ—¶å€™ï¼Œä¼šå¼¹å‡ºä¸‹åˆ—ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The default interactive shell is now zsh.</span><br><span class="line">To update your account to use zsh, please run `chsh -s /bin/zsh`.</span><br><span class="line">For more details, please visit https://support.apple.com/kb/HT208050.</span><br></pre></td></tr></table></figure><p>è¯¦ç»†å¯ä»¥å»å®˜ç½‘çœ‹ï¼š<a href="https://support.apple.com/en-us/HT208050" target="_blank" rel="noopener">Use zsh as the default shell on your Mac</a></p><p>æ‰€ä»¥æ€»ç»“æ¥è¯´ï¼Œå®šæ—¶è„šæœ¬å‡ºé”™çš„åŸå› æœ‰ä¸¤ç‚¹ï¼š</p><ol><li>è‹¹æœæ›´æ”¹äº†é»˜è®¤çš„shellå·¥å…·</li><li>shellå·¥å…·çš„æƒé™ä¸å¤Ÿ</li><li>crontabçš„æƒé™ä¸å¤Ÿï¼ˆè‡ªæˆ‘çŒœæµ‹ï¼Œä¸çŸ¥é“è¿™ç‚¹æ˜¯ä¸æ˜¯å½±å“å› ç´ ï¼‰</li></ol><h2 id="è§£å†³"><a class="header-anchor" href="#è§£å†³">#</a>è§£å†³</h2><h3 id="æ›´æ”¹shell"><a class="header-anchor" href="#æ›´æ”¹shell">#</a>æ›´æ”¹shell</h3><p>è¿™ä¸€ç‚¹å¾ˆå¥½æ“ä½œï¼Œé¦–å…ˆå…ˆå°†<code>zsh</code>ä½œä¸ºé»˜è®¤çš„shellå·¥å…·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><p>ç„¶ååªéœ€è¦é‡å¯ä¸€ä¸‹<code>Terminal</code>å°±å¯ä»¥äº†ã€‚</p><p>ç„¶åä¿®æ”¹ä¸€ä¸‹å®šæ—¶ä»»åŠ¡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">% crontab -e</span><br><span class="line">30 */1 * * * zsh /Users/onns/Documents/code/bash/clear </span><br><span class="line">0 22 * * * zsh /Users/onns/Documents/code/bash/backup</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘è¿™æ ·åˆè¯•äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯æŠ¥é”™äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zsh: can<span class="string">'t open input file: /Users/onns/Documents/code/bash/clear</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥è¿˜æ˜¯éœ€è¦ç»™<code>zsh</code>æƒé™</p><h3 id="èµ‹äºˆfull-disk-accessæƒé™"><a class="header-anchor" href="#èµ‹äºˆfull-disk-accessæƒé™">#</a>èµ‹äºˆFull Disk Accessæƒé™</h3><ol><li>æ‰“å¼€<code>System Preference -&gt; Security &amp; Privacy -&gt; Privacy</code>ã€‚</li><li>æ‰¾åˆ°<code>Full Disk Access</code>ã€‚</li><li>ç‚¹å‡»å·¦ä¸‹è§’çš„<code>é”å¤´ğŸ”’</code>è§£é”æ›´æ”¹æƒé™ï¼Œè¾“å…¥å¯†ç ã€‚</li><li>ç‚¹å‡»æ·»åŠ æŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçš„æ–‡ä»¶æµè§ˆé¡µé¢æŒ‰ä½<code>cmd+shift+G</code>ï¼Œè¾“å…¥<code>/bin</code>ï¼Œç‚¹å‡»<code>go</code>æ¥åˆ°<code>/bin</code>ç›®å½•å¹¶é€‰æ‹©<code>zsh</code>ï¼Œæ·»åŠ ã€‚</li><li>åŒç†åœ¨<code>/usr/sbin/</code>ç›®å½•ä¸‹æ‰¾åˆ°<code>cron</code>ï¼Œæ·»åŠ ã€‚</li></ol><p>æˆåŠŸï¼Œå®Œã€‚</p><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://support.apple.com/en-us/HT204899" target="_blank" rel="noopener">About System Integrity Protection on your Mac</a></li><li><a href="https://support.apple.com/en-us/HT208050" target="_blank" rel="noopener">Use zsh as the default shell on your Mac</a></li><li><a href="https://osxdaily.com/2020/04/27/fix-cron-permissions-macos-full-disk-access/" target="_blank" rel="noopener">How to Fix Cron Permission Issues in MacOS Catalina &amp; Mojave</a></li><li><a href="https://blog.bejarano.io/fixing-cron-jobs-in-mojave/" target="_blank" rel="noopener">Fixing cron jobs in Mojave</a></li><li><a href="https://stackoverflow.com/questions/58593877/crontab-cant-execute-python-script-with-error-errno-1-operation-not-permitt" target="_blank" rel="noopener">Crontab canâ€™t execute python script with error: â€œ[Errno 1] Operation not permittedâ€</a></li><li><a href="https://www.howtogeek.com/444596/how-to-change-the-default-shell-to-bash-in-macos-catalina/" target="_blank" rel="noopener">How to Change the Default Shell to Bash on macOS Catalina</a></li><li><a href="https://blog.csdn.net/qq_38287952/article/details/86755672" target="_blank" rel="noopener">Macæƒé™é—®é¢˜ï¼Œoperation not permitted</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cron </tag>
            
            <tag> crontab </tag>
            
            <tag> Catalina </tag>
            
            <tag> macos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›å¤„ç†å­—ç¬¦çš„å·¥å…·</title>
      <link href="/blog/2020/06/05/some-tools/"/>
      <url>/blog/2020/06/05/some-tools/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://onns.xyz/tools/hyphens-to-camel-case/">è¿å­—ç¬¦è½¬é©¼å³°å¼</a></li></ul><a id="more"></a><h2 id="è¿å­—ç¬¦è½¬é©¼å³°å¼"><a class="header-anchor" href="#è¿å­—ç¬¦è½¬é©¼å³°å¼">#</a><a href="https://onns.xyz/tools/hyphens-to-camel-case/">è¿å­—ç¬¦è½¬é©¼å³°å¼</a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toCamel</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> temp = str.replace(<span class="regexp">/(?:-+([^-]))/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$<span class="number">1</span>, $<span class="number">2</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $<span class="number">2.</span>toUpperCase();</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> temp.slice(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + temp.slice(<span class="number">1</span>);;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://colorlib.com/wp/template/contact-form-v9/" target="_blank" rel="noopener">Contact Form v9</a></li><li><a href="https://regexper.com/#%2F%28%5B%5E-%5D%29%28%3F%3A-%2B%28%5B%5E-%5D%29%29%2Fg" target="_blank" rel="noopener">Regexper</a></li><li><a href="https://blog.csdn.net/qq_42392522/article/details/83376466" target="_blank" rel="noopener">JS å®ç°ï¼šé©¼å³°å¼è½¬ä¸‹æ¨ªçº¿ï¼Œä¸‹æ¨ªçº¿è½¬é©¼å³°å¼</a></li><li><a href="https://blog.csdn.net/qq_26212731/article/details/78523624" target="_blank" rel="noopener">jsç›‘å¬textarea å†…å®¹çš„å˜åŒ–ï¼Œå¹¶è®¡ç®—å†…å®¹çš„é•¿åº¦</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tools </tag>
            
            <tag> hyphens </tag>
            
            <tag> camel case </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨MacOSä¸Šéƒ¨ç½²ftpæœåŠ¡å™¨</title>
      <link href="/blog/2020/06/02/ftp-server-on-mac/"/>
      <url>/blog/2020/06/02/ftp-server-on-mac/</url>
      
        <content type="html"><![CDATA[<p>20200717 æ›´æ–°ï¼š<br>æ¯æ¬¡ç”µè„‘é‡å¯ä¹‹åéœ€è¦æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew services stop pure-ftpd</span><br><span class="line">sudo /usr/<span class="built_in">local</span>/sbin/pure-ftpd -lpam -B</span><br><span class="line">brew services start pure-ftpd</span><br></pre></td></tr></table></figure><p>ftp æ‰ä¼šç”Ÿæ•ˆã€‚</p><hr><p>å› ä¸ºå°ç±³æ‰‹æœºçš„æ–‡ä»¶ç®¡ç†æ”¯æŒè¿œç¨‹å­˜å‚¨æœåŠ¡ï¼Œæ—©å°±æƒ³åœ¨è‡ªå·±çš„ Mac ä¸Šå¼„äº†ï¼Œä½†æ˜¯æœç´¢äº†å‡ æ¬¡éƒ½å¤±è´¥äº†ï¼Œæ˜¨æ™šåŠå¤œä¸¤ç‚¹çƒ­å¾—ç¡ä¸ç€ï¼ˆå¥½æƒ¨ä¸€ç”·çš„ï¼‰ï¼Œèµ·åºŠæ£é¼“ï¼Œè®°å½•ä¹‹ã€‚</p><a id="more"></a><center><p><img src="//onns.xyz/blog/image/20200602-1.jpg" alt="æ‰‹æœºæ–‡ä»¶ç®¡ç†æ”¯æŒè¿œç¨‹å­˜å‚¨åˆ—è¡¨"></p></center><p>ä¹‹å‰æœç´¢çš„ï¼Œæ— ä¸€ä¾‹å¤–ï¼Œå…¨æ˜¯å«æˆ‘è¾“å…¥å¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -s launchctl load -w /System/Library/LaunchDaemons/ftp.plist</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯çœ‹ä¸‹é¢çš„æ¶ˆæ¯ï¼ŒåŸæ–‡é“¾æ¥ç‚¹<a href="https://apple.stackexchange.com/questions/361901/host-ftp-server-on-mojave" target="_blank" rel="noopener">è¿™é‡Œ</a>ï¼š</p><blockquote><p>Apple removed the included File Transfer Protocol (FTP) server from recent versions of macOS. FTP is not secure by default and better avoided.<br>FTP is not secure because the connection is not encrypted. Modern network protocols are encrypted by default â€“ even on local networks.</p></blockquote><p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè‹¹æœå®˜æ–¹å·²ç»æŠŠ ftp.plist<code>ç§»é™¤</code>äº†ï¼Œè§£å†³åŠæ³•æ˜¯éœ€è¦è‡ªå·±å®‰è£…ä¸€ä¸ª<code>ftpdæœåŠ¡</code>ã€‚</p><p>ç”¨<code>homebrew</code>å°±å¯ä»¥å®‰è£…äº†ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…å¯ä»¥å‚è€ƒ<a href="https://onns.xyz/blog/2020/06/01/install-homebrew-on-mac/">è¿™é‡Œ</a>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install pure-ftpd</span><br><span class="line">brew services start pure-ftpd</span><br></pre></td></tr></table></figure><p>ç„¶åéœ€è¦é…ç½®<code>ftpd</code>çš„éªŒè¯ï¼Œä½¿ä¹‹å¯ä»¥é€šè¿‡ç³»ç»Ÿç”¨æˆ·è¿›è¡ŒéªŒè¯ç™»å½•ã€‚<br>æ–°å»ºä¸€ä¸ª<code>/etc/pam.d/pure-ftpd</code>æ–‡ä»¶ï¼Œè®°å¾—ç”¨ root æƒé™ç¼–è¾‘ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/pam.d/pure-ftpd</span><br></pre></td></tr></table></figure><p>å†…å®¹å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># pure-ftpd: auth account password session</span><br><span class="line">auth       required       pam_opendirectory.so</span><br><span class="line">account    required       pam_permit.so</span><br><span class="line">password   required       pam_deny.so</span><br><span class="line">session    required       pam_permit.so</span><br></pre></td></tr></table></figure><p>ç„¶åè®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/<span class="built_in">local</span>/sbin/pure-ftpd -lpam -B</span><br></pre></td></tr></table></figure><p>æœ€åé‡å¯ä¸€ä¸‹<code>pure-ftpd</code>æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services restart pure-ftpd</span><br></pre></td></tr></table></figure><p>åœæ­¢çš„å‘½ä»¤æ˜¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services stop pure-ftpd</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯<code>pure-ftpd</code>çš„<a href="https://download.pureftpd.org/pub/pure-ftpd/doc/README.MacOS-X" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œè™½ç„¶å¾ˆç®€å•ä½†ã€‚ã€‚ã€‚èŠèƒœäºæ— å§ã€‚</p><h2 id="æ±‡æ€»"><a class="header-anchor" href="#æ±‡æ€»">#</a>æ±‡æ€»</h2><p>å¦‚æœå‡ºç°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒ <a href="https://superuser.com/questions/1398800/pure-ftpd-connection-refused-localhost-on-high-sierra" target="_blank" rel="noopener">pure-ftpd Connection refused localhost on high sierra</a>ï¼Œè¿™ä¸ªè½¯ä»¶çš„ç›¸å…³æ–‡æ¡£çœŸçš„å¾ˆä¸å®Œå–„ï¼Œé‡å¤å®Œæˆä¸‹è¿°æ­¥éª¤åº”è¯¥å°±å¯ä»¥è§£å†³äº†ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘å‡ºé—®é¢˜äº†ï¼Œä½†æ˜¯é‡è£…å°±è§£å†³äº†ï¼Œè¿™å¤§æ¦‚å°±æ˜¯é‡å¯/é‡è£…è§£å†³ 99%çš„é—®é¢˜çš„äººç”Ÿå››å¤§å“²ç†å§ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">brew services stop pure-ftpd</span><br><span class="line">brew remove pure-ftpd</span><br><span class="line">brew upgrade</span><br><span class="line">brew cleanup</span><br><span class="line">brew install pure-ftpd</span><br><span class="line">sudo vi /etc/pam.d/pure-ftpd</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># pure-ftpd: auth account password session</span><br><span class="line">auth       required       pam_opendirectory.so</span><br><span class="line">account    required       pam_permit.so</span><br><span class="line">password   required       pam_deny.so</span><br><span class="line">session    required       pam_permit.so</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/<span class="built_in">local</span>/sbin/pure-ftpd -lpam -B</span><br><span class="line">brew services restart pure-ftpd</span><br></pre></td></tr></table></figure><p>å®Œã€‚</p><p>çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œç›´æ¥åœ¨æ‰‹æœºä¸Šå­˜å–äº†å°±ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200602-2.jpg" alt="æ‰‹æœºè¿æ¥ftpç¤ºæ„å›¾"></p></center><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.jianshu.com/p/f4994754b74a" target="_blank" rel="noopener">MAC æ­å»º FTP æœåŠ¡å™¨</a>ï¼ˆä¸é è°±ï¼Œé”™è¯¯ç­”æ¡ˆï¼‰</li><li><a href="https://zhidao.baidu.com/question/653759039211321605.html" target="_blank" rel="noopener">mac os 10.13.6 å¦‚ä½•å¯åŠ¨ FTP æœåŠ¡å™¨ï¼Ÿæ€¥ï¼ </a>ï¼ˆä¸é è°±ï¼Œé”™è¯¯ç­”æ¡ˆï¼‰</li><li><a href="https://blog.csdn.net/weixin_33733810/article/details/92498798" target="_blank" rel="noopener">Mac å®è·µâ€“MAC æ­å»º FTP æœåŠ¡å™¨</a>ï¼ˆSFTP å¯ä»¥å‚ç…§è¿™ä¸ªï¼ŒFTP ä¾ç„¶æ˜¯é”™è¯¯çš„ï¼‰</li><li><a href="https://apple.stackexchange.com/questions/361901/host-ftp-server-on-mojave" target="_blank" rel="noopener">host ftp server on Mojave</a></li><li><a href="https://apple.stackexchange.com/questions/141633/quick-to-install-and-set-up-ftp-server-on-homebrew-for-osx" target="_blank" rel="noopener">quick to install and set up FTP server on homebrew for OSX</a></li><li><a href="https://download.pureftpd.org/pub/pure-ftpd/doc/README.MacOS-X" target="_blank" rel="noopener">PURE-FTPD DOCUMENTATION-Notes for MacOS users</a></li><li><a href="https://superuser.com/questions/1398800/pure-ftpd-connection-refused-localhost-on-high-sierra" target="_blank" rel="noopener">pure-ftpd Connection refused localhost on high sierra</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
            <tag> homebrew </tag>
            
            <tag> ftpd </tag>
            
            <tag> pure-ftpd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨MacOSä¸Šå®‰è£…Homebrew</title>
      <link href="/blog/2020/06/01/install-homebrew-on-mac/"/>
      <url>/blog/2020/06/01/install-homebrew-on-mac/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºæƒ³åœ¨Macä¸Šå®‰è£…<code>python3</code>ï¼Œä¸€ä¸ªæœ€å‹å¥½çš„æ–¹å¼æ˜¯å®‰è£…<code>pyenv</code>ï¼Œæ‰€ä»¥é¡ºä¾¿æŠŠåŒ…ç®¡ç†å·¥å…·<code>homebrew</code>ä¸€èµ·å®‰è£…äº†å­ã€‚</p><a id="more"></a><p>å®‰è£…æ–¹æ³•å‚ç…§<a href="https://docs.brew.sh/Installation" target="_blank" rel="noopener">å®˜æ–¹å®‰è£…æ–‡æ¡£</a>ï¼Œä¸è¿‡è¿™ä¸ªé…ç½®å¥½åƒæœ‰ç‚¹éº»çƒ¦ï¼Œå¦‚æœæƒ³è¦ä¸€é”®å¯ä»¥è¯•è¯•<a href="https://treehouse.github.io/installation-guides/mac/homebrew" target="_blank" rel="noopener">è¿™ä¸ª</a>ã€‚</p><p>æˆ‘æœ¬æ¥æ˜¯æƒ³é¡ºç€å®˜æ–¹æ–‡æ¡£æ¥çš„ï¼Œä½†æ˜¯è¿˜è¦é…ç½®ç¯å¢ƒå˜é‡çš„æ ·å­ï¼Œç®—äº†ï¼Œç”¨ä¸€é”®è„šæœ¬ã€‚</p><p>åœ¨ç”¨ä¹‹å‰éœ€è¦è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œ<code>GitHub</code> çš„æºåœ¨å›½å†…è®¿é—®å¤ªæ…¢äº†ã€‚ã€‚ã€‚ä¹‹å‰å°è¯•è¿‡ç”¨ <code>HTTP_PROXY</code>ï¼Œå‘ç°æ²¡ä»€ä¹ˆç”¨ï¼Œä»Šå¤©åˆå»æŸ¥äº†ä¸€ä¸‹ï¼Œè¿™ä¸‹å°±å¯ä»¥äº†ã€‚éšæ„æ„Ÿå—ä¸‹é€Ÿåº¦çš„å˜åŒ–ï¼Œä»<code>41.00 KiB/s</code>åˆ°<code>9.04 MiB/s</code>ï¼Œå®Œå…¨ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§å¥½å§ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200601-1.png" alt="æœªå¼€å¯ä»£ç†ä¹‹å‰"></p><p><img src="//onns.xyz/blog/image/20200601-2.png" alt="å¼€å¯ä»£ç†ä¹‹å"></p></center><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯ä»£ç†å‘½ä»¤ï¼Œè¿™ä¸ªéœ€è¦ä½ æœ¬åœ°æœ‰ä»£ç†ç¨‹åºå“¦</span></span><br><span class="line"><span class="built_in">export</span> ALL_PROXY=socks5://127.0.0.1:1081</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥ä¸€é”®å®‰è£…<code>homebrew</code>äº†ï¼Œä¸­é—´è¾“å…¥ä¸€æ¬¡å¯†ç å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e <span class="string">"<span class="variable">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>"</span></span><br></pre></td></tr></table></figure><p>ç„¶åå®‰è£…<code>pyenv</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install pyenv</span><br></pre></td></tr></table></figure><p>ç„¶åå®‰è£…<code>python3</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyenv install 3.8.0</span><br></pre></td></tr></table></figure><p>è™½ç„¶<code>pyenv</code>å’Œ<code>python3</code>éƒ½è£…å¥½äº†ï¼Œä½†æ˜¯è¿˜æ˜¯è¦è®¾ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œå‚ç…§å®˜æ–¹çš„<a href="https://github.com/pyenv/pyenv#installation" target="_blank" rel="noopener">æ–‡æ¡£</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'export PYENV_ROOT="$HOME/.pyenv"'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH="$PYENV_ROOT/bin:$PATH"'</span> &gt;&gt; ~/.bash_profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">'if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\n  eval "$(pyenv init -)"\nfi'</span> &gt;&gt; ~/.bash_profile</span><br></pre></td></tr></table></figure><p>ç„¶åé‡å¯ä¸€ä¸‹å‘½ä»¤è¡Œå³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ pyenv global 3.8.0</span><br><span class="line">$ python</span><br><span class="line">Python 3.8.0 (default, Jun  1 2020, 11:01:42) </span><br><span class="line">[Clang 10.0.1 (clang-1001.0.46.4)] on darwin</span><br><span class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> or <span class="string">"license"</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">exit</span>()</span><br></pre></td></tr></table></figure><p>å®Œã€‚</p><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://opensource.com/article/19/5/python-3-default-mac" target="_blank" rel="noopener">The right and wrong way to set Python 3 as default on a Mac</a></li><li><a href="https://treehouse.github.io/installation-guides/mac/homebrew" target="_blank" rel="noopener">Installing Homebrew on a Mac</a></li><li><a href="https://docs.brew.sh/Installation" target="_blank" rel="noopener">Homebrew Documentation</a></li><li><a href="https://www.zhihu.com/question/276143842" target="_blank" rel="noopener">æ€ä¹ˆè§£å†³ä»githubä¸‹è½½èµ„æºæ…¢ï¼Ÿ</a></li><li><a href="https://github.com/pyenv/pyenv#installation" target="_blank" rel="noopener">Simple Python Version Management: pyenv</a></li><li><a href="https://stackoverflow.com/questions/33321312/cannot-switch-python-with-pyenv" target="_blank" rel="noopener">Cannot switch Python with pyenv</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> macos </tag>
            
            <tag> homebrew </tag>
            
            <tag> pyenv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chromeæ’ä»¶-åŒæ­¥æ’­æ”¾ç”µå½±</title>
      <link href="/blog/2020/05/12/chrome-extension-sync-sofa/"/>
      <url>/blog/2020/05/12/chrome-extension-sync-sofa/</url>
      
        <content type="html"><![CDATA[<h2 id="å¤ªé•¿ä¸çœ‹ç‰ˆ"><a class="header-anchor" href="#å¤ªé•¿ä¸çœ‹ç‰ˆ">#</a>å¤ªé•¿ä¸çœ‹ç‰ˆ</h2><p>sync-sofaæ˜¯ä¸€ä¸ªchromeçš„æ’ä»¶ï¼Œå®‰è£…ä¹‹åå¯ä»¥è®©ä¸¤å°ä¸åŒçš„è®¾å¤‡åœ¨æ’­æ”¾åŒä¸€ä¸ªè§†é¢‘æºçš„æ—¶å€™ï¼Œå½¼æ­¤åŒæ­¥æ“ä½œï¼ˆæ’­æ”¾ã€æš‚åœã€æ‹–åŠ¨è¿›åº¦æ¡ç­‰ï¼‰ã€‚</p><p>ç›®å‰æ”¯æŒçš„ç½‘ç«™ï¼š</p><ul><li><a href="https://www.iqiyi.com/" target="_blank" rel="noopener">çˆ±å¥‡è‰º</a></li><li><a href="https://www.youku.com/" target="_blank" rel="noopener">ä¼˜é…·è§†é¢‘</a></li><li><a href="https://www.weiyun.com/" target="_blank" rel="noopener">å¾®äº‘ç½‘ç›˜</a></li><li><a href="https://v.qq.com/" target="_blank" rel="noopener">è…¾è®¯è§†é¢‘</a></li><li><a href="https://www.youtube.com/" target="_blank" rel="noopener">YouTube</a></li></ul><a id="more"></a><h3 id="æ“ä½œæµç¨‹"><a class="header-anchor" href="#æ“ä½œæµç¨‹">#</a>æ“ä½œæµç¨‹</h3><p>è¿™é‡Œä»¥<code>å¾®äº‘</code>ä¸ºä¾‹ï¼Œå¥½å¤„æ˜¯åªè¦ä½ æ‰¾åˆ°äº†è§†é¢‘æºï¼Œå°±å¯ä»¥æ’­æ”¾ä»»ä½•ä½ æƒ³è¦æ’­æ”¾çš„è§†é¢‘ã€‚æœ¬æ¥ä¹Ÿæƒ³åŠ å…¥ç™¾åº¦äº‘çš„ï¼Œä½†å¥ˆä½•ç™¾åº¦äº‘æœ‰æ‰€é™åˆ¶ï¼Œåªèƒ½çœ‹æœªæ¥æ˜¯å¦æœ‰æŠ€æœ¯ä¸Šçš„çªç ´äº†ã€‚</p><p><strong>ç”¨æˆ·1</strong>ï¼šæµè§ˆå™¨é¡¶éƒ¨ä¸ºæ¸å˜è‰²ï¼Œä¸»é¢˜é¢œè‰²ä¸ºç²‰çº¢è‰²<br><strong>ç”¨æˆ·2</strong>ï¼šæµè§ˆå™¨é¡¶éƒ¨ä¸ºé»‘è‰²ï¼Œä¸»é¢˜é¢œè‰²ä¸ºé»‘è‰²</p><ol><li>åŒæ–¹éƒ½æ‰“å¼€è§†é¢‘ï¼Œè·³è¿‡ä¸€åˆ‡å¹¿å‘Šæˆ–è€…ç‰‡å¤´ä¹‹åï¼Œæš‚åœè§†é¢‘ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200512-1.png" alt="åˆå§‹é¡µé¢"></p></center><ol start="2"><li><strong>ç”¨æˆ·1</strong>ç‚¹å¼€æ’ä»¶ï¼Œç‚¹å‡»è¯·æ±‚<code>è¯†åˆ«ç </code>æŒ‰é’®ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200512-2.png" alt="è¯·æ±‚è¯†åˆ«ç é¡µé¢"></p></center><ol start="3"><li><strong>ç”¨æˆ·1</strong>è¯·æ±‚æˆåŠŸåï¼Œä¼šæ”¶åˆ°ä¸€ä¸ªé•¿åº¦ä¸º4çš„<code>è¯†åˆ«ç </code>ï¼ˆå›¾ç¤ºä¸­ä¸º<strong>aM9d</strong>ï¼‰ï¼Œ<code>è¯†åˆ«ç </code>è‡ªåŠ¨å¤åˆ¶åˆ°<code>å‰ªåˆ‡æ¿</code>ï¼Œå¹¶å¼¹å‡ºæç¤ºï¼Œæç¤ºå’Œæ’ä»¶é¡µé¢<code>3ç§’</code>åè‡ªåŠ¨å…³é—­ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200512-3.png" alt="è¯·æ±‚è¯†åˆ«ç æˆåŠŸé¡µé¢"></p></center><ol start="4"><li><strong>ç”¨æˆ·1</strong>å°†<code>è¯†åˆ«ç </code>å‘é€ç»™<strong>ç”¨æˆ·2</strong>ï¼Œ<strong>ç”¨æˆ·2</strong>ç‚¹å¼€æ’ä»¶ï¼Œåœ¨ä¸Šæ–¹è¾“å…¥æ¡†è¾“å…¥<code>è¯†åˆ«ç </code>ï¼Œç‚¹å‡»<strong>å¼€å§‹</strong>æŒ‰é’®ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200512-4.png" alt="æ ¹æ®è¯†åˆ«ç åŒ¹é…é¡µé¢"></p></center><ol start="5"><li><strong>ç”¨æˆ·2</strong>å’Œ<strong>ç”¨æˆ·1</strong>åŒ¹é…æˆåŠŸåï¼ŒåŒæ–¹éƒ½ä¼šæ”¶åˆ°æˆåŠŸæç¤ºã€‚è‡³æ­¤ï¼Œä¸€åˆ‡å‡†å¤‡å·¥ä½œå®Œæˆï¼Œå¯ä»¥å¼€å§‹è§‚çœ‹è§†é¢‘ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200512-5.png" alt="ç”¨æˆ·2åŒ¹é…æˆåŠŸç•Œé¢"></p><p><img src="//onns.xyz/blog/image/20200512-6.png" alt="ç”¨æˆ·1åŒ¹é…æˆåŠŸç•Œé¢"></p></center><ol start="6"><li>è‹¥<strong>ä¸€æ–¹ç”¨æˆ·</strong>æ–­å¼€è¿æ¥ï¼Œ<strong>å¦ä¸€æ–¹ç”¨æˆ·</strong>ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œå±Šæ—¶åªéœ€æŒ‰ç…§<code>æ­¥éª¤1-5</code>é‡æ–°å»ºç«‹è¿æ¥å³å¯ã€‚</li></ol><center><p><img src="//onns.xyz/blog/image/20200512-7.png" alt="æ ¹æ®è¯†åˆ«ç åŒ¹é…é¡µé¢"></p></center><h3 id="ç›¸å…³è¿æ¥"><a class="header-anchor" href="#ç›¸å…³è¿æ¥">#</a>ç›¸å…³è¿æ¥</h3><ul><li><a href="https://chrome.google.com/webstore/detail/sync-sofa-online-video-sy/kgpnhgmpijhpkefpddoehhminpfiddmg" target="_blank" rel="noopener">Chromeæ’ä»¶ä¸‹è½½åœ°å€</a></li><li><a href="https://github.com/LouisYLWang/Sync-Sofa" target="_blank" rel="noopener">é¡¹ç›®åœ°å€</a></li><li><a href="https://github.com/LouisYLWang/Sync-Sofa/issues" target="_blank" rel="noopener">åé¦ˆåœ°å€</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> extension </tag>
            
            <tag> sync-sofa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows10ä¸‹å®‰è£…PCL1.9.1</title>
      <link href="/blog/2020/04/11/pcl-vs2017-in-windows10/"/>
      <url>/blog/2020/04/11/pcl-vs2017-in-windows10/</url>
      
        <content type="html"><![CDATA[<p>PCLçš„åº“é…ç½®æ˜¯çœŸçš„ç¹çï¼Œé…ç½®äº†å¥½å¤šæ¬¡æ‰æˆåŠŸã€‚<br>Point Cloud Library 1.9.1 + Visual Studio 2017 + Windows 10</p><a id="more"></a><h2 id="pcl"><a class="header-anchor" href="#pcl">#</a>PCL</h2><p><code>PCL</code> ä» <code>1.8.0</code> ç‰ˆæœ¬å¼€å§‹ä»£ç éƒ½æ‰˜ç®¡åœ¨äº†<a href="https://github.com/PointCloudLibrary/pcl/releases/" target="_blank" rel="noopener">GitHub</a>ä¹‹ä¸Šï¼Œç‚¹å‡»è¿™é‡Œç›´æ¥ä¸‹è½½å³å¯ï¼š<a href="https://github.com/PointCloudLibrary/pcl/releases/download/pcl-1.9.1/PCL-1.9.1-AllInOne-msvc2017-win64.exe" target="_blank" rel="noopener">PCL-1.9.1-AllInOne-msvc2017-win64.exe</a>ã€‚</p><p>å› ä¸º <code>PCL</code> ä¼šä¾èµ–å¾ˆå¤šæ’ä»¶åº“ï¼Œæ‰€ä»¥ä¸‹ <code>AllInOne</code> ç‰ˆæœ¬å°±å¯ä»¥éƒ½è£…ä¸Šäº†ã€‚</p><p>å®‰è£…çš„æ—¶å€™ä¸€è·¯ä¸‹ä¸€æ­¥å³å¯ï¼Œä¸è¿‡éœ€è¦æ³¨æ„å®‰è£…çš„æœ€åä¼šå¼¹å‡ºä¸€ä¸ªå•ç‹¬çš„å®‰è£…ç¨‹åºæ¥å®‰è£… <code>OpenNI2</code>ã€‚å‡å¦‚æˆ‘ <code>PCLçš„å®‰è£…ç›®å½•ï¼ˆPCL_ROOTï¼‰</code> ä¸º <strong>D:\Program Files\PCL1.9.1</strong><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œé‚£ä¹ˆå»ºè®® <code>OpenNI2</code> çš„å®‰è£…ç›®å½•è®¾ç½®ä¸º <strong>%PCL_ROOT%\3rdParty\OpenNI2</strong>ï¼Œå³ï¼š<strong>D:\Program Files\PCL1.9.1\3rdParty\OpenNI2</strong>ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†ç¬¬ä¸‰æ–¹åº“ã€‚</p><p>è‡³æ­¤ï¼Œ<code>PCL</code> åŠå…¶ç›¸å…³ç¬¬ä¸‰æ–¹åº“å®‰è£…å®Œæˆã€‚</p><h2 id="æ·»åŠ ç¯å¢ƒå˜é‡"><a class="header-anchor" href="#æ·»åŠ ç¯å¢ƒå˜é‡">#</a>æ·»åŠ ç¯å¢ƒå˜é‡</h2><p>åœ¨ <code>è®¡ç®—æœºâ€”&gt;å±æ€§â€”&gt;é«˜çº§ç³»ç»Ÿå±æ€§â€”&gt;é«˜çº§â€”&gt;ç¯å¢ƒå˜é‡</code> ä¸­ï¼Œæ·»åŠ å¦‚ä¸‹<code>ç¯å¢ƒå˜é‡</code>ï¼š</p><center><table><thead><tr><th style="text-align:left">å˜é‡</th><th style="text-align:left">å€¼</th></tr></thead><tbody><tr><td style="text-align:left">PCL_ROOT</td><td style="text-align:left">D:\Program Files\PCL1.9.1</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\bin</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\Boost\lib</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\FLANN\bin</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\OpenNI2\Lib</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\OpenNI2\Redist</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\OpenNI2\Tools</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\Qhull\bin</td></tr><tr><td style="text-align:left">PATH</td><td style="text-align:left">%PCL_ROOT%\3rdParty\VTK\bin</td></tr></tbody></table></center><p>ç”±äºPATHè¦æ·»åŠ çš„å˜é‡å¾ˆå¤šï¼Œæœ‰ <code>8</code> ä¸ªï¼Œé‰´äºæœ‰äººæ‡’å¾—æ‰“å…«æ¬¡ï¼Œç›´æ¥ç‚¹å‡»<code>ç¼–è¾‘æ–‡æœ¬</code>ï¼Œå°†ä¸‹è¿°å†…å®¹ç²˜è´´åˆ°è¡Œå°¾å³å¯ï¼Œæ³¨æ„<strong>åˆ†å·</strong>ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200411-1.png" alt="ç¼–è¾‘æ–‡æœ¬ç¤ºæ„å›¾"></p></center><blockquote><p>%PCL_ROOT%\bin;%PCL_ROOT%\3rdParty\Boost\lib;%PCL_ROOT%\3rdParty\FLANN\bin;%PCL_ROOT%\3rdParty\OpenNI2\Lib;%PCL_ROOT%\3rdParty\OpenNI2\Redist;%PCL_ROOT%\3rdParty\OpenNI2\Tools;%PCL_ROOT%\3rdParty\Qhull\bin;%PCL_ROOT%\3rdParty\VTK\bin;</p></blockquote><h2 id="vs2017é…ç½®"><a class="header-anchor" href="#vs2017é…ç½®">#</a>VS2017é…ç½®</h2><p>æ‰“å¼€VS2017ï¼Œæ–°å»ºä¸€ä¸ª <code>C++</code>çš„<code>ç©ºé¡¹ç›®</code>å³å¯ã€‚</p><p>é¦–å…ˆæ‰“å¼€<code>å±æ€§ç®¡ç†å™¨</code>ï¼Œå¦‚æœæ‰¾ä¸åˆ°å¯ä»¥åœ¨<code>è§†å›¾-&gt;å…¶ä»–çª—å£-&gt;å±æ€§ç®¡ç†å™¨</code>ä¸­æ‰“å¼€ï¼Œæˆ–è€…ç›´æ¥æœç´¢ä¹Ÿå¯ä»¥ã€‚</p><p>ç„¶ååœ¨<code>å±æ€§ç®¡ç†å™¨-&gt; Release | x64</code>æ–‡ä»¶å¤¹å³é”®ï¼Œ<code>æ·»åŠ æ–°é¡¹ç›®å±æ€§è¡¨</code>ï¼Œåå­—è‡ªå·±èµ·å³å¯ã€‚</p><p>æ¥ç€å³é”®<code>åˆšåˆšåˆ›å»ºçš„å±æ€§è¡¨</code>ï¼Œç‚¹å‡»<code>å±æ€§</code>ï¼Œå¼¹å‡ºå¦‚å›¾æ‰€ç¤ºç•Œé¢ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200411-2.png" alt="å±æ€§é¡µ"></p></center><p>åœ¨ <code>é€šç”¨å±æ€§â€”&gt;VC++ç›®å½•â€”&gt;åŒ…å«ç›®å½•</code> ä¸­æ·»åŠ  <code>7</code> é¡¹ï¼Œè¿™ä¸ªåªèƒ½ä¸€ä¸ªä¸€ä¸ªåŠ ï¼Œå°±æ²¡æ³•å·æ‡’äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">D:\Program Files\PCL1.9.1\include\pcl-1.9</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\Boost\include\boost-1_68</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\Eigen\eigen3</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\FLANN\include</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\OpenNI2\Include</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\Qhull\include</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\VTK\include\vtk-8.1</span><br></pre></td></tr></table></figure><p>åœ¨ <code>é€šç”¨å±æ€§â€”&gt;VC++ç›®å½•â€”&gt;åº“ç›®å½•</code> ä¸­æ·»åŠ  <code>6</code> é¡¹ï¼ŒåŒä¸Šã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">D:\Program Files\PCL1.9.1\lib</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\Boost\lib</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\FLANN\lib</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\OpenNI2\Lib</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\Qhull\lib</span><br><span class="line">D:\Program Files\PCL1.9.1\3rdParty\VTK\lib</span><br></pre></td></tr></table></figure><p>åœ¨ <code>C/C++â€”&gt;é¢„å¤„ç†å™¨â€”&gt;é¢„å¤„ç†å™¨å®šä¹‰</code> ä¸­æ·»åŠ  <code>3</code> è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">_CRT_SECURE_NO_WARNINGS</span><br><span class="line">_SCL_SECURE_NO_WARNINGS</span><br><span class="line">_SILENCE_FPOS_SEEKPOS_DEPRECATION_WARNING</span><br></pre></td></tr></table></figure><p>å°† <code>C/C++â€”&gt;æ‰€æœ‰é€‰é¡¹â€”&gt;SDLæ£€æŸ¥</code> æ”¹ä¸º<code>å¦ (/sdl-)</code>ã€‚</p><p>åœ¨ <code>é€šç”¨å±æ€§â€”&gt;é“¾æ¥å™¨â€”&gt;è¾“å…¥â€”&gt;é™„åŠ çš„ä¾èµ–é¡¹</code> ä¸­æ·»åŠ  <code>lib</code> æ–‡ä»¶ï¼Œ<code>Release</code> å’Œ <code>Debug</code> æ‰€éœ€è¦çš„åº“æ–‡ä»¶ä¸åŒï¼Œå†™äº†ä¸€ä¸ªpythonè„šæœ¬æ–‡ä»¶ï¼Œä¿å­˜è¿è¡Œå°±å¯ä»¥äº†ã€‚ç„¶åæŠŠè¾“å‡ºçš„ç»“æœå¤åˆ¶æ·»åŠ å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®PCLçš„libç›®å½•</span></span><br><span class="line">PCL_LIB_DIR = <span class="string">'D:/Program Files/PCL1.9.1/lib'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®VTKçš„libç›®å½•</span></span><br><span class="line">VTK_LIB_DIR = <span class="string">'D:/Program Files/PCL1.9.1/3rdParty/VTK/lib'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹åˆ—ä¸¤è¡ŒäºŒé€‰å…¶ä¸€</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># VERSION = 'DEBUG'</span></span><br><span class="line">VERSION = <span class="string">'RELEASE'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> home, dirs, files <span class="keyword">in</span> os.walk(PCL_LIB_DIR):</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> files:</span><br><span class="line">        ext = <span class="string">'_release.lib'</span></span><br><span class="line">        num = <span class="number">-12</span></span><br><span class="line">        <span class="keyword">if</span> VERSION == <span class="string">'DEBUG'</span>:</span><br><span class="line">            ext = <span class="string">'_debug.lib'</span></span><br><span class="line">            num = <span class="number">-10</span></span><br><span class="line">        <span class="keyword">if</span> filename[num:] == ext:</span><br><span class="line">            print(filename)</span><br><span class="line">            <span class="comment"># fullname = os.path.join(home, filename)</span></span><br><span class="line">            <span class="comment"># print(fullname)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> home, dirs, files <span class="keyword">in</span> os.walk(VTK_LIB_DIR):</span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> files:</span><br><span class="line">        <span class="keyword">if</span> os.path.splitext(filename)[<span class="number">1</span>] == <span class="string">'.lib'</span>:</span><br><span class="line">            <span class="keyword">if</span> VERSION == <span class="string">'RELEASE'</span> <span class="keyword">and</span> filename[<span class="number">-6</span>:<span class="number">-4</span>] != <span class="string">'gd'</span>:</span><br><span class="line">                print(filename)</span><br><span class="line">            <span class="keyword">if</span> VERSION == <span class="string">'DEBUG'</span> <span class="keyword">and</span> filename[<span class="number">-6</span>:<span class="number">-4</span>] == <span class="string">'gd'</span>:</span><br><span class="line">                print(filename)</span><br></pre></td></tr></table></figure><center><p><img src="//onns.xyz/blog/image/20200411-3.png" alt="è¿è¡Œç»“æœå›¾"></p></center><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://mp.weixin.qq.com/s/WcNKk07GEAbhUTS1aPRufw" target="_blank" rel="noopener">PCL1.8.1+vs2015é…ç½®æ•™ç¨‹</a></li><li><a href="https://blog.csdn.net/weixin_41991128/article/details/83864713" target="_blank" rel="noopener">VS2017é…ç½®PCL1.9ï¼ˆwin10ç¯å¢ƒï¼‰</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>å®‰è£…çš„æ—¶å€™æœ‰äººå»ºè®®æŠŠç›®å½• <code>PCL 1.9.1</code> ä¸­é—´çš„<code>ç©ºæ ¼</code>åˆ æ‰ï¼Œæˆ‘å°±ç…§åšäº†ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows10 </tag>
            
            <tag> PCL </tag>
            
            <tag> point cloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘é¡µæˆªå›¾ä¹‹åœæ­¢GIF</title>
      <link href="/blog/2020/04/01/stop-gif-for-screenshot/"/>
      <url>/blog/2020/04/01/stop-gif-for-screenshot/</url>
      
        <content type="html"><![CDATA[<p>ç»å¸¸ä¼šæœ‰ç”¨åˆ°ç½‘é¡µæˆªå–çš„æ—¶å€™ï¼Œæˆªå–æ–¹æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯å¦‚æœé¡µé¢é‡ŒGIFå›¾å¾ˆå¤šçš„è¯ï¼Œä¼šå‡ºç°æˆªæ–­ï¼Œå³GIFä¸Šä¸‹ç”»é¢ä¸ä¸€è‡´ï¼ˆå› ä¸ºæœ¬è´¨ä¸Šå…¨å±æˆªå›¾ä¹Ÿéƒ½æ˜¯å…ˆæˆªå±å¹•å†æ‹¼æ¥çš„ï¼‰ã€‚èŠ±ç‚¹åŠŸå¤«æ‰¾äº†ä¸‹ï¼Œè®°å½•ä¹‹ã€‚</p><a id="more"></a><p>éƒ½æ˜¯ä»¥<code>Chrome</code>ä¸ºä¾‹ï¼Œå…¶å®ƒæµè§ˆå™¨å°±è‡ªè¡Œgoogleå’¯ã€‚é¦–å…ˆå»ä¸‹ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„å…¨å±æˆªå›¾æ’ä»¶ï¼Œ<a href="https://chrome.google.com/webstore/search/Screenshot?hl=en" target="_blank" rel="noopener">ä¼ é€é—¨</a>ã€‚</p><p>å°tipï¼šå¾®ä¿¡é¡µé¢é‡‡ç”¨çš„æ˜¯ <code>lazy load</code> æ¨¡å¼ï¼Œè¦è‡ªå·±æµè§ˆä¸€éå…¨æ–‡æ‰èƒ½åŠ è½½æ‰€æœ‰çš„GIFå’Œå›¾ç‰‡ã€‚</p><p>ç„¶åå°±æ‰“å¼€<code>å¼€å‘è€…æ¨¡å¼</code>ï¼Œå¿«æ·é”® <code>cmd+alt+i</code>ï¼Œé€‰æ‹©æ ‡ç­¾ä¸º <code>console</code> çš„ä¸€æ ï¼Œå°†ä¸‹è¿°ä»£ç ç²˜è´´è¿›å»ï¼Œå›è½¦å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createElement</span>(<span class="params">type, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> element = <span class="built_in">document</span>.createElement(type);</span><br><span class="line"></span><br><span class="line">    callback(element);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">freezeGif</span>(<span class="params">img</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = img.width,</span><br><span class="line">    height = img.height,</span><br><span class="line">    canvas = createElement(<span class="string">'canvas'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">clone</span>) </span>&#123;</span><br><span class="line">        clone.width = width;</span><br><span class="line">        clone.height = height;</span><br><span class="line">    &#125;),</span><br><span class="line">    attr,</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> freeze = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        canvas.getContext(<span class="string">'2d'</span>).drawImage(img, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; img.attributes.length; i++) &#123;</span><br><span class="line">            attr = img.attributes[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (attr.name !== <span class="string">'"'</span>) &#123; <span class="comment">// test for invalid attributes</span></span><br><span class="line">                canvas.setAttribute(attr.name, attr.value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        canvas.style.position = <span class="string">'absolute'</span>;</span><br><span class="line"></span><br><span class="line">        img.parentNode.insertBefore(canvas, img);</span><br><span class="line">        img.style.opacity = <span class="number">0</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (img.complete) &#123;</span><br><span class="line">        freeze();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        img.addEventListener(<span class="string">'load'</span>, freeze, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">freezeAllGifs</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Array</span>().slice.apply(<span class="built_in">document</span>.images).map(freezeGif);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">freezeAllGifs();</span><br></pre></td></tr></table></figure><p>ä»£ç è‡ª <a href="https://stackoverflow.com/a/24707088/13182099" target="_blank" rel="noopener">Stopping GIF Animation Programmatically</a> å¤„æ‹·è´ã€‚</p><p>ç„¶åGIFå›¾å°±éƒ½ä¸åŠ¨å•¦ã€‚</p><p>å®Œã€‚</p>]]></content>
      
      
      <categories>
          
          <category> work </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆä¸ƒï¼‰</title>
      <link href="/blog/2020/03/16/java-notes-7/"/>
      <url>/blog/2020/03/16/java-notes-7/</url>
      
        <content type="html"><![CDATA[<p>Javaæ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬10ç‰ˆ</p><h2 id="é›†åˆ"><a class="header-anchor" href="#é›†åˆ">#</a>é›†åˆ</h2><a id="more"></a><ul><li><code>for each</code> å¾ªç¯å¯ä»¥ä¸ä»»ä½•å®ç°äº† <code>Iterable</code> æ¥å£çš„å¯¹è±¡ä¸€èµ·å·¥ä½œã€‚</li><li>è¿­ä»£å™¨è®¿é—® <code>HashSet</code> è™½ç„¶å¯ä»¥ç¡®å®šåœ¨è¿­ä»£è¿‡ç¨‹ä¸­èƒ½å¤Ÿéå†åˆ°é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½†å´æ— æ³•é¢„çŸ¥å…ƒç´ è¢«è®¿é—®çš„æ¬¡åºã€‚</li><li>å°† Java è¿­ä»£å™¨è®¤ä¸ºæ˜¯<code>ä½äºä¸¤ä¸ªå…ƒç´ ä¹‹é—´</code>çš„ã€‚å½“è°ƒç”¨ <code>next</code> æ—¶ï¼Œè¿­ä»£å™¨å°±è¶Šè¿‡ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›åˆšåˆšè¶Šè¿‡çš„é‚£ä¸ªå…ƒç´ çš„å¼•ç”¨ã€‚</li><li>å¦‚æœæƒ³åˆ é™¤ä¸¤ä¸ªç›¸é‚»çš„å…ƒç´ ï¼Œéœ€è¦å…ˆ <code>next</code> å† <code>remove</code>ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; it = c.Iterator();</span><br><span class="line">it.next();</span><br><span class="line">it.remove();</span><br><span class="line">it.next();</span><br><span class="line">it.remove();</span><br></pre></td></tr></table></figure></li><li>åœ¨ Java ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ï¼Œæ‰€æœ‰é“¾è¡¨å®é™…ä¸Šéƒ½æ˜¯<code>åŒå‘é“¾æ¥çš„</code>ã€‚</li></ul><center><table><thead><tr><th style="text-align:left">é›†åˆç±»å‹</th><th style="text-align:left">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">ArrayList</td><td style="text-align:left">ä¸€ç§å¯ä»¥åŠ¨æ€å¢é•¿å’Œç¼©å‡çš„ç´¢å¼•åºåˆ—</td></tr><tr><td style="text-align:left">LinkedList</td><td style="text-align:left">ä¸€ç§å¯ä»¥åœ¨ä»»ä½•ä½ç½®è¿›è¡Œé«˜æ•ˆåœ°æ’äººå’Œåˆ é™¤æ“ä½œçš„æœ‰åºåºåˆ—</td></tr><tr><td style="text-align:left">ArrayDeque</td><td style="text-align:left">ä¸€ç§ç”¨å¾ªç¯æ•°ç»„å®ç°çš„åŒç«¯é˜Ÿåˆ—</td></tr><tr><td style="text-align:left">HashSet</td><td style="text-align:left">ä¸€ç§æ²¡æœ‰é‡å¤å…ƒç´ çš„æ— åºé›†åˆ</td></tr><tr><td style="text-align:left">TreeSet</td><td style="text-align:left">â€”ç§æœ‰åºé›†</td></tr><tr><td style="text-align:left">EnumSet</td><td style="text-align:left">ä¸€ç§åŒ…å«æšä¸¾ç±»å‹å€¼çš„é›†</td></tr><tr><td style="text-align:left">LinkedHashSet</td><td style="text-align:left">ä¸€ç§å¯ä»¥è®°ä½å…ƒç´ æ’äººæ¬¡åºçš„é›†</td></tr><tr><td style="text-align:left">PriorityQueue</td><td style="text-align:left">ä¸€ç§å…è®¸é«˜æ•ˆåˆ é™¤æœ€å°å…ƒç´ çš„é›†åˆ</td></tr><tr><td style="text-align:left">HashMap</td><td style="text-align:left">ä¸€ç§å­˜å‚¨é”®/å€¼å…³è”çš„æ•°æ®ç»“æ„</td></tr><tr><td style="text-align:left">TreeMap</td><td style="text-align:left">ä¸€ç§é”®å€¼æœ‰åºæ’åˆ—çš„æ˜ å°„è¡¨</td></tr><tr><td style="text-align:left">EnumMap</td><td style="text-align:left">ä¸€ç§é”®å€¼å±äºæšä¸¾ç±»å‹çš„æ˜ å°„è¡¨</td></tr><tr><td style="text-align:left">LinkedHashMap</td><td style="text-align:left">ä¸€ç§å¯ä»¥è®°ä½é”®/å€¼é¡¹æ·»åŠ æ¬¡åºçš„æ˜ å°„è¡¨</td></tr><tr><td style="text-align:left">WeakHashMap</td><td style="text-align:left">ä¸€ç§å…¶å€¼æ— ç”¨æ­¦ä¹‹åœ°åå¯ä»¥è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶çš„æ˜ å°„è¡¨</td></tr><tr><td style="text-align:left">IdentityHashMap</td><td style="text-align:left">ä¸€ç§ç”¨ == è€Œä¸æ˜¯ç”¨ equals æ¯”è¾ƒé”®å€¼çš„æ˜ å°„è¡¨</td></tr></tbody></table><p><img src="//onns.xyz/blog/image/20200316-1.png" alt="é›†åˆæ¡†æ¶ä¸­çš„ç±»"></p></center><ul><li>æ•°ç»„å’Œæ•°ç»„åˆ—è¡¨éƒ½æœ‰ä¸€ä¸ªé‡å¤§çš„ç¼ºé™·ã€‚è¿™å°±æ˜¯ä»æ•°ç»„çš„<code>ä¸­é—´ä½ç½®æ’å…¥/åˆ é™¤</code>ä¸€ä¸ªå…ƒç´ è¦ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·ï¼Œå…¶åŸå› æ˜¯æ•°ç»„ä¸­å¤„äºè¢«åˆ é™¤å…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ éƒ½è¦å‘æ•°ç»„çš„å‰ç«¯ç§»åŠ¨ã€‚</li><li>é“¾è¡¨æ˜¯ä¸€ä¸ªæœ‰åºé›†åˆã€‚</li><li>å¯ä»¥æ ¹æ®éœ€è¦ç»™å®¹å™¨é™„åŠ è®¸å¤šçš„è¿­ä»£å™¨ï¼Œä½†æ˜¯è¿™äº›è¿­ä»£å™¨åªèƒ½<code>è¯»å–åˆ—è¡¨</code>ã€‚å¦å¤–ï¼Œå†å•ç‹¬é™„åŠ ä¸€ä¸ª<code>æ—¢èƒ½è¯»åˆèƒ½å†™</code>çš„è¿­ä»£å™¨ã€‚</li><li>è¿­ä»£å™¨æ£€æµ‹åˆ°å¹¶å‘ä¿®æ”¹ï¼šåœ¨æ¯ä¸ªè¿­ä»£å™¨æ–¹æ³•çš„å¼€å§‹å¤„æ£€æŸ¥è‡ªå·±æ”¹å†™æ“ä½œçš„è®¡æ•°å€¼æ˜¯å¦ä¸é›†åˆçš„æ”¹å†™æ“ä½œè®¡æ•°å€¼ä¸€è‡´ã€‚</li><li>æ•£åˆ—è¡¨ï¼ˆhash tableï¼‰ï¼šè¦æƒ³æŸ»æ‰¾è¡¨ä¸­å¯¹è±¡çš„ä½ç½®ï¼Œå°±è¦å…ˆè®¡ç®—å®ƒçš„æ•£åˆ—ç ï¼Œç„¶åä¸æ¡¶çš„æ€»æ•°å–ä½™ï¼Œæ‰€å¾—åˆ°çš„ç»“æœå°±æ˜¯ä¿å­˜è¿™ä¸ªå…ƒç´ çš„æ¡¶çš„ç´¢å¼•ã€‚</li><li>è£…å¡«å› å­ï¼ˆload factorï¼‰å†³å®šä½•æ—¶å¯¹æ•£åˆ—è¡¨è¿›è¡Œå†æ•£åˆ—ã€‚</li><li>æ ‘é›†æ˜¯ä¸€ä¸ªæœ‰åºé›†åˆã€‚</li><li>é“¾æ¥æ•£åˆ—æ˜ å°„å°†ç”¨<code>è®¿é—®é¡ºåº</code>ï¼Œè€Œä¸æ˜¯<code>æ’å…¥é¡ºåº</code>ï¼Œå¯¹æ˜ å°„æ¡ç›®è¿›è¡Œè¿­ä»£ã€‚</li><li>æ¯æ¬¡è°ƒç”¨ get æˆ– putï¼Œå—åˆ°å½±å“çš„æ¡ç›®å°†ä»å½“å‰çš„ä½ç½®åˆ é™¤ï¼Œå¹¶æ”¾åˆ°æ¡ç›®é“¾è¡¨çš„å°¾éƒ¨ï¼ˆåªæœ‰æ¡ç›®åœ¨é“¾è¡¨ä¸­çš„ä½ç½®ä¼šå—å½±å“ï¼Œè€Œæ•£åˆ—è¡¨ä¸­çš„æ¡¶ä¸ä¼šå—å½±å“ã€‚ä¸€ä¸ªæ¡ç›®æ€»ä½äºä¸é”®æ•£åˆ—ç å¯¹åº”çš„æ¡¶ä¸­ï¼‰ã€‚</li><li>EmimSet æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹å…ƒç´ é›†çš„é«˜æ•ˆå®ç°ã€‚EnumSet ç±»æ²¡æœ‰å…¬å…±çš„æ„é€ å™¨ã€‚</li><li><code>IdentityHashMap</code> ç±»çš„é”®çš„æ•£åˆ—å€¼ä¸æ˜¯ç”¨ <code>hashCode</code> å‡½æ•°è®¡ç®— çš„ï¼Œè€Œæ˜¯ç”¨ <code>System.identityHashCode</code> æ–¹æ³•è®¡ç®—çš„ã€‚å®ƒæ ¹æ®å¯¹è±¡çš„å†…å­˜åœ°å€æ¥è®¡ç®—æ•£åˆ—ç ã€‚ä¸¤ä¸ªå¯¹è±¡åœ¨æ¯”è¾ƒæ—¶ä½¿ç”¨ <code>==</code>ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆå…­ï¼‰</title>
      <link href="/blog/2020/03/14/java-notes-6/"/>
      <url>/blog/2020/03/14/java-notes-6/</url>
      
        <content type="html"><![CDATA[<p>Javaæ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬10ç‰ˆ</p><h2 id="èŒƒå‹ç¨‹åºè®¾è®¡"><a class="header-anchor" href="#èŒƒå‹ç¨‹åºè®¾è®¡">#</a>èŒƒå‹ç¨‹åºè®¾è®¡</h2><a id="more"></a><ul><li>æ„é€ å‡½æ•°ä¸­å¯ä»¥çœç•¥æ³›å‹ç±»å‹ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; file = <span class="keyword">new</span> ArrayList&lt;&gt;()</span><br></pre></td></tr></table></figure></li><li>å‡ºç°ç¼–è¯‘é”™è¯¯æ¯”ç±»åœ¨è¿è¡Œæ—¶å‡ºç°ç±»çš„å¼ºåˆ¶ç±»å‹è½¬æ¢å¼‚å¸¸è¦å¥½å¾—å¤šã€‚</li><li><code>ç±»å‹å‚æ•°</code>ä½¿å¾—ç¨‹åºå…·æœ‰æ›´å¥½çš„<code>å¯è¯»æ€§</code>å’Œ<code>å®‰å…¨æ€§</code>ã€‚</li><li>æ³›å‹ç±»å¯ä»¥æœ‰å¤šä¸ªç±»å‹å˜é‡ï¼Œä¾‹å¦‚ <code>public class Pair&lt;T, U&gt; { ... }</code>ã€‚</li><li>æ³›å‹æ–¹æ³•å¯ä»¥å®šä¹‰åœ¨æ™®é€šç±»ä¸­ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨æ³›å‹ç±»ä¸­ã€‚</li><li>ç±»å‹å˜é‡æ”¾åœ¨ä¿®é¥°ç¬¦çš„åé¢ï¼Œè¿”å›ç±»å‹çš„å‰é¢ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArrayAlg</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">getMiddle</span><span class="params">(T... a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a[a.length / <span class="number">2</span>];</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å½“è°ƒç”¨ä¸€ä¸ªæ³›å‹æ–¹æ³•æ—¶ï¼Œåœ¨æ–¹æ³•åå‰çš„å°–æ‹¬å·ä¸­æ”¾äººå…·ä½“çš„ç±»å‹ï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String middle = ArrayAlg.&lt;String&gt;getMiddle(<span class="string">"John"</span>, <span class="string">"Q."</span>, <span class="string">"Public"</span>);</span><br></pre></td></tr></table></figure></li><li>å¯ä»¥é€šè¿‡å¯¹ç±»å‹å˜é‡ T è®¾ç½®<code>é™å®š</code>æ¥å¯¹ç±»å‹å˜é‡åŠ ä»¥çº¦æŸã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T extends Comparable&gt; <span class="function">T <span class="title">min</span><span class="params">(T[] a)</span> ...</span></span><br></pre></td></tr></table></figure></li><li>ä¸€ä¸ªç±»å‹å˜é‡æˆ–é€šé…ç¬¦å¯ä»¥æœ‰å¤šä¸ªé™å®šï¼Œä¾‹å¦‚ï¼š<code>T extends Comparable &amp; Serializable</code>ã€‚é™å®šç±»å‹ç”¨ <code>&amp;</code> åˆ†éš”ï¼Œè€Œ <code>,</code> ç”¨æ¥åˆ†éš”ç±»å‹å˜é‡ã€‚</li><li>åœ¨ Java çš„ç»§æ‰¿ä¸­ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ‹¥æœ‰å¤šä¸ªæ¥å£è¶…ç±»å‹ï¼Œä½†é™å®šä¸­è‡³å¤šæœ‰ä¸€ä¸ªç±»ã€‚å¦‚æœç”¨ ä¸€ä¸ªç±»ä½œä¸ºé™å®šï¼Œå®ƒå¿…é¡»æ˜¯é™å®šåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></li><li>æ— è®ºä½•æ—¶å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»å‹ï¼Œéƒ½è‡ªåŠ¨æä¾›äº†ä¸€ä¸ªç›¸åº”çš„åŸå§‹ç±»å‹ï¼ˆraw typeï¼‰ã€‚</li><li>åŸå§‹ç±»å‹ç”¨ç¬¬ä¸€ä¸ªé™å®šçš„ç±»å‹å˜é‡æ¥æ›¿æ¢ï¼Œå¦‚æœæ²¡æœ‰ç»™å®šé™å®šå°±ç”¨ <code>Object</code> æ›¿æ¢ã€‚</li><li>å½“ç¨‹åºè°ƒç”¨æ³›å‹æ–¹æ³•æ—¶ï¼Œå¦‚æœæ“¦é™¤è¿”å›ç±»å‹ï¼Œç¼–è¯‘å™¨æ’å…¥å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Pair&lt;Employee&gt; buddies = ...;</span><br><span class="line">Employee buddy = buddies.getFirst();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¯¹åŸå§‹æ–¹æ³• Pair.getFirst çš„è°ƒç”¨ã€‚</span></span><br><span class="line"><span class="comment">// 2. å°†è¿”å›çš„ Object ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸º Employee ç±»å‹ã€‚</span></span><br></pre></td></tr></table></figure></li><li>Java æ³›å‹è½¬æ¢ï¼š<ul><li>è™šæ‹Ÿæœºä¸­æ²¡æœ‰æ³›å‹ï¼Œåªæœ‰æ™®é€šçš„ç±»å’Œæ–¹æ³•ã€‚</li><li>æ‰€æœ‰çš„ç±»å‹å‚æ•°éƒ½ç”¨å®ƒä»¬çš„é™å®šç±»å‹æ›¿æ¢ã€‚</li><li>æ¡¥æ–¹æ³•è¢«åˆæˆæ¥ä¿æŒå¤šæ€ã€‚</li><li>ä¸ºä¿æŒç±»å‹å®‰å…¨æ€§ï¼Œå¿…è¦æ—¶æ’äººå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</li></ul></li><li>æ¡¥æ–¹æ³•ï¼šè§£å†³ç±»å‹æ“¦é™¤ä¸å¤šæ€å‘ç”Ÿçš„å†²çªã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DateInterval</span> <span class="keyword">extends</span> <span class="title">Pair</span>&lt;<span class="title">LocalDate</span>&gt; </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSecond</span><span class="params">(LocalDate second)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸Šè¿°ç±»æ“¦é™¤åä¼šå˜æˆ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DateInterval</span> <span class="keyword">extends</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSecond</span><span class="params">(LocalDate second)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½†ä¼šä»Pairç±»ä¸­ç»§æ‰¿ä¸€ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSecond</span><span class="params">(Object second)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¡¥æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSecond</span><span class="params">(Object second)</span> </span>&#123; setSecond((Date) second); &#125;</span><br></pre></td></tr></table></figure></li><li>å¤§å¤šæ•° Java æ³›å‹é™åˆ¶éƒ½æ˜¯ç”±ç±»å‹æ“¦é™¤å¼•èµ·çš„ã€‚</li><li>ä¸èƒ½ç”¨ç±»å‹å‚æ•°ä»£æ›¿åŸºæœ¬ç±»å‹ã€‚</li><li>è™šæ‹Ÿæœºä¸­çš„å¯¹è±¡æ€»æœ‰ä¸€ä¸ªç‰¹å®šçš„éæ³›å‹ç±»å‹ã€‚</li><li>ä¸èƒ½å®ä¾‹åŒ–å‚æ•°åŒ–ç±»å‹çš„æ•°ç»„ã€‚</li><li>ä¸èƒ½å®ä¾‹åŒ–ç±»å‹å˜ç½®ã€‚</li><li>ä¸èƒ½æ„é€ æ³›å‹æ•°ç»„ã€‚</li><li>å¸¦æœ‰è¶…ç±»å‹é™å®šçš„é€šé…ç¬¦å¯ä»¥å‘æ³›å‹å¯¹è±¡å†™äººï¼Œå¸¦æœ‰å­ç±»å‹é™å®šçš„é€šé…ç¬¦å¯ä»¥ä»æ³›å‹å¯¹è±¡è¯»å–ã€‚</li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ä¸å¤ªæ‡‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>é“ç†ç†è§£ä½†è¿˜éœ€è¦æ›´è¯¦ç»†çš„æ–‡æ¡£è¡¥å…… <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>InDesignå°æŠ€å·§</title>
      <link href="/blog/2020/02/27/Indesign-skills/"/>
      <url>/blog/2020/02/27/Indesign-skills/</url>
      
        <content type="html"><![CDATA[<p>è®°å½•ä¸€äº›InDesignçš„å°æŠ€å·§ã€‚</p><a id="more"></a><ul><li>InDesignå¯¼å…¥é«˜æ¸…å›¾åƒä¼šå¤±çœŸï¼ŒåŸå› æ˜¯ä¸ºäº†åŠ å¿«å›¾åƒçš„åŠ è½½é€Ÿåº¦ï¼Œè§£å†³æ–¹æ¡ˆï¼š<code>View-&gt;Display Performance-&gt;High Quality Display</code>ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://www.jb51.net/Indesign/632934.html" target="_blank" rel="noopener">Indesignå¯¼å…¥çš„é«˜æ¸…å›¾ç‰‡å˜æ¨¡ç³Šæ€ä¹ˆåŠ?</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> design </category>
          
      </categories>
      
      
        <tags>
            
            <tag> indesign </tag>
            
            <tag> adobe </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆäº”ï¼‰</title>
      <link href="/blog/2020/02/25/java-notes-5/"/>
      <url>/blog/2020/02/25/java-notes-5/</url>
      
        <content type="html"><![CDATA[<p>Javaæ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬10ç‰ˆ</p><h2 id="å¼‚å¸¸ã€æ–­è¨€å’Œæ—¥å¿—"><a class="header-anchor" href="#å¼‚å¸¸ã€æ–­è¨€å’Œæ—¥å¿—">#</a>å¼‚å¸¸ã€æ–­è¨€å’Œæ—¥å¿—</h2><a id="more"></a><h3 id="å¼‚å¸¸"><a class="header-anchor" href="#å¼‚å¸¸">#</a>å¼‚å¸¸</h3><ul><li>åœ¨ Java ç¨‹åºè®¾è®¡è¯­è¨€ä¸­ï¼Œå¼‚å¸¸å¯¹è±¡éƒ½æ˜¯æ´¾ç”Ÿäº <code>Throwable</code> ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚</li><li><code>Error</code> ç±»å±‚æ¬¡ç»“æ„æè¿°äº† Java è¿è¡Œæ—¶ç³»ç»Ÿçš„å†…éƒ¨é”™è¯¯å’Œèµ„æºè€—å°½é”™è¯¯ã€‚é™¤äº†é€šå‘Šç»™ç”¨æˆ·ï¼Œå¹¶å°½åŠ›ä½¿ç¨‹åºå®‰å…¨åœ°ç»ˆæ­¢ä¹‹å¤–ï¼Œå†æ— èƒ½ä¸ºåŠ›ã€‚</li><li>åœ¨è®¾è®¡ Java ç¨‹åºæ—¶ï¼Œ éœ€è¦å…³æ³¨ <code>Exception</code> å±‚æ¬¡ç»“æ„ï¼š<ol><li><strong>RuntimeException</strong>ï¼šç”±ç¨‹åºé”™è¯¯å¯¼è‡´çš„å¼‚å¸¸ã€‚</li><li><strong>å…¶å®ƒå¼‚å¸¸</strong>ï¼šç¨‹åºæœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œä½†ç”±äºåƒ<code>I/Oé”™è¯¯</code>è¿™ç±»é—®é¢˜å¯¼è‡´çš„å¼‚å¸¸ã€‚</li></ol></li><li>å¦‚æœå‡ºç° <code>RuntimeException</code> å¼‚å¸¸ï¼Œé‚£ä¹ˆå°±ä¸€å®šæ˜¯ä½ çš„é—®é¢˜ã€‚</li><li>æ´¾ç”Ÿäº Error ç±»æˆ– RuntimeException ç±»çš„æ‰€æœ‰å¼‚å¸¸ç§°ä¸º<code>éå—æŸ¥ï¼ˆuncheckedï¼‰å¼‚å¸¸</code>ï¼Œæ‰€æœ‰å…¶ä»–çš„å¼‚å¸¸ç§°ä¸º<code>å—æŸ¥ï¼ˆcheckedï¼‰å¼‚å¸¸</code>ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•å¿…é¡»å£°æ˜æ‰€æœ‰å¯èƒ½æŠ›å‡ºçš„å—æŸ¥å¼‚å¸¸ï¼Œè€Œéå—æŸ¥å¼‚å¸¸è¦ä¹ˆä¸å¯æ§åˆ¶ï¼ˆErrorï¼‰ï¼Œè¦ä¹ˆå°±åº”è¯¥é¿å…å‘ç”Ÿï¼ˆRuntimeExceptionï¼‰ã€‚</li><li>æŠ›å‡ºå¼‚å¸¸ï¼š<ol><li>æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„å¼‚å¸¸ç±»ã€‚</li><li>åˆ›å»ºè¿™ä¸ªç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚</li><li>å°†å¯¹è±¡æŠ›å‡ºã€‚</li></ol></li><li>å¦‚æœè°ƒç”¨äº†ä¸€ä¸ªæŠ›å‡ºå—æŸ¥å¼‚å¸¸çš„æ–¹æ³•ï¼Œå°±å¿…é¡»å¯¹å®ƒè¿›è¡Œå¤„ç†ï¼Œæˆ–è€…ç»§ç»­ä¼ é€’ã€‚</li><li>åº”è¯¥æ•è·é‚£äº›<code>çŸ¥é“å¦‚ä½•å¤„ç†çš„å¼‚å¸¸</code>ï¼Œè€Œå°†é‚£äº›<code>ä¸çŸ¥é“æ€æ ·å¤„ç†çš„å¼‚å¸¸</code>ç»§ç»­è¿›è¡Œä¼ é€’ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(String filename)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">try</span></span><br><span class="line">  &#123;</span><br><span class="line">    InputStream in = <span class="keyword">new</span> FileInputStream(filename);</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line">    <span class="keyword">while</span> ((b = in.read()) != -<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// process input</span></span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (IOException exception)</span><br><span class="line">  &#123;</span><br><span class="line">    exception.printStackTrace();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´å¥½çš„é€‰æ‹©ğŸ‘‡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(String filename)</span> <span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  InputStream in = <span class="keyword">new</span> FileInputStream(filename);</span><br><span class="line">  <span class="keyword">int</span> b;</span><br><span class="line">  <span class="keyword">while</span> ((b = in.read()) != -<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// process input</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å¦‚æœç¼–å†™ä¸€ä¸ªè¦†ç›–è¶…ç±»çš„æ–¹æ³•ï¼Œè€Œè¿™ä¸ªæ–¹æ³•åˆæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±å¿…é¡»æ•è·æ–¹æ³•ä»£ç ä¸­å‡ºç°çš„æ¯ä¸€ä¸ªå—æŸ¥å¼‚å¸¸ã€‚</li><li>ä¸å…è®¸åœ¨å­ç±»çš„ throws è¯´æ˜ç¬¦ä¸­å‡ºç°è¶…è¿‡è¶…ç±»æ–¹æ³•æ‰€åˆ—å‡ºçš„å¼‚å¸¸ç±»èŒƒå›´ã€‚</li><li>å¼ºçƒˆå»ºè®®ä½¿ç”¨è¿™ç§åŒ…è£…æŠ€æœ¯ï¼Œè¿™æ ·å¯ä»¥è®©ç”¨æˆ·æŠ›å‡ºå­ç³»ç»Ÿä¸­çš„é«˜çº§å¼‚å¸¸ï¼Œè€Œä¸ä¼šä¸¢å¤±åŸå§‹å¼‚å¸¸çš„ç»†èŠ‚ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> </span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// access the database</span></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (SQLException e)</span><br><span class="line">&#123;</span><br><span class="line">  Throwable se = <span class="keyword">new</span> ServletException(<span class="string">"database error"</span>);</span><br><span class="line">  se.initCause(e);</span><br><span class="line">  <span class="keyword">throw</span> se;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å¾—åŸå§‹å¼‚å¸¸</span></span><br><span class="line">Throwable e = se.getCause();</span><br></pre></td></tr></table></figure></li><li>ä¸ç®¡æ˜¯å¦æœ‰å¼‚å¸¸è¢«æ•è·ï¼Œ<code>finally</code> å­å¥ä¸­çš„ä»£ç éƒ½è¢«æ‰§è¡Œã€‚</li><li><code>å¸¦èµ„æºçš„ try è¯­å¥</code>å¯ä»¥å¾ˆå¥½åœ°å¤„ç†â€œå¦‚æœ try å—æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œè€Œä¸” close æ–¹æ³•ä¹ŸæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸â€çš„é—®é¢˜ã€‚</li><li>å¼‚å¸¸å¤„ç†ä¸èƒ½ä»£æ›¿ç®€å•çš„æµ‹è¯•ã€‚å› ä¸ºå¼‚å¸¸æ•è·çš„è€—æ—¶è¾ƒé•¿ã€‚</li><li>ä¸è¦è¿‡åˆ†åœ°ç»†åŒ–å¼‚å¸¸ã€‚</li><li>ä¸è¦å‹åˆ¶å¼‚å¸¸ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></li><li>åœ¨æ£€æµ‹é”™è¯¯æ—¶ï¼Œâ€œè‹›åˆ»â€è¦æ¯”â€œæ”¾ä»»â€æ›´å¥½ã€‚å°½æ—©æŠ›å‡ºå¼‚å¸¸å¯ä»¥è®©ä½¿ç”¨è€…æ›´æ–¹ä¾¿çš„å¤„ç†ï¼Œè€ŒæœªçŸ¥çš„å¼‚å¸¸æ‰æ˜¯æœ€éš¾æ£€æŸ¥çš„ã€‚</li><li>ä¸è¦ç¾äºä¼ é€’å¼‚å¸¸ã€‚</li></ul><hr><h3 id="æ–­è¨€"><a class="header-anchor" href="#æ–­è¨€">#</a>æ–­è¨€</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> æ¡ä»¶;</span><br><span class="line"><span class="keyword">assert</span> æ¡ä»¶:è¡¨è¾¾å¼;</span><br></pre></td></tr></table></figure><ul><li>æ–­è¨€å¤±è´¥æ˜¯è‡´å‘½çš„ã€ä¸å¯æ¢å¤çš„é”™è¯¯ã€‚</li><li>æ–­è¨€æ£€æŸ¥åªç”¨äºå¼€å‘å’Œæµ‹é˜¶æ®µã€‚</li></ul><hr><ul><li>7ä¸ªæ—¥å¿—è®°å½•å™¨çº§åˆ«ï¼š<ul><li>SEVERE</li><li>WARNING</li><li>INFO</li><li>CONFIG</li><li>FINE</li><li>FINER</li><li>FINEST</li></ul></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>æ²¡å¤ªçœ‹æ‡‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰</title>
      <link href="/blog/2020/02/24/java-notes-4/"/>
      <url>/blog/2020/02/24/java-notes-4/</url>
      
        <content type="html"><![CDATA[<p>Javaæ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬10ç‰ˆ</p><h2 id="æ¥å£ã€lambda-è¡¨è¾¾å¼ä¸å†…éƒ¨ç±»"><a class="header-anchor" href="#æ¥å£ã€lambda-è¡¨è¾¾å¼ä¸å†…éƒ¨ç±»">#</a>æ¥å£ã€lambda è¡¨è¾¾å¼ä¸å†…éƒ¨ç±»</h2><a id="more"></a><h3 id="æ¥å£"><a class="header-anchor" href="#æ¥å£">#</a>æ¥å£</h3><ul><li>æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨åœ°å±äº <code>public</code>ï¼Œåœ¨æ¥å£ä¸­å£°æ˜æ–¹æ³•æ—¶ä¸å¿…æä¾›å…³é”®å­— <code>public</code>ã€‚</li><li>æ¥å£ç»ä¸èƒ½å«æœ‰ <code>å®ä¾‹åŸŸ</code>ã€‚æä¾›å®ä¾‹åŸŸå’Œæ–¹æ³•å®ç°çš„ä»»åŠ¡åº”è¯¥ç”±å®ç°æ¥å£çš„é‚£ä¸ªç±»æ¥å®Œæˆã€‚</li><li>ä¸ºäº†è®©ç±»å®ç°ä¸€ä¸ªæ¥å£ï¼Œéœ€è¦ï¼š<ol><li>å°†ç±»å£°æ˜ä¸ºå®ç°ç»™å®šçš„æ¥å£ã€‚<br>è¦å°†ç±»å£°æ˜ä¸ºå®ç°æŸä¸ªæ¥å£ï¼Œéœ€è¦ä½¿ç”¨å…³é”®å­— <strong>implements</strong>ã€‚</li></ol>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span></span><br></pre></td></tr></table></figure><ol start="2"><li>å¯¹æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿›è¡Œå®šä¹‰ã€‚</li></ol></li><li>å¦‚æœå­˜åœ¨è¿™æ ·ä¸€ç§é€šç”¨ç®—æ³•ï¼Œå®ƒèƒ½å¤Ÿå¯¹ä¸¤ä¸ªä¸åŒçš„å­ç±»å¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼Œåˆ™åº”è¯¥åœ¨<code>è¶…ç±»</code>ä¸­æä¾›ä¸€ä¸ª <code>compareTo</code> æ–¹æ³•ï¼Œå¹¶å°†è¿™ä¸ªæ–¹æ³•å£°æ˜ä¸º <code>final</code>ã€‚</li><li>æ¥å£ä¸æ˜¯ç±»ï¼Œä¸èƒ½ä½¿ç”¨ <code>new</code> è¿ç®—ç¬¦å®ä¾‹åŒ–ä¸€ä¸ªæ¥å£ï¼Œä½†æ˜¯å¯ä»¥å£°æ˜æ¥å£çš„å˜é‡ï¼Œæ¥å£å˜é‡å¿…é¡»å¼•ç”¨å®ç°äº†æ¥å£çš„ç±»å¯¹è±¡ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="keyword">new</span> Comparable(...); <span class="comment">// ERROR</span></span><br><span class="line">Comparable x; <span class="comment">// OK</span></span><br><span class="line">x = <span class="keyword">new</span> Employee(...); <span class="comment">// OK provided Employee implements Comparable</span></span><br></pre></td></tr></table></figure></li><li>å¯ä»¥ä½¿ç”¨ <code>instance</code> æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å®ç°äº†æŸä¸ªç‰¹å®šçš„æ¥å£ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (anObject <span class="keyword">instanceof</span> Comparable) &#123;...&#125;</span><br></pre></td></tr></table></figure></li><li>æ¥å£ä¸­çš„åŸŸå°†è¢«è‡ªåŠ¨è®¾ä¸º <code>public static final</code>ã€‚</li><li>åœ¨å®ç°æ¥å£æ—¶ï¼Œå¿…é¡»æŠŠæ–¹æ³•å£°æ˜ä¸º <code>public</code>ï¼Œå¦åˆ™ï¼Œç¼–è¯‘å™¨å°†è®¤ä¸ºè¿™ä¸ªæ–¹æ³•çš„è®¿é—®å±æ€§æ˜¯åŒ…å¯è§æ€§ï¼Œå³ç±»çš„é»˜è®¤è®¿é—®å±æ€§ï¼Œä¹‹åç¼–è¯‘å™¨å°±ä¼šç»™å‡ºè¯•å›¾æä¾›æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™çš„è­¦å‘Šä¿¡æ¯ã€‚</li><li>æ¯ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚</li><li>å¯ä»¥ä¸ºæ¥å£æ–¹æ³•æä¾›ä¸€ä¸ªé»˜è®¤å®ç°ï¼Œå¿…é¡»ç”¨ <code>default</code> ä¿®é¥°ç¬¦æ ‡è®°è¿™æ ·ä¸€ä¸ªæ–¹æ³•ã€‚</li><li>é»˜è®¤æ–¹æ³•çš„ä¸€ä¸ªé‡è¦ç”¨æ³•æ˜¯ <code>æ¥å£æ¼”åŒ–ï¼ˆinterface evolutionï¼‰</code>ï¼Œä¿è¯ä¸ä¼šå¯¹æ—§ä»£ç äº§ç”Ÿå½±å“ã€‚</li><li>å¦‚æœå…ˆåœ¨ä¸€ä¸ªæ¥å£ä¸­å°†ä¸€ä¸ªæ–¹æ³•å®šä¹‰ä¸ºé»˜è®¤æ–¹æ³•ï¼Œç„¶ååˆåœ¨è¶…ç±»æˆ–å¦ä¸€ä¸ªæ¥å£ä¸­å®šä¹‰äº†åŒæ ·çš„æ–¹æ³•ï¼Œéµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š<ol><li>è¶…ç±»ä¼˜å…ˆã€‚<br>å¦‚æœè¶…ç±»æä¾›äº†ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼ŒåŒåè€Œä¸”æœ‰ç›¸åŒå‚æ•°ç±»å‹çš„é»˜è®¤æ–¹æ³•ä¼šè¢«å¿½ç•¥ã€‚</li><li>æ¥å£å†²çªã€‚<br>å¦‚æœä¸€ä¸ªè¶…æ¥å£æä¾›äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³•ï¼Œå¦ä¸€ä¸ªæ¥å£æä¾›äº†ä¸€ä¸ªåŒåè€Œä¸”å‚æ•°ç±»å‹(ä¸è®ºæ˜¯å¦æ˜¯é»˜è®¤å‚æ•°)ç›¸åŒçš„æ–¹æ³•ï¼Œå¿…é¡»è¦†ç›–è¿™ä¸ªæ–¹æ³•æ¥è§£å†³å†²çªã€‚</li></ol></li></ul><hr><p>æ¥å£ä¸å›è°ƒå¯èƒ½åœ¨è¿™é‡Œä¸å¤ªçœ‹å¾—æ‡‚ï¼Œæš‚æ—¶è·³è¿‡ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><hr><h3 id="lambda-è¡¨è¾¾å¼"><a class="header-anchor" href="#lambda-è¡¨è¾¾å¼">#</a>lambda è¡¨è¾¾å¼</h3><ul><li>lambdaè¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªä»£ç å—ï¼Œ ä»¥åŠå¿…é¡»ä¼ å…¥ä»£ç çš„å˜é‡è§„èŒƒã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(String first, String second)</span><br><span class="line">  -&gt; first.length() - second.length()</span><br></pre></td></tr></table></figure></li><li>å¦‚æœä»£ç è¦å®Œæˆçš„è®¡ç®—æ— æ³•æ”¾åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­ï¼Œå°±å¯ä»¥åƒå†™æ–¹æ³•ä¸€æ ·ï¼ŒæŠŠè¿™äº›ä»£ç æ”¾åœ¨ <code>{}</code> ä¸­ï¼Œ å¹¶åŒ…å«æ˜¾å¼çš„ return è¯­å¥ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(String first, String second) -&gt;</span><br><span class="line">&#123; </span><br><span class="line">  <span class="keyword">if</span> (first.length() &lt; second.length()) <span class="keyword">return</span> -<span class="number">1</span>; </span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (first.length() &gt; second.length()) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å³ä½¿ lambda è¡¨è¾¾å¼æ²¡æœ‰å‚æ•°ï¼Œä»ç„¶è¦æä¾›ç©ºæ‹¬å·ï¼Œå°±åƒæ— å‚æ•°æ–¹æ³•ä¸€æ ·ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">() -&gt; &#123; <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">100</span>; i &gt;= <span class="number">0</span>; i-- ) System.out.println(i); &#125;</span><br></pre></td></tr></table></figure></li><li>å¦‚æœå¯ä»¥æ¨å¯¼å‡ºä¸€ä¸ª lambda è¡¨è¾¾å¼çš„å‚æ•°ç±»å‹ï¼Œåˆ™å¯ä»¥å¿½ç•¥å…¶ç±»å‹ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;String&gt; comp</span><br><span class="line">= (first, second) <span class="comment">// Same as (String first, String second)</span></span><br><span class="line">  -&gt; first.length() - second.length();</span><br></pre></td></tr></table></figure></li><li>å¦‚æœæ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œè€Œä¸”è¿™ä¸ªå‚æ•°çš„ç±»å‹å¯ä»¥æ¨å¯¼å¾—å‡ºï¼Œé‚£ä¹ˆç”šè‡³è¿˜å¯ä»¥çœç•¥å°æ‹¬å·ã€‚</li><li>æ— éœ€æŒ‡å®š lambda è¡¨è¾¾å¼çš„è¿”å›ç±»å‹ã€‚lambda è¡¨è¾¾å¼çš„è¿”å›ç±»å‹æ€»æ˜¯ä¼šç”±ä¸Šä¸‹æ–‡æ¨å¯¼å¾—å‡ºã€‚</li><li>è¦ç”¨ <code>::</code> æ“ä½œç¬¦åˆ†éš”æ–¹æ³•åä¸å¯¹è±¡æˆ–ç±»åä¸»è¦æœ‰3ç§æƒ…å†µï¼š<ul><li>object::instanceMethod</li><li>Class::staticMethod</li><li>Class::instanceMethod</li></ul></li><li>æ— æ³•æ„é€ æ³›å‹ç±»å‹ <code>T</code> çš„æ•°ç»„ã€‚ï¼ˆæ•°ç»„æ„é€ å™¨å¼•ç”¨å¯¹äºå…‹æœè¿™ä¸ªé™åˆ¶å¾ˆæœ‰ç”¨ã€‚ï¼‰<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object[] people = stream.toArray(); <span class="comment">// Objectæ•°ç»„å¼•ç”¨</span></span><br><span class="line">Person[] people = stream.toArray(Person[]::<span class="keyword">new</span>); <span class="comment">// Personæ•°ç»„å¼•ç”¨</span></span><br></pre></td></tr></table></figure></li><li>lambda è¡¨è¾¾å¼ä¸­æ•è·çš„å˜é‡å¿…é¡»å®é™…ä¸Šæ˜¯<code>æœ€ç»ˆå˜é‡ï¼ˆeffectively finalï¼‰</code>ã€‚</li><li>lambda è¡¨è¾¾å¼çš„ä½“ä¸åµŒå¥—å—æœ‰ç›¸åŒçš„ä½œç”¨åŸŸã€‚</li><li>åœ¨ lambda è¡¨è¾¾å¼ä¸­å£°æ˜ä¸ä¸€ä¸ªå±€éƒ¨å˜é‡åŒåçš„å‚æ•°æˆ–å±€éƒ¨å˜é‡æ˜¯ä¸åˆæ³•çš„ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Path first = Paths.get(<span class="string">"/usr/bin"</span>); </span><br><span class="line">Comparator&lt;String&gt; comp =</span><br><span class="line">(first, second) -&gt; first.length() - second.length();</span><br><span class="line"><span class="comment">// Error: Variable first already defined</span></span><br></pre></td></tr></table></figure></li><li>åœ¨ä¸€ä¸ª lambda è¡¨è¾¾å¼ä¸­ä½¿ç”¨ <code>this</code> å…³é”®å­—æ—¶ï¼Œæ˜¯æŒ‡åˆ›å»ºè¿™ä¸ª lambda è¡¨è¾¾å¼çš„æ–¹æ³•çš„ <code>this</code> å‚æ•°ã€‚</li><li>ä½¿ç”¨ lambda è¡¨è¾¾å¼çš„é‡ç‚¹æ˜¯<code>å»¶è¿Ÿæ‰§è¡Œï¼ˆdeferred executionï¼‰</code>ã€‚</li></ul><hr><h3 id="å†…éƒ¨ç±»"><a class="header-anchor" href="#å†…éƒ¨ç±»">#</a>å†…éƒ¨ç±»</h3><ul><li>ä½¿ç”¨å†…éƒ¨ç±»çš„åŸå› ï¼š<ul><li>å†…éƒ¨ç±»æ–¹æ³•å¯ä»¥è®¿é—®è¯¥ç±»å®šä¹‰æ‰€åœ¨çš„ä½œç”¨åŸŸä¸­çš„æ•°æ®ï¼ŒåŒ…æ‹¬ç§æœ‰çš„æ•°æ®ã€‚</li><li>å†…éƒ¨ç±»å¯ä»¥å¯¹åŒä¸€ä¸ªåŒ…ä¸­çš„å…¶ä»–ç±»éšè—èµ·æ¥ã€‚</li><li>å½“æƒ³è¦å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸”ä¸æƒ³ç¼–å†™å¤§é‡ä»£ç æ—¶ï¼Œä½¿ç”¨åŒ¿åï¼ˆanonymousï¼‰å†…éƒ¨ç±»æ¯”è¾ƒä¾¿æ·ã€‚</li></ul></li><li>ä½¿ç”¨å¤–å›´ç±»å¼•ç”¨çš„æ­£è§„è¯­æ³•ä¸º <code>OuterClass.this</code>ã€‚</li></ul><p>å¥½æ™•å•ŠğŸ˜­ï¼Œçœ‹ä¸æ‡‚ã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><p>ä»£ç†ä¹Ÿå¾…çœ‹<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>å¾…çœ‹ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>å¾…çœ‹ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>å¾…çœ‹ <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windowsä¸‹è¶…å¥½ç”¨çš„è½¯ä»¶â€”â€”Teleport ultra</title>
      <link href="/blog/2020/02/21/teleport-ultra-for-windows/"/>
      <url>/blog/2020/02/21/teleport-ultra-for-windows/</url>
      
        <content type="html"><![CDATA[<p><code>Teleport ultra</code> æ˜¯ä¸€ä¸ªå¯ä»¥æŠŠæ•´ä¸ªç«™ç¦»çº¿ä¸‹è½½ä¸‹æ¥çš„å·¥å…·ï¼Œè¶…çº§å¥½ç”¨ã€‚<br>æœ‰å¾ˆå¤šæŠ€æœ¯æ–‡æ¡£éƒ½æ˜¯åœ¨çº¿çš„ã€é™æ€çš„ï¼Œç”¨è¿™ä¸ªå·¥å…·å¾ˆåˆé€‚ï½</p><a id="more"></a><ol><li>æ–°å»ºé¡¹ç›®å‘å¯¼</li><li>å¤åˆ¶ä¸€ä¸ªç½‘å€ï¼ŒåŒ…å«è¯¥ç½‘ç«™çš„ç›®å½•ç»“æ„</li><li>é€‰æ‹©ç½‘ç«™å’Œçˆ¬å–æ·±åº¦</li><li>é€‰æ‹©çˆ¬å–æ‰€æœ‰æ–‡ä»¶</li><li>ä¿å­˜å½“å‰é¡¹ç›®</li><li>ç‚¹å‡»è“è‰²ä¸‰è§’å·â–¶ï¸å¼€å§‹æŒ‰é’®</li><li>å®Œæˆ</li></ol>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> software </tag>
            
            <tag> teleport ultra </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡æ–‡ç« svgäº¤äº’</title>
      <link href="/blog/2020/02/20/wechat-svg/"/>
      <url>/blog/2020/02/20/wechat-svg/</url>
      
        <content type="html"><![CDATA[<p>å¦‚æœä¸æ˜¯ç‰¹åˆ«æƒ³åšçš„è¯ï¼Œè¿˜æ˜¯åœ¨æ–‡ç« çš„å¼€å¤´åŠé€€ä¸€æ³¢ï¼Œå› ä¸º <strong>ä»˜å‡º &gt;&gt; æ”¶è·</strong>ï¼Œä¸è®ºå¦‚ä½•ï¼Œæœ€ç»ˆçš„åå“ä¸æ˜¯ç‰¹åˆ«å¥½ã€‚</p><a id="more"></a><p>å›å½’æ­£é¢˜ï¼Œå‰å‰ååå¼„äº†ä¸€å‘¨å¤šçš„æ—¶é—´ï¼ŒæœŸé—´éƒ½æ˜¯é«˜å¼ºåº¦ç ”ç©¶çš„é‚£ç§ï¼Œè¸©è¿‡äº†å¾ˆå¤šå‘ï¼Œå¸Œæœ›å¤§å®¶å¤ç°çš„æ—¶å€™å°‘è¸©äº›å‘ã€‚</p><h2 id="å£¹"><a class="header-anchor" href="#å£¹">#</a>å£¹</h2><p>æœ€åˆçš„æ—¶å€™æ˜¯ä¸€ç¯‡åå«<a href="https://mp.weixin.qq.com/s/-gugc0Gn0XZXSOONw-NKHg" target="_blank" rel="noopener">ã€Š2020ï¼Œæˆ‘çš„æ–°å¹´ç­¾å±…ç„¶æ˜¯â€¦ã€‹</a>çš„æ¨é€å¸å¼•äº†å¤§å®¶çš„æ³¨æ„åŠ›ï¼Œç«™åœ¨ä»–ä»¬çš„è‚©ï¼ˆchuangï¼‰è†€ï¼ˆyiï¼‰ä¸Šï¼Œæˆ‘ä»¬åšäº†è¿›ä¸€æ­¥çš„å‡åã€‚</p><p>é¦–å…ˆéœ€è¦äº†è§£ä¸€ä¸‹å¾®ä¿¡æ–‡ç« æ¨é€çš„å®šä½ï¼Œå®ƒæ˜¯ä¸€ä¸ª<code>é˜‰å‰²</code>äº†çš„ç½‘é¡µï¼Œåªä¿ç•™äº†<code>æ–‡æœ¬</code>ã€<code>åª’ä½“</code>å’Œ<code>æ ·å¼</code>è¿™ä¸‰ç§å†…å®¹ï¼Œè€Œæˆ‘ä»¬æ­£å¸¸ç½‘é¡µäº¤äº’æ‰€ä½¿ç”¨çš„ <code>js</code> åˆ™å®Œå…¨ä¸èƒ½ä½¿ç”¨ï¼Œç”šè‡³è¿ <code>&lt;style&gt;&lt;/style&gt;</code> è¿™æ ·çš„æ ·å¼æ ‡ç­¾ä¹Ÿä¼šè¢«ç§»é™¤ã€‚ä¸€å¥è¯æ¦‚æ‹¬ï¼Œä½ åªèƒ½å±•ç¤ºå†…å®¹ï¼Œè€Œæ— æ³•ä¸è¯»è€…äº’åŠ¨ï¼Œæ— æ³•äº¤äº’ã€‚</p><p>è€Œ <code>svg</code> æ˜¯ä¸ºæ•°ä¸å¤šçš„å¯ä»¥ç”¨åˆ°çš„å¯å®šåˆ¶å¼çš„äº¤äº’æ ·å¼ï¼Œå®ƒçš„å‡ºèº«å¯ä»¥ç™¾åº¦å¦‚æœä½ æ„Ÿå…´è¶£ã€‚<code>svg</code> èƒ½å¤Ÿåšåˆ°çš„äº¤äº’æˆ‘ç›®å‰çŸ¥é“ä¸¤ä¸ª<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œç®€è¦æ¦‚æ‹¬å°±æ˜¯ï¼š<code>é€æ˜åº¦/è§’åº¦å˜åŒ–</code>å’Œ<code>ï¼ˆæŒ‰ç…§å›ºå®šè½¨è¿¹ï¼‰ç§»åŠ¨</code>ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„äº¤äº’éƒ½æ˜¯è¿™ä¸¤ä¸ªäº¤äº’çš„<code>å»¶ä¼¸</code>å’Œ<code>ç»„åˆ</code>ã€‚</p><p><strong>é€æ˜åº¦/è§’åº¦å˜åŒ–</strong>ï¼šå®é™…ä¸­ç”¨åˆ°çš„å°±æ˜¯<code>ç‚¹å‡»ç©ºç™½å¤„æ˜¾ç¤ºæ–‡å­—</code>ã€‚<br><strong>ï¼ˆæŒ‰ç…§å›ºå®šè½¨è¿¹ï¼‰ç§»åŠ¨</strong>ï¼š<code>ç‚¹å‡»ç§»åŠ¨</code>ã€<code>æŠ½å¥–</code>ç­‰ã€‚</p><h2 id="è´°"><a class="header-anchor" href="#è´°">#</a>è´°</h2><p>æŠ½ç­¾çš„æœ¬è´¨ä¸Šå°±æ˜¯<strong>ç­¾é«˜é€Ÿçš„ç§»åŠ¨</strong>ï¼Œå¯èƒ½æœ‰äº›äººä¸å¤ªç†è§£ï¼Œæˆ‘è§£é‡Šä¸‹ã€‚å¦‚æœä¸æƒ³äº†è§£æˆ–è€…è§‰å¾—æˆ‘è§£é‡Šçš„ä¸æ¸…æ¥šå¯ä»¥è·³è¿‡æˆ–è€…çœ‹<a href="https://www.zhihu.com/question/25403913/answer/142033761" target="_blank" rel="noopener">ã€Šä¸ºä»€ä¹ˆé«˜é€Ÿé¡ºæ—¶é’ˆæ—‹è½¬çš„è½¦è½®çœ‹èµ·æ¥åƒæ˜¯ç¼“æ…¢çš„é€†æ—¶é’ˆæ—‹è½¬ï¼Ÿã€‹</a>ã€‚</p><p>æˆ‘ä»¬å¶å°”çœ‹å…¬è·¯ä¸Šçš„è½¦è½®ä¼šä¿æŒé™æ­¢ï¼Œå› ä¸ºè½¦è½®é€Ÿåº¦è¿‡å¿«ï¼Œæ¯æ¬¡çœ‹åˆ°çš„æ—¶å€™è½¦è½®éƒ½ä¿æŒåŒä¸€ä¸ªä½ç½®ï¼Œè¿™å°±æ˜¯é«˜é€Ÿå¸¦æ¥çš„<code>é™æ­¢</code>æ•ˆæœã€‚<code>svg</code> æœ‰ä¸€ä¸ªå‚æ•°å°±æ˜¯å¯ä»¥è®©æŸä¸€ç§’çš„ç”»é¢ä»£æ›¿åŠ¨ç”»ä¸­é—´çš„é—´éš™æ•ˆæœï¼Œåé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚</p><h2 id="å"><a class="header-anchor" href="#å">#</a>å</h2><p>ç­¾çš„æ‰€æœ‰è®¾è®¡å·¥ä½œåœ¨ <code>Adobe illustrator</code> ä¸­è¿›è¡Œï¼Œåç»­çš„ä¿®è¡¥å’ŒåŠ¨ç”»é€šè¿‡<code>ä¿®æ”¹ä»£ç </code>å®Œæˆã€‚</p><p>åœ¨æ‰€æœ‰å·¥ä½œå¼€å§‹å‰ä¸€å®šè¦ç¡®å®šçš„äº‹æƒ…æ˜¯ä½ æ•´ä¸ªç”»å¸ƒçš„å¤§å°ï¼Œåç»­æ‰€æœ‰çš„è°ƒæ•´å’ŒåŠ¨ç”»éƒ½æ˜¯åŸºäº<code>æ•°å€¼è®¡ç®—</code>çš„ï¼Œå¦‚æœæœ€åæ‰å‘ç°å¼€å§‹è®¾è®¡å¾—ä¸ç»Ÿä¸€ï¼Œå†å›æ¥ä¿®æ”¹çš„è¯ï¼Œç­‰äºä¹‹å‰æ‰€æœ‰çš„å·¥ä½œéƒ½è¦é‡åšä¸€éã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><p>æˆ‘é€‰å–çš„ç”»å¸ƒå¤§å°æ˜¯ <code>640*960</code>ï¼Œåç»­æ‰€æœ‰çš„å‚æ•°éƒ½æ˜¯åŸºäºè¿™ä¸ªã€‚</p><p>æ–°å»ºç”»å¸ƒçš„æ—¶å€™ï¼Œä¸€å®šè¦å»ç”»å¸ƒé¢„è®¾é‡ŒæŠŠæ–‡æ¡£çš„å‡ºè¡€è®¾ç½®æˆ <code>0</code>ï¼Œå‡ºè¡€æ˜¯ä¸ºäº†æ‰“å°æ—¶å››å‘¨é¢„ç•™è¶³å¤Ÿçš„ç©ºé—´ï¼Œä½†æˆ‘ä»¬è¦ç²¾ç¡®è®¡ç®—åˆ°åƒç´ ï¼Œæ‰€ä»¥å¿…é¡»è¦åˆ¨é™¤è¿™äº›ä¸ç¡®å®šå› ç´ ã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯ç”»é¢èƒ½åŠ¨èµ·æ¥çš„é‡ä¸­ä¹‹é‡ï¼š<code>å›¾å±‚ç»“æ„</code>ã€‚</p><p>åœ¨ä»‹ç»ä¹‹å‰å…ˆäº†è§£ä¸€ä¸‹ <code>Adobe illustrator</code> çš„<code>ç¼–ç»„</code>åŠŸèƒ½ï¼Œ<code>ç¼–ç»„</code>åŠŸèƒ½çš„ä½œç”¨æ˜¯èƒ½å¤Ÿè®©è®¸å¤šå¯¹è±¡<code>ä½œä¸ºä¸€ä¸ªæ•´ä½“</code>è¿›è¡Œç¼–è¾‘ç­‰åç»­æ“ä½œã€‚ä½“ç°åœ¨ <code>svg</code> ä»£ç ä¸­åˆ™æ˜“äºç†è§£äº›ï¼Œå³ä¼—å¤šå¯¹è±¡è¢« <code>&lt;g&gt;&lt;/g&gt;</code> æ ‡ç­¾åŒ…è£¹ã€‚</p><p>å°†å›¾å±‚ç»“æ„ä¸ä»£ç ç»“æ„ç»¼åˆç†è§£ï¼Œæœ‰åŠ©äºå¯¹æ•´ä¸ªåŠ¨ç”»çš„åŸç†è¿›è¡Œç†è§£ï¼Œå¦‚æœè§‰å¾—æœ‰äº›éš¾ä»¥ç†è§£ï¼Œå¯ä»¥è·³è¿‡ï¼Œåªè¦æŒ‰æ­¥éª¤åšå³å¯ã€‚</p><p>é¦–å…ˆè¯´å›¾å±‚ç»“æ„ï¼Œå›¾å±‚ç»“æ„æ€»ä½“è®¾è®¡å¦‚ä¸‹ï¼ˆå‡è®¾16å¼ ç­¾é¢ï¼‰ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200220-2.jpg" alt="å›¾å±‚ç»“æ„"></p><p>å›¾1 å›¾å±‚ç»“æ„</p></center><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">æ–°å¹´ç­¾è®¾è®¡</span><br><span class="line">â”œâ”€â”€ å‰æ™¯</span><br><span class="line">|   â”œâ”€â”€ ç­¾é¢1</span><br><span class="line">|   |   â”œâ”€â”€ â€œé—¨â€å­—</span><br><span class="line">|   |   â”œâ”€â”€ â€œé—¨â€å­—</span><br><span class="line">|   |   â”œâ”€â”€ â€œæ»¡â€å­—</span><br><span class="line">|   |   â”œâ”€â”€ â€œç»©â€å­—</span><br><span class="line">|   |   â””â”€â”€ ç­¾1èƒŒæ™¯å›¾</span><br><span class="line">|   â”œâ”€â”€ ç­¾é¢2</span><br><span class="line">|   â”œâ”€â”€ ...</span><br><span class="line">|   â””â”€â”€ ç­¾é¢16</span><br><span class="line">â”œâ”€â”€ èƒŒæ™¯</span><br><span class="line">|   â”œâ”€â”€ 2020æ–‡å­—</span><br><span class="line">|   â”œâ”€â”€ è€é¼ å›¾æ¡ˆ</span><br><span class="line">|   â”œâ”€â”€ ...</span><br><span class="line">|   â””â”€â”€ çº¢è‰²èƒŒæ™¯</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥è¯¦ç»†è®²ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆè¦æŠŠç­¾ä¸Š<code>åŠ¨çš„éƒ¨åˆ†</code>å’Œ<code>ä¸åŠ¨çš„éƒ¨åˆ†</code>åˆ†å¼€ï¼Œ<code>ä¸åŠ¨çš„éƒ¨åˆ†</code>æ”¾åœ¨<strong>èƒŒæ™¯å±‚</strong>ï¼Œåªè¦æ”¾åœ¨èƒŒæ™¯å±‚é‡Œï¼Œç»†è‡´çš„ç»“æ„æ— é¡»è€ƒè™‘ï¼›<code>åŠ¨çš„éƒ¨åˆ†</code>æ”¾åœ¨<strong>å‰æ™¯å±‚</strong>ï¼Œæ¯ä¸ªç­¾é¢å†…å®¹éƒ½ç¼–ç»„ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œ16ä¸ªæ•´ä½“åœ¨<strong>å‰æ™¯å±‚</strong>é‡Œæ˜¯å¹³è¡Œå…³ç³»ï¼Œå¤„äºåŒä¸€å±‚æ¬¡ã€‚</p><p>æ¯ä¸ªç­¾å†…å®¹ä¿è¯åœ¨ç¼–ç»„é‡Œå³å¯ï¼Œå†…éƒ¨çš„ç»†èŠ‚å±‚æ¬¡ç»“æ„ä¹Ÿéƒ½ä¸å½±å“ã€‚</p><p>æ¥ä¸‹æ¥çš„é‡ç‚¹æ˜¯ï¼Œæ¯ä¸ªç­¾çš„ä½ç½®æ‘†æ”¾ã€‚16ä¸ªç­¾<strong>ä¾æ¬¡æ°´å¹³ç­‰é—´è·æ‘†æ”¾</strong>å³å¯ã€‚</p><p>éœ€è¦æ³¨æ„ <code>png</code> æ ¼å¼çš„å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ <strong>100kb</strong>ã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p><center><p><img src="//onns.xyz/blog/image/20200220-1.jpg" alt="è®¾è®¡å›¾"></p><p>å›¾2 è®¾è®¡å›¾</p></center><p>æ‘†æ”¾æ—¶éœ€è¦æ»¡è¶³çš„è¦æ±‚æ˜¯ï¼š<strong>ç”»å¸ƒå®½åº¦ä¸­åªå…è®¸å‡ºç°ä¸€ä¸ªç­¾</strong>ï¼Œé•¿åº¦ä¸º <code>640</code> çš„ç”»å¸ƒæ¯ä¸ªç­¾ä¹‹é—´çš„æ°´å¹³é—´è·åº”è¯¥<code>å¤§äºç­‰äº640</code>ã€‚</p><p><code>å›¾2</code>ä¸­<strong>é—¨é—¨æ»¡ç»©</strong>ç›¸å¯¹äºç”»å¸ƒå·¦ä¸Šè§’çš„ç›¸å¯¹ä½ç½®æ˜¯ï¼š<code>x:131 y:164</code>ï¼Œé‚£ä¹ˆ<strong>ç˜¦åæ–¤</strong>ç›¸å¯¹äºç”»å¸ƒå·¦ä¸Šè§’çš„ä½ç½®åº”è¯¥æ˜¯ï¼š<code>x:131+640 y:164</code>ã€‚</p><p>ç­‰æ•´ä½“è®¾è®¡å®Œæˆä¹‹åï¼Œå°±å¯ä»¥å¯¼å‡ºäº†ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200220-3.jpg" alt="å¯¼å‡ºé€‰é¡¹"></p><p>å›¾3 å¯¼å‡ºé€‰é¡¹</p></center><p>é€‰æ‹©å¯¼å‡ºä¸º <code>svg</code>ï¼Œç„¶åéœ€è¦æ³¨æ„ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li>æ ·å¼é€‰æ‹©ä¸º <code>æ¼”ç¤ºæ–‡ç¨¿å±æ€§</code><sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li><li>å›¾åƒé€‰æ‹©ä¸º <code>é“¾æ¥</code><sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></li></ol><p>ç„¶åä½ å°±æ‹¥æœ‰äº†ä»¥ <code>&lt;svg&gt;&lt;/svg&gt;</code> åŒ…è£¹çš„ç­¾ä»£ç ï¼Œå°±å¯ä»¥æ·»åŠ åŠ¨ç”»äº†ã€‚</p><hr><p>å†™äº†ä¿©å°æ—¶å†™ä¸åŠ¨äº†ï¼Œæ­‡ä¼šå„¿ğŸ˜‚</p><hr><h2 id="è‚†"><a class="header-anchor" href="#è‚†">#</a>è‚†</h2><p>åœ¨ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ <code>svg</code>ä¹‹åï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹çš„ä¸€ä¸ªæ ‡ç­¾ç»“æ„ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">viewBox</span>=<span class="string">"0 0 640 96000"</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¦–å…ˆè¦åšçš„æ˜¯å°† <code>svg</code> æ ‡ç­¾å±æ€§é‡Œçš„ <code>viewBox</code> å¤§å°è®¾ç½®ä¸ºæˆ‘ä»¬çš„ç”»å¸ƒå¤§å°ï¼Œæ”¹ä¸º <code>0 0 640 960</code>ã€‚</p><p>åœ¨ <code>Adobe illustrator</code> é‡Œçš„æ–‡æ¡£ç»“æ„åœ¨ <code>svg</code> ä»£ç é‡Œä¼šå®Œå…¨åè¿‡æ¥ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">viewBox</span>=<span class="string">"0 0 640 9600"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // èƒŒæ™¯å±‚</span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span>ç­¾16<span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span>ç­¾2<span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span>ç­¾1<span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ·»åŠ åŠ¨ç”»çš„æ–¹æ³•éå¸¸ç®€å•ï¼Œåœ¨å±äºå‰æ™¯å±‚çš„ <code>&lt;g&gt;&lt;/g&gt;</code> é‡Œæ·»åŠ ä»£ç å³å¯ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">viewBox</span>=<span class="string">"0 0 640 9600"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // èƒŒæ™¯å±‚</span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span>ç­¾16<span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span>ç­¾2<span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span>&gt;</span>ç­¾1<span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">animateTransform</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">attributeName</span>=<span class="string">"transform"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"translate"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">values</span>=<span class="string">"0 0;-640 0;-1280 0;...;-8960 0"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">begin</span>=<span class="string">"0s"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">dur</span>=<span class="string">"0.45s"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">end</span>=<span class="string">"click"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">fill</span>=<span class="string">"freeze"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">calcMode</span>=<span class="string">"discrete"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">repeatCount</span>=<span class="string">"indefinite"</span>&gt;</span><span class="tag">&lt;/<span class="name">animateTransform</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>éœ€è¦è‡ªè¡Œä¿®æ”¹çš„å±æ€§å’Œè§£é‡Šçš„å±æ€§å¦‚ä¸‹ï¼Œå…¶å®ƒæ²¡è§£é‡Šçš„å°±è‡ªè¡Œç™¾åº¦å³å¯ã€‚</p><ol><li><code>type</code> è®¾ç½®ä¸º <code>&quot;translate&quot;</code>ï¼Œå°±æ˜¯ç§»åŠ¨çš„æ„æ€ã€‚</li><li><code>values</code> è®¾ç½®ä¸ºæ¯ä¸ªç­¾çš„æ°´å¹³é—´è·ï¼Œå€¼ä¸ºè´Ÿï¼Œå³ <code>0 0</code> ã€ <code>-640 0</code> ã€ <code>-640*2 0</code> ã€ <code>-640*3 0</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li><code>begin</code> è®¾ç½®ä¸º <code>0</code>ï¼ŒåŠ¨ç”»ä¸€å¼€å§‹å°±è¿›è¡Œã€‚</li><li><code>dur</code> ä¸ºæ•´ä¸ªåŠ¨ç”»æŒç»­æ—¶é—´ï¼Œè‡ªè¡Œè®¾ç½®ã€‚</li><li><code>end</code> ä½•æ—¶ç»“æŸåŠ¨ç”»ï¼Œç‚¹å‡»ç»“æŸï¼Œå³ <code>click</code>ã€‚</li><li><code>fill</code> å°±æ˜¯ä¸Šæ–‡æåˆ°çš„åŠ¨ç”»é—´éš™å¦‚ä½•å¡«å……ï¼Œå°±ç”¨å›ºå®šçš„ç”»é¢å¡«å……å³å¯ï¼Œå³ <code>freeze</code>ã€‚</li><li><code>repeatCount</code> é‡å¤æ¬¡æ•°ï¼Œåœ¨æ²¡ç‚¹å‡»ä¹‹å‰è‚¯å®šæ˜¯æ— é™æ¬¡é‡å¤å•¦ã€‚</li></ol><p>è‡³æ­¤åŠ¨ç”»å·²ç»å¯ä»¥åŠ¨èµ·æ¥å¹¶ä¸”ç‚¹å‡»åœæ­¢äº†ï¼Œå†åŠ ä¸€ä¸ªå°é¢å›¾ç‰‡å°±å¯ä»¥äº†ï¼Œç„¶åè®¾ç½®å°é¢ç‚¹å‡»ä¸€æ¬¡å°±æ¶ˆå¤±ã€‚è¿™é‡Œå¯ä»¥ç”¨é€æ˜åº¦é™ä½çš„åŠ¨ç”»æ•ˆæœï¼Œä¹Ÿå¯ä»¥ç”¨ç§»åŠ¨åˆ°ç”»å¸ƒä¹‹å¤–çš„åŠ¨ç”»æ•ˆæœã€‚</p><p>å‰é¢è¯´è¿‡ <code>svg</code> çš„æ ‡ç­¾ç»“æ„å’Œå›¾å±‚ç»“æ„æ˜¯åçš„ï¼Œæ‰€ä»¥æ–°åŠ çš„å°é¢æ”¾åœ¨æ•´ä¸ªæ–‡æ¡£çš„æœ€ä¸‹æ–¹ï¼Œå’Œ<code>å‰æ™¯</code>ã€<code>èƒŒæ™¯</code>åŒçº§ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">viewBox</span>=<span class="string">"0 0 640 9600"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // èƒŒæ™¯å±‚</span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // å‰æ™¯å±‚</span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // å°é¢å±‚</span><br><span class="line">    <span class="tag">&lt;<span class="name">rect</span> <span class="attr">y</span>=<span class="string">"1.5"</span> <span class="attr">fill</span>=<span class="string">"#b6352f"</span> <span class="attr">width</span>=<span class="string">"649"</span> <span class="attr">height</span>=<span class="string">"960"</span>&gt;</span><span class="tag">&lt;/<span class="name">rect</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">width</span>=<span class="string">"640"</span> <span class="attr">height</span>=<span class="string">"960"</span> <span class="attr">href</span>=<span class="string">"https://mmbiz.qpic.cn/mmbiz_jpg/g84wSb3VFX7sDq8k89pwzNiaQIibwiav6P7QQrPNCfVibmRAKhlrz1868ybEGAxzKpJaZovZpUw69P15Daqsltiaic7A/0?wx_fmt=jpeg"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">animatetransform</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">attributename</span>=<span class="string">"transform"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"translate"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">values</span>=<span class="string">"0 0;10000 0"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">begin</span>=<span class="string">"click"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">dur</span>=<span class="string">"0.01s"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">fill</span>=<span class="string">"freeze"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">calcmode</span>=<span class="string">"discrete"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">repeatcount</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">animatetransform</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒæŠ½ç­¾çš„ <code>svg</code> åŠŸèƒ½æ–¹é¢å·²ç»å…¨éƒ¨å®Œæˆï¼Œä¸‹é¢çš„é¢å¤–å·¥ä½œæ˜¯<code>è®¾è®¡ä¼˜åŒ–</code>å’Œ<code>å¾®ä¿¡å…¬ä¼—å¹³å°é€‚é…</code>ã€‚</p><h2 id="ä¼"><a class="header-anchor" href="#ä¼">#</a>ä¼</h2><p>è™½ç„¶ç­¾åšå¥½äº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¾ˆè®©äººæ— è¯­çš„é—®é¢˜ï¼šåªæœ‰ç­¾é¢çš„åŒºåŸŸç‚¹å‡»æ‰å¯ä»¥ï¼Œçº¢è‰²èƒŒæ™¯ç‚¹å‡»æ²¡æœ‰åŠæ³•ä»¤ç­¾åœæ­¢ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200220-4.jpg" alt="æœ‰æ•ˆåŒºåŸŸç¤ºæ„å›¾"></p><p>å›¾4 æœ‰æ•ˆåŒºåŸŸç¤ºæ„å›¾</p></center><p>æˆ‘çš„ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ³•æ˜¯ï¼š<strong>å°†ç­¾é¢çš„èƒŒæ™¯å›¾è¡¥æˆæ•´ä¸ªç”»å¸ƒçš„å¤§å°ï¼Œå‘¨å›´å¡«å……é€æ˜åƒç´ </strong>ã€‚</p><p>å½“æ—¶æƒ³å‡ºè¿™ä¸ªåŠæ³•çš„æ—¶å€™æˆ‘éƒ½ä¸ºè‡ªå·±çš„æœºæ™ºè€Œé¼“æŒï¼Œç»“æœåˆ°æœ€åä¸€æ­¥çš„æ—¶å€™ç°å®ç»ˆäºå°†é­”çˆªä¼¸å‘äº†æˆ‘è¿™åªå°çŒ«å’ªäº†ã€‚<strong>å¾®ä¿¡pngå›¾ç‰‡æœ€å¤§å…è®¸100KB</strong>ï¼Œæˆ‘æ•´ä¸ªäººéƒ½å‚»äº†ã€‚</p><p>å‰é¢éƒ½å†™äº†<code>ç”»å¸ƒå›¾ç‰‡å¤§å°</code>å½±å“åˆ°æ•´ä¸ªåˆ¶ä½œè¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘åˆä»å¤´åˆ¶ä½œäº†ä¸€éï¼Œå‘µå‘µã€‚</p><p>ä½œä¸ºä¸€ä¸ªå®Œç¾ä¸»ä¹‰è€…ï¼Œæœ€ç»ˆè¿˜æ˜¯æ‰¾åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼š<strong>åœ¨æ¯ä¸ªç­¾é‡ŒåŠ ä¸€ä¸ªæ‹‰ä¼¸åˆ°æ•´ä¸ªç”»å¸ƒå¤§å°çš„é€æ˜å›¾åƒ</strong>ã€‚è¿™ä¸ªæ–¹æ³•äº²æµ‹å¯ä»¥æŠŠæœ‰æ•ˆåŒºåŸŸæ‰©å¤§è‡³æ•´ä¸ªç”»å¸ƒï¼Œé—®é¢˜è§£å†³ã€‚è¿™ä¸ªé€æ˜å›¾åƒæ”¾åœ¨<code>ç­¾ç¼–ç»„</code>çš„ä»»æ„ä½ç½®éƒ½å¯ä»¥ï¼Œåæ­£æ˜¯é€æ˜çš„ï¼Œä¸ä¼šé€ æˆé®æŒ¡ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">viewBox</span>=<span class="string">"0 0 640 9600"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // èƒŒæ™¯å±‚</span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // å‰æ™¯å±‚</span><br><span class="line">    <span class="tag">&lt;<span class="name">g</span> <span class="attr">data-name</span>=<span class="string">"é—¨é—¨æ»¡ç»©"</span>&gt;</span></span><br><span class="line">      // é€æ˜å›¾åƒ</span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">width</span>=<span class="string">"640"</span> <span class="attr">height</span>=<span class="string">"960"</span> <span class="attr">href</span>=<span class="string">"https://mmbiz.qpic.cn/mmbiz_png/g84wSb3VFX4WIFj78My2uNfKb2aBE3j32DkhOa6UEmCy5icgPPLZibMLczvJTMVJGfO1Z3y9eWef5emxn78gb6Ww/0?wx_fmt=png"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">g</span>&gt;</span></span><br><span class="line">    // å°é¢å±‚</span><br><span class="line">  <span class="tag">&lt;/<span class="name">g</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæŠŠæ‰€æœ‰çš„å›¾åƒä¼ åˆ°å¾®ä¿¡åå°ç„¶åæ›¿æ¢ä¸€ä¸‹é“¾æ¥å³å¯ã€‚<br>è¿™é‡Œéœ€è¦æ³¨æ„ <code>Adobe illustrator</code> å¯¼å‡ºçš„ <code>image</code> æ ‡ç­¾é‡Œçš„åœ°å€å±æ€§æ˜¯ <code>xlink:href=&quot;å›¾åƒåœ°å€&quot;</code>ï¼Œå¾®ä¿¡æ— æ³•è¯†åˆ«ï¼Œéœ€è¦æ”¹æˆ <code>href=&quot;å›¾åƒåœ°å€&quot;</code>ï¼Œæ‰¹é‡æ›¿æ¢å³å¯ã€‚</p><h2 id="é™†"><a class="header-anchor" href="#é™†">#</a>é™†</h2><p>å‰å‰ååå¿™æ´»äº†å¥½å‡ å‘¨ï¼Œè¸©äº†å¥½å¤šå‘ï¼Œä¹Ÿæœ‰å¾ˆå¤šæœ¬æ¥ä¸ä¼šå¯¹æ•´ä½“æœ‰å½±å“çš„å°é”™è¯¯å‡ºç°ï¼Œå”¯ä¸€ä¿ƒä½¿è‡ªå·±åšæŒä¸‹æ¥çš„åŠ¨åŠ›å°±æ˜¯ï¼š<code>åšéƒ½åšäº†</code>ã€<code>æˆ‘æœ‰å¼ºè¿«ç—‡å•Šå–‚ï¼Œè¿™åœ°æ–¹å¤šå‡ºå‡ ä¸ªåƒç´ æˆ‘å—ä¸äº†</code>ã€<code>æˆ‘æ˜¯å®Œç¾ä¸»ä¹‰è€…å•Šï¼Œæ—¢ç„¶åšäº†ï¼Œé‚£å°±åšå¥½</code>ã€<code>å¯¹é˜…è¯»é‡å……æ»¡æœŸå¾…ï¼Œä¸‡ä¸€å‘¢ï¼Ÿ</code>ã€‚å‰å‡ ä¸ªæ˜¯æœ¬æ€§ï¼Œåä¸€ä¸ªæ˜¯å¸Œå†€ã€‚äº‹å®è¯æ˜ï¼Œçˆ¬å¾—è¶Šé«˜ï¼Œæ‘”å¾—è¶Šæƒ¨ã€‚å¹³å¹³æ·¡æ·¡çš„åå“ï¼Œæ©é¥°ä¸ä½çš„å¤±è½ï¼Œæ›´åˆ«æå½“æ—¶ç½‘ç»œçš„ä¸ç•…å¯¼è‡´äºŒç»´ç æ²¡æœ‰æ­£å¸¸è·³è½¬ã€‚</p><p>ä½†è¿™å°±æ˜¯ç”Ÿæ´»å•Šï¼Œäººç”Ÿå•Šï½æ°¸è¿œå¯¹æœªçŸ¥çš„ç»“æœæŠ±æœ‰ææƒ§å’ŒæœŸå¾…ã€‚</p><p>ä¸è¿‡åœ¨æˆ‘å¿ƒé‡Œï¼Œæˆ‘å·²ç»åšåˆ°æœ€å¥½äº†ã€‚</p><p><a href="https://onns.xyz/s/2020q">https://onns.xyz/s/2020q</a></p><h2 id="å®Œ"><a class="header-anchor" href="#å®Œ">#</a>å®Œ</h2><ul><li><a href="https://mp.weixin.qq.com/s/-gugc0Gn0XZXSOONw-NKHg" target="_blank" rel="noopener">2020ï¼Œæˆ‘çš„æ–°å¹´ç­¾å±…ç„¶æ˜¯â€¦</a></li><li><a href="https://zhuanlan.zhihu.com/p/75023148" target="_blank" rel="noopener">è¯¦ç»†æ•™ä½ å¾®ä¿¡å…¬ä¼—å·æ­£æ–‡é¡µSVGäº¤äº’å¼€å‘</a></li><li><a href="https://www.zhangxinxu.com/wordpress/2014/08/so-powerful-svg-smil-animation/" target="_blank" rel="noopener">è¶…çº§å¼ºå¤§çš„SVG SMIL animationåŠ¨ç”»è¯¦è§£</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>å¯èƒ½æœ‰å¾ˆå¤šï¼Œä½†æˆ‘åªäº†è§£åˆ°ä¸¤ä¸ªã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>å‘1ï¼Œä¸€å®šè¦æ³¨æ„é¡ºåºã€‚ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>å‘2ï¼Œå¾®ä¿¡åå°åªå…è®¸ä¸Šä¼ å°äº100kbçš„é€æ˜å›¾ç‰‡ï¼Œè¶…è¿‡çš„ä¼šå¼ºåˆ¶è½¬æ¢ä¸ºjpgï¼Œæœ¬æ¥è®¾è®¡çš„æ•ˆæœå…¨æ²¡äº†ï¼ŒçœŸæ˜¯ä¸ªå¤§å‘ã€‚ <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://zhuanlan.zhihu.com/p/75023148" target="_blank" rel="noopener">æŠŠStylingé€‰æ‹©ä¸ºPresentation Attributesï¼Œè¿™æ ·å¯¼å‡ºçš„SVGå°±ä¸å«æœ‰styleï¼Œè€Œä¸”å…ƒç´ çš„æ ·å¼ä¹Ÿä¼šé€šè¿‡æ ‡ç­¾å±æ€§è¿›è¡Œè®¾ç½®ï¼Œè€Œä¸ä½¿ç”¨styleå†…è”cssã€‚</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p>å‘2ï¼Œé€‰åˆ«çš„ä¼šæŠŠå›¾ç‰‡å˜æˆbase64ç¼–ç åç›´æ¥ä¿å­˜åˆ°æ–‡æ¡£é‡Œï¼Œå¾ˆå¤§çš„æ–‡æ¡£å¯¼è‡´å±‚æ¬¡æ··ä¹±ã€‚ <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> adobe </tag>
            
            <tag> svg </tag>
            
            <tag> wechat </tag>
            
            <tag> illustrator </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>excelå­—ç¬¦ä¸²æŸ¥æ‰¾</title>
      <link href="/blog/2020/02/19/find-string-in-excel/"/>
      <url>/blog/2020/02/19/find-string-in-excel/</url>
      
        <content type="html"><![CDATA[<p>ç»å¸¸ä¼šæœ‰åœ¨excelæŸ¥æ‰¾å¤šä¸ªå­—ç¬¦ä¸²çš„éœ€æ±‚ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªå¤§excelè¡¨é‡Œæ‰¾å‡ é—¨è¯¾ï¼Œä¹‹å‰ä¸€ç›´æ˜¯å¯¼å‡ºæˆ <code>csv</code> ç„¶åå¯¹æ–‡æœ¬æ–‡æ¡£è¿›è¡Œæ“ä½œï¼Œè¿™æ ·æœ€ç»ˆè¿˜è¦å¯¼å› <code>excel</code>ï¼Œä»Šå¤©èŠ±è´¹3ã€4ä¸ªå°æ—¶å­¦äº†ä¸‹vbï¼Œåšäº†ä¸€ä¸ªå®ï¼Œç›´æ¥åœ¨excelä¸Šæ“ä½œã€‚</p><a id="more"></a><h2 id="æœ€é•¿å…¬å…±å­åºåˆ—"><a class="header-anchor" href="#æœ€é•¿å…¬å…±å­åºåˆ—">#</a>æœ€é•¿å…¬å…±å­åºåˆ—</h2><p>é€»è¾‘æ˜¯å°†è¯¾ç¨‹åä¸è¦æŸ¥æ‰¾çš„è¯¾ç¨‹åè¿›è¡Œ<code>æœ€é•¿å…¬å…±å­åºåˆ—</code>åŒ¹é…ï¼Œè¾¾åˆ°é˜ˆå€¼åˆ™ç®—æ‰¾åˆ°ç›¸åº”çš„è¯¾ç¨‹ã€‚</p><p>æ‰€ç”¨åˆ°çš„ç®—æ³•å¯ä»¥å‚è€ƒï¼š<br><a href="https://blog.csdn.net/zjxxyz123/article/details/80277721" target="_blank" rel="noopener">æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLongest Common Subsequenceï¼‰é—®é¢˜</a></p><p>ä»£ç copyè‡ª <a href="https://thydzik.com/longest-common-subsequence-implemented-in-vba-visual-basic-for-applications/" target="_blank" rel="noopener">Longest Common Subsequence implemented in VBA (Visual Basic for Applications)</a>ï¼Œåšäº†ç®€å•çš„ä¿®æ”¹ã€‚</p><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Public</span> <span class="keyword">Function</span> max(<span class="keyword">ByRef</span> a <span class="keyword">As</span> <span class="built_in">Long</span>, <span class="keyword">ByRef</span> b <span class="keyword">As</span> <span class="built_in">Long</span>) <span class="keyword">As</span> <span class="built_in">Long</span></span><br><span class="line">    <span class="keyword">If</span> a &gt;= b <span class="keyword">Then</span></span><br><span class="line">        max = a</span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">        max = b</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Function</span> longestCommonSubsequence(<span class="keyword">ByRef</span> string1 <span class="keyword">As</span> <span class="built_in">String</span>, <span class="keyword">ByRef</span> string2 <span class="keyword">As</span> <span class="built_in">String</span>) <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    <span class="keyword">If</span> string1 = vbNullString <span class="keyword">Or</span> string2 = vbNullString <span class="keyword">Then</span></span><br><span class="line">        MsgBox <span class="string">"å‡ºé”™"</span></span><br><span class="line">        <span class="keyword">Exit</span> <span class="keyword">Function</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">Dim</span> num() <span class="keyword">As</span> <span class="built_in">Long</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">'define the array, note rows of zeros get added to front automatically</span></span><br><span class="line">    <span class="keyword">ReDim</span> num(Len(string1), Len(string2))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="built_in">Long</span>, j <span class="keyword">As</span> <span class="built_in">Long</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> Len(string1)</span><br><span class="line">        <span class="keyword">For</span> j = <span class="number">1</span> <span class="keyword">To</span> Len(string2)</span><br><span class="line">            <span class="keyword">If</span> <span class="keyword">Mid</span>$(string1, i, <span class="number">1</span>) = <span class="keyword">Mid</span>$(string2, j, <span class="number">1</span>) <span class="keyword">Then</span></span><br><span class="line">                num(i, j) = num(i - <span class="number">1</span>, j - <span class="number">1</span>) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">Else</span></span><br><span class="line">                num(i, j) = max(num(i - <span class="number">1</span>, j), num(i, j - <span class="number">1</span>))</span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span> j</span><br><span class="line">    <span class="keyword">Next</span> i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">If</span> Len(string1) &gt; Len(string2) <span class="keyword">Then</span></span><br><span class="line">        longestCommonSubsequence = num(Len(string1), Len(string2)) * <span class="number">100.0</span> / Len(string2)</span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">        longestCommonSubsequence = num(Len(string1), Len(string2)) * <span class="number">100.0</span> / Len(string1)</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br></pre></td></tr></table></figure><h2 id="æ„å»ºæŸ¥è¯¢å­—ç¬¦ä¸²"><a class="header-anchor" href="#æ„å»ºæŸ¥è¯¢å­—ç¬¦ä¸²">#</a>æ„å»ºæŸ¥è¯¢å­—ç¬¦ä¸²</h2><p>æ²¡æœ‰æƒ³åˆ°åœ¨vbé‡Œåˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„å˜é‡è¿™ä¹ˆéº»çƒ¦ï¼Œæœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº†<a href="https://stackoverflow.com/questions/19369132/declare-and-initialize-string-array-in-vba" target="_blank" rel="noopener">Declare and Initialize String Array in VBA</a>é‡Œçš„æ–¹æ³•ã€‚</p><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Dim</span> classList() <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">classList = Split(<span class="string">"ç¬¦å·å­¦,å¤§å­¦è¯­æ–‡,ç»Ÿè®¡"</span>, <span class="string">","</span>)</span><br></pre></td></tr></table></figure><p>æœ‰ç‚¹æ‹…å¿ƒéœ€è¦æŸ¥è¯¢çš„è¯¾ç¨‹åä¸­æœ‰ <code>,</code>ï¼Œåˆ°æ—¶å€™å¯èƒ½è¦æ‰¾äº›åˆ«çš„ç¬¦å·ä½œä¸ºåˆ†éš”ç¬¦ã€‚</p><h2 id="éå†å¹¶æ ‡è®°"><a class="header-anchor" href="#éå†å¹¶æ ‡è®°">#</a>éå†å¹¶æ ‡è®°</h2><p>å‚è€ƒ<a href="https://stackoverflow.com/questions/10923053/using-vba-to-select-and-highlight-excel-rows" target="_blank" rel="noopener">Using VBA to Select and Highlight Excel Rows</a>ï¼Œä½¿ç”¨ <code>.EntireRow.Interior.ColorIndex</code> æ–¹æ³•æ¥å°†æ•´è¡Œæ ‡è®°ï¼Œåœ¨excelé‡Œï¼Œç™½è‰²çš„æ•°å€¼æ˜¯<strong>2</strong>ï¼Œé»„è‰²æ˜¯<strong>6</strong>ã€‚</p><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">If</span> longestCommonSubsequence(Cells(pos, nameRow).<span class="keyword">text</span>, classList(classNum)) &gt; <span class="number">40</span> <span class="keyword">Then</span></span><br><span class="line">Cells(pos, nameRow).EntireRow.Interior.ColorIndex = <span class="number">6</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">If</span></span><br></pre></td></tr></table></figure><h2 id="å®Œæ•´ä»£ç "><a class="header-anchor" href="#å®Œæ•´ä»£ç ">#</a>å®Œæ•´ä»£ç </h2><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Option</span> <span class="keyword">Explicit</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Function</span> max(<span class="keyword">ByRef</span> a <span class="keyword">As</span> <span class="built_in">Long</span>, <span class="keyword">ByRef</span> b <span class="keyword">As</span> <span class="built_in">Long</span>) <span class="keyword">As</span> <span class="built_in">Long</span></span><br><span class="line">    <span class="keyword">If</span> a &gt;= b <span class="keyword">Then</span></span><br><span class="line">        max = a</span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">        max = b</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Public</span> <span class="keyword">Function</span> longestCommonSubsequence(<span class="keyword">ByRef</span> string1 <span class="keyword">As</span> <span class="built_in">String</span>, <span class="keyword">ByRef</span> string2 <span class="keyword">As</span> <span class="built_in">String</span>) <span class="keyword">As</span> <span class="built_in">Double</span></span><br><span class="line">    <span class="keyword">If</span> string1 = vbNullString <span class="keyword">Or</span> string2 = vbNullString <span class="keyword">Then</span></span><br><span class="line">        MsgBox <span class="string">"å‡ºé”™"</span></span><br><span class="line">        <span class="keyword">Exit</span> <span class="keyword">Function</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">Dim</span> num() <span class="keyword">As</span> <span class="built_in">Long</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">'define the array, note rows of zeros get added to front automatically</span></span><br><span class="line">    <span class="keyword">ReDim</span> num(Len(string1), Len(string2))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="built_in">Long</span>, j <span class="keyword">As</span> <span class="built_in">Long</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> Len(string1)</span><br><span class="line">        <span class="keyword">For</span> j = <span class="number">1</span> <span class="keyword">To</span> Len(string2)</span><br><span class="line">            <span class="keyword">If</span> <span class="keyword">Mid</span>$(string1, i, <span class="number">1</span>) = <span class="keyword">Mid</span>$(string2, j, <span class="number">1</span>) <span class="keyword">Then</span></span><br><span class="line">                num(i, j) = num(i - <span class="number">1</span>, j - <span class="number">1</span>) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">Else</span></span><br><span class="line">                num(i, j) = max(num(i - <span class="number">1</span>, j), num(i, j - <span class="number">1</span>))</span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span> j</span><br><span class="line">    <span class="keyword">Next</span> i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">If</span> Len(string1) &gt; Len(string2) <span class="keyword">Then</span></span><br><span class="line">        longestCommonSubsequence = num(Len(string1), Len(string2)) * <span class="number">100.0</span> / Len(string2)</span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">        longestCommonSubsequence = num(Len(string1), Len(string2)) * <span class="number">100.0</span> / Len(string1)</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Function</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">Sub</span> FindAndMark()</span><br><span class="line">    <span class="keyword">Dim</span> pos <span class="keyword">As</span> <span class="built_in">Integer</span></span><br><span class="line">    <span class="keyword">Dim</span> nameRow <span class="keyword">As</span> <span class="built_in">Integer</span></span><br><span class="line">    <span class="keyword">Dim</span> classNum <span class="keyword">As</span> <span class="built_in">Integer</span></span><br><span class="line"><span class="keyword">Dim</span> rate <span class="keyword">As</span> <span class="built_in">Integer</span></span><br><span class="line">    nameRow = <span class="number">1</span></span><br><span class="line">    rate = <span class="number">60</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">For</span> pos = <span class="number">1</span> <span class="keyword">To</span> Sheet1.UsedRange.Rows.Count    </span><br><span class="line">        Cells(pos, nameRow).EntireRow.Interior.ColorIndex = <span class="number">2</span></span><br><span class="line">    <span class="keyword">Next</span> pos</span><br><span class="line"></span><br><span class="line">    <span class="keyword">Dim</span> classList() <span class="keyword">As</span> <span class="built_in">String</span></span><br><span class="line">    classList = Split(<span class="string">"å“å‘³ã€Šè¯—ç»ã€‹,è€å­çš„æ™ºæ…§,åº„å­æ–°è§£,æ±‰ä¹¦,é­æ™‹é£åº¦,å”å®‹è¯å²,å“å‘³æœ±å­,çº¢æ¥¼é—®æ¢¦,â€œèƒ¡â€è¯´å››å¤§åè‘—,å„’å®¶å…»å¿ƒè¯¾,ç¦…é“æ™ºæ…§,é“å¾·ç»,å¤å¸Œè…Šå“²å­¦,å¤å…¸æ–‡æ˜,ä¸­ä¸–çºªæ–‡æ˜,æ–‡è‰ºå¤å…´,å¯è’™è¿åŠ¨,å†·æˆ˜,ä¸–ç•Œå½“ä»£å²,è¥¿æ–¹å²å­¦åè‘—é€‰è¯»,è¥¿æ–¹éƒ½å¸‚ä¸æ–‡æ˜,ä¸–ç•Œä¸»è¦å®—æ•™æ å½±,ç¾è‚²ä¸å®è·µ:ä¹¦æ³•çš„æ„å½¢ç¾å­¦æº¯æº,ç¾è‚²ä¸å®è·µ:èŒ¶é“,ç¾è‚²ä¸å®è·µ:èŠ±è‰º,ç¾è‚²ä¸å®è·µ:é»‘ç™½ä¹‹é“â€”â€”å›´æ£‹,ç¾è‚²ä¸å®è·µ:è¡Œä¸ºä¹‹ç¾,ç¾è‚²ä¸å®è·µ:æ°‘ä¹,ç¾è‚²ä¸å®è·µ:å¤ç´,ç¾è‚²ä¸å®è·µ:è‰²å½©ç¾å­¦,è·¨ç•Œâ€¢å¯¹è¯,å‘¨æ¸¸åˆ—å›½ï¼šä¸­å›½äººå¼€çœ¼çœ‹ä¸–ç•Œ,åŸâ€¢äººï¼šå¤šå­¦ç§‘è§†é‡ä¸­çš„éƒ½å¸‚ç©ºé—´ã€å†å²ä¸æ–‡åŒ–,éŸ³ä¹çš„è§‚å¿µ,éŸ³ä¹çš„è§‚å¿µï¼ˆä¸‹ï¼‰,éŸ³ä¹çš„è§‚å¿µÂ·éŸ³ä¹çš„å¤šç»´è§†è§’,äººæ–‡ç»å…¸å¯¼è¯»,ç”Ÿå‘½ç§‘å­¦å¯¼è®º,â€œèµ°è¿›æµ·æ´‹â€ç³»åˆ—è®²åº§,äººæ–‡å¤§è®²å ‚,äººæ–‡å¤§è®²å ‚Â·ä¸­å›½æ–‡åŒ–å·¡ç¤¼,äººæ–‡å¤§è®²å ‚Â·å‘¨æ¸¸åˆ—å›½,äººæ–‡å¤§è®²å ‚Â·è‰ºæœ¯çš„è§‚å¿µ,äººæ–‡å¤§è®²å ‚Â·æ€§åˆ«ä¸ç¤¾ä¼š,äººæ–‡å¤§è®²å ‚Â·å“²å­¦ä¸ä¸–ç•Œ,äººæ–‡å¤§è®²å ‚Â·äººæ–‡ç»å…¸å¯¼è¯»,äººæ–‡å¤§è®²å ‚Â·è®¤è¯†ä¸­å›½,äººæ–‡å¤§è®²å ‚Â·æ–‡è‰ºé‰´èµ,æ€§åˆ«æ•™è‚²,å½±åƒçš„ä¸–ç•Œ,åª’ä½“ç¬¬ä¸€è¯¾,ä¸ç¤¾ä¼šå­¦åŒæ¸¸"</span>, <span class="string">","</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">For</span> pos = <span class="number">1</span> <span class="keyword">To</span> Sheet1.UsedRange.Rows.Count</span><br><span class="line">        <span class="keyword">For</span> classNum = <span class="number">0</span> <span class="keyword">To</span> UBound(classList)</span><br><span class="line">            <span class="keyword">If</span> longestCommonSubsequence(Cells(pos, nameRow).<span class="keyword">text</span>, classList(classNum)) &gt; rate <span class="keyword">Then</span></span><br><span class="line">                Cells(pos, nameRow).EntireRow.Interior.ColorIndex = <span class="number">6</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">    <span class="keyword">Next</span> pos</span><br><span class="line"></span><br><span class="line">    classList = Split(<span class="string">"ç”Ÿæ€ä¹‹ç¾,ä¸€â€œè¯ºâ€åƒé‡‘â€”â€”è¯ºè´å°”æ–‡å­¦å¥–ä½œå®¶ç»å…¸ä½œå“å¯¼è¯»,æµ·é™†ç›¸æœ›è¯ä¸è·¯,è¥¿æ–¹å¤ä»£å»ºç­‘è‰ºæœ¯å²,ä¸–ç•Œè‰ºæœ¯åšç‰©é¦†ä¹‹æ—…,è¥¿æ–¹ç»å…¸æ­Œå‰§ä¸éŸ³ä¹å‰§æ¬£èµ,è¥¿æ–¹æ‘‡æ»šæ–‡åŒ–,è‹±å›½åˆ›é€ äº†ç°ä»£ä¸–ç•Œå—? â€”â€”è‹±å›½è¿‘ä»£å²,çŸ¥æ—¥ä¹‹æ™ºâ€”â€”ä¸­æ—¥ä¹‹é—´æ–‡åŒ–äº¤æ¶‰çš„è¯ é‡Šä¸åæ€,ä¸œå±±é­å¤·ä¸æ—¥æœ¬è‰ºæœ¯,ä¸­ä¸œæ¼«è®°,å…¨çƒåŒ–ä¸ä¸­å›½å²,è®¤è¯†åœ°çƒ,ç¾å›½æ–‡åŒ–å²,ä¸­å›½å¤ä»£åŸå¸‚å²,ä¸­å›½æš¨ä¸œæ–¹å¤ä»£å»ºç­‘è‰ºæœ¯å²,æ–‡åŒ–ä¸­å›½,å®˜åƒš,ä¸­å›½æ–‡å­¦ï¼ˆå…ˆç§¦é­æ™‹å—åŒ—æœéƒ¨åˆ†ï¼‰,ä¸­å›½æ–‡å­¦ï¼ˆå”å®‹éƒ¨åˆ†ï¼‰,ä¸­å›½ç§‘ä¸¾æ–‡åŒ–,å¤§å”ç››ä¸–ï¼šå”ä»£çš„æ”¿æ²»ä¸ç¤¾ä¼š,æ˜æ¸…å°è¯´ä¸­çš„ç¤¾ä¼šç”Ÿæ´»,ç¯è°œä¸­çš„ä¸­å›½æ™ºæ…§,å½“ä»£ä¸­å›½çš„æ–‡åŒ–ç”Ÿäº§,ä¸­å›½ç»æµä¸æ–‡åŒ–åœ°ç†,åäºŒå­”é™¶ç¬›æ¼”å¥,ç”·å£°åˆå”±ï¼ˆä¸Šï¼‰,å°æç´æ¼”å¥è®­ç»ƒ,ç¤¼ä¹ä¹‹é‚¦çš„ä¹æ–‡åŒ–å·¡ç¤¼,è‰ºæœ¯æ¬£èµä¸åˆ›ä½œ,å½±åƒå·¥ä½œåŠ,æ ¡å›­æˆå‰§åˆ›ä½œå®è·µ,çºªå½•ç‰‡ä¸å®è·µ,åŸºåœ°å®è·µä¸æ•™å­¦ï¼ˆä¸Šï¼‰,è¿·äººçš„éŸ³ä¹ä¸å³å…´çš„ä¹è¶£,è†å¬ç»å…¸éŸ³ä¹,ç¾å›½å¤§ä¼—æµè¡ŒéŸ³ä¹,å£°ä¹è‰ºæœ¯èµæ,æ€§åˆ«ä¸æ–‡å­¦,æ€§åˆ«æ•™è‚²ä¸ç”Ÿæ´»,èº«ä»½ä¸è®¤åŒ,ä¸­åŒ»å…»ç”Ÿï¼ˆåŸåï¼šèµ°è¿‘ä¸­åŒ»,ç”Ÿæ´»ä¸­çš„åŒ–å­¦A,ç£·ä¸ç”Ÿæ´»,ç–¾ç—…ä¸å¥åº·,æ— çŸ¥ä¹‹çŸ¥â€”â€”å“²å­¦çš„æ™ºæ…§,ç”Ÿæ´»ä¸­çš„ä¼¦ç†,ç‰©è´¨æ–‡æ˜,å®¶å±‹ä¸æ—æ€§"</span>, <span class="string">","</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">For</span> pos = <span class="number">1</span> <span class="keyword">To</span> Sheet1.UsedRange.Rows.Count</span><br><span class="line">        <span class="keyword">For</span> classNum = <span class="number">0</span> <span class="keyword">To</span> UBound(classList)</span><br><span class="line">            <span class="keyword">If</span> longestCommonSubsequence(Cells(pos, nameRow).<span class="keyword">text</span>, classList(classNum)) &gt; rate <span class="keyword">Then</span></span><br><span class="line">                Cells(pos, nameRow).EntireRow.Interior.ColorIndex = <span class="number">6</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">    <span class="keyword">Next</span> pos</span><br><span class="line"></span><br><span class="line">    classList = Split(<span class="string">"æ–‡å­¦ä¸æ–‡åŒ–ç ”ç©¶çƒ­ç‚¹æ¦‚å¿µè§£æ,çŸ¥è¯†åˆ†å­ä¸å…¬å…±é¢†åŸŸ,å…¬æ°‘å¸¸è¯†,ç§‘æŠ€ä¼¦ç†,é—½å—æ–¹è¨€ä¸æ–‡åŒ–,é—½å—è¯å…¥é—¨,åº”ç”¨åŒ»ç–—äººç±»å­¦ä¸èº«å¿ƒå¥åº·,æ–‡åŒ–äººç±»å­¦,é€»è¾‘ä¸ç§‘å­¦,æ¨ç†ä¸è®ºè¯,æµè¡Œæ–‡åŒ–â€”â€”çˆ±ä¸å“€æ„,æ¯”è¾ƒæ–‡å­¦ä¸æ–‡åŒ–,è·¨ç•Œè®ºé“ï¼šç§‘å­¦èµ°è¿›äººæ–‡,å›½æ•…æ–°çŸ¥ï¼šæ²Ÿé€šæ–‡ç†ï¼Œå¯è¿ªæ™ºæ…§,æ‹äººçµ®è¯­â€”ä¸–ç•Œç”µå½±çš„æƒ…æ„Ÿæ•™è‚²,æ•™è‚²å­¦ç”µå½±æ‰¹è¯„,æ€ç»´è§„åˆ™,æ²‰èˆŸå¸†å½±-æµ·æ´‹è€ƒå¤,ä¹¡æ‘ä»ªå¼ä¸æˆå‰§,ä¹¡æ‘ã€ä¹¡æ„ä¸æ–°ä¹¡æ‘å»ºè®¾,ä¸­å¤–æ–‡åŒ–æ¯”è¾ƒ,ç®€æ˜å¤©æ–‡å­¦,è¯å­¦ä¸åŒ–å¦†å“å­¦,æ–‡ç‰©é‰´èµ,å¤§æ•°æ®æ—¶ä»£çš„ä¿¡æ¯å®‰å…¨,è´¢ç¨åŸºç¡€,ç¯å¢ƒä¸èƒ½æº,æ™ºèƒ½åˆ¶é€ ä¸å·¥ä¸š4.0,æ°´ä¸ç”Ÿæ´»,èˆªç©ºèˆªå¤©åŸºç¡€,Positive Psychologyï¼ˆç§¯æå¿ƒç†å­¦ï¼‰,å¤§å­¦å†å²ä¸æ–‡åŒ–,å¤§è‡ªç„¶æ¢ç§˜ï¼šè‡ªç„¶ä¸ç”Ÿæ€,ä¸œè¥¿æ–¹æ–‡åŒ–å·¡ç¤¼,äººæ–‡ä¸å…¬å…±å«ç”Ÿ,åå¤æ–‡æ˜ä¼ æ’­,ç»æµå­¦ç»å…¸,ä¸¤å²¸å›½å­¦ä¸æ–‡åŒ–ä¼ æ‰¿,ç¾å›½æ–‡å­¦ç»å…¸,å“æ‚Ÿè¥¿æ¸¸,é€»è¾‘å­¦,ç¤¾ä¼šå¿ƒç†å­¦,é¡¹ç›®ç®¡ç†ï¼šæ¡ˆä¾‹ä¸å®è·µ,ä¸­å›½å†å²åœ°ç†,å›½å‰§èµæ"</span>, <span class="string">","</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">For</span> pos = <span class="number">1</span> <span class="keyword">To</span> Sheet1.UsedRange.Rows.Count</span><br><span class="line">        <span class="keyword">For</span> classNum = <span class="number">0</span> <span class="keyword">To</span> UBound(classList)</span><br><span class="line">            <span class="keyword">If</span> longestCommonSubsequence(Cells(pos, nameRow).<span class="keyword">text</span>, classList(classNum)) &gt; rate <span class="keyword">Then</span></span><br><span class="line">                Cells(pos, nameRow).EntireRow.Interior.ColorIndex = <span class="number">6</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">    <span class="keyword">Next</span> pos</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´çš„ä»£ç å¦‚ä¸Šï¼Œéœ€è¦è‡ªå·±æ‹¿å»ä¿®æ”¹çš„åœ°æ–¹æœ‰ï¼š</p><ol><li><code>nameRow</code> æ˜¯éœ€è¦æŸ¥æ‰¾çš„åå­—æ‰€åœ¨çš„åˆ—å·</li><li><code>classList</code> æ˜¯éœ€è¦æŸ¥æ‰¾çš„åå­—çš„é›†åˆ</li><li><code>rate</code> æ˜¯é‡å¤ç‡ï¼Œå³é˜ˆå€¼</li><li>å¦‚æœ<code>classList</code>ç‰¹åˆ«é•¿ï¼Œçœ‹æƒ…å†µåˆ†å‡ æ®µæ¥æŸ¥æ‰¾å§ï¼Œåƒä¸Šé¢è¿™æ ·ï¼Œæ³¨æ„æ¯ä¸€æ®µçš„å¼€å¤´å’Œç»“å°¾ä¸è¦å¸¦é€—å·<code>,</code></li></ol><p>ä¸€åˆ—æ•°æ®è½¬<code>,</code>æ ¼å¼çš„ç½‘å€åœ¨è¿™ï¼š<a href="https://onns.xyz/tools/line-break-to-comma/">https://onns.xyz/tools/line-break-to-comma/</a>ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p><center><p><img src="//onns.xyz/blog/image/20200914-1.jpg" alt="æ•ˆæœå›¾"></p></center><h2 id="æµ‹è¯•"><a class="header-anchor" href="#æµ‹è¯•">#</a>æµ‹è¯•</h2><p>æµ‹è¯•ç»“æœå¦‚å›¾æ‰€ç¤ºï¼š</p><center><p><img src="https://onns.xyz/blog/image/20200219-1.png" alt="æµ‹è¯•ç»“æœå›¾"></p></center><h2 id="å…¶å®ƒ"><a class="header-anchor" href="#å…¶å®ƒ">#</a>å…¶å®ƒ</h2><p>å¦‚æœåªæ˜¾ç¤ºæ ‡é»„çš„ç›¸å…³é—®é¢˜å¯ä»¥ç™¾åº¦ã€‚</p><ul><li><a href="https://zhidao.baidu.com/question/555387177.html" target="_blank" rel="noopener">åœ¨EXCELè¡¨æ ¼ä¸­ï¼Œå¦‚ä½•æŠŠæ ‡æ³¨é»„è‰²çš„æ•°æ®å•å…ƒæ ¼ç­›é€‰å‡ºæ¥</a></li></ul><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://www.vitoshacademy.com/excel-search-and-highlight-text/" target="_blank" rel="noopener">Excel VBA â€“ Search and highlight text</a></li></ul><p>å¦‚æœæœ‰ä»»ä½•é—®é¢˜å¯ä»¥ç•™è¨€é—®æˆ‘ï½ï½</p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> visual basic for applications </tag>
            
            <tag> macro </tag>
            
            <tag> LCS </tag>
            
            <tag> excel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</title>
      <link href="/blog/2020/02/14/java-notes-3/"/>
      <url>/blog/2020/02/14/java-notes-3/</url>
      
        <content type="html"><![CDATA[<p>Java æ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬ 10 ç‰ˆ</p><h2 id="ç»§æ‰¿"><a class="header-anchor" href="#ç»§æ‰¿">#</a>ç»§æ‰¿</h2><a id="more"></a><h3 id="ç±»ã€è¶…ç±»å’Œå­ç±»"><a class="header-anchor" href="#ç±»ã€è¶…ç±»å’Œå­ç±»">#</a>ç±»ã€è¶…ç±»å’Œå­ç±»</h3><ul><li><p>å…³é”®å­—<code>extends</code>è¡¨ç¤ºç»§æ‰¿ã€‚</p></li><li><p>åœ¨é€šè¿‡æ‰©å±•è¶…ç±»å®šä¹‰å­ç±»çš„æ—¶å€™ï¼Œä»…éœ€è¦æŒ‡å‡ºå­ç±»ä¸è¶…ç±»çš„ä¸åŒä¹‹å¤„ã€‚</p></li><li><p>åœ¨è®¾è®¡ç±»çš„æ—¶å€™ï¼Œåº”è¯¥å°†é€šç”¨çš„æ–¹æ³•æ”¾åœ¨è¶…ç±»ä¸­ï¼Œè€Œå°†å…·æœ‰ç‰¹æ®Šç”¨é€”çš„æ–¹æ³•æ”¾åœ¨å­ç±»ä¸­ã€‚</p></li><li><p>å­ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½ç›´æ¥åœ°è®¿é—®è¶…ç±»çš„ç§æœ‰åŸŸï¼Œå¯ä»¥ä½¿ç”¨ <code>super</code> è°ƒç”¨è¶…ç±»çš„æ–¹æ³•æ¥é‡å†™å­ç±»çš„æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">double</span> baseSalary = <span class="keyword">super</span>.getSalary();</span><br><span class="line">  <span class="keyword">return</span> baseSalary + bonus;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>super</code> è°ƒç”¨æ„é€ å™¨çš„è¯­å¥å¿…é¡»æ˜¯å­ç±»æ„é€ å™¨çš„ç¬¬ä¸€æ¡è¯­å¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Manager</span><span class="params">(String name, <span class="keyword">double</span> salary, <span class="keyword">int</span> year,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span> month, <span class="keyword">int</span> day)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">super</span>(name, salary, year, month, day);</span><br><span class="line">  <span class="comment">// è°ƒç”¨è¶…ç±» Employee ä¸­å«æœ‰ nã€sã€year month</span></span><br><span class="line">  <span class="comment">// å’Œ day å‚æ•°çš„æ„é€ å™¨</span></span><br><span class="line">  bonus = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœå­ç±»çš„æ„é€ å™¨æ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨è¶…ç±»çš„æ„é€ å™¨ï¼Œåˆ™å°†è‡ªåŠ¨åœ°è°ƒç”¨è¶…ç±»é»˜è®¤ï¼ˆæ²¡æœ‰å‚æ•°ï¼‰çš„æ„é€ å™¨ã€‚å¦‚æœè¶…ç±»æ²¡æœ‰ä¸å¸¦å‚æ•°çš„æ„é€ å™¨ï¼Œå¹¶ä¸”åœ¨å­ç±»çš„æ„é€ å™¨ä¸­åˆæ²¡æœ‰æ˜¾å¼åœ°è°ƒç”¨è¶…ç±»çš„å…¶ä»–æ„é€ å™¨ï¼Œåˆ™ Java ç¼–è¯‘å™¨å°†æŠ¥å‘Šé”™è¯¯ã€‚</p></li><li><p><code>super</code> å…³é”®å­—çš„ä¸¤ä¸ªç”¨é€”:</p><ol><li>è°ƒç”¨è¶…ç±»çš„æ–¹æ³•ã€‚</li><li>è°ƒç”¨è¶…ç±»çš„æ„é€ å™¨ã€‚</li></ol></li><li><p><strong>å¤šæ€ï¼ˆpolymorphismï¼‰</strong>ï¼šä¸€ä¸ªå¯¹è±¡å˜é‡å¯ä»¥æŒ‡ç¤ºå¤šç§å®é™…ç±»å‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Manager boss = <span class="keyword">new</span> Manager(. . .);</span><br><span class="line">Employee[] staff = <span class="keyword">new</span> Employee[<span class="number">3</span>];</span><br><span class="line">staff[<span class="number">0</span>] = boss;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå˜é‡ staff[0] ä¸ boss å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">// ä½†ç¼–è¯‘å™¨å°† staff[0] çœ‹æˆ Employee å¯¹è±¡ã€‚ è¿™æ„å‘³ç€ï¼Œ</span></span><br><span class="line"><span class="comment">// å¯ä»¥è¿™æ ·è°ƒç”¨</span></span><br><span class="line">boss.setBonus(<span class="number">5000</span>); <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½†ä¸èƒ½è¿™æ ·è°ƒç”¨</span></span><br><span class="line">staff[<span class="number">0</span>].setBonus(<span class="number">5000</span>); <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ˜¯å› ä¸º staff[0] å£°æ˜çš„ç±»å‹æ˜¯ Employeeï¼Œ</span></span><br><span class="line"><span class="comment">// è€Œ setBonus ä¸æ˜¯ Employee ç±»çš„æ–¹æ³•ã€‚</span></span><br></pre></td></tr></table></figure></li><li><p><strong>åŠ¨æ€ç»‘å®šï¼ˆdynamic bindingï¼‰</strong>ï¼šåœ¨è¿è¡Œæ—¶èƒ½å¤Ÿè‡ªåŠ¨åœ°é€‰æ‹©è°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚</p></li><li><p>å¯ä»¥å°†ä¸€ä¸ªå­ç±»çš„å¯¹è±¡èµ‹ç»™è¶…ç±»å˜é‡ï¼Œä½†ä¸èƒ½å°†ä¸€ä¸ªè¶…ç±»çš„å¼•ç”¨èµ‹ç»™å­ç±»å˜é‡ã€‚ä¸æ˜¯æ‰€æœ‰çš„æ°´æœéƒ½æ˜¯è¥¿ç“œ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p></li><li><p>å‡è®¾è¦è°ƒç”¨ <code>x.f(args)</code>ï¼Œéšå¼å‚æ•° <code>x</code> å£°æ˜ä¸ºç±» <code>C</code> çš„ä¸€ä¸ªå¯¹è±¡ã€‚</p><ol><li>ç¼–è¯‘å™¨æŸ»çœ‹å¯¹è±¡çš„å£°æ˜ç±»å‹å’Œæ–¹æ³•åã€‚ç¼–è¯‘å™¨å°†ä¼šä¸€ä¸€åˆ—ä¸¾æ‰€æœ‰ <code>C</code> ç±»ä¸­åä¸º <code>f</code> çš„æ–¹æ³•å’Œå…¶è¶…ç±»ä¸­è®¿é—®å±æ€§ä¸º <code>public</code> ä¸”åä¸º <code>f</code> çš„æ–¹æ³•ï¼ˆè¶…ç±»çš„ç§æœ‰æ–¹æ³•ä¸å¯è®¿é—®ï¼‰ã€‚</li><li>ç¼–è¯‘å™¨å°†æŸ»çœ‹è°ƒç”¨æ–¹æ³•æ—¶æä¾›çš„å‚æ•°ç±»å‹ã€‚å¦‚æœåœ¨æ‰€æœ‰åä¸º <code>f</code> çš„æ–¹æ³•ä¸­å­˜åœ¨ä¸€ä¸ªä¸æä¾›çš„å‚æ•°ç±»å‹å®Œå…¨åŒ¹é…ï¼Œå°±é€‰æ‹©è¿™ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º<code>é‡è½½è§£æ(overloading resolution)</code>ã€‚è¿”å›ç±»å‹ä¸æ˜¯ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ï¼Œåœ¨è¦†ç›–æ–¹æ³•æ—¶ï¼Œä¸€å®šè¦ä¿è¯è¿”å›ç±»å‹çš„å…¼å®¹æ€§ã€‚å…è®¸å­ç±»å°†è¦†ç›–æ–¹æ³•çš„è¿”å›ç±»å‹å®šä¹‰ä¸ºåŸè¿”å›ç±»å‹çš„å­ç±»å‹ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1:1">[1:1]</a></sup></li><li>å¦‚æœæ˜¯ private æ–¹æ³•ã€static æ–¹æ³•ã€final æ–¹æ³•æˆ–è€…æ„é€ å™¨ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å¯ä»¥å‡†ç¡®åœ°çŸ¥é“åº”è¯¥è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°†è¿™ç§è°ƒç”¨æ–¹å¼ç§° <code>ä¸ºé™æ€ç»‘å®š(static binding)</code>ã€‚</li><li>å½“ç¨‹åºè¿è¡Œï¼Œå¹¶ä¸”é‡‡ç”¨åŠ¨æ€ç»‘å®šè°ƒç”¨æ–¹æ³•æ—¶ï¼Œè™šæ‹Ÿæœºä¸€å®šè°ƒç”¨ä¸ <code>x</code> æ‰€å¼•ç”¨å¯¹è±¡çš„å®é™…ç±»å‹æœ€åˆé€‚çš„é‚£ä¸ªç±»çš„æ–¹æ³•ã€‚</li></ol></li><li><p>æ¯æ¬¡è°ƒç”¨æ–¹æ³•éƒ½è¦è¿›è¡Œæœç´¢ï¼Œæ—¶é—´å¼€é”€ç›¸å½“å¤§ã€‚å› æ­¤ï¼Œè™šæ‹Ÿæœºé¢„å…ˆä¸ºæ¯ä¸ªç±»åˆ›å»ºäº†ä¸€ä¸ª<code>æ–¹æ³•è¡¨(method table)</code>ï¼Œå…¶ä¸­åˆ—å‡ºäº†æ‰€æœ‰æ–¹æ³•çš„ç­¾åå’Œå®é™…è°ƒç”¨çš„æ–¹æ³•ã€‚</p></li><li><p>åŠ¨æ€ç»‘å®šæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§ï¼šæ— éœ€å¯¹ç°å­˜çš„ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œå°±å¯ä»¥å¯¹ç¨‹åºè¿›è¡Œæ‰©å±•ã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>å¤šäº†ä¸€ä¸ªæ–°çš„ç±»ä¹‹åï¼Œæ¯”å¦‚<code>Executive</code>ç±»ä¹Ÿæ˜¯<code>Employee</code>çš„å­ç±»ï¼Œé‚£<code>Employee e</code>å¦‚æœåˆšå¥½å¼•ç”¨ä¸€ä¸ª <code>Executive</code> ç±»çš„å¯¹è±¡ï¼Œå°±å¯ä»¥è‡ªåŠ¨çš„è°ƒç”¨è€Œä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1:2">[1:2]</a></sup></p></li><li><p>åœ¨è¦†ç›–ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå­ç±»æ–¹æ³•ä¸èƒ½ä½äºè¶…ç±»æ–¹æ³•çš„å¯è§æ€§ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1:3">[1:3]</a></sup></p></li><li><p>ä¸å…è®¸æ‰©å±•çš„ç±»è¢«ç§°ä¸º <code>final</code> ç±»ã€‚</p></li><li><p><code>final</code> ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è‡ªåŠ¨åœ°æˆä¸º <code>final</code> æ–¹æ³•ã€‚</p></li><li><p>å¦‚æœå°†ä¸€ä¸ªç±»å£°æ˜ä¸º <code>final</code>ï¼Œåªæœ‰å…¶ä¸­çš„æ–¹æ³•è‡ªåŠ¨åœ°æˆä¸º <code>final</code>ï¼Œè€Œä¸åŒ…æ‹¬åŸŸã€‚</p></li><li><p>å¦‚æœä¸€ä¸ªæ–¹æ³•æ²¡æœ‰è¢«è¦†ç›–å¹¶ä¸”å¾ˆçŸ­ï¼Œç¼–è¯‘å™¨å°±èƒ½å¤Ÿå¯¹å®ƒè¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸ºç§°ä¸º<code>å†…è”(inlining)</code>ã€‚ä¾‹å¦‚ï¼Œå†…è”è°ƒç”¨<code>e.getName()</code>å°†è¢«æ›¿æ¢ä¸ºè®¿é—® <code>e.name</code> åŸŸã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1:4">[1:4]</a></sup></p></li></ul><hr><ul><li>è¿›è¡Œç±»å‹è½¬æ¢çš„å”¯ä¸€åŸå› æ˜¯ï¼šåœ¨æš‚æ—¶å¿½è§†å¯¹è±¡çš„å®é™…ç±»å‹ä¹‹åï¼Œä½¿ç”¨å¯¹è±¡çš„å…¨éƒ¨åŠŸèƒ½ã€‚</li><li>å°†ä¸€ä¸ªå€¼å­˜äººå˜é‡æ—¶ï¼Œç¼–è¯‘å™¨å°†æ£€æŸ¥æ˜¯å¦å…è®¸è¯¥æ“ä½œã€‚å°†ä¸€ä¸ªå­ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªè¶…ç±»å˜é‡ï¼Œç¼–è¯‘å™¨æ˜¯å…è®¸çš„ã€‚ä½†å°†ä¸€ä¸ªè¶…ç±»çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªå­ç±»å˜é‡ï¼Œå¿…é¡»è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè¿™æ ·æ‰èƒ½å¤Ÿé€šè¿‡è¿è¡Œæ—¶çš„æ£€æŸ»ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1:5">[1:5]</a></sup></li><li>è¿è¡Œè¿™ä¸ªç¨‹åºæ—¶ï¼ŒJava è¿è¡Œæ—¶ç³»ç»Ÿå°†æŠ¥å‘Šè¿™ä¸ªé”™è¯¯ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ª<code>ClassCastException</code>å¼‚å¸¸ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1:6">[1:6]</a></sup><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Manager boss = <span class="keyword">new</span> Manager(. . .);</span><br><span class="line">Employee[] staff = <span class="keyword">new</span> Employee[<span class="number">3</span>];</span><br><span class="line">staff[<span class="number">0</span>] = boss;</span><br><span class="line">Manager boss = (Manager) staff[<span class="number">1</span>]; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure></li><li>åœ¨è¿›è¡Œç±»å‹è½¬æ¢ä¹‹å‰ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦èƒ½å¤ŸæˆåŠŸåœ°è½¬æ¢ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (staff[<span class="number">1</span>] <span class="keyword">instanceof</span> Manager)</span><br><span class="line">&#123;</span><br><span class="line">  boss = (Manager) staff[<span class="number">1</span>];</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>åªèƒ½åœ¨ç»§æ‰¿å±‚æ¬¡å†…è¿›è¡Œç±»å‹è½¬æ¢ã€‚</li><li>åœ¨å°†è¶…ç±»è½¬æ¢æˆå­ç±»ä¹‹å‰ï¼Œåº”è¯¥ä½¿ç”¨ <code>instanceof</code> è¿›è¡Œæ£€æŸ¥ã€‚</li><li>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥å°½é‡å°‘ç”¨ç±»å‹è½¬æ¢å’Œ <code>instanceof</code> è¿ç®—ç¬¦ã€‚</li></ul><hr><ul><li>åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•çš„ç±»æœ¬èº«å¿…é¡»è¢«å£°æ˜ä¸ºæŠ½è±¡çš„ã€‚</li><li>æŠ½è±¡æ–¹æ³•å……å½“ç€å ä½çš„è§’è‰²ï¼Œå®ƒä»¬çš„å…·ä½“å®ç°åœ¨å­ç±»ä¸­ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  . . .</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getDescription</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>æŠ½è±¡ç±»å¯ä»¥åŒ…å«å…·ä½“æ•°æ®å’Œå…·ä½“æ–¹æ³•ã€‚<blockquote><p>è®¸å¤šç¨‹åºå‘˜è®¤ä¸ºï¼Œåœ¨æŠ½è±¡ç±»ä¸­ä¸èƒ½åŒ…å«å…·ä½“æ–¹æ³•ã€‚å»ºè®®å°½é‡å°†é€šç”¨çš„åŸŸå’Œæ–¹æ³•ï¼ˆä¸ç®¡æ˜¯å¦æ˜¯æŠ½è±¡çš„ï¼‰æ”¾åœ¨è¶…ç±»ï¼ˆä¸ç®¡æ˜¯å¦æ˜¯æŠ½è±¡ç±»ï¼‰ä¸­ã€‚</p></blockquote></li><li>ç±»å³ä½¿ä¸å«æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å°†ç±»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚</li><li>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Person(<span class="string">"Vinee Vu"</span>) <span class="comment">// é”™è¯¯</span></span><br></pre></td></tr></table></figure></li><li>å¯ä»¥å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»çš„å¯¹è±¡å˜é‡ï¼Œä½†æ˜¯å®ƒåªèƒ½å¼•ç”¨éæŠ½è±¡å­ç±»çš„å¯¹è±¡ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Student(<span class="string">"Vinee Vu"</span>, <span class="string">"Economics"</span>);</span><br></pre></td></tr></table></figure></li><li>Java ç”¨äºæ§åˆ¶å¯è§æ€§çš„ 4 ä¸ªè®¿é—®ä¿®é¥°ç¬¦ï¼š<ol><li>ä»…å¯¹æœ¬ç±»å¯è§ï¼š privateã€‚</li><li>å¯¹æ‰€æœ‰ç±»å¯è§ï¼š publicã€‚</li><li>å¯¹æœ¬åŒ…å’Œæ‰€æœ‰å­ç±»å¯è§ï¼š protectedã€‚</li><li>å¯¹æœ¬åŒ…å¯è§ï¼š ä¸éœ€è¦ä¿®é¥°ç¬¦ã€‚</li></ol></li></ul><hr><h3 id="objectï¼šæ‰€æœ‰ç±»çš„è¶…ç±»"><a class="header-anchor" href="#objectï¼šæ‰€æœ‰ç±»çš„è¶…ç±»">#</a>Objectï¼šæ‰€æœ‰ç±»çš„è¶…ç±»</h3><ul><li>Object ç±»æ˜¯ Java ä¸­æ‰€æœ‰ç±»çš„å§‹ç¥–ï¼Œåœ¨ Java ä¸­æ¯ä¸ªç±»éƒ½æ˜¯ç”±å®ƒæ‰©å±•è€Œæ¥çš„ã€‚</li><li>å¯ä»¥ä½¿ç”¨ Object ç±»å‹çš„å˜é‡å¼•ç”¨ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚</li></ul><hr><p>ç¼–å†™ä¸€ä¸ªå®Œç¾çš„ equals æ–¹æ³•çš„å»ºè®®ï¼š</p><ol><li><p>æ˜¾å¼å‚æ•°å‘½åä¸º otherObjectï¼Œç¨åéœ€è¦å°†å®ƒè½¬æ¢æˆå¦ä¸€ä¸ªå«åš other çš„å˜é‡ã€‚</p></li><li><p>æ£€æµ‹ this ä¸ otherObject æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span> = otherObject) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ¡è¯­å¥åªæ˜¯ä¸€ä¸ªä¼˜åŒ–ã€‚å®é™…ä¸Šï¼Œè¿™æ˜¯ä¸€ç§ç»å¸¸é‡‡ç”¨çš„å½¢å¼ã€‚å› ä¸ºè®¡ç®—è¿™ä¸ªç­‰å¼è¦æ¯”ä¸€ä¸ªä¸€ä¸ªåœ°æ¯”è¾ƒç±»ä¸­çš„åŸŸæ‰€ä»˜å‡ºçš„ä»£ä»·å°å¾—å¤šã€‚</p></li><li><p>æ£€æµ‹ otherObject æ˜¯å¦ä¸º null ,å¦‚æœä¸º null ï¼Œè¿”å› falseã€‚è¿™é¡¹æ£€æµ‹æ˜¯å¾ˆå¿…è¦çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (otherObject = <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>æ¯”è¾ƒ this ä¸ otherObject æ˜¯å¦å±äºåŒä¸€ä¸ªç±»ã€‚å¦‚æœ equals çš„è¯­ä¹‰åœ¨æ¯ä¸ªå­ç±»ä¸­æœ‰æ‰€æ”¹å˜ï¼Œå°±ä½¿ç”¨ getClass æ£€æµ‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (getClass() != otherObject.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‰€æœ‰çš„å­ç±»éƒ½æ‹¥æœ‰ç»Ÿä¸€çš„è¯­ä¹‰ï¼Œå°±ä½¿ç”¨ instanceof æ£€æµ‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!(otherObject <span class="keyword">instanceof</span> ClassName)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure></li><li><p>å°† otherObject è½¬æ¢ä¸ºç›¸åº”çš„ç±»ç±»å‹å˜é‡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ClassName other = (ClassName) otherObject</span><br></pre></td></tr></table></figure></li><li><p>ç°åœ¨å¼€å§‹å¯¹æ‰€æœ‰éœ€è¦æ¯”è¾ƒçš„åŸŸè¿›è¡Œæ¯”è¾ƒäº†ã€‚ä½¿ç”¨ <code>==</code> æ¯”è¾ƒåŸºæœ¬ç±»å‹åŸŸï¼Œä½¿ç”¨ equals æ¯”è¾ƒå¯¹è±¡åŸŸã€‚å¦‚æœæ‰€æœ‰çš„åŸŸéƒ½åŒ¹é…ï¼Œå°±è¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> field1 == other.field1</span><br><span class="line">  &amp;&amp; Objects.equals(field2, other.field2)</span><br><span class="line">  &amp;&amp; . . . ;</span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨å­ç±»ä¸­é‡æ–°å®šä¹‰ equals, å°±è¦åœ¨å…¶ä¸­åŒ…å«è°ƒç”¨ super.equals(other)ã€‚</p></li></ol><hr><ul><li>åªè¦å¯¹è±¡ä¸ä¸€ä¸ªå­—ç¬¦ä¸²é€šè¿‡æ“ä½œç¬¦ â€œ+â€ è¿æ¥èµ·æ¥ï¼ŒJava ç¼–è¯‘å°±ä¼šè‡ªåŠ¨åœ°è°ƒç”¨ <code>toString</code> æ–¹æ³•ï¼Œä»¥ä¾¿è·å¾—è¿™ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²æè¿°ã€‚</li></ul><hr><h3 id="èŒƒæ€§æ•°ç»„åˆ—è¡¨"><a class="header-anchor" href="#èŒƒæ€§æ•°ç»„åˆ—è¡¨">#</a>èŒƒæ€§æ•°ç»„åˆ—è¡¨</h3><ul><li>èŒƒå‹æ•°ç»„åˆ—è¡¨<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure></li><li>ä¸å¿…æŒ‡å‡ºæ•°ç»„çš„å¤§å°ã€‚</li><li>ä½¿ç”¨ add å°†ä»»æ„å¤šçš„å…ƒç´ æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚</li><li>ä½¿ç”¨ size() æ›¿ä»£ length è®¡ç®—å…ƒç´ çš„æ•°ç›®ã€‚</li><li>ä½¿ç”¨ a.get(i) æ›¿ä»£ a[i] è®¿é—®å…ƒç´ ã€‚</li><li>ä¸€æ—¦èƒ½å¤Ÿç¡®è®¤æ•°ç»„åˆ—è¡¨çš„å¤§å°ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œå°±å¯ä»¥è°ƒç”¨ <code>trimToSize</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å°†å­˜å‚¨åŒºåŸŸçš„å¤§å°è°ƒæ•´ä¸ºå½“å‰å…ƒç´ æ•°é‡æ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´æ•°ç›®ã€‚åƒåœ¾å›æ”¶å™¨å°†å›æ”¶å¤šä½™çš„å­˜å‚¨ç©ºé—´ã€‚</li><li>ä¸€æ—¦æ•´ç†äº†æ•°ç»„åˆ—è¡¨çš„å¤§å°ï¼Œæ·»åŠ æ–°å…ƒç´ å°±éœ€è¦èŠ±æ—¶é—´å†æ¬¡ç§»åŠ¨å­˜å‚¨å—ï¼Œ æ‰€ä»¥åº”è¯¥åœ¨ç¡®è®¤ä¸ä¼šæ·»åŠ ä»»ä½•å…ƒç´ æ—¶ï¼Œå†è°ƒç”¨ <code>trimToSize</code>ã€‚</li></ul><hr><ul><li>printf æ–¹æ³•æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š<sup class="footnote-ref"><a href="#fn1" id="fnref1:7">[1:7]</a></sup><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintStream</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> PrintStream <span class="title">printf</span><span class="params">(String fmt, Object... args)</span> </span>&#123; <span class="keyword">return</span> format(fmt, args); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><code>...</code>æ˜¯ Java ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒè¡¨æ˜è¿™ä¸ªæ–¹æ³•å¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å¯¹è±¡ï¼ˆé™¤ fmt å‚æ•°ä¹‹å¤–ï¼‰ã€‚</li></ul><hr><ul><li><p>åœ¨æ¯”è¾ƒä¸¤ä¸ªæšä¸¾ç±»å‹çš„å€¼æ—¶ï¼Œæ°¸è¿œä¸éœ€è¦è°ƒç”¨ <code>equals</code>, è€Œç›´æ¥ä½¿ç”¨ <code>==</code> å°±å¯ä»¥äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Size &#123; SMALL, MEDIUM, LARGE, EXTRA_LARGE &#125;;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœéœ€è¦çš„è¯ï¼Œå¯ä»¥åœ¨æšä¸¾ç±»å‹ä¸­æ·»åŠ ä¸€äº›æ„é€ å™¨ã€æ–¹æ³•å’ŒåŸŸã€‚æ„é€ å™¨åªæ˜¯åœ¨æ„é€ æšä¸¾å¸¸é‡çš„æ—¶å€™è¢«è°ƒç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Size</span><br><span class="line">&#123;</span><br><span class="line">  SMALL(<span class="string">"S"</span>), MEDIUM(<span class="string">"M"</span>) , LARGE(<span class="string">"L"</span>) , EXTRA_LARGE(<span class="string">"XL"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String abbreviation;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Size</span><span class="params">(String abbreviation)</span> </span>&#123; <span class="keyword">this</span>.abbreviation = abbreviation; &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getAbbreviation</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> abbreviation; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‰€æœ‰çš„æšä¸¾ç±»å‹éƒ½æ˜¯ <code>Enum</code> ç±»çš„å­ç±»ã€‚</p></li><li><p>æ¯ä¸ªæšä¸¾ç±»å‹éƒ½æœ‰ä¸€ä¸ªé™æ€çš„ <code>values</code> æ–¹æ³•ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«å…¨éƒ¨æšä¸¾å€¼çš„æ•°ç»„ã€‚</p></li><li><p><code>ordinal</code> æ–¹æ³•è¿”å†‹ enum å£°æ˜ä¸­æšä¸¾å¸¸é‡çš„ä½ç½®ï¼Œä½ç½®ä» <code>0</code> å¼€å§‹è®¡æ•°ã€‚ä¾‹å¦‚ï¼š<code>Size.MEDIUM.ordinal()</code> è¿”å› <code>1</code>ã€‚</p></li></ul><hr><h3 id="åå°„"><a class="header-anchor" href="#åå°„">#</a>åå°„</h3><ul><li><p><code>åå°„(reflective)</code>ï¼šèƒ½å¤Ÿåˆ†æç±»èƒ½åŠ›çš„ç¨‹åºã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></p></li><li><p>åå°„æœºåˆ¶å¯ä»¥ç”¨æ¥ï¼š</p><ul><li>åœ¨è¿è¡Œæ—¶åˆ†æç±»çš„èƒ½åŠ›ã€‚</li><li>åœ¨è¿è¡Œæ—¶æŸ¥çœ‹å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œç¼–å†™ä¸€ä¸ª toString æ–¹æ³•ä¾›æ‰€æœ‰ç±»ä½¿ç”¨ã€‚</li><li>å®ç°é€šç”¨çš„æ•°ç»„æ“ä½œä»£ç ã€‚</li><li>åˆ©ç”¨ Method å¯¹è±¡ã€‚</li></ul></li><li><p>åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼ŒJava è¿è¡Œæ—¶ç³»ç»Ÿå§‹ç»ˆä¸ºæ‰€æœ‰çš„å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªè¢«ç§°ä¸ºè¿è¡Œæ—¶çš„ç±»å‹æ ‡è¯†ã€‚ è¿™ä¸ªä¿¡æ¯è·Ÿè¸ªç€æ¯ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ã€‚è™šæ‹Ÿæœºåˆ©ç”¨è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯é€‰æ‹©ç›¸åº”çš„æ–¹æ³•æ‰§è¡Œã€‚</p></li><li><p>Object ç±»ä¸­çš„ <code>getClass()</code> æ–¹æ³•å°†ä¼šè¿”å›ä¸€ä¸ª <code>Class</code> ç±»å‹çš„å®ä¾‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Employee e;</span><br><span class="line">...</span><br><span class="line">Class cl = e.getClass();</span><br></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ª Class å¯¹è±¡å°†è¡¨ç¤ºä¸€ä¸ªç‰¹å®šç±»çš„å±æ€§ã€‚æœ€å¸¸ç”¨çš„ Class æ–¹æ³•æ˜¯<code>getName</code>ã€‚è¿™ä¸ªæ–¹æ³•å°†è¿”å›ç±»çš„åå­—ã€‚</p></li><li><p>å¯ä»¥è°ƒç”¨é™æ€æ–¹æ³• <code>forName</code> è·å¾—ç±»åå¯¹åº”çš„ <code>Class</code> å¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String className = <span class="string">"java.util.Random"</span>;</span><br><span class="line">Class cl = Class.forName(className);</span><br><span class="line"><span class="comment">// å¦‚æœç±»åä¿å­˜åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œå¹¶å¯åœ¨è¿è¡Œä¸­æ”¹å˜ï¼Œ</span></span><br><span class="line"><span class="comment">// å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚</span></span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœ <code>T</code> æ˜¯ä»»æ„çš„ Java ç±»å‹ï¼ˆæˆ– void å…³é”®å­—ï¼‰ï¼Œ<code>T.class</code> å°†ä»£è¡¨åŒ¹é…çš„ç±»å¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Class cl1 = Random<span class="class">.<span class="keyword">class</span></span>; <span class="comment">// if you import java.util.*;</span></span><br><span class="line">Class cl2 = <span class="keyword">int</span><span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">Class cl3 = Double[]<span class="class">.<span class="keyword">class</span></span>;</span><br></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ª Class å¯¹è±¡å®é™…ä¸Šè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè€Œè¿™ä¸ªç±»å‹æœªå¿…ä¸€å®šæ˜¯ä¸€ç§ç±»ã€‚ä¾‹å¦‚ï¼Œ<code>int</code>ä¸æ˜¯ç±»ï¼Œä½† <code>int.class</code> æ˜¯ä¸€ä¸ª Class ç±»å‹çš„å¯¹è±¡ã€‚</p></li><li><p>è™šæ‹Ÿæœºä¸ºæ¯ä¸ªç±»å‹ç®¡ç†ä¸€ä¸ª Class å¯¹è±¡ã€‚å› æ­¤ï¼Œå¯ä»¥åˆ©ç”¨ <code>==</code> è¿ç®—ç¬¦å®ç°ä¸¤ä¸ªç±»å¯¹è±¡æ¯”è¾ƒçš„æ“ä½œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (e.getClass() == Employee<span class="class">.<span class="keyword">class</span>) ...</span></span><br></pre></td></tr></table></figure></li><li><p><code>newInstance()</code>å¯ä»¥ç”¨æ¥åŠ¨æ€åœ°åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.getClass().newInstance();</span><br></pre></td></tr></table></figure></li><li><p><code>newInstance</code> æ–¹æ³•è°ƒç”¨é»˜è®¤çš„æ„é€ å™¨ï¼ˆæ²¡æœ‰å‚æ•°çš„æ„é€ å™¨ï¼‰åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœè¿™ä¸ªç±»æ²¡æœ‰é»˜è®¤çš„æ„é€ å™¨ï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p></li><li><p>åœ¨<code>java.lang.reflect</code>åŒ…ä¸­æœ‰ä¸‰ä¸ªç±»<code>Field</code>ã€<code>Method</code>å’Œ<code>Constructor</code>åˆ†åˆ«ç”¨äºæè¿°ç±»çš„<code>åŸŸ</code>ã€<code>æ–¹æ³•</code>å’Œ<code>æ„é€ å™¨</code>ã€‚</p></li><li><p>å…±æœ‰æ–¹æ³•ï¼š</p><ul><li><code>getName</code>æ–¹æ³•ï¼Œç”¨æ¥è¿”å›é¡¹ç›®çš„åç§°ã€‚</li><li><code>getModifiers</code>æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªæ•´å‹æ•°å€¼ï¼Œç”¨ä¸åŒçš„ä½å¼€å…³æè¿°<code>public</code>å’Œ<code>static</code>è¿™æ ·çš„ä¿®é¥°ç¬¦ä½¿ç”¨çŠ¶å†µã€‚</li></ul></li><li><p><code>Field</code>ç±»æœ‰ä¸€ä¸ª<code>getType</code>æ–¹æ³•ï¼Œç”¨æ¥è¿”å›æè¿°åŸŸæ‰€å±ç±»å‹çš„ Class å¯¹è±¡ã€‚</p></li><li><p>Class ç±»ä¸­çš„<code>getFields</code>ã€<code>getMethods</code>å’Œ<code>getConstructors</code>æ–¹æ³•å°†åˆ†åˆ«è¿”å›ç±»æä¾›çš„ public åŸŸã€æ–¹æ³•å’Œæ„é€ å™¨æ•°ç»„ï¼Œå…¶ä¸­åŒ…æ‹¬è¶…ç±»çš„å…¬æœ‰æˆå‘˜ã€‚</p></li><li><p>Class ç±»çš„<code>getDeclareFields</code>ã€<code>getDeclareMethods</code>å’Œ<code>getDeclaredConstructors</code>æ–¹æ³•å°†åˆ†åˆ«è¿”å›ç±»ä¸­å£°æ˜çš„å…¨éƒ¨åŸŸã€æ–¹æ³•å’Œæ„é€ å™¨ï¼Œå…¶ä¸­åŒ…æ‹¬ç§æœ‰å’Œå—ä¿æŠ¤æˆå‘˜ï¼Œä½†ä¸åŒ…æ‹¬è¶…ç±»çš„æˆå‘˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This program uses reflection to print all features of a class.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@version</span> 1.1 2004-02-21</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> Cay Horstmann</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectionTest</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="comment">// read class name from command line args or user input</span></span><br><span class="line">      String name;</span><br><span class="line">      <span class="keyword">if</span> (args.length &gt; <span class="number">0</span>) name = args[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        Scanner in = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"Enter class name (e.g. java.util.Date): "</span>);</span><br><span class="line">        name = in.next();</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// print class name and superclass name (if != Object)</span></span><br><span class="line">        Class cl = Class.forName(name);</span><br><span class="line">        Class supercl = cl.getSuperclass();</span><br><span class="line">        String modifiers = Modifier.toString(cl.getModifiers());</span><br><span class="line">        <span class="keyword">if</span> (modifiers.length() &gt; <span class="number">0</span>) System.out.print(modifiers + <span class="string">" "</span>);</span><br><span class="line">        System.out.print(<span class="string">"class "</span> + name);</span><br><span class="line">        if (supercl != null &amp;&amp; supercl != Object.class) System.out.print(" extends "</span><br><span class="line">              + supercl.getName());</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">"\n&#123;\n"</span>);</span><br><span class="line">        printConstructors(cl);</span><br><span class="line">        System.out.println();</span><br><span class="line">        printMethods(cl);</span><br><span class="line">        System.out.println();</span><br><span class="line">        printFields(cl);</span><br><span class="line">        System.out.println(<span class="string">"&#125;"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">catch</span> (ClassNotFoundException e)</span><br><span class="line">      &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      System.exit(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Prints all constructors of a class</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> cl a class</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printConstructors</span><span class="params">(Class cl)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      Constructor[] constructors = cl.getDeclaredConstructors();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (Constructor c : constructors)</span><br><span class="line">      &#123;</span><br><span class="line">        String name = c.getName();</span><br><span class="line">        System.out.print(<span class="string">"   "</span>);</span><br><span class="line">        String modifiers = Modifier.toString(c.getModifiers());</span><br><span class="line">        <span class="keyword">if</span> (modifiers.length() &gt; <span class="number">0</span>) System.out.print(modifiers + <span class="string">" "</span>);</span><br><span class="line">        System.out.print(name + <span class="string">"("</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// print parameter types</span></span><br><span class="line">        Class[] paramTypes = c.getParameterTypes();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; paramTypes.length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span>) System.out.print(<span class="string">", "</span>);</span><br><span class="line">            System.out.print(paramTypes[j].getName());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">");"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Prints all methods of a class</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> cl a class</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printMethods</span><span class="params">(Class cl)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      Method[] methods = cl.getDeclaredMethods();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (Method m : methods)</span><br><span class="line">      &#123;</span><br><span class="line">        Class retType = m.getReturnType();</span><br><span class="line">        String name = m.getName();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">"   "</span>);</span><br><span class="line">        <span class="comment">// print modifiers, return type and method name</span></span><br><span class="line">        String modifiers = Modifier.toString(m.getModifiers());</span><br><span class="line">        <span class="keyword">if</span> (modifiers.length() &gt; <span class="number">0</span>) System.out.print(modifiers + <span class="string">" "</span>);</span><br><span class="line">        System.out.print(retType.getName() + <span class="string">" "</span> + name + <span class="string">"("</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// print parameter types</span></span><br><span class="line">        Class[] paramTypes = m.getParameterTypes();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; paramTypes.length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span>) System.out.print(<span class="string">", "</span>);</span><br><span class="line">            System.out.print(paramTypes[j].getName());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">");"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Prints all fields of a class</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> cl a class</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printFields</span><span class="params">(Class cl)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      Field[] fields = cl.getDeclaredFields();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (Field f : fields)</span><br><span class="line">      &#123;</span><br><span class="line">        Class type = f.getType();</span><br><span class="line">        String name = f.getName();</span><br><span class="line">        System.out.print(<span class="string">"   "</span>);</span><br><span class="line">        String modifiers = Modifier.toString(f.getModifiers());</span><br><span class="line">        <span class="keyword">if</span> (modifiers.length() &gt; <span class="number">0</span>) System.out.print(modifiers + <span class="string">" "</span>);</span><br><span class="line">        System.out.println(type.getName() + <span class="string">" "</span> + name + <span class="string">";"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">$ java reflection.ReflectionTest</span><br><span class="line">Enter class name (e.g. java.util.Date):</span><br><span class="line">java.util.List</span><br><span class="line">public abstract interface class java.util.List</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  public abstract void add(int, java.lang.Object);</span><br><span class="line">  public abstract boolean add(java.lang.Object);</span><br><span class="line">  public abstract boolean remove(java.lang.Object);</span><br><span class="line">  public abstract java.lang.Object remove(int);</span><br><span class="line">  public abstract java.lang.Object get(int);</span><br><span class="line">  public abstract boolean equals(java.lang.Object);</span><br><span class="line">  public abstract int hashCode();</span><br><span class="line">  public static java.util.List copyOf(java.util.Collection);</span><br><span class="line">  public abstract int indexOf(java.lang.Object);</span><br><span class="line">  public abstract void clear();</span><br><span class="line">  public abstract int lastIndexOf(java.lang.Object);</span><br><span class="line">  public abstract boolean isEmpty();</span><br><span class="line">  public void replaceAll(java.util.function.UnaryOperator);</span><br><span class="line">  public abstract int size();</span><br><span class="line">  public abstract java.util.List subList(int, int);</span><br><span class="line">  public abstract [Ljava.lang.Object; toArray([Ljava.lang.Object;);</span><br><span class="line">  public abstract [Ljava.lang.Object; toArray();</span><br><span class="line">  public abstract java.util.Iterator iterator();</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object);</span><br><span class="line">  public static java.util.List of();</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public static transient java.util.List of([Ljava.lang.Object;);</span><br><span class="line">  public static java.util.List of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object);</span><br><span class="line">  public abstract boolean contains(java.lang.Object);</span><br><span class="line">  public java.util.Spliterator spliterator();</span><br><span class="line">  public abstract boolean addAll(int, java.util.Collection);</span><br><span class="line">  public abstract boolean addAll(java.util.Collection);</span><br><span class="line">  public abstract java.lang.Object <span class="built_in">set</span>(int, java.lang.Object);</span><br><span class="line">  public abstract boolean containsAll(java.util.Collection);</span><br><span class="line">  public abstract boolean retainAll(java.util.Collection);</span><br><span class="line">  public abstract boolean removeAll(java.util.Collection);</span><br><span class="line">  public void sort(java.util.Comparator);</span><br><span class="line">  public abstract java.util.ListIterator listIterator();</span><br><span class="line">  public abstract java.util.ListIterator listIterator(int);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åå°„æœºåˆ¶çš„é»˜è®¤è¡Œä¸ºå—é™äº Java çš„è®¿é—®æ§åˆ¶ã€‚</p></li><li><p>å°†ä¸€ä¸ª<code>Employee[]</code>ä¸´æ—¶åœ°è½¬æ¢æˆ<code>Object[]</code>æ•°ç»„ï¼Œç„¶åå†æŠŠå®ƒè½¬æ¢å›æ¥æ˜¯å¯ä»¥çš„ï¼Œä½†ä¸€ä»å¼€å§‹å°±æ˜¯<code>Object[]</code>çš„æ•°ç»„å´æ°¸è¿œä¸èƒ½è½¬æ¢æˆ<code>Employe[]</code>æ•°ç»„ã€‚</p></li><li><p>Array ç±»ä¸­çš„é™æ€æ–¹æ³•<code>newInstance</code>ï¼Œå®ƒèƒ½å¤Ÿæ„é€ æ–°æ•°ç»„ã€‚åœ¨è°ƒç”¨å®ƒæ—¶å¿…é¡»æä¾›ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æ•°ç»„çš„å…ƒç´ ç±»å‹ï¼Œä¸€ä¸ªæ˜¯æ•°ç»„çš„é•¿åº¦ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Object newArray = Array.newInstance(componentType, newLength);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* This method grows an array by allocating a new array of the same type and</span></span><br><span class="line"><span class="comment">* copying all elements.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> a the array to grow. This can be an object array or a primitive</span></span><br><span class="line"><span class="comment">* type array</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> a larger array that contains all elements of a.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">goodCopyOf</span><span class="params">(Object a, <span class="keyword">int</span> newLength)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Class cl = a.getClass();</span><br><span class="line">  <span class="keyword">if</span> (!cl.isArray()) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  Class componentType = cl.getComponentType();</span><br><span class="line">  <span class="keyword">int</span> length = Array.getLength(a);</span><br><span class="line">  Object newArray = Array.newInstance(componentType, newLength);</span><br><span class="line">  System.arraycopy(a, <span class="number">0</span>, newArray, <span class="number">0</span>, Math.min(length, newLength));</span><br><span class="line">  <span class="keyword">return</span> newArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ Method ç±»ä¸­æœ‰ä¸€ä¸ª<code>invoke</code>æ–¹æ³•ï¼Œå®ƒå…è®¸è°ƒç”¨åŒ…è£…åœ¨å½“å‰ Method å¯¹è±¡ä¸­çš„æ–¹æ³•ã€‚</p></li><li><p><code>invoke</code>æ–¹æ³•çš„ç­¾åæ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Object <span class="title">invoke</span><span class="params">(Object obj, Object... args)</span></span></span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éšå¼å‚æ•°ï¼Œå…¶ä½™çš„å¯¹è±¡æä¾›äº†æ˜¾å¼å‚æ•°ã€‚å¯¹äºé™æ€æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥è¢«å¿½ç•¥ï¼Œå³å¯ä»¥å°†å®ƒè®¾ç½®ä¸º<code>null</code>ã€‚</p></li><li><p><code>invoke</code>çš„å‚æ•°å’Œè¿”å›å€¼å¿…é¡»æ˜¯<code>Object</code>ç±»å‹çš„ã€‚</p></li></ul><hr><ul><li>ç»§æ‰¿çš„è®¾è®¡æŠ€å·§<ol><li>å°†å…¬å…±æ“ä½œå’ŒåŸŸæ”¾åœ¨è¶…ç±»</li><li>ä¸è¦ä½¿ç”¨å—ä¿æŠ¤çš„åŸŸ</li><li>ä½¿ç”¨ç»§æ‰¿å®ç° <code>is-a</code> å…³ç³»</li><li>é™¤éæ‰€æœ‰ç»§æ‰¿çš„æ–¹æ³•éƒ½æœ‰æ„ä¹‰ï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨ç»§æ‰¿</li><li>åœ¨è¦†ç›–æ–¹æ³•æ—¶ï¼Œä¸è¦æ”¹å˜é¢„æœŸçš„è¡Œä¸º</li><li>ä½¿ç”¨å¤šæ€ï¼Œè€Œéç±»å‹ä¿¡æ¯</li><li>ä¸è¦è¿‡å¤šåœ°ä½¿ç”¨åå°„</li></ol></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>20200815 æ›´æ–°ï¼Œçœ‹<a href="https://www.bilibili.com/video/BV12J41137hu?p=74" target="_blank" rel="noopener">ã€ç‹‚ç¥è¯´ Javaã€‘Java é›¶åŸºç¡€å­¦ä¹ è§†é¢‘é€šä¿—æ˜“æ‡‚</a>å†å›æ¥çœ‹çœ‹ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:1" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:2" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:3" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:4" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:5" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:6" class="footnote-backref">â†©ï¸</a> <a href="#fnref1:7" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>å…¶å®æ²¡å¤ªæ‡‚ã€‚ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>å›æ¥å­¦åå°„ <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡æ¡£åŒæ­¥</title>
      <link href="/blog/2020/02/13/online-doc/"/>
      <url>/blog/2020/02/13/online-doc/</url>
      
        <content type="html"><![CDATA[<p>ç»å¸¸ä¼šæœ‰è¿™æ ·ä¸€ç§éœ€æ±‚ï¼šæˆ‘éœ€è¦æŠŠä¸€æ®µæ–‡å­—ä»ä¸€ä¸ªè®¾å¤‡å‘é€åˆ°å¦ä¸€ä¸ªè®¾å¤‡ï¼Œè™½ç„¶ç¡®å®ä¼šæœ‰å¾ˆå¤šè§£å†³åŠæ³•ï¼Œæ¯”å¦‚ç™»é™†QQã€å¾®ä¿¡ï¼Œç„¶åä¼ è¿‡å»ï¼Œä½†æ˜¯è¿™äº›éƒ½<code>éœ€è¦ç¹ççš„ç™»é™†æ­¥éª¤</code>ï¼Œå¹¶ä¸”æœ‰äº›æ—¶å€™ä½ éœ€è¦å‘é€çš„è®¾å¤‡æ˜¯ä¸€å°<code>ä¸å¯ä¿¡çš„</code>ã€<code>ä½ ä¸æ„¿æ„åœ¨ä¸Šé¢æš´éœ²è‡ªå·±è´¦å·å¯†ç </code>çš„è®¾å¤‡ï¼Œæ‰€ä»¥æƒ³å¼„ä¸€ä¸ªæ— éœ€ç™»é™†çš„å°Demoï¼ŒèŠ±äº†å››ä¸ªå°æ—¶ï¼Œæ•ˆæœè¿˜ä¸é”™ã€‚</p><a id="more"></a><h2 id="å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#å‡†å¤‡å·¥ä½œ">#</a>å‡†å¤‡å·¥ä½œ</h2><h3 id="ç¼–è¾‘å™¨"><a class="header-anchor" href="#ç¼–è¾‘å™¨">#</a>ç¼–è¾‘å™¨</h3><p>ç½‘é¡µè®¿é—®åº”è¯¥æ˜¯æœ€æ–¹ä¾¿å¿«æ·çš„æ–¹å¼äº†ï¼Œæ‰€ä»¥è¿™ä¸ªå°demoå°±ä¾æ‰˜ <code>web</code>ã€‚è§£å†³äº†æ¡†æ¶çš„é—®é¢˜ï¼Œä¸‹ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„é—®é¢˜æ˜¯é€‰æ‹©ä»€ä¹ˆæ ·çš„å‰ç«¯ç¼–è¾‘å™¨ã€‚</p><p>æœ€åˆçš„è®¾æƒ³æ˜¯é‡‡ç”¨ä¸€äº›å¼€æºçš„ <code>markdown</code> ç¼–è¾‘å™¨ï¼Œæ¯•ç«Ÿ <code>markdown</code> æ˜¯æˆ‘æœ€ç»å¸¸ç¼–å†™çš„æ–‡æœ¬æ ·å¼äº†ï¼Œä¹Ÿç¡®å®æœ‰ä¸€äº›å¾ˆå¥½çœ‹çš„ç¼–è¾‘å™¨ï¼š</p><ul><li><a href="https://github.com/lepture/editor" target="_blank" rel="noopener">https://github.com/lepture/editor</a></li><li><a href="https://github.com/sparksuite/simplemde-markdown-editor" target="_blank" rel="noopener">https://github.com/sparksuite/simplemde-markdown-editor</a></li></ul><p>ä½†è¿™èƒŒç¦»äº†æˆ‘çš„åˆè¡·ï¼Œæˆ‘è¦åšçš„ä¸æ˜¯ä¸€ä¸ªåœ¨çº¿çš„ç¼–è¾‘å™¨ï¼Œè€Œä»…ä»…æ˜¯ä¸€ä¸ªå¯ä»¥å­˜æ”¾æ–‡æœ¬çš„ç¼–è¾‘å™¨ï¼Œmarkdownçš„è§£æå’Œé¢„è§ˆéœ€è¦å¾ˆå¤§çš„å·¥ä½œé‡ï¼Œä¸”æ ·å¼ä¸ä¸€å®šæ˜¯æˆ‘å–œæ¬¢çš„ã€‚</p><p>æœ€ç»ˆæˆ‘é€‰æ‹©ä¸€æ¬¾<a href="http://www.htmleaf.com/css3/ui-design/201609023948.html" target="_blank" rel="noopener">çº¯CSS3åˆ¶ä½œå¯ç¼–è¾‘çš„å¾®è½¯Wordæ ·å¼æ–‡æ¡£</a>ï¼Œä»–çš„<a href="https://github.com/delight-im/HTML-Sheets-of-Paper" target="_blank" rel="noopener">githubåœ°å€</a>ã€‚</p><h3 id="æ•°æ®å­˜å‚¨"><a class="header-anchor" href="#æ•°æ®å­˜å‚¨">#</a>æ•°æ®å­˜å‚¨</h3><p>æˆ‘çš„ç½‘ç«™æŒ‚åœ¨GitHubä¸Šï¼Œåªæœ‰å‰ç«¯æ²¡æœ‰æœåŠ¡å™¨ï¼Œå¦‚æœä»…ä»…åªæ˜¯ä¸ºäº†ä¸€ä¸ªå°demoå°±è¿ç§»åˆ°æœåŠ¡å™¨ä¸Šï¼Œæœªå…æœ‰äº›å°é¢˜å¤§åšã€‚<br>æˆ‘çš„åšå®¢ä¸Šå…¶å®å°±æœ‰åŸºäºåç«¯çš„å†…å®¹ï¼Œç”¨çš„æ˜¯<a href="https://leancloud.cn/" target="_blank" rel="noopener">leancloud</a>çš„æœåŠ¡ï¼Œå…è´¹ç‰ˆçš„apié™åˆ¶æ˜¯ <code>3ä¸‡æ¬¡/å¤©</code>ï¼Œå¯¹äºä¸ªäººæ—¥å¸¸ä½¿ç”¨å®Œå…¨è¶³å¤Ÿã€‚æ•…æœ¬demoçš„æ•°æ®å­˜å‚¨ä¸åŒæ­¥ä¹ŸåŒæ ·ä½¿ç”¨ <code>leancloud</code>ï¼Œç›¸å…³çš„æ–‡æ¡£è§<a href="https://leancloud.cn/docs/leanstorage_guide-js.html" target="_blank" rel="noopener">æ•°æ®å­˜å‚¨å¼€å‘æŒ‡å— Â· JavaScript</a>ã€‚</p><h2 id="å…·ä½“å®ç°"><a class="header-anchor" href="#å…·ä½“å®ç°">#</a>å…·ä½“å®ç°</h2><p>è¿™é‡Œåªè€ƒè™‘jsé€»è¾‘ï¼Œå…¶å®ƒè¯¦è§ä»£ç ã€‚</p><h3 id="è·å–å½“å‰urlå‚æ•°"><a class="header-anchor" href="#è·å–å½“å‰urlå‚æ•°">#</a>è·å–å½“å‰urlå‚æ•°</h3><p>åœ¨çº¿æ–‡æ¡£å½“ç„¶ä¸èƒ½åªæœ‰ä¸€ä¸ªå¯ç¼–è¾‘çš„é¡µé¢ï¼Œæ‰€ä»¥æˆ‘çš„è®¾æƒ³æ˜¯è·å– <code>url</code> ä¸Šçš„é¢å¤–å‚æ•°ï¼Œä»¥æ­¤ä½œä¸ºæ–‡æ¡£çš„<strong>å”¯ä¸€ID</strong>ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ— æ•°ä¸ªæ–‡æ¡£å¯ä»¥å­˜æ”¾å†…å®¹ï¼Œæ¯”å¦‚ <code>/doc/?1</code> å’Œ <code>/doc/?12</code> å°±æ˜¯ä¸¤ä¸ªä¸åŒçš„æ–‡æ¡£ã€‚<br>è€Œæœ¬èº«çš„åŸŸåå¯èƒ½å‘ç”Ÿæ”¹å˜ï¼Œä¸ºäº†æ–¹ä¾¿æ‹“å±•ï¼Œ <code>url</code> å‚æ•°åº”è¯¥æ˜¯å»æ‰<code>åè®®ï¼ˆhttps://ï¼‰</code>ã€<code>åŸŸåï¼ˆxxxxx.comï¼‰</code>å’Œ<code>ç«¯å£å·ï¼ˆ80ï¼‰</code>åçš„ç»“æœã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰url</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">window</span>.location.href.slice(<span class="built_in">window</span>.location.href.indexOf(<span class="string">'/doc/'</span>));</span><br></pre></td></tr></table></figure><h3 id="æ‹‰å–è¿œç«¯æ•°æ®"><a class="header-anchor" href="#æ‹‰å–è¿œç«¯æ•°æ®">#</a>æ‹‰å–è¿œç«¯æ•°æ®</h3><p>é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶åº”è¯¥æ‹‰å–è¿œç«¯çš„æ•°æ®ï¼Œæ¥æ¢å¤æ–‡æ¡£å†…å®¹ï¼ˆå¦‚æœè¿œç«¯å­˜åœ¨å¤‡ä»½å†…å®¹ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">AV.init(&#123;</span><br><span class="line">  appId: <span class="string">"jIRe5LRqbWDB2dxmu7FH8c1S-gzGzoHsz"</span>,</span><br><span class="line">  appKey: <span class="string">"xxxxxxxxxxxxxxxxx"</span>,</span><br><span class="line">  serverURLs: <span class="string">"https://jire5lrq.lc-cn-n1-shared.com"</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'DocSync'</span>);</span><br><span class="line">query.equalTo(<span class="string">'url'</span>, url);</span><br><span class="line">query.find().then(<span class="function"><span class="keyword">function</span> (<span class="params">docsync</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æ‹‰å–è¿œç«¯ç»“æœ</span></span><br><span class="line">  <span class="keyword">if</span> (docsync.length == <span class="number">1</span>) &#123;</span><br><span class="line">    docEle.innerHTML = docsync[<span class="number">0</span>].attributes.content;</span><br><span class="line">    content = docsync[<span class="number">0</span>].attributes.content;</span><br><span class="line">    objectId = docsync[<span class="number">0</span>].id;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°è¿œç«¯æ•°æ®"><a class="header-anchor" href="#æ›´æ–°è¿œç«¯æ•°æ®">#</a>æ›´æ–°è¿œç«¯æ•°æ®</h3><p>æ•°æ®æ›´æ–°çš„ç­–ç•¥æ˜¯ï¼Œåˆ¤æ–­å½“å‰é¡µé¢åœ¨è¿œç«¯æ˜¯å¦æœ‰å­—æ®µä¿ç•™ï¼Œå¦‚æœæœ‰å°±æ›´æ–°å­—æ®µå³å¯ï¼Œå¦åˆ™éœ€è¦æ–°å¢ä¸€æ¡è®°å½•ä¿å­˜å½“å‰ <code>url</code> çš„å†…å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (objectId == <span class="string">''</span>) &#123;</span><br><span class="line">    <span class="comment">// å£°æ˜ class</span></span><br><span class="line">    <span class="keyword">var</span> DocSync = AV.Object.extend(<span class="string">'DocSync'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„å»ºå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">var</span> docsync = <span class="keyword">new</span> DocSync();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸ºå±æ€§èµ‹å€¼</span></span><br><span class="line">    docsync.set(<span class="string">'url'</span>, url);</span><br><span class="line">    docsync.set(<span class="string">'content'</span>, docEle.innerHTML);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å¯¹è±¡ä¿å­˜åˆ°äº‘ç«¯</span></span><br><span class="line">    docsync.save().then(<span class="function"><span class="keyword">function</span> (<span class="params">docsync</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// æˆåŠŸä¿å­˜ä¹‹åï¼Œæ‰§è¡Œå…¶ä»–é€»è¾‘</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'ä¿å­˜æˆåŠŸã€‚objectIdï¼š'</span> + docsync.id);</span><br><span class="line">      objectId = docsync.id;</span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// å¼‚å¸¸å¤„ç†</span></span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> docsync = AV.Object.createWithoutData(<span class="string">'DocSync'</span>, objectId);</span><br><span class="line">    docsync.set(<span class="string">'content'</span>, docEle.innerHTML);</span><br><span class="line">    docsync.save().then(<span class="function"><span class="keyword">function</span> (<span class="params">docsync</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'æ›´æ–°æˆåŠŸã€‚'</span>);</span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  content = docEle.innerHTML;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ›´æ–°ç­–ç•¥"><a class="header-anchor" href="#æ›´æ–°ç­–ç•¥">#</a>æ›´æ–°ç­–ç•¥</h3><p>æˆ‘è®¾ç½®çš„æ›´æ–°çš„ç­–ç•¥æ˜¯ <code>10s</code> è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (docEle.innerHTML != content &amp;&amp; docEle.innerHTML != <span class="string">''</span>) &#123;</span><br><span class="line">    update();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">1000</span> * <span class="number">10</span>);</span><br></pre></td></tr></table></figure><h2 id="demo"><a class="header-anchor" href="#demo">#</a>Demo</h2><p>è¯¦è§<a href="https://onns.xyz/doc/">https://onns.xyz/doc/</a>ã€‚</p><h2 id="todo"><a class="header-anchor" href="#todo">#</a>TODO</h2><ul><li>å› ä¸ºæ˜¯ç”¨ <code>leancloud</code> æœåŠ¡ï¼Œä¸æ¸…æ¥šå•ä¸ªå­—æ®µçš„å¤§å°é™åˆ¶ï¼Œå¯èƒ½å‡ºç°æ— æ³•ä¿å­˜æˆ–æ— æ³•å®Œæ•´ä¿å­˜çš„æƒ…å†µï¼Œéœ€è¦ç¼–è¾‘å™¨åŠ ä»¥é™åˆ¶ã€‚</li><li>ä¸€äº›è¯¸å¦‚ä¿å­˜æ—¶é—´ã€å­—æ•°å¤§å°ç­‰æ§åˆ¶ä¿¡æ¯çš„æ˜¾ç¤ºã€‚</li><li>ç¼–è¾‘å™¨æœ¬èº«æ”¯æŒå¾ˆå¤šåŠŸèƒ½ï¼Œéœ€è¦ç›¸å…³ç»„ä»¶æ¥ä¸°å¯Œã€‚</li><li>ç”±äºæ¥å£è°ƒç”¨é™åˆ¶ï¼Œæ•°æ®çš„è¿œç«¯æ‹‰å–å¹¶æœªå®šæ—¶æ‰§è¡Œè€Œåªä¼šåœ¨ç½‘é¡µåŠ è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥æœ‰æ›´å¤šåˆç†çš„ç­–ç•¥ã€‚</li><li>æ›´æ–°ç­–ç•¥ä¹Ÿå¯ä»¥æ›´æ™ºèƒ½ï¼Œæ¯”å¦‚å¦‚æœæ–°å¢æ–‡å­—æ•°å¤§äº<code>é˜ˆå€¼</code>åˆ™é©¬ä¸Šæ›´æ–°ã€‚</li><li>æ‰‹æœºç«¯UIä¸å‹å¥½ã€‚</li></ul><p>å¦‚æœæœ‰å»ºè®®æ¬¢è¿ç•™è¨€ï½</p>]]></content>
      
      
      <categories>
          
          <category> idea </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sync </tag>
            
            <tag> serverless </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
      <link href="/blog/2020/02/11/java-notes-2/"/>
      <url>/blog/2020/02/11/java-notes-2/</url>
      
        <content type="html"><![CDATA[<p>Java æ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬ 10 ç‰ˆ</p><h2 id="å¯¹è±¡ä¸ç±»"><a class="header-anchor" href="#å¯¹è±¡ä¸ç±»">#</a>å¯¹è±¡ä¸ç±»</h2><a id="more"></a><p>å°è£…ï¼ˆencapsulationï¼‰æ˜¯ä¸å¯¹è±¡æœ‰å…³çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ ä»å½¢å¼ä¸Šçœ‹ï¼Œå°è£…ä¸è¿‡æ˜¯å°†æ•°æ®å’Œè¡Œä¸ºç»„åˆåœ¨ä¸€ä¸ªåŒ…ä¸­ï¼Œå¹¶å¯¹å¯¹è±¡çš„ä½¿ç”¨è€…éšè—äº†æ•°æ®çš„å®ç°æ–¹å¼ã€‚å¯¹è±¡ä¸­çš„æ•°æ®ç§°ä¸ºå®ä¾‹åŸŸï¼ˆinstance fieldï¼‰ï¼Œæ“çºµæ•°æ®çš„è¿‡ç¨‹ç§°ä¸ºæ–¹æ³•ï¼ˆ methodï¼‰ã€‚å¯¹äºæ¯ä¸ªç‰¹å®šçš„ç±»å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰éƒ½æœ‰ä¸€ç»„ç‰¹å®šçš„å®ä¾‹åŸŸå€¼ã€‚</p><p>ç»§æ‰¿ï¼ˆinheritanceï¼‰ï¼šé€šè¿‡æ‰©å±•ä¸€ä¸ªç±»æ¥å»ºç«‹å¦å¤–ä¸€ä¸ªç±»çš„è¿‡ç¨‹ã€‚</p><p>ä¸€ä¸ªå¯¹è±¡å˜é‡å¹¶æ²¡æœ‰å®é™…åŒ…å«ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä»…ä»…å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ã€‚<br>åœ¨ Java ä¸­ï¼Œä»»ä½•å¯¹è±¡å˜é‡çš„å€¼éƒ½æ˜¯å¯¹å­˜å‚¨åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹çš„ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚<br>å±€éƒ¨å˜é‡ä¸ä¼šè‡ªåŠ¨åœ°åˆå§‹åŒ–ä¸º <code>null</code>ï¼Œè€Œå¿…é¡»é€šè¿‡è°ƒç”¨ <code>new</code> æˆ–å°†å®ƒä»¬è®¾ç½®ä¸º <code>null</code> è¿›è¡Œåˆå§‹åŒ–ã€‚</p><ul><li>æ›´æ”¹å™¨æ–¹æ³•ï¼ˆmutator methodï¼‰ï¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ã€‚</li><li>è®¿é—®å™¨æ–¹æ³•ï¼ˆaccessor methodï¼‰ï¼šåªè®¿é—®å¯¹è±¡è€Œä¸ä¿®æ”¹å¯¹è±¡çš„æ–¹æ³•ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MyCalendar.java</span></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCalendar</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        LocalDate nowDate = LocalDate.now();</span><br><span class="line">        <span class="keyword">int</span> day = nowDate.getDayOfMonth();</span><br><span class="line">        System.out.println(<span class="string">"Sun Mon Tue Wed Thu Fri Sat"</span>);</span><br><span class="line">        <span class="keyword">int</span> week = nowDate.getDayOfWeek().getValue();</span><br><span class="line">        <span class="keyword">int</span> n = (<span class="number">7</span> - (day - week) % <span class="number">7</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            System.out.print(<span class="string">"    "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= nowDate.lengthOfMonth(); i++) &#123;</span><br><span class="line">            n++;</span><br><span class="line">            System.out.printf(<span class="string">"%3d"</span>, i);</span><br><span class="line">            <span class="keyword">if</span> (n % <span class="number">7</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == day) &#123;</span><br><span class="line">                    System.out.print(<span class="string">"*"</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    System.out.print(<span class="string">" "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This program tests the Employee class.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.12 2015-05-08</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Cay Horstmann</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeTest</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// fill the staff array with three Employee objects</span></span><br><span class="line">      Employee[] staff = <span class="keyword">new</span> Employee[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">      staff[<span class="number">0</span>] = <span class="keyword">new</span> Employee(<span class="string">"Carl Cracker"</span>, <span class="number">75000</span>, <span class="number">1987</span>, <span class="number">12</span>, <span class="number">15</span>);</span><br><span class="line">      staff[<span class="number">1</span>] = <span class="keyword">new</span> Employee(<span class="string">"Harry Hacker"</span>, <span class="number">50000</span>, <span class="number">1989</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line">      staff[<span class="number">2</span>] = <span class="keyword">new</span> Employee(<span class="string">"Tony Tester"</span>, <span class="number">40000</span>, <span class="number">1990</span>, <span class="number">3</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// raise everyone's salary by 5%</span></span><br><span class="line">      <span class="keyword">for</span> (Employee e : staff)</span><br><span class="line">         e.raiseSalary(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// print out information about all Employee objects</span></span><br><span class="line">      <span class="keyword">for</span> (Employee e : staff)</span><br><span class="line">         System.out.println(<span class="string">"name="</span> + e.getName() + <span class="string">",salary="</span> + e.getSalary() + <span class="string">",hireDay="</span> + e.getHireDay());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line">   <span class="keyword">private</span> LocalDate hireDay;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String n, <span class="keyword">double</span> s, <span class="keyword">int</span> year, <span class="keyword">int</span> month, <span class="keyword">int</span> day)</span> </span>&#123;</span><br><span class="line">      name = n;</span><br><span class="line">      salary = s;</span><br><span class="line">      hireDay = LocalDate.of(year, month, day);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> name;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSalary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> salary;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> LocalDate <span class="title">getHireDay</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> hireDay;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">raiseSalary</span><span class="params">(<span class="keyword">double</span> byPercent)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">double</span> raise = salary * byPercent / <span class="number">100</span>;</span><br><span class="line">      salary += raise;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åœ¨ä¸€ä¸ªæºæ–‡ä»¶ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå…¬æœ‰ç±»ï¼Œä½†å¯ä»¥æœ‰ä»»æ„æ•°ç›®çš„éå…¬æœ‰ç±»ã€‚</li><li>ç±»é€šå¸¸åŒ…æ‹¬ç±»å‹å±äºæŸä¸ªç±»ç±»å‹çš„å®ä¾‹åŸŸã€‚</li><li>æ„é€ å™¨æ€»æ˜¯ä¼´éšç€ <code>new</code> æ“ä½œç¬¦çš„æ‰§è¡Œè¢«è°ƒç”¨ï¼Œè€Œä¸èƒ½å¯¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡è°ƒç”¨æ„é€ å™¨æ¥è¾¾åˆ°é‡æ–°è®¾ç½®å®ä¾‹åŸŸçš„ç›®çš„ã€‚</li><li>æ„é€ å™¨<ul><li>æ„é€ å™¨ä¸ç±»åŒå</li><li>æ¯ä¸ªç±»å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„æ„é€ å™¨</li><li>æ„é€ å™¨å¯ä»¥æœ‰ 0 ä¸ªã€1 ä¸ªæˆ–å¤šä¸ªå‚æ•°</li><li>æ„é€ å™¨æ²¡æœ‰è¿”å›å€¼</li><li>æ„é€ å™¨æ€»æ˜¯ä¼´éšç€ new æ“ä½œä¸€èµ·è°ƒç”¨</li></ul></li><li>ä¸è¦åœ¨æ„é€ å™¨ä¸­å®šä¹‰ä¸å®ä¾‹åŸŸé‡åçš„å±€éƒ¨å˜é‡ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥è®¿é—®æ‰€å±ç±»çš„æ‰€æœ‰å¯¹è±¡çš„ç§æœ‰æ•°æ®ã€‚</li></ul><p>å¯ä»¥å°†å®ä¾‹åŸŸå®šä¹‰ä¸º <code>final</code>ã€‚æ„å»ºå¯¹è±¡æ—¶å¿…é¡»åˆå§‹åŒ–è¿™æ ·çš„åŸŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»ç¡®ä¿åœ¨æ¯ä¸€ä¸ªæ„é€ å™¨æ‰§è¡Œä¹‹åï¼Œè¿™ä¸ªåŸŸçš„å€¼è¢«è®¾ç½®ï¼Œå¹¶ä¸”åœ¨åé¢çš„æ“ä½œä¸­ï¼Œä¸èƒ½å¤Ÿå†å¯¹å®ƒè¿›è¡Œä¿®æ”¹ã€‚</p><p>å¯¹äºå¯å˜çš„ç±»ï¼Œ ä½¿ç”¨ <code>final</code> ä¿®é¥°ç¬¦å¯èƒ½ä¼šå¯¹è¯»è€…é€ æˆæ··ä¹±ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> StringBuilder evaluations;</span><br></pre></td></tr></table></figure><p>åœ¨ Employee æ„é€ å™¨ä¸­ä¼šåˆå§‹åŒ–ä¸º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evaluations = <span class="keyword">new</span> StringBuilder();</span><br></pre></td></tr></table></figure><p><code>final</code> å…³é”®å­—åªæ˜¯è¡¨ç¤ºå­˜å‚¨åœ¨ <code>evaluations</code> å˜é‡ä¸­çš„å¯¹è±¡å¼•ç”¨ä¸ä¼šå†æŒ‡ç¤ºå…¶ä»– <code>StringBuilder</code> å¯¹è±¡ã€‚ä¸è¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥æ›´æ”¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">giveGoldStar</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  evaluations.append(LocalDate.now() + <span class="string">": Gold star!\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><ul><li>å¦‚æœå°†åŸŸå®šä¹‰ä¸º <code>static</code>ï¼Œæ¯ä¸ªç±»ä¸­åªæœ‰ä¸€ä¸ªè¿™æ ·çš„åŸŸã€‚</li><li>æ¯ä¸€ä¸ªå¯¹è±¡å¯¹äºæ‰€æœ‰çš„å®ä¾‹åŸŸå´éƒ½æœ‰è‡ªå·±çš„ä¸€ä»½æ‹·è´ã€‚</li><li>é™æ€æ–¹æ³•æ˜¯ä¸€ç§ä¸èƒ½å‘å¯¹è±¡å®æ–½æ“ä½œçš„æ–¹æ³•ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></li><li>é™æ€æ–¹æ³•å¯ä»¥è®¿é—®è‡ªèº«ç±»ä¸­çš„é™æ€åŸŸã€‚</li><li>ä½¿ç”¨é™æ€æ–¹æ³•çš„æƒ…å†µï¼š<ol><li>æ–¹æ³•ä¸éœ€è¦è®¿é—®å¯¹è±¡çŠ¶æ€ï¼Œå…¶æ‰€éœ€å‚æ•°éƒ½æ˜¯é€šè¿‡æ˜¾å¼å‚æ•°æä¾›ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•åªéœ€è¦è®¿é—®ç±»çš„é™æ€åŸŸã€‚</li></ol></li></ul><hr><ul><li>Java ç¨‹åºè®¾è®¡è¯­è¨€æ€»æ˜¯é‡‡ç”¨ <code>æŒ‰å€¼è°ƒç”¨</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ æ–¹æ³•å¾—åˆ°çš„æ˜¯æ‰€æœ‰å‚æ•°å€¼çš„ä¸€ä¸ª<code>æ‹·è´</code>ï¼Œæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¼ é€’ç»™å®ƒçš„ä»»ä½•å‚æ•°å˜é‡çš„å†…å®¹ã€‚</li><li>Java çš„å¯¹è±¡å¼•ç”¨ä¹Ÿæ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼ˆå³æ•°å€¼å‹æˆ–å¸ƒå°”å‹ï¼‰ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡å‚æ•°çš„çŠ¶æ€ã€‚</li><li>ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©å¯¹è±¡å‚æ•°å¼•ç”¨ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</li></ul><hr><p><strong>é‡è½½ï¼ˆoverloadingï¼‰</strong>ï¼šå¤šä¸ªæ–¹æ³•æœ‰ç›¸åŒçš„åå­—ã€ä¸åŒçš„å‚æ•°ã€‚<br><strong>é‡è½½è§£æï¼ˆoverloading resolutionï¼‰</strong>ï¼šç¼–è¯‘å™¨å¿…é¡»æŒ‘é€‰å‡ºå…·ä½“æ‰§è¡Œå“ªä¸ªæ–¹æ³•ï¼Œå®ƒé€šè¿‡ç”¨å„ä¸ªæ–¹æ³•ç»™å‡ºçš„å‚æ•°ç±»å‹ä¸ç‰¹å®šæ–¹æ³•è°ƒç”¨æ‰€ä½¿ç”¨çš„å€¼ç±»å‹è¿›è¡ŒåŒ¹é…æ¥æŒ‘é€‰å‡ºç›¸åº”çš„æ–¹æ³•ã€‚å¦‚æœç¼–è¯‘å™¨æ‰¾ä¸åˆ°åŒ¹é…çš„å‚æ•°ï¼Œå°±ä¼šäº§ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ï¼Œå› ä¸ºæ ¹æœ¬ä¸å­˜åœ¨åŒ¹é…ï¼Œæˆ–è€…æ²¡æœ‰ä¸€ä¸ªæ¯”å…¶ä»–çš„æ›´å¥½ã€‚</p><ul><li><p>Java å…è®¸é‡è½½ä»»ä½•æ–¹æ³•ï¼Œè€Œä¸åªæ˜¯æ„é€ å™¨æ–¹æ³•ã€‚</p></li><li><p>å¦‚æœåœ¨ç¼–å†™ä¸€ä¸ªç±»æ—¶æ²¡æœ‰ç¼–å†™æ„é€ å™¨ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šæä¾›ä¸€ä¸ªæ— å‚æ•°æ„é€ å™¨ã€‚</p></li><li><p>å¦‚æœç±»ä¸­æä¾›äº†è‡³å°‘ä¸€ä¸ªæ„é€ å™¨ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›æ— å‚æ•°çš„æ„é€ å™¨ï¼Œåˆ™åœ¨æ„é€ å¯¹è±¡æ—¶å¦‚æœæ²¡æœ‰æä¾›å‚æ•°å°±ä¼šè¢«è§†ä¸º<code>ä¸åˆæ³•</code>ã€‚</p></li><li><p>å¯ä»¥åœ¨ç±»å®šä¹‰ä¸­ï¼Œ ç›´æ¥å°†ä¸€ä¸ªå€¼èµ‹ç»™ä»»ä½•åŸŸã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name = <span class="string">""</span>;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åœ¨æ‰§è¡Œæ„é€ å™¨ä¹‹å‰ï¼Œå…ˆæ‰§è¡Œèµ‹å€¼æ“ä½œã€‚</p></li><li><p>å¦‚æœæ„é€ å™¨çš„ç¬¬ä¸€ä¸ªè¯­å¥å½¢å¦‚ this(â€¦)ï¼Œè¿™ä¸ªæ„é€ å™¨å°†è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å™¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(<span class="keyword">double</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// calls the Employee(String, double) constructor</span></span><br><span class="line">  <span class="keyword">this</span>(<span class="string">"Employee #"</span> + nextId, s);</span><br><span class="line">  <span class="comment">// å¯¹å…¬å…±çš„æ„é€ å™¨ä»£ç éƒ¨åˆ†åªç¼–å†™ä¸€æ¬¡å³å¯ã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åˆå§‹åŒ–æ•°æ®åŸŸçš„æ–¹æ³•ï¼š</p><ol><li>åœ¨æ„é€ å™¨ä¸­è®¾ç½®å€¼</li><li>åœ¨å£°æ˜ä¸­èµ‹å€¼</li><li>åˆå§‹åŒ–å—(initialization block)</li></ol></li><li><p>new æ“ä½œæ—¶ï¼Œé¦–å…ˆè¿è¡Œåˆå§‹åŒ–å—ï¼Œç„¶åæ‰è¿è¡Œæ„é€ å™¨çš„ä¸»ä½“éƒ¨åˆ†ã€‚é€šå¸¸ä¼šç›´æ¥å°†åˆå§‹åŒ–ä»£ç æ”¾åœ¨æ„é€ å™¨ä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> nextld;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> salary;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// object initialization block</span></span><br><span class="line">  &#123;</span><br><span class="line">    id = nextld;</span><br><span class="line">    nextld++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String n, <span class="keyword">double</span> s)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    name = n;</span><br><span class="line">    salary = s;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">()</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    name = <span class="string">""</span>;</span><br><span class="line">    salary = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è°ƒç”¨æ„é€ å™¨çš„å…·ä½“å¤„ç†æ­¥éª¤ï¼š</p><ol><li>æ‰€æœ‰æ•°æ®åŸŸè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼(0ã€false æˆ– null)ã€‚</li><li>æŒ‰ç…§åœ¨ç±»å£°æ˜ä¸­å‡ºç°çš„æ¬¡åºï¼Œä¾æ¬¡æ‰§è¡Œæ‰€æœ‰åŸŸåˆå§‹åŒ–è¯­å¥å’Œåˆå§‹åŒ–å—ã€‚</li><li>å¦‚æœæ„é€ å™¨ç¬¬ä¸€è¡Œè°ƒç”¨äº†ç¬¬äºŒä¸ªæ„é€ å™¨ï¼Œåˆ™æ‰§è¡Œç¬¬äºŒä¸ªæ„é€ å™¨ä¸»ä½“ã€‚</li><li>æ‰§è¡Œè¿™ä¸ªæ„é€ å™¨çš„ä¸»ä½“ã€‚</li></ol></li><li><p>å¦‚æœå¯¹ç±»çš„é™æ€åŸŸè¿›è¡Œåˆå§‹åŒ–çš„ä»£ç æ¯”è¾ƒå¤æ‚ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨é™æ€çš„åˆå§‹åŒ–å—ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// static initialization block</span></span><br><span class="line"><span class="keyword">static</span></span><br><span class="line">&#123;</span><br><span class="line">  Random generator = <span class="keyword">new</span> Random();</span><br><span class="line">  <span class="comment">// set nextId to a random number between 0 and 9999</span></span><br><span class="line">  nextId = generator.nextInt(<span class="number">10000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”±äº Java æœ‰è‡ªåŠ¨çš„åƒåœ¾å›æ”¶å™¨ï¼Œä¸éœ€è¦äººå·¥å›æ”¶å†…å­˜ï¼Œ æ‰€ä»¥ Java ä¸æ”¯æŒææ„å™¨ã€‚</p></li><li><p>å¯ä»¥ä¸ºä»»ä½•ä¸€ä¸ªç±»æ·»åŠ <code>finalize</code>æ–¹æ³•ã€‚<code>finalize</code>æ–¹æ³•å°†åœ¨åƒåœ¾å›æ”¶å™¨æ¸…é™¤å¯¹è±¡ä¹‹å‰è°ƒç”¨ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸è¦ä¾èµ–äºä½¿ç”¨<code>finalize</code>æ–¹æ³•å›æ”¶ä»»ä½•çŸ­ç¼ºçš„èµ„æºï¼Œè¿™æ˜¯å› ä¸ºå¾ˆéš¾çŸ¥é“è¿™ä¸ªæ–¹æ³•ä»€ä¹ˆæ—¶å€™æ‰èƒ½å¤Ÿè°ƒç”¨ã€‚</p></li></ul><hr><ul><li><p><code>import</code>è¯­å¥åº”è¯¥ä½äºæºæ–‡ä»¶çš„é¡¶éƒ¨ï¼Œä½†ä½äº<code>package</code>è¯­å¥çš„åé¢ã€‚</p></li><li><p>å¦‚æœèƒ½å¤Ÿæ˜ç¡®åœ°æŒ‡å‡ºæ‰€å¯¼äººçš„ç±»ï¼Œå°†ä¼šä½¿ä»£ç çš„è¯»è€…æ›´åŠ å‡†ç¡®åœ°çŸ¥é“åŠ è½½äº†å“ªäº›ç±»ã€‚</p></li><li><p>åœ¨ä¸åŒçš„åŒ…å…·æœ‰ç›¸åŒçš„ç±»åå†²çªæ—¶ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªç‰¹å®šçš„<code>import</code>è¯­å¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœéƒ½éœ€è¦ä½¿ç”¨ï¼Œå°±åœ¨æ¯ä¸ªç±»åçš„å‰é¢åŠ ä¸Šå®Œæ•´çš„åŒ…åã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java.util.Date deadline = <span class="keyword">new</span> java.util.Date();</span><br><span class="line">java.sql.Date today = <span class="keyword">new</span> java.sql.Date(...);</span><br></pre></td></tr></table></figure></li><li><p>åœ¨åŒ…ä¸­å®šä½ç±»æ˜¯ç¼–è¯‘å™¨ï¼ˆcompilerï¼‰çš„å·¥ä½œã€‚ç±»æ–‡ä»¶ä¸­çš„å­—èŠ‚ç è‚¯å®šä½¿ç”¨å®Œæ•´çš„åŒ…åæ¥å¼•ç”¨å…¶ä»–ç±»ã€‚</p></li><li><p>import è¯­å¥ä¸ä»…å¯ä»¥å¯¼äººç±»ï¼Œè¿˜å¢åŠ äº†å¯¼äººé™æ€æ–¹æ³•å’Œé™æ€åŸŸçš„åŠŸèƒ½ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.System.*;</span><br><span class="line"><span class="comment">// å°±å¯ä»¥ä½¿ç”¨ System ç±»çš„é™æ€æ–¹æ³•å’Œé™æ€åŸŸï¼Œè€Œä¸å¿…åŠ ç±»åå‰ç¼€ï¼š</span></span><br><span class="line">out.println(<span class="string">"Goodbye, World!"</span>); <span class="comment">// i.e., System.out</span></span><br><span class="line">exit(<span class="number">9</span>); <span class="comment">// i.e., System.exit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦å¤–ï¼Œè¿˜å¯ä»¥å¯¼å…¥ç‰¹å®šçš„æ–¹æ³•æˆ–åŸŸï¼š</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.System.out;</span><br></pre></td></tr></table></figure></li><li><p>è¦æƒ³å°†ä¸€ä¸ªç±»æ”¾äººåŒ…ä¸­ï¼Œ å°±å¿…é¡»å°†åŒ…çš„åå­—æ”¾åœ¨æºæ–‡ä»¶çš„å¼€å¤´ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.horstmann.corejava;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœæ²¡æœ‰åœ¨æºæ–‡ä»¶ä¸­æ”¾ç½®<code>package</code>è¯­å¥ï¼Œè¿™ä¸ªæºæ–‡ä»¶ä¸­çš„ç±»å°±è¢«æ”¾ç½®åœ¨ä¸€ä¸ªé»˜è®¤åŒ…ï¼ˆdefault packageï¼‰ä¸­ã€‚</p></li></ul><hr><ul><li>ç±»è®¾è®¡æŠ€å·§ï¼š<ol><li>ä¸€å®šè¦ä¿è¯æ•°æ®ç§æœ‰</li><li>ä¸€å®šè¦å¯¹æ•°æ®åˆå§‹åŒ–</li><li>ä¸è¦åœ¨ç±»ä¸­ä½¿ç”¨è¿‡å¤šçš„åŸºæœ¬ç±»å‹</li><li>ä¸æ˜¯æ‰€æœ‰çš„åŸŸéƒ½éœ€è¦ç‹¬ç«‹çš„åŸŸè®¿é—®å™¨å’ŒåŸŸæ›´æ”¹å™¨</li><li>å°†èŒè´£è¿‡å¤šçš„ç±»è¿›è¡Œåˆ†è§£</li><li>ç±»åå’Œæ–¹æ³•åè¦èƒ½å¤Ÿä½“ç°å®ƒä»¬çš„èŒè´£</li><li>ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜çš„ç±»</li></ol></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>æˆ‘è‡ªå·±çš„ç†è§£æ˜¯ï¼Œå› ä¸ºé™æ€æ–¹æ³•å¯ä»¥åœ¨ä¸ new çš„å‰æä¸‹ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸èƒ½å¯¹éœ€è¦ new ä¹‹åçš„å¯¹è±¡æ“ä½œã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
      <link href="/blog/2020/02/10/java-notes-1/"/>
      <url>/blog/2020/02/10/java-notes-1/</url>
      
        <content type="html"><![CDATA[<p>Java æ ¸å¿ƒæŠ€æœ¯å·ä¸€åŸºç¡€çŸ¥è¯†ç¬¬ 10 ç‰ˆ</p><h2 id="java-çš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„"><a class="header-anchor" href="#java-çš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„">#</a>Java çš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„</h2><a id="more"></a><h3 id="ä¸€ä¸ªç®€å•çš„-java-åº”ç”¨ç¨‹åº"><a class="header-anchor" href="#ä¸€ä¸ªç®€å•çš„-java-åº”ç”¨ç¨‹åº">#</a>ä¸€ä¸ªç®€å•çš„ Java åº”ç”¨ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstSample</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"hello java"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Java ä¸­å®šä¹‰ç±»åçš„è§„åˆ™å¾ˆå®½æ¾ã€‚åå­—å¿…é¡»ä»¥å­—æ¯å¼€å¤´ï¼Œåé¢å¯ä»¥è·Ÿå­—æ¯å’Œæ•°å­—çš„ä»»æ„ç»„åˆï¼Œé•¿åº¦åŸºæœ¬ä¸Šæ²¡æœ‰é™åˆ¶ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨ Java ä¿ç•™å­—ä½œä¸ºç±»åã€‚</li><li>æ ‡å‡†çš„å‘½åè§„èŒƒä¸ºï¼šç±»åæ˜¯ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„åè¯ã€‚å¦‚æœåå­—ç”±å¤šä¸ªå•è¯ç»„æˆï¼Œæ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯éƒ½åº”è¯¥å¤§å†™ã€‚</li><li>æºä»£ç çš„æ–‡ä»¶åå¿…é¡»ä¸å…¬å…±ç±»çš„åå­—ç›¸åŒï¼Œå¹¶ç”¨ <code>.java</code> ä½œä¸ºæ‰©å±•åã€‚</li></ul><hr><h3 id="æ•°æ®ç±»å‹"><a class="header-anchor" href="#æ•°æ®ç±»å‹">#</a>æ•°æ®ç±»å‹</h3><ul><li>Java æ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ã€‚å…±æœ‰ 8 ç§åŸºæœ¬ç±»å‹ï¼šintã€shortã€longã€byteã€floatã€doubleã€charã€booleanã€‚</li><li>åœ¨ Java ä¸­ï¼Œ æ•´å‹çš„èŒƒå›´ä¸è¿è¡Œ Java ä»£ç çš„æœºå™¨æ— å…³ã€‚</li><li>é•¿æ•´å‹æ•°å€¼æœ‰ä¸€ä¸ªåç¼€ <code>L</code> æˆ– <code>l</code>ã€‚<ul><li>4000000000L</li></ul></li><li>åå…­è¿›åˆ¶æ•°å€¼æœ‰ä¸€ä¸ªå‰ç¼€ <code>0x</code> æˆ– <code>0X</code>ã€‚<ul><li>0xCAFE</li></ul></li><li>å…«è¿›åˆ¶æœ‰ä¸€ä¸ªå‰ç¼€ <code>0</code>ã€‚<ul><li>010 æ˜¯åè¿›åˆ¶çš„ 8</li></ul></li><li>åŠ ä¸Šå‰ç¼€ <code>0b</code> æˆ– <code>0B</code> å°±å¯ä»¥å†™äºŒè¿›åˆ¶æ•°ã€‚<ul><li>0b1001 æ˜¯åè¿›åˆ¶çš„ 9</li></ul></li><li>float ç±»å‹çš„æ•°å€¼æœ‰ä¸€ä¸ªåç¼€ <code>F</code> æˆ– <code>f</code>ã€‚æ²¡æœ‰åç¼€ <code>F</code> çš„æµ®ç‚¹æ•°å€¼é»˜è®¤ä¸º double ç±»å‹ï¼Œä¹Ÿå¯ä»¥åœ¨æµ®ç‚¹æ•°å€¼åé¢æ·»åŠ åç¼€ <code>D</code> æˆ– <code>d</code>ã€‚</li></ul><hr><ul><li>Unicode è½¬ä¹‰åºåˆ—åœ¨è§£æä»£ç ä¹‹å‰è¿›è¡Œ<ul><li>æ³¨é‡Šä¸­çš„ <code>\u</code> ä¹Ÿä¼šè¢«è½¬ä¹‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String\u005B\u005D args)</span> \\ åˆæ³•</span></span><br><span class="line"><span class="function">\\ ç­‰ä»·äº</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br></pre></td></tr></table></figure></li><li><a href="https://github.com/onns/insight_python/blob/master/Unicode_and_Character_Sets.md" target="_blank" rel="noopener">ç ç‚¹</a></li><li>å¯ä»¥åœ¨ä»»æ„ä½ç½®å£°æ˜å˜é‡</li><li><code>final</code> å£°æ˜å¸¸é‡<ul><li>å…³é”®å­— <code>final</code> è¡¨ç¤ºè¿™ä¸ªå˜é‡åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ã€‚ä¸€æ—¦è¢«èµ‹å€¼ä¹‹åï¼Œå°±ä¸èƒ½å¤Ÿå†æ›´æ”¹äº†ã€‚ä¹ æƒ¯ä¸Šï¼Œå¸¸é‡åä½¿ç”¨å…¨å¤§å†™ã€‚</li></ul></li><li>å¦‚æœè¿ç®—ç¬¦å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œå…¶ç±»å‹ä¸å·¦ä¾§æ“ä½œæ•°çš„ç±»å‹ä¸åŒï¼Œå°±ä¼šå‘ç”Ÿå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚<ul><li><code>x += 3.5;</code> ç­‰ä»·äº <code>x = (int)(x + 3.5);</code></li></ul></li><li><code>+=</code> æ˜¯å³ç»“åˆè¿ç®—ç¬¦<ul><li><code>a += b += c</code> ç­‰ä»·äº <code>a += (b += c)</code></li></ul></li><li>ä½è¿ç®—ç¬¦<ul><li><code>&amp;</code> (â€œandâ€)</li><li><code>|</code> (â€œorâ€)</li><li><code>^</code> (â€œxorâ€)</li><li><code>~</code> (â€œnotâ€)</li><li><code>&gt;&gt;</code> å·¦ç§»</li><li><code>&lt;&lt;</code> å³ç§»</li><li><code>&gt;&gt;&gt;</code> è¿ç®—ç¬¦ä¼šç”¨ 0 å¡«å……é«˜ä½</li></ul></li><li>String ç±»å¯¹è±¡ä¸ºä¸å¯å˜å­—ç¬¦ä¸²ï¼Œä¸èƒ½ä¿®æ”¹ã€‚</li></ul><hr><ul><li>Java æä¾›äº†ä¸€ç§å¸¦æ ‡ç­¾çš„ break è¯­å¥ï¼Œ ç”¨äºè·³å‡ºå¤šé‡åµŒå¥—çš„å¾ªç¯è¯­å¥ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">label:</span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">break</span> label;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ul><li><code>Arrays.toString(a)</code> æ‰“å°æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼ã€‚</li><li><code>Arrays.deepToString(a)</code> å¿«é€Ÿåœ°æ‰“å°ä¸€ä¸ªäºŒç»´æ•°ç»„çš„æ•°æ®å…ƒç´ åˆ—è¡¨ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> note </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cæµ‹è¯•ç³»ç»Ÿè®¾è®¡</title>
      <link href="/blog/2020/02/06/ctest-design/"/>
      <url>/blog/2020/02/06/ctest-design/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>å› ä¸ºå¿…é¡»è¦ç»™åŒå­¦ä»¬çš„Cç¨‹åºçœ‹ä»£ç ï¼Œä½†æ˜¯æŒ¨ä¸ªæ‰‹å·¥æ£€æŸ¥ä¹Ÿå¤ªéº»çƒ¦ä¸”è€—æ—¶é—´äº†ï¼Œæ‰€ä»¥è¿˜æ˜¯å¼„ä¸ªå°å°çš„æµ‹è¯•ç³»ç»Ÿå§ã€‚</p><a id="more"></a><h2 id="ç³»ç»Ÿæµç¨‹"><a class="header-anchor" href="#ç³»ç»Ÿæµç¨‹">#</a>ç³»ç»Ÿæµç¨‹</h2><p>å¤§ä½“çš„ç³»ç»Ÿæµç¨‹å¦‚<code>å›¾1</code>æ‰€ç¤ºï¼Œå°†å­¦ç”Ÿä»¬ç¼–å†™çš„Cç¨‹åºæ–‡ä»¶æ”¶é›†åˆ°æœåŠ¡å™¨ä¸Šåï¼Œç¼–è¯‘å¹¶æµ‹è¯•ç¨‹åºï¼Œå°†ä¿¡æ¯è®°å½•å¹¶æœ€ç»ˆå±•ç¤ºç»™å­¦ç”Ÿï¼Œæ–¹ä¾¿ä»–ä»¬åå¤æäº¤å’Œä¿®æ”¹ã€‚</p><center><p><img src="//onns.xyz/blog/image/20200206-1.jpg" alt="ç³»ç»Ÿæµç¨‹å›¾"></p><p>å›¾1 ç³»ç»Ÿæµç¨‹å›¾</p></center><h3 id="æ”¶é›†ä»£ç "><a class="header-anchor" href="#æ”¶é›†ä»£ç ">#</a>æ”¶é›†ä»£ç </h3><p>ä½†å‡¡ä¸€ç§ç½‘é¡µè¯­è¨€éƒ½æœ‰æ–‡ä»¶ä¸Šä¼ æ¥å£ï¼Œæ‰€ä»¥åªéœ€è¦ç½‘é¡µè¡¨å•å³å¯å®Œæˆä»£ç çš„æ”¶é›†å·¥ä½œï¼Œä½†æˆ‘ä¸ºäº†å·æ‡’ğŸ˜‚ï¼Œé€‰æ‹©äº†ç”¨è…¾è®¯å¾®äº‘çš„æ–‡ä»¶æ”¶é›†åŠŸèƒ½ï¼Œå…·ä½“å¯ä»¥è‡ªè¡Œäº†è§£ã€‚</p><p>åœ¨æ”¶é›†ä»£ç çš„æ—¶å€™ï¼Œè§„å®šäº†æ–‡ä»¶çš„å‘½åæ ¼å¼ä¸º <code>å­¦å·(é¢˜å·)</code> çš„æ–¹å¼ï¼Œæ‰€ä»¥å¯ä»¥å¾—åˆ°ä»£ç çš„æˆå‘˜ä¿¡æ¯å’Œé¢˜å·ä¿¡æ¯è€Œä¸å¿…é¢å¤–é™„åŠ è¯´æ˜ã€‚</p><h3 id="ç¼–è¯‘"><a class="header-anchor" href="#ç¼–è¯‘">#</a>ç¼–è¯‘</h3><p>å› ä¸ºæƒ³ç”¨å‘½ä»¤è¡Œçš„cè¯­è¨€å·¥å…·ï¼Œæœ€æ–¹ä¾¿çš„å¤§æ¦‚å°±æ˜¯ <code>gcc</code> äº†ã€‚<br>windowä¸‹gccå®‰è£…æ¯”è¾ƒéº»çƒ¦ï¼Œç›¸å…³æ–¹æ³•å¯ä»¥å‚ç…§ <a href="http://www.mingw.org/" target="_blank" rel="noopener">MinGW | Minimalist GNU for Windows</a> è¿›è¡Œå®‰è£…ã€‚<br>MacOSå’ŒLinuxéƒ½ç›´æ¥å‘½ä»¤è¡Œè‡ªå¸¦gccï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼Œä½†åä¸¤è€…åœ¨ç¼–è¯‘æ—¶ä¼šé»˜è®¤ç¼–è¯‘ä¸º <code>.o</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œè€Œwindowsæ˜¯ <code>.exe</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œä¸è¿‡é—®é¢˜ä¸å¤§ï¼ŒæŒ‡å®šä¸€ä¸‹å³å¯ã€‚</p><p>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯åœ¨windowså‘½ä»¤è¡Œä¸‹è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶çš„æ—¶å€™ï¼Œä¸éœ€è¦åŠ  <code>./</code> ï¼Œæ‰€ä»¥åœ¨ç³»ç»Ÿä¸Šéœ€è¦åŠ ä»¥åŒºåˆ†ã€‚åœ¨å‘½åä¸­çš„ä¸€äº›è¯¸å¦‚ <code>()</code> ä¹‹ç±»çš„ç¬¦å·åœ¨MacOSä¸‹éœ€è¦è½¬ä¹‰åŠ  <code>\</code>ï¼Œä½†æ˜¯å¦‚æœåœ¨windowsä¸‹è¿›è¡Œè½¬ä¹‰åˆä¼šå‡ºé”™ï¼Œä¹Ÿè¦åŠ ä»¥åŒºåˆ†ã€‚</p><h3 id="æµ‹è¯•"><a class="header-anchor" href="#æµ‹è¯•">#</a>æµ‹è¯•</h3><p>æµ‹è¯•æ˜¯æµ‹è¯•Cè¯­è¨€ç¨‹åºæœ‰æ²¡æœ‰æ­£ç¡®çš„å¿…è¦æ­¥éª¤ï¼Œåªè¦å’Œå­¦ç”Ÿä»¬çº¦å®šå¥½è¾“å…¥è¾“å‡ºçš„æ ¼å¼ï¼Œåˆ°æ—¶å€™åªéœ€è¦å°†ç¨‹åºæ‰§è¡Œç»“æœä¸æ ‡å‡†ç­”æ¡ˆè¿›è¡Œå­—ç¬¦åŒ¹é…å³å¯ã€‚<br>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒMacOSä¸‹çš„æ¢è¡Œä¸€èˆ¬ä»¥ <code>\n</code> ä¸ºä¸»ï¼Œè€Œwindowsä¸‹åˆ™ä»¥ <code>\r\n</code> ä¸ºä¸»ï¼Œåœ¨åŒ¹é…å‰éœ€è¦å°† <code>\r</code> ç§»é™¤ã€‚</p><h3 id="å±•ç¤º"><a class="header-anchor" href="#å±•ç¤º">#</a>å±•ç¤º</h3><p>è¿™ä¸ªå±•ç¤ºå°±å› äººè€Œå¼‚äº†ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯bootstrapçš„tableæ ·å¼è¡¨è¿›è¡Œå±•ç¤ºã€‚</p><h2 id="å…·ä½“å®ç°"><a class="header-anchor" href="#å…·ä½“å®ç°">#</a>å…·ä½“å®ç°</h2><p>æ•´ä¸ªæµç¨‹æ§åˆ¶æ˜¯ç”¨pythonå®Œæˆçš„ï¼Œä¸€ä¸ª <code>pipe.py</code> æ–‡ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> platform</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶å‘½åæ ¼å¼ï¼š      å­¦å·(é¢˜ç›®).cpp</span></span><br><span class="line"><span class="comment"># ä¾‹å­ï¼š            23020181154229(1).cpp</span></span><br><span class="line"></span><br><span class="line">dir = os.path.abspath(os.path.dirname(__file__))</span><br><span class="line">os_type = <span class="string">'1'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(platform.system() == <span class="string">'Windows'</span>):</span><br><span class="line">    os_type = <span class="string">'2'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">match</span><span class="params">(name)</span>:</span></span><br><span class="line">    res = re.search(<span class="string">r'^([0-9]+)\(([0-9]+)\)'</span>, name)</span><br><span class="line">    <span class="keyword">if</span>(res):</span><br><span class="line">        <span class="keyword">if</span>(name.endswith(<span class="string">".c"</span>) <span class="keyword">or</span> name.endswith(<span class="string">".cpp"</span>)):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">untest</span><span class="params">(name)</span>:</span></span><br><span class="line">    res = re.search(<span class="string">r'^0-([0-9]&#123;14&#125;)-([0-9]+)\(([0-9]+)\)'</span>, name)</span><br><span class="line">    <span class="keyword">if</span>(res):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">edit</span><span class="params">(dir)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> home, dirs, files <span class="keyword">in</span> os.walk(dir):</span><br><span class="line">        <span class="keyword">for</span> filename <span class="keyword">in</span> files:</span><br><span class="line">            <span class="keyword">if</span> match(filename):</span><br><span class="line"></span><br><span class="line">                os.rename(os.path.join(home, filename), os.path.join(</span><br><span class="line">                    home, time.strftime(<span class="string">"0-%Y%m%d%H%M%S-"</span>, time.localtime()) + filename))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(dir)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> home, dirs, files <span class="keyword">in</span> os.walk(dir):</span><br><span class="line">        <span class="keyword">for</span> filename <span class="keyword">in</span> files:</span><br><span class="line">            <span class="keyword">if</span> untest(filename):</span><br><span class="line">                newname = <span class="string">'1'</span> + filename[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">                os.rename(os.path.join(home, filename),</span><br><span class="line">                          os.path.join(home, newname))</span><br><span class="line">                <span class="keyword">return</span> newname</span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">build</span><span class="params">(cname, oname)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res = subprocess.check_output(<span class="string">"gcc \"%s\" -o %s"</span> % (cname, oname),</span><br><span class="line">                                      stderr=subprocess.STDOUT,</span><br><span class="line">                                      shell=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(oname, idata, odata)</span>:</span></span><br><span class="line">    r, w = os.pipe()</span><br><span class="line">    os.write(w, bytes(idata, <span class="string">"utf-8"</span>))</span><br><span class="line">    os.close(w)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(os_type == <span class="string">'1'</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            res = subprocess.check_output(<span class="string">"./%s"</span> % (oname), stdin=r, timeout=<span class="number">5</span>)</span><br><span class="line">        <span class="keyword">except</span> subprocess.TimeoutExpired <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">if</span>(os_type == <span class="string">'2'</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            res = subprocess.check_output(<span class="string">"%s"</span> % (oname), stdin=r, timeout=<span class="number">5</span>)</span><br><span class="line">        <span class="keyword">except</span> subprocess.TimeoutExpired <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        result = res.decode(<span class="string">"utf-8"</span>).replace(<span class="string">'\r'</span>, <span class="string">''</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> result.strip().replace(<span class="string">" "</span>,<span class="string">""</span>) == odata.strip().replace(<span class="string">" "</span>,<span class="string">""</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    print(result)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(oname, question)</span>:</span></span><br><span class="line">    question_list = &#123;</span><br><span class="line">        <span class="string">'1'</span>: [[<span class="string">'24'</span>, <span class="string">'0'</span>], [<span class="string">'11'</span>, <span class="string">'1'</span>], [<span class="string">'0'</span>, <span class="string">'0'</span>], [<span class="string">'-2'</span>, <span class="string">'0'</span>], [<span class="string">'-21'</span>, <span class="string">'1'</span>]],</span><br><span class="line">        <span class="string">'2'</span>: [[<span class="string">'a'</span>, <span class="string">'a'</span>], [<span class="string">'A'</span>, <span class="string">'a'</span>], [<span class="string">'Z'</span>, <span class="string">'z'</span>], [<span class="string">'0'</span>, <span class="string">'0'</span>], [<span class="string">'Q'</span>, <span class="string">'q'</span>]],</span><br><span class="line">        <span class="string">'3'</span>: [[<span class="string">'12/14/16\n10/10/15'</span>, <span class="string">'10/10/15'</span>], [<span class="string">'13/12/16\n10/10/15'</span>, <span class="string">'-1'</span>]],</span><br><span class="line">        <span class="string">'4'</span>: [[<span class="string">'1 2 3 4'</span>, <span class="string">'4 1'</span>]],</span><br><span class="line">        <span class="string">'5'</span>: [[<span class="string">'3 4 5'</span>, <span class="string">'1\n1'</span>], [<span class="string">'1.5 1.5 1.5'</span>, <span class="string">'1\n0'</span>], [<span class="string">'0 0 0'</span>, <span class="string">'0\n0'</span>], [<span class="string">'-3 -4 -5'</span>, <span class="string">'0\n0'</span>]],</span><br><span class="line">        <span class="string">'6'</span>: [[<span class="string">'2019 1 1'</span>, <span class="string">'1'</span>], [<span class="string">'1900 3 1'</span>, <span class="string">'60'</span>], [<span class="string">'2000 3 1'</span>, <span class="string">'61'</span>]],</span><br><span class="line">        <span class="string">'7'</span>: [[<span class="string">'1 2 3 4 5 6 7 8 9 10'</span>, <span class="string">'1 1\n'</span>], [<span class="string">'89 56 23 14 789 54 1223 78 12 65'</span>, <span class="string">'12 9\n'</span>], [<span class="string">'3 2 1 1 5 6 7 8 9 10'</span>, <span class="string">'1 3\n'</span>]],</span><br><span class="line">        <span class="string">'8'</span>:[[<span class="string">'1 2 3 4 5 6 7 8 9 10'</span>, <span class="string">'55.00 5.50\n'</span>],[<span class="string">'1 1 1 1 1 1 1 1 1 1'</span>, <span class="string">'10.00 1.00\n'</span>],[<span class="string">'0.6798 0.5958 0.5754 0.4854 0.3895 0.2901 0.1942 0.1053 0.045 0.003'</span>,<span class="string">'3.40 0.34\n'</span>]],</span><br><span class="line">        <span class="string">'9'</span>:[[<span class="string">'1 2 3 4 5\n2 3 4 5 1\n3 4 5 1 2\n4 5 1 2 3\n5 1 2 3 4'</span>,<span class="string">'15 15 15 15 15\n3.00 3.00 3.00 3.00 3.00\n3.00 3.00 3.00 3.00 3.00\n5 5 5 5 5\n1 1 1 1 1'</span>],[<span class="string">'24 14 8 0 46\n36 20 20 20 96\n34 20 20 2 76\n40 20 20 18 98\n36 20 20 20 96'</span>,<span class="string">'92 192 152 196 192\n18.40 38.40 30.40 39.20 38.40\n34.00 18.80 17.60 12.00 82.40\n40 20 20 20 98\n24 14 8 0 46'</span>]],</span><br><span class="line">        <span class="string">'10'</span>:[[<span class="string">'ASJFKLSJFLSJFLSJFIIQJKZVNIRUQ'</span>,<span class="string">'13\n'</span>],[<span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXY'</span>,<span class="string">'25\n'</span>],[<span class="string">'ONNSISSTUPID'</span>,<span class="string">'8\n'</span>]],</span><br><span class="line">        <span class="string">'11'</span>:[[<span class="string">'dzldzldzl\nd'</span>,<span class="string">'3\n'</span>],[<span class="string">'13757769913\n3'</span>,<span class="string">'2\n'</span>],[<span class="string">'2302018dzllp\nl'</span>,<span class="string">'2\n'</span>],[<span class="string">'QCHZK\nq'</span>,<span class="string">'0\n'</span>]],</span><br><span class="line">        <span class="string">'12'</span>:[[<span class="string">'ASJFKLSJFLSJFLSJFIIQJKZVNIRUQ'</span>,<span class="string">'ASJFKLSJFLSJFLSJFIIQJKZVNIRUQ\n'</span>],[<span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXY'</span>,<span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXY\n'</span>]]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">not</span> question <span class="keyword">in</span> question_list):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">for</span> test_data <span class="keyword">in</span> question_list[question]:</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">not</span> run(oname, test_data[<span class="number">0</span>], test_data[<span class="number">1</span>])):</span><br><span class="line">            print(test_data[<span class="number">0</span>])</span><br><span class="line">            print(test_data[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write</span><span class="params">(data)</span>:</span></span><br><span class="line">    f = open(os.path.join(dir, <span class="string">'result.json'</span>), <span class="string">'r'</span>)</span><br><span class="line">    old_data = json.loads(f.read()[<span class="number">9</span>:<span class="number">-1</span>])</span><br><span class="line">    f.close()</span><br><span class="line">    print(data)</span><br><span class="line">    old_data.append(data)</span><br><span class="line">    f = open(os.path.join(dir, <span class="string">'result.json'</span>), <span class="string">'w'</span>)</span><br><span class="line">    f.write(<span class="string">'callback('</span>+json.dumps(old_data) + <span class="string">')'</span>)</span><br><span class="line">    f.close</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    os.chdir(dir)</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        homework_dir = os.path.join(dir, <span class="string">'homework2'</span>)</span><br><span class="line">        edit(homework_dir)</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">            cname = generate(homework_dir)</span><br><span class="line">            <span class="keyword">if</span>(cname == <span class="string">''</span>):</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            res = re.search(<span class="string">r'^1-([0-9]&#123;14&#125;)-([0-9]+)\(([0-9]+)\)'</span>, cname)</span><br><span class="line">            <span class="keyword">if</span>(res):</span><br><span class="line">                date = res.group(<span class="number">1</span>)</span><br><span class="line">                xmuid = res.group(<span class="number">2</span>)</span><br><span class="line">                question = res.group(<span class="number">3</span>)</span><br><span class="line">            cname = os.path.join(homework_dir, cname)</span><br><span class="line">            status = <span class="string">'0'</span></span><br><span class="line">            <span class="keyword">if</span> build(cname, <span class="string">'raw.o'</span>):</span><br><span class="line">                <span class="keyword">if</span>(test(<span class="string">'raw.o'</span>, question)):</span><br><span class="line">                    status = <span class="string">'1'</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    status = <span class="string">'3'</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                status = <span class="string">'2'</span></span><br><span class="line">            write(&#123;<span class="string">'date'</span>: date[:<span class="number">8</span>], <span class="string">'time'</span>: date[<span class="number">8</span>:<span class="number">10</span>] + <span class="string">':'</span> + date[<span class="number">10</span>:<span class="number">12</span>] + <span class="string">':'</span> + date[<span class="number">12</span>:<span class="number">14</span>],</span><br><span class="line">                   <span class="string">'xmuid'</span>: xmuid, <span class="string">'question'</span>: question, <span class="string">'status'</span>: status&#125;)</span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
          <category> xmu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> c </tag>
            
            <tag> oj </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2020 book list</title>
      <link href="/blog/2020/01/01/2020-book-list/"/>
      <url>/blog/2020/01/01/2020-book-list/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h3><a id="more"></a><h3 id="ä¸‰æœˆ"><a class="header-anchor" href="#ä¸‰æœˆ">#</a>ä¸‰æœˆ</h3><ul><li><a href="https://book.douban.com/subject/3533221/" target="_blank" rel="noopener">ã€Šéæš´åŠ›æ²Ÿé€šã€‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> book </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxå¤šåŸŸåè·¨åŸŸ</title>
      <link href="/blog/2019/12/21/nginx-multiple-domains/"/>
      <url>/blog/2019/12/21/nginx-multiple-domains/</url>
      
        <content type="html"><![CDATA[<p>å› ä¸ºéœ€è¦å¯èƒ½ä¼šå…è®¸æœåŠ¡å™¨è·¨åŸŸäº¤äº’æ•°æ®ï¼Œæ‰€ä»¥è¦è®¾ç½®å…è®¸å¤šåŸŸåè·¨åŸŸã€‚</p><a id="more"></a><h2 id="é€šç”¨æ–¹æ³•"><a class="header-anchor" href="#é€šç”¨æ–¹æ³•">#</a>é€šç”¨æ–¹æ³•</h2><p>æ‰“å¼€ nginx.confï¼Œåœ¨ http é‡ŒåŠ å…¥å¦‚ä¸‹è¯­å¥ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Origin *;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Headers X-Requested-With;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Methods GET,POST,OPTIONS;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å³å¯ã€‚åªæ˜¯è¿™æ ·çš„æ–¹å¼å®‰å…¨æ€§å¾ˆå·®ï¼Œä½†åƒä¸‹é¢çš„è®¾ç½®æ–¹å¼ä¸è¢«æµè§ˆå™¨å…è®¸ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Origin domain1;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Origin domain2;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Headers X-Requested-With;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Methods GET,POST,OPTIONS;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨åªå…è®¸ä¸€ä¸ª <code>Access-Control-Allow-Origin</code> å­—æ®µã€‚</p><h2 id="è§£å†³æ–¹æ³•"><a class="header-anchor" href="#è§£å†³æ–¹æ³•">#</a>è§£å†³æ–¹æ³•</h2><p>å°† <code>add_header Access-Control-Allow-Origin</code> è¯­å¥æ”¾ç½®åœ¨å¦‚ä¸‹ä½ç½®ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Headers X-Requested-With;</span><br><span class="line">    <span class="attribute">add_header</span> Access-Control-Allow-Methods GET,POST,OPTIONS;</span><br><span class="line">    ...</span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ \.php($|/)</span> &#123;</span><br><span class="line">            ...</span><br><span class="line">            <span class="attribute">if</span> (<span class="variable">$http_origin</span> <span class="regexp">~* "^domain1$"</span> ) &#123;</span><br><span class="line">                <span class="attribute">add_header</span> Access-Control-Allow-Origin <span class="variable">$http_origin</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="attribute">if</span> (<span class="variable">$http_origin</span> <span class="regexp">~* "^domain2$"</span> ) &#123;</span><br><span class="line">                <span class="attribute">add_header</span> Access-Control-Allow-Origin <span class="variable">$http_origin</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œã€‚</p><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://serverfault.com/questions/350330/nginx-add-header-adding-multiple-headers" target="_blank" rel="noopener">NGINX add_header, adding multiple headers</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> multiple domains </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€ç¼–ç¨‹æ³¨æ„äº‹é¡¹</title>
      <link href="/blog/2019/12/11/c-tips/"/>
      <url>/blog/2019/12/11/c-tips/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘è§£ç­”äº†å¥½å¤šç–‘é—®ï¼Œå¯¹å¤§å®¶çš„æœŸæœ«è€ƒè¯•ååˆ†å ªå¿§å•Š</p><center><p><img src="//onns.xyz/blog/image/1_180417102937_1.jpg" alt=""></p></center><p>ç­”åº”æˆ‘ï¼Œä¸‹é¢è¿™äº›é”™è¯¯ä¸è¦å†çŠ¯äº†å¥½å—ã€‚</p><a id="more"></a><h2 id="ä¸€äº›å°çš„çŸ¥è¯†ç‚¹"><a class="header-anchor" href="#ä¸€äº›å°çš„çŸ¥è¯†ç‚¹">#</a>ä¸€äº›å°çš„çŸ¥è¯†ç‚¹</h2><ul><li>æ•°ç»„å®šä¹‰æ—¶å¿…é¡»æŒ‡å®šå›ºå®šå¸¸æ•°çš„é•¿åº¦ï¼Œä¸èƒ½ä½¿ç”¨å˜é‡ã€‚<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">int</span> n=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[n];</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">10</span>];</span><br></pre></td></tr></table></figure></li></ul><h2 id="å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œä¸€å®šè¦åˆå§‹åŒ–"><a class="header-anchor" href="#å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œä¸€å®šè¦åˆå§‹åŒ–">#</a>å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œä¸€å®šè¦åˆå§‹åŒ–</h2><p><strong>å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œä¸€å®šè¦åˆå§‹åŒ–ï¼</strong><br><strong>å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œä¸€å®šè¦åˆå§‹åŒ–ï¼</strong><br><strong>å˜é‡åœ¨ä½¿ç”¨å‰ï¼Œä¸€å®šè¦åˆå§‹åŒ–ï¼</strong></p><p>ä¸¾ä¸ª ğŸŒ°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">min</span> = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">min</span> &gt; a[i][j])</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">min</span> = a[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„æ±‚ <code>a[i][*]</code> ä¸­æœ€å°å€¼çš„æ–¹æ³•ï¼Œä½†æ˜¯ <code>min</code> åœ¨ä¸€è½®å¾ªç¯å <code>æœªè¢«åˆå§‹åŒ–ä¸º0</code>ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´åé¢çš„æ‰€æœ‰ <code>min</code> é”™è¯¯ï¼Œæ­£ç¡®çš„å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">min</span> = <span class="number">10000</span>;</span><br><span class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">min</span> &gt; a[i][j])</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">min</span> = a[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆå®¹æ˜“è¢«äººå¿½è§†çš„ç‚¹ï¼Œå†ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘æƒ³å¾—åˆ°æ•°ç»„æœ€å°çš„å€¼åŠå…¶æ‰€åœ¨çš„ä½ç½®ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">min</span>,index;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">min</span> = a[i][<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">min</span> &gt; a[i][j])</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">min</span> = a[i][j];</span><br><span class="line">      index = j + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§é”™è¯¯å¾ˆéšè”½ï¼Œå› ä¸ºåªæœ‰å½“ç¢°å·§  <code>a[i][0]</code> æœ€å°çš„æ—¶å€™æ‰ä¼šå‡ºé”™ï¼Œå› ä¸º <code>index</code> æ²¡è¢«åˆå§‹åŒ–ä¸º <code>0</code>ã€‚</p><p>è¿™ç§åŒæ—¶å¸¦äº†å¤šä¸ªå€¼çš„æƒ…å†µï¼Œæ‰€æœ‰çš„å€¼éƒ½è¦åˆå§‹åŒ–ï¼Œå¾ˆå®¹æ˜“æ¼æ‰ï¼Œéœ€è¦æ³¨æ„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> <span class="built_in">min</span>,index;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">min</span> = a[i][<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//åŒæ—¶å¯¹indexè¿›è¡Œèµ‹å€¼</span></span><br><span class="line">  index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">min</span> &gt; a[i][j])</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">min</span> = a[i][j];</span><br><span class="line">      index = j + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¹¦å†™æ ¼å¼è¦è§„èŒƒ"><a class="header-anchor" href="#ä¹¦å†™æ ¼å¼è¦è§„èŒƒ">#</a>ä¹¦å†™æ ¼å¼è¦è§„èŒƒ</h2><h3 id="åˆç†ä½¿ç”¨tabç¼©è¿›"><a class="header-anchor" href="#åˆç†ä½¿ç”¨tabç¼©è¿›">#</a>åˆç†ä½¿ç”¨tabç¼©è¿›</h3><p>è™½ç„¶Cè¯­è¨€æ˜¯å†™ç»™æœºå™¨çš„è¯­è¨€ï¼Œä¸è®ºä½ å†™çš„å¤šä¹±æœºå™¨éƒ½èƒ½è¯†åˆ«ï¼Œä½†å½“ä½ ç¨‹åºå‡ºç°é”™è¯¯è¦æŸ¥é”™çš„æ—¶å€™ï¼Œè‰¯å¥½çš„ç¼©è¿›ä¹ æƒ¯å¯ä»¥å¸®ä½ å¿«é€Ÿåœ°é˜…è¯»ä»£ç ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">5</span>;j++)&#123;<span class="keyword">float</span> avr;</span><br><span class="line">avr=<span class="number">0</span>; </span><br><span class="line"><span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)</span><br><span class="line">sum=sum+a[i][j]; </span><br><span class="line">avr=sum/<span class="number">5</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%.2f "</span>,avr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">float</span> avr;</span><br><span class="line">  avr = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    sum = sum + a[i][j];</span><br><span class="line">  avr = sum / <span class="number">5</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"%.2f "</span>, avr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆç†ä½¿ç”¨èŠ±æ‹¬å·"><a class="header-anchor" href="#åˆç†ä½¿ç”¨èŠ±æ‹¬å·">#</a>åˆç†ä½¿ç”¨èŠ±æ‹¬å·{}</h3><p>åœ¨Cè¯­è¨€é‡Œ <code>for</code> <code>while</code> ç­‰å¾ªç¯å¯ä»¥æ¥å•ä¸ªè¯­å¥è¾¾åˆ°å¾ªç¯çš„ä½œç”¨ï¼Œå¦‚ä¸‹æ®µä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">  sum = sum + a[i][j];</span><br></pre></td></tr></table></figure><p>å‡å¦‚æˆ‘ä»¬éœ€è¦åœ¨å¾ªç¯é‡Œåšäº›åˆ«çš„äº‹æƒ…ï¼Œæ¯”å¦‚æˆ‘çªç„¶è¦è®°å½• <code>i</code> çš„å€¼ï¼Œæƒ¯æ€§æ€ç»´çš„æ”¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">  sum = sum + a[i][j];</span><br><span class="line">  index = i;</span><br></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†å®é™…ä¸Šè¿™ä¸ª <code>i</code> çš„å€¼å›ºå®šä¸º <code>5</code>ã€‚<br>æ‰€ä»¥ä¸€å®šè¦åˆç†ä½¿ç”¨ <code>{}</code>ï¼Œä¸è¦å› ä¸ºè¿™ç§é”™è¯¯å¹³ç™½æµªè´¹æ—¶é—´ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">&#123;</span><br><span class="line">  sum = sum + a[i][j];</span><br><span class="line">  index = i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> xmu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cç¨‹åºè®¾è®¡åŸºç¡€-ç¬¬äºŒæ¬¡ä½œä¸š</title>
      <link href="/blog/2019/12/05/c-homework2/"/>
      <url>/blog/2019/12/05/c-homework2/</url>
      
        <content type="html"><![CDATA[<h2 id="ä½œä¸šè¦æ±‚"><a class="header-anchor" href="#ä½œä¸šè¦æ±‚">#</a>ä½œä¸šè¦æ±‚</h2><ul><li>æ–‡ä»¶å‘½åæ ¼å¼:     <code>å­¦å·(é¢˜ç›®).cpp</code></li><li>æ–‡ä»¶å‘½åæ ·ä¾‹:     <code>23020181154229(7).cpp</code></li><li>æ–‡ä»¶ä¸Šä¼ åœ°å€:     <a href="https://inbox.weiyun.com/5usbRaL" target="_blank" rel="noopener">https://inbox.weiyun.com/5usbRaL</a></li><li>ä½œä¸šç»“æœæŸ¥çœ‹:     <a href="http://onns.xyz/s/ctest/">http://onns.xyz/s/ctest/</a></li><li>ä½œä¸šæˆªæ­¢æ—¥æœŸ:     <code>2019-12-17 23:59:59</code></li></ul><h2 id="æ³¨æ„äº‹é¡¹"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹">#</a>æ³¨æ„äº‹é¡¹</h2><ol><li>å¯ä»¥é‡å¤æäº¤ã€‚</li><li>æ³¨æ„æ–‡ä»¶å‘½åé‡Œçš„æ‹¬å·æ˜¯è‹±æ–‡çš„æ‹¬å·ä¸æ˜¯ä¸­æ–‡çš„ã€‚</li><li>é¢˜å·æŒ‰ç…§æ–‡æ¡£ä¸­çš„é¢˜å·<strong>7-12</strong>ã€‚</li><li>æ–‡ä»¶æäº¤.cæˆ–.cppæ–‡ä»¶ï¼Œä¸è¦å‹ç¼©ï¼Œå…­é“é¢˜åˆ†åˆ«å‘é€ã€‚</li><li><strong>æµ‹è¯•ç»“æœé¡µé¢</strong>é»„è‰²ä»£è¡¨æœªé€šè¿‡æ‰€æœ‰æµ‹è¯•ï¼Œçº¢è‰²ä»£è¡¨ç¼–è¯‘æœªé€šè¿‡ï¼Œç»¿è‰²ä»£è¡¨é€šè¿‡ã€‚</li><li>æŒ‰ç…§æ–‡æ¡£çš„è¦æ±‚è¾“å…¥è¾“å‡ºï¼Œä¸è¦è‡ªå·±åŠ æç¤ºè¯­å¥ï¼Œä¸ç„¶ä¼šæŒ‰ç…§é”™è¯¯ç®—çš„ã€‚</li><li>æµ‹è¯•ç»“æœå·²ç»åŠ äº†æ—¶é—´ï¼Œå¦‚æœå‘ç°è‡ªå·±ä¸Šä¼ äº†ä¸Šé¢è¿˜æ²¡æ˜¾ç¤ºï¼Œè¡¨é¢æ–‡ä»¶å‘½åé”™è¯¯äº†ï¼Œä»”ç»†æ ¸å¯¹ä¸€ä¸‹å‘½åæ ¼å¼ã€‚</li><li><strong>æµ‹è¯•ç»“æœé¡µé¢</strong>å­¦å·ä¸‹çš„è¾“å…¥æ¡†å¯ä»¥è¾“å…¥è‡ªå·±çš„å­¦å·ç­›é€‰ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ‰€æœ‰é¢˜ç›®çš„é€šè¿‡æƒ…å†µã€‚</li><li>åˆ¤æ–­æ—¥æœŸéæ³•ä¸ç”¨è€ƒè™‘é—°å¹´ï¼Œåªéœ€è€ƒè™‘1æœˆå¤©æ•°ä¸èƒ½å¤§äº31å¤©ï¼Œ2æœˆä¸èƒ½å¤§äº29å¤©â€¦æœˆä»½ä¸èƒ½å¤§äº12è¿™ç§ã€‚</li><li>å»ºè®®å¤§å®¶å†™å®Œä¸€é“é¢˜ä¹‹åå°±ä¸Šä¼ ï¼Œè¿™æ ·å°±çŸ¥é“å¦‚ä½•é€šè¿‡æµ‹è¯•ç³»ç»Ÿçš„æµ‹è¯•ï¼Œå› ä¸ºè¦æŒ‰ç…§æ–‡æ¡£çš„è¦æ±‚è¾“å…¥è¾“å‡ºã€‚</li><li>å¤§å®¶äº¤å®Œä¹‹åæœ€åæ£€æŸ¥ä¸€ä¸‹è‡ªå·±æ˜¯ä¸æ˜¯12é“éƒ½æäº¤æ­£ç¡®äº†ï¼Œæ¯”å¦‚é‚£ç§å­¦å·å°‘æ‰“ä¸€ä½çš„åŒå­¦ï¼Œåˆ°æ—¶å€™å¯èƒ½è¦ç®—ä½ æ²¡æäº¤äº†ã€‚</li></ol><a id="more"></a><h2 id="ä½œä¸šå†…å®¹"><a class="header-anchor" href="#ä½œä¸šå†…å®¹">#</a>ä½œä¸šå†…å®¹</h2><h3 id="é¢˜ç›®7"><a class="header-anchor" href="#é¢˜ç›®7">#</a>é¢˜ç›®7</h3><p>è¾“å…¥ä¸€ç»´æ•´å‹æ•°ç»„a(é•¿åº¦ä¸º10)çš„å„å…ƒç´ å€¼ï¼Œæ±‚æ•°ç»„ä¸­æœ€å°å…ƒç´ çš„å€¼åŠå…¶åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚</p><ul><li>æ¯è¡Œè¾“å…¥ã€è¾“å‡ºçš„æ•°å­—é—´ç”¨ç©ºæ ¼ï¼ˆâ€œ â€ï¼‰åˆ†éš”ã€‚</li><li>å¦‚æœæœ€å°çš„å…ƒç´ æœ‰å¤šä¸ªï¼Œè¾“å‡ºç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚</li></ul><p>Test case:<br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8 9 7 1 6 5 3 4 2 10</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 4</span><br></pre></td></tr></table></figure><h3 id="é¢˜ç›®8"><a class="header-anchor" href="#é¢˜ç›®8">#</a>é¢˜ç›®8</h3><p>è¾“å…¥ä¸€ç»´å®å‹æ•°ç»„a(é•¿åº¦ä¸º10)çš„å„å…ƒç´ å€¼ï¼Œæ±‚æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ä¹‹å’Œï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰åŠå…¶å¹³å‡å€¼ï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰ã€‚</p><ul><li>æ¯è¡Œè¾“å…¥ã€è¾“å‡ºçš„æ•°å­—é—´ç”¨ç©ºæ ¼ï¼ˆâ€œ â€ï¼‰åˆ†éš”ã€‚</li></ul><p>Test case:<br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5 6 7 8 9 10</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">55.00 5.50</span><br></pre></td></tr></table></figure><h3 id="é¢˜ç›®9"><a class="header-anchor" href="#é¢˜ç›®9">#</a>é¢˜ç›®9</h3><p>ç¼–å†™ç¨‹åºè¯»å–ä¸€ä¸ª5X5çš„æ•´æ•°æ•°ç»„ï¼Œç„¶åæ˜¾ç¤ºå‡ºæ¯è¡Œçš„å’Œä¸æ¯åˆ—çš„å’Œã€‚è¿›ä¸€æ­¥åœ°ï¼Œå‡è®¾è¾“å…¥æ¯ä¸ªå­¦ç”Ÿ5é—¨æµ‹éªŒçš„æˆç»©ï¼Œæœ‰5ä¸ªå­¦ç”Ÿã€‚ç„¶åè®¡ç®—æ¯ä¸ªå­¦ç”Ÿçš„æ€»åˆ†å’Œå¹³å‡åˆ†ï¼Œä»¥åŠæ¯é—¨æµ‹éªŒçš„å¹³å‡åˆ†ã€æœ€é«˜åˆ†å’Œæœ€ä½åˆ†ã€‚</p><ul><li>è¾“å…¥åˆ†ä¸ºäº”è¡Œäº”åˆ—ï¼Œæ¯è¡Œä»£è¡¨ä¸€é—¨æˆç»©ï¼Œæ¯åˆ—ä»£è¡¨ä¸€åå­¦ç”Ÿã€‚</li><li>è¾“å‡ºåˆ†ä¸ºäº”è¡Œäº”åˆ—ï¼Œç¬¬ä¸€è¡Œä¸ºæ¯ä¸ªå­¦ç”Ÿçš„æ€»åˆ†ï¼Œç¬¬äºŒè¡Œä¸ºæ¯ä¸ªå­¦ç”Ÿçš„å¹³å‡åˆ†ï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰ï¼Œç¬¬ä¸‰è¡Œä¸ºæ¯é—¨æµ‹éªŒçš„å¹³å‡åˆ†ï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰ï¼Œç¬¬å››è¡Œä¸ºæ¯é—¨æµ‹éªŒçš„æœ€é«˜åˆ†ï¼Œç¬¬äº”è¡Œä¸ºæ¯é—¨æµ‹éªŒçš„æœ€ä½åˆ†ã€‚</li><li>æ¯è¡Œè¾“å…¥ã€è¾“å‡ºçš„æ•°å­—é—´ç”¨ç©ºæ ¼ï¼ˆâ€œ â€ï¼‰åˆ†éš”ã€‚</li><li><del>æ¯è¡Œå’Œæ¯è¡Œä¹‹é—´ä¸è¦æœ‰å¤šä½™çš„ç©ºæ ¼ã€‚ï¼ˆè€ƒè¯•çš„æ—¶å€™ä¸ºäººå·¥åˆ¤å·ï¼Œä¸ä¼šè¿‡åˆ†è‹›æ±‚è¿™äº›ç»†èŠ‚ï¼Œä½†æ˜¯å¸Œæœ›å¤§å®¶å¹³æ—¶å¯ä»¥æ³¨æ„åˆ°è¿™äº›ç»†èŠ‚ï¼Œæ¯•ç«Ÿç±»æ¯”ä¸‹æ¥ï¼Œç®—æ•°å­—å“ªæ€•å››èˆäº”å…¥å·®äº†ä¸€ç‚¹ç‚¹ä¹Ÿä¼šæ˜¯é”™è¯¯çš„ã€‚ï¼‰</del> ä¸è¦æ±‚å¤§å®¶è¿™ä¸€ç‚¹äº†ï¼Œå¯ä»¥å¿½ç•¥ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä¸ªé”™è¯¯çš„æ ·ä¾‹</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line"></span><br><span class="line">ä¼šè¾“å‡º:</span><br><span class="line"><span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]</span><br><span class="line">ç»“å°¾å¤šè¾“å‡ºä¸€ä¸ªç©ºæ ¼</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ä¸ªæ­£ç¡®çš„æ ·ä¾‹</span></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d "</span>, b[i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>, b[i]);</span><br><span class="line"></span><br><span class="line">ä¼šè¾“å‡º:</span><br><span class="line"><span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span>[ç©ºæ ¼]<span class="number">15</span></span><br><span class="line">ç†æƒ³ç»“æœ</span><br></pre></td></tr></table></figure><p>Test case:<br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 2 3 4 5</span><br><span class="line">2 3 4 5 1</span><br><span class="line">3 4 5 1 2</span><br><span class="line">4 5 1 2 3</span><br><span class="line">5 1 2 3 4</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">15 15 15 15 15</span><br><span class="line">3.00 3.00 3.00 3.00 3.00</span><br><span class="line">3.00 3.00 3.00 3.00 3.00</span><br><span class="line">5 5 5 5 5</span><br><span class="line">1 1 1 1 1</span><br></pre></td></tr></table></figure><h3 id="é¢˜ç›®10"><a class="header-anchor" href="#é¢˜ç›®10">#</a>é¢˜ç›®10</h3><p>è¾“å…¥ä¸€ä¸ªç”±å¤§å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼ˆé•¿åº¦å°äº100ï¼‰ï¼Œæ±‚å­—ç¬¦ä¸²ä¸­åŒ…å«äº†å‡ ä¸ªä¸åŒçš„å­—æ¯ã€‚</p><p>Test case:<br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AABBBCD</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure><h3 id="é¢˜ç›®11"><a class="header-anchor" href="#é¢˜ç›®11">#</a>é¢˜ç›®11</h3><p>è¾“å…¥ä¸€å­—ç¬¦ä¸²ï¼ˆé•¿åº¦å°äº100ï¼‰å’Œä¸€ä¸ªå­—ç¬¦ï¼Œç»Ÿè®¡å‡ºå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>Test case:<br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AABBBCD</span><br><span class="line">A</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="é¢˜ç›®12"><a class="header-anchor" href="#é¢˜ç›®12">#</a>é¢˜ç›®12</h3><p>ä¸è¦è°ƒç”¨strcpyå‡½æ•°ï¼ŒæŠŠå­—ç¬¦æ•°ç»„str2ä¸­çš„å­—ç¬¦ä¸²ï¼ˆé•¿åº¦å°äº100ï¼‰å¤åˆ¶åˆ°å­—ç¬¦æ•°ç»„str1ä¸­ã€‚</p><p>Test case:<br>Input:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ABCDEFG</span><br></pre></td></tr></table></figure><p>Output:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ABCDEFG</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> xmu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€ä¸­floatçš„ç²¾åº¦é—®é¢˜</title>
      <link href="/blog/2019/11/06/float-in-c/"/>
      <url>/blog/2019/11/06/float-in-c/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a class="header-anchor" href="#é—®é¢˜">#</a>é—®é¢˜</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">float</span> a = <span class="number">123456789</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%f"</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç çš„è¾“å‡ºç»“æœä¸ºï¼š<code>123456792.000000</code>ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p><a id="more"></a><h2 id="floatå­˜å‚¨æ–¹æ³•"><a class="header-anchor" href="#floatå­˜å‚¨æ–¹æ³•">#</a>floatå­˜å‚¨æ–¹æ³•</h2><p>è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/qq_35057840/article/details/52430651" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢</a>ï¼Œfloatå‹çš„æ•°æ®å ç”¨32ä½çš„å­˜å‚¨ç©ºé—´ï¼Œå…¶ä¸­ï¼š</p><ul><li>1ä½ç¬¦å·ä½</li><li>8ä½æŒ‡æ•°ä½</li><li>23ä½å°¾æ•°ä½</li></ul><p>floatå‹æ•°æ®çš„å­˜å‚¨æ–¹æ³•ä¸ºç§‘å­¦è®¡æ•°æ³•ï¼Œå³ <code>110</code> å¯ä»¥å†™æˆ <code>+ 1.1 * 10^2</code> çš„å½¢å¼ï¼Œå³ï¼š</p><ul><li><code>+</code> ä¸ºç¬¦å·ä½ <code>æ­£</code></li><li><code>2</code> ä¸ºæŒ‡æ•°ä½ <code>2æ¬¡å¹‚</code></li><li><code>1</code> ä¸ºå°¾æ•°ä½ <code>.1</code> è€Œä¸æ˜¯ <code>1.1</code></li></ul><p>è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œå› ä¸ºç§‘å­¦è®¡æ•°æ³•æ˜¯ <code>ä¸€ä¸ªå¤§äº1å°äºç­‰äº9</code> çš„å°æ•°(ç›¸å¯¹äºåè¿›åˆ¶)ï¼ŒäºŒè¿›åˆ¶çš„ç§‘å­¦è®¡æ•°æ³•çš„å°æ•°çš„æ•´æ•°éƒ¨åˆ†ä¸€å®šæ˜¯ <code>1</code>ï¼Œæ•…çœç•¥æ•´æ•°éƒ¨åˆ†ï¼Œæ•…å®é™…ä¸Šå°¾æ•°çš„æœ‰æ•ˆä½æ•°æ˜¯ <code>24</code> ä½ã€‚</p><h2 id="æ•°å­—åˆ†æ"><a class="header-anchor" href="#æ•°å­—åˆ†æ">#</a>æ•°å­—åˆ†æ</h2><p>ä½¿ç”¨<a href="https://tool.lu/hexconvert/" target="_blank" rel="noopener">è¿›åˆ¶è½¬æ¢å·¥å…·</a>å¾—åˆ° <code>123456789</code> çš„äºŒè¿›åˆ¶ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">111010110111100110100010101</span><br></pre></td></tr></table></figure><p>ä¸€å…± <code>27</code> ä½ï¼Œå‰é¢è¯´è¿‡floatçš„æœ‰æ•ˆä½æ•°ä¸º <code>23+1</code> ä½ï¼Œç¬¬ <code>24</code> ä½è¦æ ¹æ® <code>å°±è¿‘åŸåˆ™</code><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> ç¡®å®šæ˜¯ <code>0</code> è¿˜æ˜¯ <code>1</code>ï¼Œå…¶ä½™éƒ¨ä½è¡¥ <code>0</code>ï¼Œå³ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">111010110111100110100011000</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ç»“æœä¸º <code>123456792</code>ã€‚</p><h2 id="ç¨‹åºéªŒè¯"><a class="header-anchor" href="#ç¨‹åºéªŒè¯">#</a>ç¨‹åºéªŒè¯</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">numæ˜¯è¦å±•ç¤ºçš„floatæ•°,binæ˜¯ä¿å­˜æ‰€æœ‰äºŒè¿›åˆ¶ä½çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getFloatBin</span><span class="params">(<span class="keyword">float</span> num, <span class="keyword">char</span> bin[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = <span class="number">1</span>;              <span class="comment">//ç”¨æ¥æŒ‰ä½ä¸æ“ä½œ</span></span><br><span class="line">    <span class="keyword">int</span> *f = (<span class="keyword">int</span> *)(&amp;num); <span class="comment">//å°†floatçš„è§£é‡Šæˆintï¼Œå³floatçš„åœ°å€è½¬æˆint*</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//ä»æœ€é«˜ä½å¼€å§‹æŒ‰ä½ä¸ï¼Œå¦‚æœä¸º1ï¼Œåˆ™bin[i]=1ï¼Œå¦‚æœä¸º0ï¼Œåˆ™bin[i]=0</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œæ²¡æœ‰å°†binå­˜æˆå­—ç¬¦ï¼Œè€Œæ˜¯æ•°å­—1 0</span></span><br><span class="line">        bin[i] = (*f) &amp; (t &lt;&lt; <span class="number">31</span> - i) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">float</span> test = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">32</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æµ‹è¯•floatæ•°ä¸º:%f\n"</span>, test);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"äºŒè¿›åˆ¶è¡¨ç¤ºä¸º:"</span>);</span><br><span class="line">    getFloatBin(test, c);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">32</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, c[i]);</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">", "</span>);</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">8</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">", "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç æ‘˜è‡ª<a href="https://blog.csdn.net/wayway0554/article/details/84111889" target="_blank" rel="noopener">åœ¨Cè¯­è¨€ä¸­å°†float(æµ®ç‚¹æ•°)çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ‰“å°å‡ºæ¥</a>ï¼Œç»“æœä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•<span class="built_in">float</span>æ•°ä¸º:123456792.000000</span><br><span class="line">äºŒè¿›åˆ¶è¡¨ç¤ºä¸º:0, 10011001, 11010110111100110100011</span><br></pre></td></tr></table></figure><p>ä¸ç†è®ºç»“æœæ¯”å¯¹ä¸€è‡´ã€‚</p><h2 id="ç»“è¯­"><a class="header-anchor" href="#ç»“è¯­">#</a>ç»“è¯­</h2><p>æ„Ÿè°¢èˆå‹å’Œè€è¾£é¸¡ä»¬çš„ç¾¤ç­–ç¾¤åŠ›ï¼æœ€ç»ˆåˆæ­¥è§£å†³äº†é—®é¢˜ï½</p><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://blog.csdn.net/leho666/article/details/89204964" target="_blank" rel="noopener">Cè¯­è¨€ä¸­ï¼Œfloatåœ¨å†…å­˜ä¸­çš„å‚¨å­˜æ–¹å¼</a></li><li><a href="https://blog.csdn.net/qq_35057840/article/details/52430651" target="_blank" rel="noopener">Cè¯­è¨€æµ®ç‚¹æ•°å­˜å‚¨æ–¹å¼</a></li><li><a href="https://blog.csdn.net/wayway0554/article/details/84111889" target="_blank" rel="noopener">åœ¨Cè¯­è¨€ä¸­å°†float(æµ®ç‚¹æ•°)çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ‰“å°å‡ºæ¥</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>â€å°±è¿‘åŸåˆ™â€œæ— æ³•æ‰¾åˆ°ç›¸å…³æ–‡æ¡£è¯´æ˜ï¼Œåªèƒ½æ ¹æ®æµ‹è¯•æ•°æ®è¿›è¡Œæ¨æµ‹ï¼Œå‡†ç¡®æ€§æœ‰å¾…è€ƒç©¶ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> c </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘åŠ¨æ€ä¿®æ”¹åŸŸåè§£æ</title>
      <link href="/blog/2019/10/23/aliyun-ddns/"/>
      <url>/blog/2019/10/23/aliyun-ddns/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>å®¿èˆæ”¾ç€ä¸€å°æ¢ä¸‹æ¥çš„æ—§æ‰‹æœº Mi5ï¼Œå¹³æ—¶é™¤äº†åŒå¼€å¥½åƒå°±æ²¡ç”¨è¿‡ï¼ŒæŠ±ç€é—²ç½®ç‰©å“å†åˆ©ç”¨çš„åŸåˆ™ï¼Œåœ¨ä¸Šé¢è£…äº†ä¸ª centos ç³»ç»Ÿï¼Œä½†ç”±äºå®¿èˆçš„å®½å¸¦æ˜¯åŠ¨æ€ ip çš„ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦æ‰‹åŠ¨é‡æ–°è§£æåŸŸåï¼Œé‚£ä¹Ÿå¤ªéº»çƒ¦äº†ã€‚äºæ˜¯æƒ³è®¾å®šå®šæ—¶ä»»åŠ¡è‡ªåŠ¨è§£æï¼ŒæŠ˜è…¾ä¸€ç•ªï¼Œè®°å½•ä¹‹ã€‚</p><a id="more"></a><h2 id="å®‰è£…ç¯å¢ƒ"><a class="header-anchor" href="#å®‰è£…ç¯å¢ƒ">#</a>å®‰è£…ç¯å¢ƒ</h2><h3 id="pip"><a class="header-anchor" href="#pip">#</a>pip</h3><p>å› ä¸ºæ˜¯æœ€å°åŒ–å®‰è£…æ‰€ä»¥ pip éƒ½æ²¡è£…â€¦<br>ç›´æ¥<a href="https://pip.pypa.io/en/stable/installing/" target="_blank" rel="noopener">å®˜ç½‘</a>å®‰è£…å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py</span><br><span class="line">python get-pip.py</span><br></pre></td></tr></table></figure><h3 id="gcc"><a class="header-anchor" href="#gcc">#</a>gcc</h3><p>æ˜¯çš„ gcc ä¹Ÿæ²¡æœ‰ï¼Œè¦è‡ªå·±è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc -y</span><br></pre></td></tr></table></figure><h3 id="aliyun-sdk"><a class="header-anchor" href="#aliyun-sdk">#</a>aliyun-sdk</h3><p>é˜¿é‡Œäº‘å·²ç»æŠŠæ¡†æ¶å†™å¥½äº†ï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨å°±è¡Œï¼Œçœå»äº†è‡ªå·±é€ è½®å­çš„éº»çƒ¦ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install aliyun-python-sdk-alidns</span><br></pre></td></tr></table></figure><h2 id="ä»£ç "><a class="header-anchor" href="#ä»£ç ">#</a>ä»£ç </h2><p>é˜¿é‡Œäº‘å·²ç»æŠŠæ¡†æ¶å†™å¥½äº†ï¼Œæˆ‘ä»¬ç›´æ¥è°ƒç”¨å°±è¡Œï¼Œçœå»äº†è‡ªå·±é€ è½®å­çš„éº»çƒ¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> aliyunsdkcore <span class="keyword">import</span> client</span><br><span class="line"><span class="keyword">from</span> aliyunsdkalidns.request.v20150109 <span class="keyword">import</span> DescribeDomainRecordsRequest</span><br><span class="line"><span class="keyword">from</span> aliyunsdkalidns.request.v20150109 <span class="keyword">import</span> DescribeDomainRecordInfoRequest</span><br><span class="line"><span class="keyword">from</span> aliyunsdkalidns.request.v20150109 <span class="keyword">import</span> UpdateDomainRecordRequest</span><br><span class="line"></span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘ Access Key ID</span></span><br><span class="line">access_key_id = <span class="string">""</span></span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘ Access Key Secret</span></span><br><span class="line">access_key_secret = <span class="string">""</span></span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘ ä¸€çº§åŸŸå</span></span><br><span class="line">rc_domain = <span class="string">'onns.xyz'</span></span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘ äºŒçº§åŸŸåå‰ç¼€</span></span><br><span class="line">rc_subdomain = <span class="string">'xm'</span></span><br><span class="line"><span class="comment"># è¿”å›å†…å®¹æ ¼å¼</span></span><br><span class="line">rc_format = <span class="string">'json'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_records</span><span class="params">(dns_domain)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    è·å–åŸŸåçš„è§£æä¿¡æ¯</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    clt = client.AcsClient(access_key_id, access_key_secret, <span class="string">'cn-hangzhou'</span>)</span><br><span class="line">    request = DescribeDomainRecordsRequest.DescribeDomainRecordsRequest()</span><br><span class="line">    request.set_DomainName(dns_domain)</span><br><span class="line">    request.set_accept_format(rc_format)</span><br><span class="line">    result = clt.do_action(request)</span><br><span class="line">    result = json.JSONDecoder().decode(result)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_old_ip</span><span class="params">(record_id)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    æ ¹æ®åŸŸåè§£æè®°å½•IDæŸ¥è¯¢ä¸Šä¸€æ¬¡çš„IPè®°å½•</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    clt = client.AcsClient(access_key_id, access_key_secret, <span class="string">'cn-hangzhou'</span>)</span><br><span class="line">    request = DescribeDomainRecordInfoRequest.DescribeDomainRecordInfoRequest()</span><br><span class="line">    request.set_RecordId(record_id)</span><br><span class="line">    request.set_accept_format(rc_format)</span><br><span class="line">    result = clt.do_action(request)</span><br><span class="line">    result = json.JSONDecoder().decode(result)</span><br><span class="line">    result = result[<span class="string">'Value'</span>]</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_dns</span><span class="params">(dns_rr, dns_type, dns_value, dns_record_id, dns_ttl, dns_format)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    æ›´æ–°é˜¿é‡Œäº‘åŸŸåè§£æè®°å½•ä¿¡æ¯</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    clt = client.AcsClient(access_key_id, access_key_secret, <span class="string">'cn-hangzhou'</span>)</span><br><span class="line">    request = UpdateDomainRecordRequest.UpdateDomainRecordRequest()</span><br><span class="line">    request.set_RR(dns_rr)</span><br><span class="line">    request.set_Type(dns_type)</span><br><span class="line">    request.set_Value(dns_value)</span><br><span class="line">    request.set_RecordId(dns_record_id)</span><br><span class="line">    request.set_TTL(dns_ttl)</span><br><span class="line">    request.set_accept_format(dns_format)</span><br><span class="line">    result = clt.do_action(request)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_my_publick_ip</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    è·å–å½“å‰ä¸»æœºçš„å¤–ç½‘IP</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        u = urllib2.urlopen(<span class="string">'http://members.3322.org/dyndns/getip'</span>)</span><br><span class="line">        <span class="keyword">return</span> u.read().strip(<span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">except</span> HTTPError <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">'getMyIp:'</span>, e)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_file</span><span class="params">(new_ip)</span>:</span></span><br><span class="line">    time_now = datetime.now().strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>)</span><br><span class="line">    write_log = open(<span class="string">'aliyun_ddns.txt'</span>, <span class="string">'a'</span>)</span><br><span class="line">    write_log.write(time_now + <span class="string">' '</span> + str(new_ip) + <span class="string">'\n'</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment"># ä¹‹å‰çš„è§£æè®°å½•</span></span><br><span class="line">    old_ip = <span class="string">""</span></span><br><span class="line">    record_id = <span class="string">""</span></span><br><span class="line">    dns_records = check_records(rc_domain)</span><br><span class="line">    <span class="keyword">for</span> record <span class="keyword">in</span> dns_records[<span class="string">"DomainRecords"</span>][<span class="string">"Record"</span>]:</span><br><span class="line">        <span class="keyword">if</span> record[<span class="string">"Type"</span>] == <span class="string">'A'</span> <span class="keyword">and</span> record[<span class="string">"RR"</span>] == rc_subdomain:</span><br><span class="line">            record_id = record[<span class="string">"RecordId"</span>]</span><br><span class="line">            <span class="keyword">print</span> <span class="string">"%s.%s recordID is %s"</span> % (rc_subdomain, rc_domain, record_id)</span><br><span class="line">            <span class="keyword">if</span> record_id != <span class="string">""</span>:</span><br><span class="line">                old_ip = get_old_ip(record_id)</span><br><span class="line"></span><br><span class="line">    old_ip = get_old_ip(record_id)</span><br><span class="line">    <span class="comment"># è·å–ä¸»æœºå½“å‰çš„IP</span></span><br><span class="line">    now_ip = get_my_publick_ip()</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"now host ip is %s, dns ip is %s"</span> % (now_ip, old_ip)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> old_ip == now_ip:</span><br><span class="line">        <span class="keyword">print</span> <span class="string">"The specified value of parameter Value is the same as old"</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        rc_rr = rc_subdomain        <span class="comment"># è§£æè®°å½•</span></span><br><span class="line">        rc_type = <span class="string">'a'</span>               <span class="comment"># è®°å½•ç±»å‹, DDNSå¡«å†™Aè®°å½•</span></span><br><span class="line">        rc_value = now_ip           <span class="comment"># æ–°çš„è§£æè®°å½•å€¼</span></span><br><span class="line">        rc_record_id = record_id    <span class="comment"># è®°å½•ID</span></span><br><span class="line">        rc_ttl = <span class="string">'600'</span>              <span class="comment"># è§£æè®°å½•æœ‰æ•ˆç”Ÿå­˜æ—¶é—´TTL,å•ä½:ç§’</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">print</span> update_dns(rc_rr, rc_type, rc_value, rc_record_id, rc_ttl, rc_format)</span><br><span class="line"></span><br><span class="line">        write_to_file(now_ip)</span><br></pre></td></tr></table></figure><p>ä»£ç æ‹·è´è‡ªï¼š<a href="https://www.vincents.cn/2017/03/27/aliyun-ddns/" target="_blank" rel="noopener">é˜¿é‡Œäº‘ DNS åŠ¨æ€è§£æ</a>ï¼Œç•¥ä½œä¿®æ”¹ã€‚<br>è¿™é‡Œåªéœ€è¦æ”¹å‰å‡ è¡Œï¼ˆ15-22 è¡Œï¼‰çš„å€¼å³å¯ï¼Œé˜¿é‡Œäº‘çš„<code>accesskey</code>ä»<a href="https://usercenter.console.aliyun.com/#/manage/ak" target="_blank" rel="noopener">è¿™é‡Œ</a>è·å–ã€‚</p><h2 id="æ‰§è¡Œ"><a class="header-anchor" href="#æ‰§è¡Œ">#</a>æ‰§è¡Œ</h2><p>å¯ä»¥æ‰‹åŠ¨å…ˆæ‰§è¡Œä¸€ä¸‹å‘½ä»¤çœ‹ä¸‹ç»“æœã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ python ddns.py</span><br><span class="line"></span><br><span class="line">xm.onns.xyz recordID is XXXXXXXXXXXXXXX</span><br><span class="line">now host ip is XXXXXXXXXXXXXXX, dns ip is XXXXXXXXXXXXXXX</span><br><span class="line">&#123;<span class="string">"RecordId"</span>:<span class="string">"XXXXXXXXXXXXXXX"</span>,<span class="string">"RequestId"</span>:<span class="string">"XXXXXXXXXXXXXXX"</span>&#125;</span><br></pre></td></tr></table></figure><p>æ¥ç€è®¾ç½® crontab å®šæ—¶ä»»åŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å¦‚ä¸‹ä¸€æ¡è®°å½•ï¼Œä¸ºäº†é¿å…é”™è¯¯ï¼Œå†™ç»å¯¹åœ°å€ã€‚</span></span><br><span class="line">*/10 * * * * /usr/bin/python /home/android/ddns.py /dev/null 1&gt;/dev/null</span><br></pre></td></tr></table></figure><p>å¾ˆå°´å°¬çš„æ˜¯ï¼Œä¸ä»…ä»…æ˜¯æœ€å°åŒ–å®‰è£…ï¼Œè¿ä¸€äº› service çš„æœåŠ¡éƒ½æ²¡æœ‰å†™å…¥ï¼Œæ‰€ä»¥è¦æ‰‹åŠ¨æ‰“å¼€â€¦<code>crontab</code>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/sbin/crond -s</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ä½¿ï¼ˆwanï¼‰ç”¨ï¼ˆshuaï¼‰äº†ã€‚</p><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="https://www.vincents.cn/2017/03/27/aliyun-ddns/" target="_blank" rel="noopener">é˜¿é‡Œäº‘ DNS åŠ¨æ€è§£æ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ddns </tag>
            
            <tag> aliyun </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOSä¸‹è¶…å¥½ç”¨çš„è½¯ä»¶</title>
      <link href="/blog/2019/09/08/software-for-mac/"/>
      <url>/blog/2019/09/08/software-for-mac/</url>
      
        <content type="html"><![CDATA[<h2 id="æ—¥å¸¸"><a class="header-anchor" href="#æ—¥å¸¸">#</a>æ—¥å¸¸</h2><ul><li><a href="https://justgetflux.com/" target="_blank" rel="noopener">f.lux</a><br>ä¸€ä¸ªè‡ªåŠ¨è°ƒèŠ‚å±å¹•æ˜¾ç¤ºçš„å·¥å…·ï¼Œå¯ä»¥æ ¹æ®æ—¥å‡æ—¥è½æ—¶é—´è°ƒèŠ‚æŠ¤çœ¼æ¨¡å¼ã€‚</li></ul><h2 id="æ•ˆç‡"><a class="header-anchor" href="#æ•ˆç‡">#</a>æ•ˆç‡</h2><ul><li>OmniGraffle</li></ul><h2 id="å¨±ä¹"><a class="header-anchor" href="#å¨±ä¹">#</a>å¨±ä¹</h2><ul><li>VLC</li></ul>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Teamviewerå•†ç”¨è§£å†³æ–¹æ¡ˆ</title>
      <link href="/blog/2019/08/07/solution-for-teamviewer-commercial-use/"/>
      <url>/blog/2019/08/07/solution-for-teamviewer-commercial-use/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>æµ‹è¯•äº†å¾ˆå¤šè¿œç¨‹è¿æ¥è½¯ä»¶ï¼Œå‘ç°è¿˜æ˜¯teamviewerå¥½ç”¨ï¼Œä½†æ˜¯è«åå…¶å¦™è¢«æ£€æµ‹æˆå•†ä¸šç”¨æˆ·ï¼Œä¸èƒ½ä½¿ç”¨ï¼Œè®°å½•è§£å†³æ–¹æ¡ˆã€‚</p><a id="more"></a><h2 id="ç”³è¯‰"><a class="header-anchor" href="#ç”³è¯‰">#</a>ç”³è¯‰</h2><p>Teamviewerå®˜æ–¹æä¾›äº†ç”³è¯‰æ¸ é“ï¼Œé€šè¿‡ <a href="https://teamviewer.com/en/support/personal-use-verification/" target="_blank" rel="noopener">TeamViewer Personal Use Verification</a>ï¼Œæä¾›æ—¥å¿—ä¿¡æ¯å³å¯ç”³è¯‰ï¼Œä¼šé€šè¿‡é‚®ä»¶å›å¤ç”³è¯‰ç»“æœï¼Œèƒ½ä¸èƒ½æ¢å¤å…¨å‡­è¿æ°”ã€‚</p><p>æˆåŠŸä¾‹å­ï¼š</p><blockquote><p>Dear User,</p><p>Thank you for your email and query regarding TeamViewer.</p><p>We have gone ahead and reset your device back to private use.</p><p>For the changes to take effect, please restart your TeamViewer application via â€œConnection -&gt; Exit TeamViewerâ€.</p><p>Please keep in mind:</p><ul><li>TeamViewer is only free for private, non-commercial use.</li><li>If the device is used in an office or commercial setting, you will be blocked again and will need to buy a license to continue.</li><li>The partners you connect with also need to be using either a private or a licensed version of the software.</li></ul></blockquote><p>å¤±è´¥ä¾‹å­ï¼š</p><blockquote><p>Dear TeamViewer User,</p><p>Thank you for your request regarding being unblocked from using the free version of TeamViewer. After reviewing the information provided to us, we were unable to confirm that the submitted ID is being used privately.</p><p>Requiring commercial users to purchase a license is also part of our effort to maintain the free version, and to therefore make help accessible to everyone. The free version is for people who are using it to help family and friends.</p></blockquote><p>ä¸Šé¢ä¸¤å°éƒ½æ˜¯æˆ‘æ”¶åˆ°çš„é‚®ä»¶ï¼Œâ•®(â•¯â–½â•°)â•­</p><h2 id="macä¸‹è§£å†³æ–¹æ¡ˆ"><a class="header-anchor" href="#macä¸‹è§£å†³æ–¹æ¡ˆ">#</a>Macä¸‹è§£å†³æ–¹æ¡ˆ</h2><p>å‚è€ƒ <a href="https://www.590103.idv.tw/blog/%E8%A7%A3%E6%B1%BAmac%E7%89%88teamviewer%E5%80%8B%E4%BA%BA%E7%89%885%E5%88%86%E9%90%98%E6%96%B7%E7%B7%9A%E5%95%8F%E9%A1%8C#.XUqNcpMzZQK" target="_blank" rel="noopener">è§£æ±ºMACç‰ˆTeamviewerå€‹äººç‰ˆ5åˆ†é˜æ–·ç·šå•é¡Œ</a>ï¼Œä¸‹è½½è¿è¡Œå³å¯ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>è®°ä½å½“å‰IDï¼Œå…³é—­Teamviewerã€‚</li><li>ä¸‹è½½ <a href="https://gist.github.com/zhenhappy/3c808a198715978a38acf0ba44044ea6" target="_blank" rel="noopener">TeamViewer-14-id-changer-for-mac.py</a> æˆ– <a href="https://gist.github.com/zhovner/b1d72f3465c46e7b58a4ea42d625c3e8" target="_blank" rel="noopener">TeamViewer-id-changer.py</a>ï¼Œç¬¬äºŒä¸ªä¸é€‚ç”¨äºTeamviewer14ï¼Œæ¨èç¬¬ä¸€ä¸ªã€‚</li><li>æ‰“å¼€å‘½ä»¤åï¼Œè¾“å…¥<code>sudo python TeamViewer-14-id-changer-for-mac.py</code>ï¼Œç‚¹å‡»å›è½¦ã€‚</li><li>é‡å¯ç”µè„‘ï¼Œå‘ç°IDæ”¹å˜ï¼Œé—®é¢˜è§£å†³ã€‚</li></ol><h2 id="windowsä¸‹è§£å†³æ–¹æ¡ˆ"><a class="header-anchor" href="#windowsä¸‹è§£å†³æ–¹æ¡ˆ">#</a>Windowsä¸‹è§£å†³æ–¹æ¡ˆ</h2><p>å‚è€ƒ <a href="https://www.itread01.com/content/1546764964.html" target="_blank" rel="noopener">teamviewerè¢«æª¢æ¸¬ç‚ºå•†æ¥­ç”¨é€”è§£æ±ºæ–¹æ³•</a>ã€‚</p><h3 id="å¸è½½"><a class="header-anchor" href="#å¸è½½">#</a>å¸è½½</h3>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> teamviewer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sign recognition lab report</title>
      <link href="/blog/2019/01/11/sign-recognition-lab-report/"/>
      <url>/blog/2019/01/11/sign-recognition-lab-report/</url>
      
        <content type="html"><![CDATA[<h2 id="å®éªŒæŠ¥å‘Š"><a class="header-anchor" href="#å®éªŒæŠ¥å‘Š">#</a>å®éªŒæŠ¥å‘Š</h2><a id="more"></a><div class="row">    <embed src="//onns.xyz/blog/files/sign-recognition-lab-report.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computer vision </tag>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019 movie list</title>
      <link href="/blog/2019/01/01/2019-movie-list/"/>
      <url>/blog/2019/01/01/2019-movie-list/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h3><a id="more"></a><h3 id="ä¸€æœˆ"><a class="header-anchor" href="#ä¸€æœˆ">#</a>ä¸€æœˆ</h3>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> movie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>local feature lab report</title>
      <link href="/blog/2018/12/18/local-feature-lab-report/"/>
      <url>/blog/2018/12/18/local-feature-lab-report/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜åˆ†æ"><a class="header-anchor" href="#é—®é¢˜åˆ†æ">#</a>é—®é¢˜åˆ†æ</h2><h3 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h3><p>è¯¥é¡¹ç›®çš„ç›®æ ‡æ˜¯å®Œæˆä¸€ä¸ªæ‰¾åˆ°åœ¨ä¸åŒçš„è§†è§’ä¸‹æ‹æ‘„çš„åŒä¸€ç‰©ä½“æˆ–åœºæ™¯ä¸­çš„ç›¸ä¼¼ä¹‹å¤„çš„ç®—æ³•ã€‚æˆ‘ä»¬ä¸»è¦å®ç°çš„æ˜¯ä¸€ä¸ªç®€æ˜“ç‰ˆçš„SIFTç®—æ³•ã€‚ä¸»è¦éœ€è¦å®Œæˆçš„æ˜¯ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢çš„å†…å®¹ï¼š</p><ul><li><p>å®ç°ä¸€ä¸ªHarrisè§’ç‚¹æ£€æµ‹ç®—æ³•</p></li><li><p>å®ç°ä¸€ä¸ªç±»ä¼¼SIFTç®—æ³•çš„å±€éƒ¨ç‰¹å¾æè¿°ç®—æ³•</p></li><li><p>å®ç°ä¸€ä¸ªåŸºäº<code>æ¯”ç‡æµ‹è¯•</code>æˆ–<code>æœ€è¿‘é‚»è·ç¦»æ¯”æµ‹è¯•</code>çš„å±€éƒ¨ç‰¹å¾åŒ¹é…ç®—æ³•</p></li></ul><h3 id="æ•°æ®é›†åˆ†æ"><a class="header-anchor" href="#æ•°æ®é›†åˆ†æ">#</a>æ•°æ®é›†åˆ†æ</h3><p>ä»¥<code>NotreDame</code>æ•°æ®ä¸ºä¾‹ï¼ŒåŒ…å«äº†ä¸¤å¼ åŒä¸€ç‰©ä½“çš„ä¸åŒè§’åº¦çš„å›¾åƒï¼Œå¦‚<code>å›¾1</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/921919841_a30df938f2_o.jpg" alt="æ•°æ®å›¾åƒ"></p><p>å›¾1 æ•°æ®å›¾åƒ</p></center><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data</span><br><span class="line">â”œâ”€â”€ NotreDame</span><br><span class="line">|   â”œâ”€â”€ 921919841_a30df938f2_o_to_4191453057_c86028ce1f_o.mat</span><br><span class="line">|   â”œâ”€â”€ 921919841_a30df938f2_o.jpg</span><br><span class="line">|   â””â”€â”€ 4191453057_c86028ce1f_o.jpg</span><br><span class="line">â”œâ”€â”€ ...</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å®éªŒè¿‡ç¨‹"><a class="header-anchor" href="#å®éªŒè¿‡ç¨‹">#</a>å®éªŒè¿‡ç¨‹</h2><h3 id="ç¼–ç¨‹è¯­è¨€ä»‹ç»"><a class="header-anchor" href="#ç¼–ç¨‹è¯­è¨€ä»‹ç»">#</a>ç¼–ç¨‹è¯­è¨€ä»‹ç»</h3><p>æœ¬å®éªŒæ‰€é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ä¸º<code>Matlab</code>, ç¼–ç¨‹è½¯ä»¶ä¸º<code>Matlab 2018b</code>.</p><h3 id="harrisè§’ç‚¹æ£€æµ‹"><a class="header-anchor" href="#harrisè§’ç‚¹æ£€æµ‹">#</a>Harrisè§’ç‚¹æ£€æµ‹</h3><p>è§’ç‚¹æ˜¯ä¸€å¹…å›¾åƒä¸Šæœ€æ˜æ˜¾ä¸é‡è¦çš„ç‰¹å¾ï¼Œè§’ç‚¹æ£€æµ‹çš„åŸç†æ˜¯åˆ©ç”¨è§’ç‚¹åœ¨å„ä¸ªæ–¹å‘ä¸Šçš„æ¢¯åº¦å€¼å˜åŒ–æ˜æ˜¾è¿™ä¸€ç‰¹æ€§ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><p>é€‰å–çš„æè¿°çª—å®½åº¦ä¸º<code>16åƒç´ </code>ï¼Œé¦–å…ˆå¯¹å›¾åƒè¿›è¡Œé«˜æ–¯æ»¤æ³¢ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸ºäº†æ¶ˆé™¤æŸäº›å™ªç‚¹å¯¹äºæ¥ä¸‹æ¥è¿›è¡Œçš„æ£€æµ‹çš„å½±å“ã€‚<br>æ¥ç€æ±‚åœ¨xxã€yyå’Œxyæ–¹å‘çš„æ¢¯åº¦å¹¶è¿›è¡Œé«˜æ–¯æ»¤æ³¢ã€‚<br>æœ€åå¾—åˆ°Harrisè§’ç‚¹çš„å“åº”å€¼Rã€‚è®¡ç®—å…¬å¼å¦‚<code>å…¬ç¤º1</code>æ‰€ç¤º:</p><p>$$<br>R = det(M) - \alpha*trace(M)<br>\tag{1}<br>$$</p><p>å…¶ä¸­$\alpha$ä¸ºç³»æ•°å€¼ï¼Œé€šå¸¸å–å€¼èŒƒå›´ä¸º0.04 ~ 0.06ä¹‹é—´.<br>æœ€åå°†å¾—åˆ°çš„å†è¿›è¡Œè¿‡æ»¤ï¼Œä¿ç•™é‚£äº›é‡è¦çš„å…´è¶£ç‚¹ã€‚</p><p>è¿è¡Œç»“æœå¦‚<code>å›¾2</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/20181218-1.jpg" alt="Harrisè§’ç‚¹æ£€æµ‹ç»“æœ"></p><p>å›¾2 Harrisè§’ç‚¹æ£€æµ‹ç»“æœ</p></center><h3 id="å±€éƒ¨ç‰¹å¾æè¿°"><a class="header-anchor" href="#å±€éƒ¨ç‰¹å¾æè¿°">#</a>å±€éƒ¨ç‰¹å¾æè¿°</h3><p>å±€éƒ¨ç‰¹å¾æè¿°æˆ‘ä»¬è¿ç”¨ä¸€ç§ç±»ä¼¼SIFTç®—æ³•çš„æè¿°æ–¹æ³•ï¼Œæˆ‘ä»¬è®¾ç½®çš„æè¿°çª—å£çš„å¤§å°ä¸º<code>16*16</code>ï¼Œæ¥ç€å°†çª—å£åˆ’åˆ†æˆ16ä¸ª<code>4*4</code>çš„å°çª—å£ï¼Œåœ¨è¿™äº›å°çª—å£ä¸­æ‰¾å¯»æ¯ä¸ªåƒç´ çš„ä¸»è¦æ¢¯åº¦ï¼Œç„¶åå°†å…¶å½’åˆ°0-360åº¦æŒ‰æ¯45åº¦ä¸€åˆ’åˆ†çš„8ä¸ªæ–¹å‘ä¹‹ä¸­ã€‚<br>ç„¶åå¯¹è¿™äº›ç‰¹å¾å‘é‡è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œä»¥æ¶ˆé™¤å…‰ç…§ç­‰å˜åŒ–çš„å½±å“ã€‚</p><h3 id="å±€éƒ¨ç‰¹å¾åŒ¹é…"><a class="header-anchor" href="#å±€éƒ¨ç‰¹å¾åŒ¹é…">#</a>å±€éƒ¨ç‰¹å¾åŒ¹é…</h3><p>åœ¨å¾—åˆ°ç‰¹å¾å‘é‡ä¹‹åï¼Œåªéœ€è¦é€šè¿‡è®¡ç®—å‘é‡çš„è·ç¦»ï¼Œå°±èƒ½å¤Ÿå¯¹ç‰¹å¾ç‚¹è¿›è¡ŒåŒ¹é…ã€‚<br>å…·ä½“çš„æ–¹æ³•æ˜¯ç®—ä¸€ä¸ªå‘é‡å’Œæ¥è‡ªå¦ä¸€ä¸ªå›¾çš„æ‰€æœ‰ç‰¹å¾ç‚¹çš„ç‰¹å¾å‘é‡çš„æ¬§å¼è·ç¦»ï¼Œç„¶åå–æœ€è¿‘çš„ä¸€ä¸ªç‰¹å¾å‘é‡è¿›è¡ŒåŒ¹é…ã€‚<br>åŒ¹é…ç»“æœå¦‚<code>å›¾3</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/20181218-2.jpg" alt="å±€éƒ¨ç‰¹å¾åŒ¹é…ç»“æœ"></p><p>å›¾3 å±€éƒ¨ç‰¹å¾åŒ¹é…ç»“æœ</p></center><h2 id="å®éªŒç»“æœ"><a class="header-anchor" href="#å®éªŒç»“æœ">#</a>å®éªŒç»“æœ</h2><p>æˆåŠŸå®ç°äº†ç®€å•çš„å›¾ç‰‡ç›¸ä¼¼ç‚¹çš„å¯»æ‰¾ä¸åŒ¹é…ã€‚åœ¨<code>Notre Dam</code>å›¾åƒä¸Šè·å¾—äº†87%çš„å‡†ç¡®ç‡ã€‚</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://blog.csdn.net/jia20003/article/details/16908661" target="_blank" rel="noopener">å›¾åƒå¤„ç†ä¹‹è§’ç‚¹æ£€æµ‹ç®—æ³•</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computer vision </tag>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 Computational Intelligence Homework No.6</title>
      <link href="/blog/2018/12/10/2018-computational-intelligence-homework-no.6/"/>
      <url>/blog/2018/12/10/2018-computational-intelligence-homework-no.6/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”¨äººå·¥ç¥ç»ç½‘ç»œæ±‚è§£æ—…è¡Œå•†-tsp-é—®é¢˜"><a class="header-anchor" href="#ç”¨äººå·¥ç¥ç»ç½‘ç»œæ±‚è§£æ—…è¡Œå•†-tsp-é—®é¢˜">#</a>ç”¨äººå·¥ç¥ç»ç½‘ç»œæ±‚è§£æ—…è¡Œå•†(TSP)é—®é¢˜</h1><h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>æ—…è¡Œå•†é—®é¢˜(Travelling Salesman Problem, ç®€è®°TSP, äº¦ç§°è´§éƒæ‹…é—®é¢˜): è®¾æœ‰34ä¸ªåŸå¸‚åŠå…¶å¯¹åº”çš„ç»çº¬åº¦åæ ‡, åˆ™é—®é¢˜æ˜¯è¦æ‰¾å‡ºéè®¿æ¯ä¸ªåŸå¸‚æ°å¥½ä¸€æ¬¡çš„ä¸€æ¡å›è·¯å¹¶ä½¿å…¶è·¯å¾„é•¿åº¦ä¸ºæœ€çŸ­.</p><a id="more"></a><h2 id="ç®—æ³•è®¾è®¡"><a class="header-anchor" href="#ç®—æ³•è®¾è®¡">#</a>ç®—æ³•è®¾è®¡</h2><p>Hopfieldç¥ç»ç½‘ç»œæ˜¯ä¸€ç§å•å±‚äº’ç›¸å…¨è¿æ¥çš„åé¦ˆå‹ç¥ç»ç½‘ç»œã€‚æ¯ä¸ªç¥ç»å…ƒæ—¢æ˜¯è¾“å…¥ä¹Ÿæ˜¯è¾“å‡ºï¼Œç½‘ç»œä¸­çš„æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½å°†è‡ªå·±çš„è¾“å‡ºé€šè¿‡è¿æ¥æƒä¼ é€ç»™æ‰€æœ‰å…¶å®ƒç¥ç»å…ƒï¼ŒåŒæ—¶åˆéƒ½æ¥æ”¶æ‰€æœ‰å…¶å®ƒç¥ç»å…ƒä¼ é€’è¿‡æ¥çš„ä¿¡æ¯ã€‚å³ï¼šç½‘ç»œä¸­çš„ç¥ç»å…ƒåœ¨tæ—¶åˆ»çš„è¾“å‡ºçŠ¶æ€å®é™…ä¸Šé—´æ¥åœ°ä¸è‡ªå·±t-1æ—¶åˆ»çš„è¾“å‡ºçŠ¶æ€æœ‰å…³ã€‚ç¥ç»å…ƒä¹‹é—´äº’è¿æ¥ï¼Œæ‰€ä»¥å¾—åˆ°çš„æƒé‡çŸ©é˜µå°†æ˜¯å¯¹ç§°çŸ©é˜µã€‚<br>åŒæ—¶ï¼ŒHopfieldç¥ç»ç½‘ç»œæˆåŠŸå¼•å…¥èƒ½é‡å‡½æ•°çš„æ¦‚å¿µï¼Œä½¿ç½‘ç»œè¿è¡Œåœ°ç¨³å®šæ€§åˆ¤æ–­æœ‰äº†å¯é ä¾æ®ã€‚åŸºæœ¬çš„Hopfieldç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªç”±éçº¿æ€§å…ƒä»¶æ„æˆçš„å…¨è¿æ¥å‹å•å±‚é€’å½’ç³»ç»Ÿã€‚å…¶çŠ¶æ€å˜åŒ–å¯ä»¥ç”¨å·®åˆ†æ–¹ç¨‹æ¥è¡¨ç¤ºã€‚é€’å½’å‹ç½‘ç»œçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯å®ƒå…·æœ‰ç¨³å®šçŠ¶æ€, å½“ç½‘ç»œè¾¾åˆ°ç¨³å®šçŠ¶æ€çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯å®ƒçš„èƒ½é‡å‡½æ•°è¾¾åˆ°æœ€å°çš„æ—¶å€™ã€‚è¿™é‡Œçš„èƒ½é‡å‡½æ•°ä¸æ˜¯ç‰©ç†æ„ä¹‰ä¸Šçš„èƒ½é‡å‡½æ•°ï¼Œè€Œæ˜¯åœ¨è¡¨è¾¾å½¢å¼ä¸Šä¸ç‰©ç†æ„ä¹‰ä¸Šçš„èƒ½é‡æ¦‚å¿µä¸€è‡´ï¼Œå³å®ƒè¡¨å¾ç½‘ç»œçŠ¶æ€çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¹¶å¯ä»¥ä¾æ®Hopfieldç½‘ç»œæ¨¡å‹çš„å·¥ä½œè¿è¡Œè§„åˆ™ä¸æ–­åœ°è¿›è¡ŒçŠ¶æ€å˜åŒ–ï¼Œæœ€ç»ˆèƒ½å¤Ÿåˆ°è¾¾å…·æœ‰æŸä¸ªæå°å€¼çš„ç›®æ ‡å‡½æ•°ã€‚ç½‘ç»œæ”¶æ•›å°±æ˜¯æŒ‡èƒ½é‡å‡½æ•°è¾¾åˆ°æå°å€¼ã€‚<br>å¦‚æœæŠŠä¸€ä¸ªæœ€ä¼˜åŒ–åœ¨ç€é€’å½’ä¿¡å·ï¼Œç½‘ç»œçš„çŠ¶æ€æ˜¯éšæ—¶é—´çš„å˜åŒ–è€Œå˜åŒ–çš„ï¼Œå…¶è¿åŠ¨è½¨è¿¹å¿…ç„¶å­˜åœ¨ç€ç¨³å®šæ€§çš„é—®é¢˜ã€‚è¿™å°±æ˜¯é€’å½’ç½‘ç»œä¸å‰å‘ç½‘ç»œåœ¨ç½‘ç»œæ€§èƒ½åˆ†æä¸Šæœ€å¤§çš„åŒºåˆ«ä¹‹ä¸€åœ¨ä½¿ç”¨é€’å½’ç½‘ç»œæ—¶ï¼Œå¿…é¡»å¯¹å…¶ç¨³å®šæ€§è¿›è¡Œä¸“é—¨çš„åˆ†æä¸è®¨è®ºï¼Œåˆç†é€‰æ‹©ç½‘ç»œçš„å‚æ•°å˜åŒ–èŒƒå›´ï¼Œæ‰èƒ½ç¡®ä¿é€’å½’ç½‘ç»œçš„æ­£å¸¸å·¥ä½œã€‚<br>Hopfieldç¥ç»ç½‘ç»œæ¨¡å‹æœ‰ç¦»æ•£å‹å’Œè¿ç»­æ€§ä¸¤ç§ï¼Œç¦»æ•£å‹é€‚ç”¨äºè”æƒ³è®°å¿†ï¼Œè¿ç»­æ€§é€‚åˆå¤„ç†ä¼˜åŒ–é—®é¢˜ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><p>å°†TSPé—®é¢˜æ˜ å°„ä¸ºç¥ç»ç½‘ç»œåŠ¨åŠ›ç³»ç»Ÿå¯ç”¨ä»¥ä¸‹æ­¥éª¤å®Œæˆï¼š</p><ol><li>å°†TSPé—®é¢˜çš„æ¯ä¸€æ¡å¯èƒ½è·¯å¾„ç”¨ä¸€æ¢ä½çŸ©é˜µè¡¨ç¤ºï¼Œå¹¶ç»™å‡ºç›¸åº”çš„è·ç¦»è¡¨ç¤ºè¯•ï¼›</li><li>å°†TSPé—®é¢˜çš„æ¢ä½é˜µé›†åˆä¸ç”±Nä¸ªç¥ç»å…ƒæ„æˆçš„ç¥ç»å…ƒé˜µåˆ—ç›¸å¯¹åº”ï¼›æ¯ä¸€æ¡è·¯å¾„æ‰€å¯¹åº”çš„æ¢ä½é˜µçš„å„å…ƒç´ ä¸ç›¸åº”çš„ç¥ç»å…ƒç¨³æ€è¾“å‡ºå¯¹åº”ï¼›</li><li>æ‰¾å‡ºä¸€ååº”TSPçº¦æŸä¼˜åŒ–é—®é¢˜çš„èƒ½è¿å‡½æ•°Eï¼›</li><li>æ±‚å‡ºä½¿Eå–æå°å€¼çš„ç¥ç»ç½‘ç»œè¿æ¥æƒé‡çŸ©é˜µå’Œåç½®å‚æ•°ã€‚</li></ol><h3 id="tspçš„èƒ½é‡å‡½æ•°e"><a class="header-anchor" href="#tspçš„èƒ½é‡å‡½æ•°e">#</a>TSPçš„èƒ½é‡å‡½æ•°E</h3><span>$$\begin{aligned}&Tab;E = &amp; \frac{A}{2}\sum^n_{x=1}\sum^n_{i=1}\sum^n_{j \ne 1}v_{xi}v_{xj} + \frac{B}{2}\sum^n_{i=1}\sum^n_{x=1}\sum^n_{y \ne x}v_{xi}v_{yi} \\&amp; + \frac{C}{2}(\sum^n_{x=1}\sum^n_{i=1}v_{xi}-n)^2 +\frac{D}{2}\sum^n_{x=1}\sum^n_{y \ne x}\sum^n_{i=1}d_{xy}d_{xi}(v_{y,i+1}+v_{y,i-1})\end{aligned}\tag{1}$$</span><!-- Has MathJax --><p>å…¶ä¸­å‚æ•°$ABCD$ç§°ä¸ºæƒå€¼ï¼Œå‰ä¸‰é¡¹æ˜¯æ»¡è¶³TSPç½®æ¢çŸ©é˜µçš„çº¦æŸæ¡ä»¶ï¼Œæœ€åä¸€é¡¹åŒ…å«ä¼˜åŒ–ç›®æ ‡å‡½æ•°é¡¹.</p><h2 id="æ”¹è¿›çš„tspçš„èƒ½é‡å‡½æ•°e"><a class="header-anchor" href="#æ”¹è¿›çš„tspçš„èƒ½é‡å‡½æ•°e">#</a>æ”¹è¿›çš„TSPçš„èƒ½é‡å‡½æ•°E</h2><span>$$\begin{aligned}&Tab;E = &amp; \frac{A}{2}\sum^n_{x=1}(\sum^n_{i=1}v_{xi}-1)^2+\frac{A}{2}\sum^n_{i=1}(\sum^n_{x=1}v_{xi}-1)^2 \\&amp; + \frac{D}{2}\sum^n_{x=1}\sum^n_{y=1}\sum^n_{i=1}v_{xi}d_{xy}v_{y,i+1}\end{aligned}\tag{2}$$</span><!-- Has MathJax --><h3 id="hopfieldç¥ç»ç½‘ç»œåŠ¨æ€æ–¹ç¨‹"><a class="header-anchor" href="#hopfieldç¥ç»ç½‘ç»œåŠ¨æ€æ–¹ç¨‹">#</a>Hopfieldç¥ç»ç½‘ç»œåŠ¨æ€æ–¹ç¨‹</h3><span>$$\begin{aligned}&Tab;\frac{du_{xi}}{dt} = - \frac{\partial E}{\partial v_{xi}} =&amp; -A(\sum^n_{i=1}v_{xi}-1)-A(\sum^n_{y=1}v_{yi}-1) \\&amp; - D(\sum^n_{y=1}v_{xi}d_{xy}v_{y,i+1}\end{aligned}\tag{3}$$</span><!-- Has MathJax --><h2 id="ç¨‹åºæµç¨‹"><a class="header-anchor" href="#ç¨‹åºæµç¨‹">#</a>ç¨‹åºæµç¨‹</h2><p>ç¨‹åºæµç¨‹å¦‚<code>å›¾1</code>æ‰€ç¤º</p><center><div id="flowchart-0" class="flow-chart"></div><p>å›¾1 ç¨‹åºæµç¨‹å›¾</p></center><h2 id="æ ¸å¿ƒä¼ªä»£ç "><a class="header-anchor" href="#æ ¸å¿ƒä¼ªä»£ç ">#</a>æ ¸å¿ƒä¼ªä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(num_iter):</span><br><span class="line">    <span class="comment"># åˆ©ç”¨åŠ¨æ€æ–¹ç¨‹è®¡ç®—du</span></span><br><span class="line">    du = calc_du(V, distance)</span><br><span class="line">    <span class="comment"># ç”±ä¸€é˜¶æ¬§æ‹‰æ³•æ›´æ–°ä¸‹ä¸€ä¸ªæ—¶é—´çš„è¾“å…¥çŠ¶æ€ï¼ˆç”µè·¯çš„è¾“å…¥ç”µå‹Uï¼‰</span></span><br><span class="line">    U = calc_U(U, du, step)</span><br><span class="line">    <span class="comment"># ç”±sigmoidå‡½æ•°æ›´æ–°ä¸‹ä¸€ä¸ªæ—¶é—´çš„è¾“å‡ºçŠ¶æ€ï¼ˆç”µè·¯çš„è¾“å‡ºç”µå‹Vï¼‰</span></span><br><span class="line">    V = calc_V(U, U0)</span><br><span class="line">    <span class="comment"># è®¡ç®—å½“å‰ç½‘ç»œçš„èƒ½é‡E</span></span><br><span class="line">    energys[n] = calc_energy(V, distance)</span><br><span class="line">    <span class="comment"># æ£€æŸ¥è·¯å¾„çš„åˆæ³•æ€§</span></span><br><span class="line">    route, newV = check_path(V)</span><br><span class="line">    <span class="keyword">if</span> len(np.unique(route)) == N:</span><br><span class="line">        route.append(route[<span class="number">0</span>])</span><br><span class="line">        dis = calc_distance(route)</span><br><span class="line">        <span class="keyword">if</span> dis &lt; best_distance:</span><br><span class="line">            H_path = []</span><br><span class="line">            best_distance = dis</span><br><span class="line">            best_route = route</span><br><span class="line">            [H_path.append((route[i], route[i + <span class="number">1</span>]))</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(len(route) - <span class="number">1</span>)]</span><br><span class="line">            print(<span class="string">'ç¬¬&#123;&#125;æ¬¡è¿­ä»£æ‰¾åˆ°çš„æ¬¡ä¼˜è§£è·ç¦»ä¸ºï¼š&#123;&#125;ï¼Œèƒ½é‡ä¸ºï¼š&#123;&#125;ï¼Œè·¯å¾„ä¸ºï¼š'</span></span><br><span class="line">            .format(n, best_distance, energys[n]))</span><br><span class="line">            [print(<span class="string">'['</span> + str(citys[v][<span class="number">0</span>]) + <span class="string">','</span> + str(citys[v][<span class="number">1</span>]) </span><br><span class="line">            + <span class="string">']'</span>, end=<span class="string">','</span> <span class="keyword">if</span> i &lt; len(best_route) - <span class="number">1</span> <span class="keyword">else</span> <span class="string">'\n'</span>)</span><br><span class="line">                <span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate(best_route)]</span><br><span class="line"><span class="keyword">if</span> len(H_path) &gt; <span class="number">0</span>:</span><br><span class="line">    draw_H_and_E(citys, H_path, energys)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'æ²¡æœ‰æ‰¾åˆ°æœ€ä¼˜è§£'</span>)</span><br></pre></td></tr></table></figure><h2 id="ä»£ç è¿è¡ŒåŠæµ‹è¯•"><a class="header-anchor" href="#ä»£ç è¿è¡ŒåŠæµ‹è¯•">#</a>ä»£ç è¿è¡ŒåŠæµ‹è¯•</h2><p>ä»£ç è¿è¡Œç»“æœå¦‚<code>å›¾2</code>æ‰€ç¤º.</p><center><p><img src="//onns.xyz/blog/image/20181210-1.png" alt="è¿è¡Œç»“æœå›¾"></p><p>å›¾2 è¿è¡Œç»“æœå›¾</p></center><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h2><p>34ä¸ªåŸå¸‚çš„æœ€ç»ˆç»“æœä¸º<code>18513.0361</code>å…¬é‡Œã€‚<br>Hopfieldç¥ç»ç½‘ç»œæ˜¯æ±‚è§£TSPçš„ä¸€ç§ä¼˜åŒ–ç½‘ç»œç®—æ³•ã€‚Hopfieldç¥ç»ç½‘ç»œé€šè¿‡ç¥ç»åŠ¨åŠ›å­¦æ¥æ˜ å°„ç”Ÿç‰©ç¥ç»ç½‘ç»œï¼Œåœ¨å‚æ•°è®¾ç½®åˆç†çš„æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½æ‰¾åˆ°çœŸå®æœ€ä¼˜è§£ï¼Œæ¯”è¿‘ä¼¼ç®—æ³•è®¡ç®—çš„æ•ˆæœè¦å¥½ã€‚Hopfieldç¥ç»ç½‘ç»œæ¯”è¾ƒä¾èµ–åˆå§‹æƒå€¼çš„è®¾ç½®ï¼Œä¼šå—åˆ°åˆå§‹è¾“å…¥çŠ¶æ€å’Œè¾“å‡ºçŠ¶æ€çš„éšæœºæ€§å½±å“ï¼Œä¸ä¸€å®šæ¯ä¸€æ¬¡éƒ½å¯ä»¥æ‰¾åˆ°æœ€ä¼˜è§£ï¼Œæœ‰å¯èƒ½æ‰¾åˆ°çš„æ˜¯ä¸åŒçš„æ¬¡ä¼˜è§£ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.jianshu.com/p/30fdc835d5b3" target="_blank" rel="noopener">TSPé—®é¢˜â€”Hopfieldç¥ç»ç½‘ç»œç®—æ³•</a></li></ul><p style="page-break-before: always"></p><h2 id="é™„å½•"><a class="header-anchor" href="#é™„å½•">#</a>é™„å½•</h2><h3 id="åŸå¸‚åæ ‡"><a class="header-anchor" href="#åŸå¸‚åæ ‡">#</a>åŸå¸‚åæ ‡</h3><center id="city_list">åŸå¸‚åæ ‡è¡¨</center><table><thead><tr><th style="text-align:center">åºå·</th><th style="text-align:center">çœä»½</th><th style="text-align:center">ç»åº¦</th><th style="text-align:center">çº¬åº¦</th></tr></thead><tbody><tr><td style="text-align:center">01</td><td style="text-align:center">åŒ—äº¬</td><td style="text-align:center">116.4</td><td style="text-align:center">39.9</td></tr><tr><td style="text-align:center">02</td><td style="text-align:center">å¤©æ´¥</td><td style="text-align:center">117.2</td><td style="text-align:center">39.12</td></tr><tr><td style="text-align:center">03</td><td style="text-align:center">æ²³åŒ—</td><td style="text-align:center">114.52</td><td style="text-align:center">38.05</td></tr><tr><td style="text-align:center">04</td><td style="text-align:center">å±±è¥¿</td><td style="text-align:center">112.55</td><td style="text-align:center">37.87</td></tr><tr><td style="text-align:center">05</td><td style="text-align:center">å†…è’™å¤</td><td style="text-align:center">111.73</td><td style="text-align:center">40.83</td></tr><tr><td style="text-align:center">06</td><td style="text-align:center">è¾½å®</td><td style="text-align:center">123.43</td><td style="text-align:center">41.8</td></tr><tr><td style="text-align:center">07</td><td style="text-align:center">å‰æ—</td><td style="text-align:center">125.32</td><td style="text-align:center">43.9</td></tr><tr><td style="text-align:center">08</td><td style="text-align:center">é»‘é¾™æ±Ÿ</td><td style="text-align:center">126.53</td><td style="text-align:center">45.8</td></tr><tr><td style="text-align:center">09</td><td style="text-align:center">ä¸Šæµ·</td><td style="text-align:center">121.47</td><td style="text-align:center">31.23</td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">æ±Ÿè‹</td><td style="text-align:center">118.78</td><td style="text-align:center">32.07</td></tr><tr><td style="text-align:center">11</td><td style="text-align:center">æµ™æ±Ÿ</td><td style="text-align:center">120.15</td><td style="text-align:center">30.28</td></tr><tr><td style="text-align:center">12</td><td style="text-align:center">å®‰å¾½</td><td style="text-align:center">117.25</td><td style="text-align:center">31.83</td></tr><tr><td style="text-align:center">13</td><td style="text-align:center">ç¦å»º</td><td style="text-align:center">119.3</td><td style="text-align:center">26.08</td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">æ±Ÿè¥¿</td><td style="text-align:center">115.85</td><td style="text-align:center">28.68</td></tr><tr><td style="text-align:center">15</td><td style="text-align:center">å±±ä¸œ</td><td style="text-align:center">116.98</td><td style="text-align:center">36.67</td></tr><tr><td style="text-align:center">16</td><td style="text-align:center">æ²³å—</td><td style="text-align:center">113.62</td><td style="text-align:center">34.75</td></tr><tr><td style="text-align:center">17</td><td style="text-align:center">æ¹–åŒ—</td><td style="text-align:center">114.3</td><td style="text-align:center">30.6</td></tr><tr><td style="text-align:center">18</td><td style="text-align:center">æ¹–å—</td><td style="text-align:center">112.93</td><td style="text-align:center">28.23</td></tr><tr><td style="text-align:center">19</td><td style="text-align:center">å¹¿ä¸œ</td><td style="text-align:center">113.27</td><td style="text-align:center">23.13</td></tr><tr><td style="text-align:center">20</td><td style="text-align:center">å¹¿è¥¿</td><td style="text-align:center">108.37</td><td style="text-align:center">22.82</td></tr><tr><td style="text-align:center">21</td><td style="text-align:center">æµ·å—</td><td style="text-align:center">108.37</td><td style="text-align:center">22.82</td></tr><tr><td style="text-align:center">22</td><td style="text-align:center">é‡åº†</td><td style="text-align:center">106.55</td><td style="text-align:center">29.57</td></tr><tr><td style="text-align:center">23</td><td style="text-align:center">å››å·</td><td style="text-align:center">104.07</td><td style="text-align:center">30.67</td></tr><tr><td style="text-align:center">24</td><td style="text-align:center">è´µå·</td><td style="text-align:center">106.63</td><td style="text-align:center">26.65</td></tr><tr><td style="text-align:center">25</td><td style="text-align:center">äº‘å—</td><td style="text-align:center">102.72</td><td style="text-align:center">25.05</td></tr><tr><td style="text-align:center">26</td><td style="text-align:center">è¥¿è—</td><td style="text-align:center">91.13</td><td style="text-align:center">29.65</td></tr><tr><td style="text-align:center">27</td><td style="text-align:center">é™•è¥¿</td><td style="text-align:center">108.93</td><td style="text-align:center">34.27</td></tr><tr><td style="text-align:center">28</td><td style="text-align:center">ç”˜è‚ƒ</td><td style="text-align:center">103.82</td><td style="text-align:center">36.07</td></tr><tr><td style="text-align:center">29</td><td style="text-align:center">é’æµ·</td><td style="text-align:center">101.78</td><td style="text-align:center">36.62</td></tr><tr><td style="text-align:center">30</td><td style="text-align:center">å®å¤</td><td style="text-align:center">106.28</td><td style="text-align:center">38.47</td></tr><tr><td style="text-align:center">31</td><td style="text-align:center">æ–°ç–†</td><td style="text-align:center">87.62</td><td style="text-align:center">43.82</td></tr><tr><td style="text-align:center">32</td><td style="text-align:center">å°åŒ—</td><td style="text-align:center">121.52</td><td style="text-align:center">25.03</td></tr><tr><td style="text-align:center">33</td><td style="text-align:center">é¦™æ¸¯</td><td style="text-align:center">114.17</td><td style="text-align:center">22.28</td></tr><tr><td style="text-align:center">34</td><td style="text-align:center">æ¾³é—¨</td><td style="text-align:center">113.55</td><td style="text-align:center">22.19</td></tr></tbody></table><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: åˆå§‹åŒ–Hopfieldç¥ç»ç½‘ç»œçš„åˆå€¼å’Œæƒå€¼op1=>operation: è®¡ç®—nä¸ªåŸå¸‚ä¹‹é—´çš„è·ç¦»çŸ©é˜µDxyï¼Œåˆå§‹åŒ–ç¥ç»ç½‘ç»œçš„è¾“å…¥çŠ¶æ€op2=>operation: åˆ©ç”¨åŠ¨æ€æ–¹ç¨‹è®¡ç®—è¾“å…¥çŠ¶æ€çš„å¢é‡op3=>operation: ç”±ä¸€é˜¶æ¬§æ‹‰æ–¹æ³•æ›´æ–°ç¥ç»ç½‘ç»œä¸‹ä¸€ä¸ªæ—¶åˆ»çš„è¾“å…¥çŠ¶æ€op4=>operation: ç”±sigmoidå‡½æ•°æ›´æ–°ç¥ç»ç½‘ç»œä¸‹ä¸ªæ—¶åˆ»çš„è¾“å‡ºçŠ¶æ€op5=>operation: è®¡ç®—å½“å‰çš„èƒ½é‡å‡½æ•°Econd1=>condition: æ˜¯å¦è¿­ä»£æŒ‡å®šæ¬¡æ•°?e1=>end: ç®—æ³•ç»“æŸst->op1->cond1cond1(no, bottom)->op3->op4->op5->cond1cond1(yes)->e1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://blog.csdn.net/weixin_39707121/article/details/79041536" target="_blank" rel="noopener">Hopfieldç¥ç»ç½‘ç»œ</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computational intelligence </tag>
            
            <tag> artificial neural network </tag>
            
            <tag> perceptron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 Computational Intelligence Homework No.5</title>
      <link href="/blog/2018/11/26/2018-computational-intelligence-homework-no.5/"/>
      <url>/blog/2018/11/26/2018-computational-intelligence-homework-no.5/</url>
      
        <content type="html"><![CDATA[<h1 id="äººå·¥ç¥ç»ç½‘ç»œ-æ„ŸçŸ¥å™¨è®­ç»ƒ"><a class="header-anchor" href="#äººå·¥ç¥ç»ç½‘ç»œ-æ„ŸçŸ¥å™¨è®­ç»ƒ">#</a>äººå·¥ç¥ç»ç½‘ç»œ-æ„ŸçŸ¥å™¨è®­ç»ƒ</h1><h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>ä¸‹é¢è¿™ä¸ªè®­ç»ƒé›†åˆæ˜¯çº¿æ€§å¯åˆ†çš„:</p><table><thead><tr><th style="text-align:center">è¾“å…¥</th><th style="text-align:center">è¾“å‡º</th></tr></thead><tbody><tr><td style="text-align:center">1 0 0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">0 1 1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">1 1 0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">1 1 1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">0 0 1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">1 0 1</td><td style="text-align:center">1</td></tr></tbody></table><p>(æ‰‹å·¥)è®­ç»ƒæ­¤è®­ç»ƒé›†åˆä¸­çš„çº¿æ€§é˜ˆå€¼å•å…ƒã€‚ä½ çš„å•å…ƒåŒ…æ‹¬æ‰§è¡Œé˜ˆå€¼çš„è¾“å…¥åœ¨å†…çš„å››ä¸ªè¾“å…¥ã€‚è®¾æ‰€æœ‰æƒå€¼çš„åˆå§‹å€¼ä¸º0ã€‚ç”¨å›ºå®šé€’å¢çº é”™ç¨‹åºæ¥è®­ç»ƒä½ çš„å•å…ƒç›´è‡³æ‰¾åˆ°ä¸€ä¸ªè§£ã€‚<br>åœ¨æ¯æ¬¡è®­ç»ƒå¾ªç¯åæ ‡å‡ºå„ç»„æƒå€¼ã€‚ä»¥å‰é¢çš„è¾“å…¥ä¸ºé¡¶ç‚¹ç”»å‡ºä¸€ä¸ªä¸‰ç»´ç«‹æ–¹ä½“çš„è‰å›¾ï¼Œå¹¶æ ¹æ®æœ€ç»ˆæƒé›†ç”»å‡ºåˆ†å‰²å¹³é¢çš„è‰å›¾ã€‚</p><a id="more"></a><h2 id="è®­ç»ƒè¿‡ç¨‹"><a class="header-anchor" href="#è®­ç»ƒè¿‡ç¨‹">#</a>è®­ç»ƒè¿‡ç¨‹</h2><h3 id="åˆå§‹åŒ–"><a class="header-anchor" href="#åˆå§‹åŒ–">#</a>åˆå§‹åŒ–</h3><p>å–Î¼=0.1, Î¸=0.0ï¼Œåˆå§‹çŠ¶æ€w<sub>1</sub>=w<sub>2</sub>=w<sub>3</sub>=0<br>æ¿€æ´»å‡½æ•°å¦‚<code>å…¬å¼1</code>æ‰€ç¤º.</p><span>$$f_h(x)=\begin{cases}1,&amp;{x \geq 0} \\0,&amp;{x &lt; 0}\end{cases}\tag{1}$$</span><!-- Has MathJax --><p>è¾“å‡ºç»“æœå¦‚<code>å…¬å¼2</code>æ‰€ç¤ºã€‚</p><span>$$o = f_h(\omega_1x+\omega_2y+\omega_3z+\theta)\tag{2}$$</span><!-- Has MathJax --><p>æƒé‡æ›´æ–°è§„åˆ™å¦‚<code>å…¬ç¤º3</code>æ‰€ç¤º, å…¶ä¸­ $input$ ä¸ºè¾“å…¥ã€‚</p><span>$$\omega&apos; = \omega + \Delta\omega * input \\\theta&apos; = \theta + \Delta\omega\tag{3}$$</span><!-- Has MathJax --><p>æ„ŸçŸ¥å™¨å¦‚<code>å›¾1</code>æ‰€ç¤ºã€‚</p><center><div id="graphviz-0"></div><p>å›¾1 æ„ŸçŸ¥å™¨å›¾</p></center><h3 id="ç¬¬ä¸€è½®å¾ªç¯"><a class="header-anchor" href="#ç¬¬ä¸€è½®å¾ªç¯">#</a>ç¬¬ä¸€è½®å¾ªç¯</h3><p>å°†æ‰€æœ‰è¾“å…¥è¾“å…¥åˆ°æ„ŸçŸ¥å™¨ä¸­è¿›è¡Œè®¡ç®—ã€‚</p><span>$$\begin{aligned}&Tab;&amp;o|_{(1, 0, 0)}=f_h(0+0+0+0.0)=1, &amp;æ­£ç¡® \\&amp;o|_{(0, 1, 1)}=f_h(0+0+0+0.0)=1, &amp;åº”è¯¥æ˜¯0 \\\end{aligned}$$</span><!-- Has MathJax --><p>æ›´æ–°æƒé‡$\Delta\omega=-0.1, \omega_1 = 0 +  -0.1 * 0 = 0.0, åŒæ ·åœ°å¾—åˆ°\omega_2 = -0.1, \omega_3 = -0.1, \theta = -0.1$</p><span>$$\begin{aligned}&Tab;&amp;o|_{(1, 1, 0)}=f_h(0-0.1+0-0.1)=0, &amp;åº”è¯¥æ˜¯1\end{aligned}$$</span><!-- Has MathJax --><p>æ›´æ–°æƒé‡$\Delta\omega=0.1, \omega_1 = 0.1, \omega_2 = 0.0, \omega_3 = -0.1, \theta = -0.0$</p><span>$$\begin{aligned}&Tab;&amp;o|_{(1, 1, 1)}=f_h(0.1+0-0.1+0.0)=1, &amp;åº”è¯¥æ˜¯0\end{aligned}$$</span><!-- Has MathJax --><p>æ›´æ–°æƒé‡$\Delta\omega=-0.1, \omega_1 = 0.1, \omega_2 = -0.1, \omega_3 = -0.2, \theta = -0.1$</p><span>$$\begin{aligned}&Tab;&amp;o|_{(0, 0, 1)}=f_h(0+0-0.2-0.1)=0, &amp;æ­£ç¡® \\&amp;o|_{(1, 0, 1)}=f_h(-0.1+0-0.2-0.1)=0, &amp;åº”è¯¥æ˜¯1 \\\end{aligned}$$</span><!-- Has MathJax --><p>æ›´æ–°æƒé‡$\Delta\omega=0.1, \omega_1 = 0.1, \omega_2 = -0.1, \omega_3 = -0.1, \theta = -0.0$</p><center><div id="graphviz-1"></div><p>å›¾2 ä¸€è½®å¾ªç¯åçš„æ„ŸçŸ¥å™¨å›¾</p></center><h3 id="ç¬¬äºŒè½®å¾ªç¯"><a class="header-anchor" href="#ç¬¬äºŒè½®å¾ªç¯">#</a>ç¬¬äºŒè½®å¾ªç¯</h3><span>$$\begin{aligned}&Tab;&amp;o|_{(1, 0, 0)}=f_h(0.1+0+0+0.0)=1, &amp;æ­£ç¡® \\&amp;o|_{(0, 1, 1)}=f_h(0-0.1-0.1+0.0)=0, &amp;æ­£ç¡® \\&amp;o|_{(1, 1, 0)}=f_h(0.1-0.1+0+0.0)=1, &amp;æ­£ç¡® \\&amp;o|_{(1, 1, 1)}=f_h(0.1-0.1-0.1+0.0)=0, &amp;æ­£ç¡® \\&amp;o|_{(0, 0, 1)}=f_h(0+0-0.1+0.0)=0, &amp;æ­£ç¡® \\&amp;o|_{(1, 0, 1)}=f_h(0.1+0-0.1+0.0)=1, &amp;æ­£ç¡® \\\end{aligned}$$</span><!-- Has MathJax --><p>è‡³æ­¤æ„ŸçŸ¥å™¨æ”¶æ•›ï¼Œå¾ªç¯ç»“æŸã€‚</p><center><div id="graphviz-2"></div><p>å›¾3 æœ€ç»ˆçš„çš„æ„ŸçŸ¥å™¨å›¾</p></center><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h2><p>æœ€ç»ˆæƒé›†ç”»å‡ºçš„åˆ†å‰²å¹³é¢çš„è‰å›¾å¦‚<code>å›¾4</code>æ‰€ç¤ºã€‚</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">clear all</span><br><span class="line">x = <span class="number">-2</span>:<span class="number">0.1</span>:<span class="number">2</span></span><br><span class="line">y = <span class="number">-2</span>:<span class="number">0.1</span>:<span class="number">2</span></span><br><span class="line">[X,Y]= <span class="built_in">meshgrid</span>(x,y)</span><br><span class="line">Z = X - Y</span><br><span class="line"><span class="built_in">scatter3</span>([<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>],<span class="string">'rp'</span>)</span><br><span class="line"><span class="built_in">scatter3</span>([<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],<span class="string">'k'</span>)</span><br></pre></td></tr></table></figure><center><p><img src="//onns.xyz/blog/image/20181204-1.png" alt="åˆ†å‰²å¹³é¢å›¾"></p><p>å›¾4 åˆ†å‰²å¹³é¢å›¾</p></center><h2 id="é™„å½•"><a class="header-anchor" href="#é™„å½•">#</a>é™„å½•</h2><h3 id="æ„ŸçŸ¥å™¨è®­ç»ƒä»£ç "><a class="header-anchor" href="#æ„ŸçŸ¥å™¨è®­ç»ƒä»£ç ">#</a>æ„ŸçŸ¥å™¨è®­ç»ƒä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------model import----------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end model import----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------global variables----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end global variables----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------function definition----------</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    activation function</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> x &gt;= <span class="number">0</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end function definition----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------class definition----------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Perceptron</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, input_num, activator)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        initiate</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        self.activator = activator</span><br><span class="line">        self.weights = [<span class="number">0.0</span>] * input_num</span><br><span class="line">        self.bias = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        print weights and nbias</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'weights: %s\nbias: %f\n'</span> % (list(self.weights), self.bias)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(self, input_vec)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        predict function</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">return</span> self.activator(</span><br><span class="line">            reduce(<span class="keyword">lambda</span> a, b: a + b,</span><br><span class="line">                   map(<span class="keyword">lambda</span> x_w: x_w[<span class="number">0</span>]*x_w[<span class="number">1</span>],</span><br><span class="line">                       zip(input_vec, self.weights)), <span class="number">0.0</span>) + self.bias)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">(self, input_vecs, labels, iteration, rate)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        train the perceptron also print weights and nbias for each iteration</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(iteration):</span><br><span class="line">            print(<span class="string">'iterations: %d'</span> % (i+<span class="number">1</span>))</span><br><span class="line">            self._one_iteration(input_vecs, labels, rate)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_one_iteration</span><span class="params">(self, input_vecs, labels, rate)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        iteration</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        samples = zip(input_vecs, labels)</span><br><span class="line">        <span class="keyword">for</span> (input_vec, label) <span class="keyword">in</span> samples:</span><br><span class="line">            output = self.predict(input_vec)</span><br><span class="line">            self._update_weights(input_vec, output, label, rate)</span><br><span class="line">            print(input_vec, output, label)</span><br><span class="line">            print(self)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_update_weights</span><span class="params">(self, input_vec, output, label, rate)</span>:</span></span><br><span class="line">        <span class="string">'''</span></span><br><span class="line"><span class="string">        update weights</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">        delta = label - output</span><br><span class="line">        self.weights = list(map(</span><br><span class="line">            <span class="keyword">lambda</span> x_w: x_w[<span class="number">1</span>] + rate * delta * x_w[<span class="number">0</span>],</span><br><span class="line">            zip(input_vec, self.weights)))</span><br><span class="line">        self.bias += rate * delta</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end class definition----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------main function----------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    p = Perceptron(<span class="number">3</span>, f)</span><br><span class="line">    input_vecs = [[<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [</span><br><span class="line">        <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]]</span><br><span class="line">    labels = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    p.train(input_vecs, labels, <span class="number">10</span>, <span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> x, y, z <span class="keyword">in</span> input_vecs:</span><br><span class="line">        print(<span class="string">'input: %d %d %d predict: %d'</span> % (x, y, z, p.predict([x, y, z])))</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end main function----------</span></span><br></pre></td></tr></table></figure><script src="https://unpkg.com/viz.js@2.1.2/viz.js"></script><script src="https://unpkg.com/viz.js@2.1.2/full.render.js"></script><textarea id="graphviz-0-code" style="display: none">digraph G {    node[shape=circle,style=filled,color=green];    "x" -> "âˆ‘"[label="0"]    "y" -> "âˆ‘"[label="0"]    "z" -> "âˆ‘"[label="0"]    "âˆ‘" -> "o"[label="Î¸ = 0.0"]}</textarea><script>  var viz = new Viz();  var code = document.getElementById("graphviz-0-code").value;  viz.renderSVGElement(code)  .then(function(element) {    document.getElementById("graphviz-0").append(element)  });</script><textarea id="graphviz-1-code" style="display: none">digraph G {    node[shape=circle,style=filled,color=green];    "x" -> ""[label="0.1"]    "y" -> ""[label="-0.1"]    "z" -> ""[label="-0.1"]    "" -> "o"[label="Î¸ = 0.0"]}</textarea><script>  var viz = new Viz();  var code = document.getElementById("graphviz-1-code").value;  viz.renderSVGElement(code)  .then(function(element) {    document.getElementById("graphviz-1").append(element)  });</script><textarea id="graphviz-2-code" style="display: none">digraph G {    node[shape=circle,style=filled,color=green];    "x" -> ""[label="0.1"]    "y" -> ""[label="-0.1"]    "z" -> ""[label="-0.1"]    "" -> "o"[label="Î¸ = 0.0"]}</textarea><script>  var viz = new Viz();  var code = document.getElementById("graphviz-2-code").value;  viz.renderSVGElement(code)  .then(function(element) {    document.getElementById("graphviz-2").append(element)  });</script>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computational intelligence </tag>
            
            <tag> artificial neural network </tag>
            
            <tag> perceptron </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 Computational Intelligence Homework No.4</title>
      <link href="/blog/2018/11/25/2018-computational-intelligence-homework-no.4/"/>
      <url>/blog/2018/11/25/2018-computational-intelligence-homework-no.4/</url>
      
        <content type="html"><![CDATA[<h1 id="å¤šå°ºåº¦ååŒå˜å¼‚çš„ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•"><a class="header-anchor" href="#å¤šå°ºåº¦ååŒå˜å¼‚çš„ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•">#</a>å¤šå°ºåº¦ååŒå˜å¼‚çš„ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•</h1><h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>å®ç°æ–‡ã€Šä¸€ç§å¤šå°ºåº¦ååŒå˜å¼‚çš„ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•ã€‹<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>çš„æµ‹è¯•å®éªŒã€‚</p><a id="more"></a><h2 id="ç®—æ³•è®¾è®¡"><a class="header-anchor" href="#ç®—æ³•è®¾è®¡">#</a>ç®—æ³•è®¾è®¡</h2><p>â€ƒâ€ƒç²’å­ç¾¤ç®—æ³•(Particle Swarm Optimizerï¼ŒPSO)æ˜¯ç”±Kennedyå’ŒEberhartåšå£«æå‡ºçš„ä¸€ç§åŸºäºç¾¤ä½“æ™ºèƒ½çš„ä¼˜åŒ–ç®—æ³•, å…¶åŸºæœ¬æ€æƒ³æ˜¯å—åˆ°ä»–ä»¬æ—©æœŸå¯¹è®¸å¤šé¸Ÿç±»çš„ç¾¤ä½“è¡Œä¸ºè¿›è¡Œå»ºæ¨¡ä¸ä»¿çœŸç ”ç©¶çš„å¯å‘. ç²’å­ç¾¤ç®—æ³•çš„ä¼˜åŠ¿åœ¨äºå…¶ç®€å•å®¹æ˜“å®ç°,æ²¡æœ‰å¾ˆå¤šå‚æ•°éœ€è¦è°ƒæ•´,æ˜¯éçº¿æ€§è¿ç»­ä¼˜åŒ–é—®é¢˜ã€ç»„åˆä¼˜åŒ–é—®é¢˜å’Œæ··åˆæ•´æ•°éçº¿æ€§ä¼˜åŒ–é—®é¢˜çš„æœ‰æ•ˆä¼˜åŒ–å·¥å…·. ç”±äºPSOç®—æ³•æ¦‚å¿µç®€å•ã€å®ç°å®¹æ˜“ï¼Œåœ¨å‡½æ•°ä¼˜åŒ–å’Œç¥ç»ç½‘ç»œæƒå€¼è®­ç»ƒç­‰æ–¹é¢éƒ½æœ‰å¾ˆå¥½çš„è¡¨ç°. ç”±äºå…¶åˆå…·æœ‰æ·±åˆ»çš„æ™ºèƒ½èƒŒæ™¯ï¼Œæ—¢é€‚åˆç§‘å­¦ç ”ç©¶ï¼Œåˆç‰¹åˆ«é€‚äºå·¥ç¨‹åº”ç”¨, å› æ­¤åœ¨è¿‘å¹´æ¥å¾—åˆ°äº†é£é€Ÿçš„å‘å±•. å…¶åº”ç”¨æ¶‰åŠç³»ç»Ÿæ§åˆ¶ã€äººå·¥æ™ºèƒ½ã€æ¨¡å¼è¯†åˆ«ã€è®¡ç®—æœºã€é€šä¿¡å·¥ç¨‹ç­‰å„ä¸ªé¢†åŸŸ. ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•é—®ä¸–ä»¥æ¥å—åˆ°äº†å¹¿æ³›çš„é‡è§†, ç»è¿‡åå‡ å¹´çš„ç ”ç©¶, å…¶ä¸è®ºåœ¨åº”ç”¨æ–¹é¢è¿˜æ˜¯åœ¨ä¼˜åŒ–æ€§èƒ½æ–¹é¢éƒ½å¾—åˆ°äº†å¾ˆå¤§çš„å‘å±•. ç„¶è€Œ, ç ”ç©¶äººå‘˜ä»ç„¶æ— æ³•è§£å†³ä¸€ç›´å›°æ‰°è¯¥ç®—æ³•çš„ä¸¤ä¸ªéš¾é¢˜: æ—©ç†Ÿå’Œæ”¶æ•›é€Ÿåº¦æ…¢.<br>â€ƒâ€ƒæ–‡ä¸­æå‡ºä¸€ç§å¤šå°ºåº¦ååŒå˜å¼‚çš„å¾®ç²’ç¾¤ç®—æ³•(MAEPSO). è¯¥ç®—æ³•åˆ©ç”¨ä¸åŒå¤§å°æ–¹å·®çš„é«˜æ–¯å˜å¼‚æœºåˆ¶å®ç°è§£ç©ºé—´çš„æ¢ç´¢, è¿™ç§å¤šä¸ªæˆ–å¤§æˆ–å°çš„å˜å¼‚æœºåˆ¶, èƒ½ä¿ƒä½¿æ•´ä¸ªç§ç¾¤ä»¥å°½é‡åˆ†æ•£çš„å˜å¼‚å°ºåº¦æ¥å¯¹è§£ç©ºé—´è¿›è¡Œæ›´åŠ è¯¦å°½çš„æ¢ç´¢. åŒæ—¶é«˜æ–¯å˜å¼‚çš„èŒƒå›´éšç€é€‚åº”å€¼çš„å˜å°ä¹Ÿé€æ¸é™ä½, åœ¨ç®—æ³•åæœŸæœ‰åˆ©äºæé«˜æœ€ä¼˜è§£çš„ç²¾åº¦; åœ¨åˆ©ç”¨ä¸åŒå¤§å°å˜å¼‚ç®—å­æé«˜å±€éƒ¨ç²¾ç¡®æœç´¢èƒ½åŠ›çš„åŒæ—¶, è¯¥ç®—æ³•åŒæ ·åˆ©ç”¨å‡åŒ€ç®—å­ç»´æŠ¤ç§ç¾¤å¤šæ ·æ€§. åˆ©ç”¨è¯•éªŒå¯¹ä¸åŒè¯„æµ‹å‡½æ•°è¿›è¡Œæµ‹è¯•å‡éªŒè¯æ–°ç®—æ³•ä¼˜è‰¯çš„ä¼˜åŒ–æ€§èƒ½.</p><h3 id="é€Ÿåº¦æ›´æ–°"><a class="header-anchor" href="#é€Ÿåº¦æ›´æ–°">#</a>é€Ÿåº¦æ›´æ–°</h3><p>â€ƒâ€ƒé€Ÿåº¦æ›´æ–°çš„å…¬å¼ä¸º:</p><span>$$v_{id}(t+1)=w&times;v_{id}(t) + c_1&times;r_1&times;(p_{id}(t)&minus;x_{id}(t)) \\\ + c_2&times;r_2&times;(p_{gd}(t)&minus;x_{id}(t))\tag{1}$$</span><!-- Has MathJax --><h3 id="ä½ç½®æ›´æ–°"><a class="header-anchor" href="#ä½ç½®æ›´æ–°">#</a>ä½ç½®æ›´æ–°</h3><p>â€ƒâ€ƒä½ç½®æ›´æ–°çš„å…¬å¼ä¸º:</p><span>$$x_{id}(t+1) = x_{id}(t) + v_{id}(t+1)\tag{2}$$</span><!-- Has MathJax --><h3 id="å¤šå°ºåº¦é«˜æ–¯å˜å¼‚ç®—å­"><a class="header-anchor" href="#å¤šå°ºåº¦é«˜æ–¯å˜å¼‚ç®—å­">#</a>å¤šå°ºåº¦é«˜æ–¯å˜å¼‚ç®—å­</h3><p>â€ƒâ€ƒè®¾å°ºåº¦ä¸ªæ•°ä¸º$M$, é¦–å…ˆåˆå§‹åŒ–å¤šå°ºåº¦é«˜æ–¯å˜å¼‚ç®—å­çš„åˆå§‹æ–¹å·®</p><span>$$\sigma^{(0)} = (\sigma_1^{(0)},\sigma_2^{(0)},\cdots,\sigma_M^{(0)})\tag{3}$$</span><!-- Has MathJax --><p>â€ƒâ€ƒåˆå§‹æ—¶, æ–¹å·®ä¸€èˆ¬è®¾å®šä¸ºä¼˜åŒ–å˜é‡çš„å–å€¼èŒƒå›´, éšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ , å¤šå°ºåº¦é«˜æ–¯å˜å¼‚ç®—å­çš„æ–¹å·®ä¼šéšä¹‹è¿›è¡Œè°ƒæ•´, å…·ä½“è°ƒæ•´æ–¹å¼å¦‚ä¸‹æ‰€ç¤º, é¦–å…ˆæ ¹æ®é€‚åº”å€¼çš„å¤§å°å¯¹ç§ç¾¤ä¸­çš„å¾®ç²’è¿›è¡Œç”±å°åˆ°å¤§æ’åº, ç„¶åå¯¹å…¶è¿›è¡Œç»„åˆ, ç”Ÿæˆ$M$ä¸ªå­ç¾¤, æ¯ä¸€ä¸ªå­ç¾¤çš„å¾®ç²’ä¸ªæ•°ä¸º$P = N / M $, $K$æ˜¯å½“å‰è¿­ä»£æ¬¡æ•°, è®¡ç®—æ¯ä¸€ä¸ªå­ç¾¤çš„é€‚åº”åº¦:</p><span>$$FitX_m^{(K)} = \sum_{i=1}^Pf(x_i^m) / P,m = 1,2,\cdots,M\tag{4}$$</span><!-- Has MathJax --><p>â€ƒâ€ƒå…¶ä¸­$f$æ˜¯å¾®ç²’çš„é€‚åº”å€¼è®¡ç®—å‡½æ•°, ä¸åŒå˜å¼‚å°ºåº¦ä¹‹é—´ç›¸äº’ç«äº‰, æ ¹æ®é€‚åº”èƒ½åŠ›çš„ä¸åŒè€Œè®¾ç½®ä¸åŒçš„å˜å¼‚èƒ½åŠ›, å› æ­¤ç¬¬$m$ä¸ªå˜å¼‚ç®—å­çš„æ ‡å‡†å·®ä¸º:</p><span>$$\sigma_m^{(K)} = \sigma_m^{(K-1)} exp(\frac{M\cdot FitX_m^{(K)} - \sum_{m=1}^MFitX_m^{(K)}}{FitX_{max} - FitX_{min}})\tag{5}$$</span><!-- Has MathJax --><span>$$FitX_{max} = max(FitX_1^{(K)},FitX_2^{(K)},\cdots,FitX_M^{(K)})\tag{6}$$</span><!-- Has MathJax --><span>$$FitX_{min} = min(FitX_1^{(K)},FitX_2^{(K)},\cdots,FitX_M^{(K)})\tag{7}$$</span><!-- Has MathJax --><p>ç”±äºå˜å¼‚ç®—å­çš„è¿›åŒ–æ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹, æ’åœ¨åé¢çš„å˜å¼‚ç®—å­å¯èƒ½å¾ˆå¤§, å› æ­¤å¯¹å˜å¼‚ç®—å­çš„æ ‡å‡†å·®åšå¦‚ä¸‹è§„èŒƒ: å¦‚æœ$\sigma_i^{(k)} &gt;W/4$, åˆ™</p><span>$$\sigma_i^{(k)} = \vert W/4 - \sigma_i^{(k)} \vert\tag{8}$$</span><!-- Has MathJax --><p>$W$ä¸ºå¾…ä¼˜åŒ–å˜é‡ç©ºé—´çš„å®½åº¦, é‡å¤ä½¿ç”¨ä¸Šå¼, ç›´åˆ°æ»¡è¶³$\sigma_i^{(k)} &lt; W/4$. ä¸ºäº†èƒ½æœ€å¤§èŒƒå›´çš„å®ç°ç©ºé—´å‹˜æ¢$i$èƒ½åŠ›, åœ¨è¿›è¡Œå®Œå¤šå°ºåº¦é«˜æ–¯å˜å¼‚å, åŒæ—¶è¿›è¡Œä¸€æ¬¡å‡åŒ€å˜å¼‚æ“ä½œ, æ¯”è¾ƒåå–æ‰€æœ‰å˜å¼‚åé€‚åº”å€¼æœ€å¥½çš„ä½ç½®ä½œä¸ºæ–°çš„é€ƒé€¸ç‚¹, å‡åŒ€å˜å¼‚ç®—å­å®ç°åŒ<code>å¼(9)</code>.é€šè¿‡å¤šå°ºåº¦å˜å¼‚ç®—å­èƒ½å®ç°æ•´ä¸ªæœç´¢ç©ºé—´çš„è¦†ç›–, å…¶ä¸­å¤§å°ºåº¦æœ‰åˆ©äºå®ç°è§£ç©ºé—´çš„ç²—æœç´¢, å¯ä»¥å¿«é€Ÿå®šä½åˆ°æœ€ä¼˜è§£åŒºåŸŸ, å°å°ºåº¦èƒ½åœ¨è¿›åŒ–åæœŸå®ç°å±€éƒ¨ç²¾ç¡®è§£çš„æœç´¢.</p><span>$$If \quad (v_{id} &lt; T_d ) \quad then \quad v_{id} = rand &times; V_{max}\tag{9}$$</span><!-- Has MathJax --><h2 id="ç¨‹åºæµç¨‹"><a class="header-anchor" href="#ç¨‹åºæµç¨‹">#</a>ç¨‹åºæµç¨‹</h2><p>ç¨‹åºæµç¨‹å¦‚<code>å›¾1</code>æ‰€ç¤º</p><center><div id="flowchart-0" class="flow-chart"></div><p>å›¾1 ç¨‹åºæµç¨‹å›¾</p></center><h2 id="ä»£ç è¿è¡ŒåŠæµ‹è¯•"><a class="header-anchor" href="#ä»£ç è¿è¡ŒåŠæµ‹è¯•">#</a>ä»£ç è¿è¡ŒåŠæµ‹è¯•</h2><p>ä»£ç è¿è¡Œç»“æœå¦‚<code>è¡¨1</code>æ‰€ç¤º.</p><center>è¡¨1: è¿è¡Œç»“æœ</center><table><thead><tr><th style="text-align:center">function</th><th style="text-align:center">min</th><th style="text-align:center">max</th><th style="text-align:center">mean</th><th style="text-align:center">derivation</th></tr></thead><tbody><tr><td style="text-align:center">Tablet</td><td style="text-align:center">1.7048e<sup>-25</sup></td><td style="text-align:center">1.8725e<sup>-13</sup></td><td style="text-align:center">2.4511e<sup>-14</sup></td><td style="text-align:center">3.3659e<sup>-27</sup></td></tr><tr><td style="text-align:center">Quadric</td><td style="text-align:center">4.6845e<sup>-24</sup></td><td style="text-align:center">2.1658e<sup>-13</sup></td><td style="text-align:center">1.5153e<sup>-14</sup></td><td style="text-align:center">2.4005e<sup>-27</sup></td></tr><tr><td style="text-align:center">Rosenbrock</td><td style="text-align:center">24.6117</td><td style="text-align:center">35.1629</td><td style="text-align:center">27.9979</td><td style="text-align:center">13.0007</td></tr><tr><td style="text-align:center">Griewank</td><td style="text-align:center">0</td><td style="text-align:center">9.7511e<sup>-13</sup></td><td style="text-align:center">1.1072e<sup>-13</sup></td><td style="text-align:center">9.2515e<sup>-26</sup></td></tr><tr><td style="text-align:center">Rastrigin</td><td style="text-align:center">0</td><td style="text-align:center">0.9950</td><td style="text-align:center">0.0995</td><td style="text-align:center">0.0990</td></tr><tr><td style="text-align:center">Schaffer</td><td style="text-align:center">0.0797</td><td style="text-align:center">0.3685</td><td style="text-align:center">0.1838</td><td style="text-align:center">0.0099</td></tr></tbody></table><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h2><p>è®ºæ–‡æå‡ºä¸€ç§æ–°çš„å¤šå°ºåº¦ååŒå˜å¼‚çš„å¾®ç²’ç¾¤ç®—æ³•, åˆ©ç”¨ä¸åŒå¤§å°åˆå§‹æ–¹å·®çš„é«˜æ–¯å˜å¼‚æœºåˆ¶å®ç°è§£ç©ºé—´çš„æ¢ç´¢, è¿™ç§å¤šä¸ªæˆ–å¤§æˆ–å°çš„å˜å¼‚æœºåˆ¶, èƒ½ä¿ƒä½¿æ•´ä¸ªç§ç¾¤ä»¥å°½é‡åˆ†æ•£çš„å˜å¼‚å°ºåº¦æ¥å¯¹è§£ç©ºé—´è¿›è¡Œæ›´åŠ è¯¦å°½çš„æ¢ç´¢. åŒæ—¶é«˜æ–¯å˜å¼‚çš„èŒƒå›´éšç€é€‚åº”å€¼çš„å˜å°ä¹Ÿé€æ¸é™ä½, æœ‰åˆ©äºæé«˜æœ€ä¼˜è§£çš„ç²¾åº¦; åœ¨åˆ©ç”¨ä¸åŒå¤§å°å˜å¼‚ç®—å­æé«˜å±€éƒ¨ç²¾ç¡®æœç´¢èƒ½åŠ›çš„åŒæ—¶, è¯¥ç®—æ³•åŒæ ·åˆ©ç”¨å‡åŒ€å˜å¼‚ç®—å­ç»´æŠ¤ç§ç¾¤å¤šæ ·æ€§. é€šè¿‡6ä¸ªbenchmark æ•°æ®è¿›è¡Œæµ‹è¯•, å®éªŒç»“æœè¡¨æ˜æ–°ç®—æ³•èƒ½å¤Ÿåœ¨ç®—æ³•åˆæœŸå°±èƒ½å¤Ÿå¿«é€Ÿå®šä½åˆ°æœç´¢ç©ºé—´çš„æœ€ä¼˜è§£åŒºåŸŸ, è¿›è€Œä½¿å¾—å¾®ç²’é€šè¿‡è¿›åŒ–PSOåŠå°å°ºåº¦å˜å¼‚ç®—å­å‘ç€æœ€ä¼˜ç²¾ç¡®è§£ç©ºé—´é€¼è¿‘, ä½¿å…¶åœ¨è¿›åŒ–è¿‡ç¨‹ä¸­ä¿æŒå±€éƒ¨æœ€ä¼˜è§£ç©ºé—´å¼€é‡‡çš„èƒ½åŠ›, åŠ å¿«äº†ç®—æ³•çš„æ”¶æ•›é€Ÿåº¦.</p><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: éšæœºåˆå§‹åŒ–æ¯ä¸ªç²’å­op1=>operation: è¯„ä¼°æ¯ä¸ªç²’å­å¹¶å¾—åˆ°å…¨å±€æœ€ä¼˜op2=>operation: æ›´æ–°æ¯ä¸ªç²’å­çš„é€Ÿåº¦å’Œä½ç½®op3=>operation: è¯„ä¼°æ¯ä¸ªç²’å­çš„å‡½æ•°é€‚åº”å€¼op4=>operation: æ›´æ–°æ¯ä¸ªç²’å­å†å²æœ€ä¼˜ä½ç½®op5=>operation: æ›´æ–°ç¾¤ä½“çš„å…¨å±€æœ€ä¼˜ä½ç½®cond1=>condition: ç»ˆæ­¢åˆ¤æ®æ˜¯å¦æ»¡è¶³?e1=>end: ç®—æ³•ç»“æŸst->op1->cond1cond1(no, bottom)->op2->op3->op4->op5->cond1cond1(yes)->e1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="http://www.cnki.com.cn/Article/CJFDTotal-RJXB201207015.htm" target="_blank" rel="noopener">ä¸€ç§å¤šå°ºåº¦ååŒå˜å¼‚çš„ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computational intelligence </tag>
            
            <tag> TSP </tag>
            
            <tag> GA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 Computational Intelligence Homework No.3</title>
      <link href="/blog/2018/11/23/2018-computational-intelligence-homework-no.3/"/>
      <url>/blog/2018/11/23/2018-computational-intelligence-homework-no.3/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”¨-ga-ç®—æ³•æ±‚è§£æ—…è¡Œå•†é—®é¢˜"><a class="header-anchor" href="#ç”¨-ga-ç®—æ³•æ±‚è§£æ—…è¡Œå•†é—®é¢˜">#</a>ç”¨ GA ç®—æ³•æ±‚è§£æ—…è¡Œå•†é—®é¢˜</h1><h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>æ—…è¡Œå•†é—®é¢˜(Travelling Salesman Problem, ç®€è®° TSP, äº¦ç§°è´§éƒæ‹…é—®é¢˜): è®¾æœ‰ 34 ä¸ªåŸå¸‚åŠå…¶å¯¹åº”çš„ç»çº¬åº¦åæ ‡, åˆ™é—®é¢˜æ˜¯è¦æ‰¾å‡ºéè®¿æ¯ä¸ªåŸå¸‚æ°å¥½ä¸€æ¬¡çš„ä¸€æ¡å›è·¯å¹¶ä½¿å…¶è·¯å¾„é•¿åº¦ä¸ºæœ€çŸ­.</p><a id="more"></a><h2 id="ç®—æ³•è®¾è®¡"><a class="header-anchor" href="#ç®—æ³•è®¾è®¡">#</a>ç®—æ³•è®¾è®¡</h2><p>é—ä¼ ç®—æ³•æ˜¯æ¨¡æ‹Ÿè¾¾å°”æ–‡ç”Ÿç‰©è¿›åŒ–è®ºçš„è‡ªç„¶é€‰æ‹©å’Œé—ä¼ å­¦æœºç†çš„ç”Ÿç‰©è¿›åŒ–è¿‡ç¨‹çš„è®¡ç®—æ¨¡å‹ï¼Œæ˜¯ä¸€ç§é€šè¿‡æ¨¡æ‹Ÿè‡ªç„¶è¿›åŒ–è¿‡ç¨‹æœç´¢æœ€ä¼˜è§£çš„æ–¹æ³•ã€‚é—ä¼ ç®—æ³•æ˜¯ä»ä»£è¡¨é—®é¢˜å¯èƒ½æ½œåœ¨çš„è§£é›†çš„ä¸€ä¸ªç§ç¾¤å¼€å§‹çš„ï¼Œè€Œä¸€ä¸ªç§ç¾¤åˆ™ç”±ç»è¿‡åŸºå› ç¼–ç çš„ä¸€å®šæ•°ç›®çš„ä¸ªä½“ç»„æˆã€‚æ¯ä¸ªä¸ªä½“å®é™…ä¸Šæ˜¯æŸ“è‰²ä½“å¸¦æœ‰ç‰¹å¾çš„å®ä½“ã€‚æŸ“è‰²ä½“ä½œä¸ºé—ä¼ ç‰©è´¨çš„ä¸»è¦è½½ä½“ï¼Œå³å¤šä¸ªåŸºå› çš„é›†åˆï¼Œå…¶å†…éƒ¨è¡¨ç°(å³åŸºå› å‹)æ˜¯æŸç§åŸºå› ç»„åˆï¼Œå®ƒå†³å®šäº†ä¸ªä½“çš„å½¢çŠ¶çš„å¤–éƒ¨è¡¨ç°ï¼Œå¦‚é»‘å¤´å‘çš„ç‰¹å¾æ˜¯ç”±æŸ“è‰²ä½“ä¸­æ§åˆ¶è¿™ä¸€ç‰¹å¾çš„æŸç§åŸºå› ç»„åˆå†³å®šçš„ã€‚å› æ­¤ï¼Œåœ¨ä¸€å¼€å§‹éœ€è¦å®ç°ä»è¡¨ç°å‹åˆ°åŸºå› å‹çš„æ˜ å°„å³ç¼–ç å·¥ä½œã€‚ç”±äºä»¿ç…§åŸºå› ç¼–ç çš„å·¥ä½œå¾ˆå¤æ‚ï¼Œæˆ‘ä»¬å¾€å¾€è¿›è¡Œç®€åŒ–ï¼Œå¦‚äºŒè¿›åˆ¶ç¼–ç ï¼Œåˆä»£ç§ç¾¤äº§ç”Ÿä¹‹åï¼ŒæŒ‰ç…§é€‚è€…ç”Ÿå­˜å’Œä¼˜èƒœåŠ£æ±°çš„åŸç†ï¼Œé€ä»£æ¼”åŒ–äº§ç”Ÿå‡ºè¶Šæ¥è¶Šå¥½çš„è¿‘ä¼¼è§£ï¼Œåœ¨æ¯ä¸€ä»£ï¼Œæ ¹æ®é—®é¢˜åŸŸä¸­ä¸ªä½“çš„é€‚åº”åº¦å¤§å°é€‰æ‹©ä¸ªä½“ï¼Œå¹¶å€ŸåŠ©äºè‡ªç„¶é—ä¼ å­¦çš„é—ä¼ ç®—å­è¿›è¡Œç»„åˆäº¤å‰å’Œå˜å¼‚ï¼Œäº§ç”Ÿå‡ºä»£è¡¨æ–°çš„è§£é›†çš„ç§ç¾¤ã€‚è¿™ä¸ªè¿‡ç¨‹å°†å¯¼è‡´ç§ç¾¤åƒè‡ªç„¶è¿›åŒ–ä¸€æ ·çš„åç”Ÿä»£ç§ç¾¤æ¯”å‰ä»£æ›´åŠ é€‚åº”äºç¯å¢ƒï¼Œæœ«ä»£ç§ç¾¤ä¸­çš„æœ€ä¼˜ä¸ªä½“ç»è¿‡è§£ç ï¼Œå¯ä»¥ä½œä¸ºé—®é¢˜è¿‘ä¼¼æœ€ä¼˜è§£ã€‚<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h3 id="ä¸ªä½“é€‚åº”æ€§"><a class="header-anchor" href="#ä¸ªä½“é€‚åº”æ€§">#</a>ä¸ªä½“é€‚åº”æ€§</h3><p>é—ä¼ ç®—æ³•ä¸­çš„é€‚åº”æ€§åœ¨æ—…è¡Œå•†é—®é¢˜ä¸­å¯¹åº”çš„æ˜¯èµ°è¿‡æ‰€æœ‰çš„ç‚¹çš„è·ç¦»ä¹‹å’Œï¼Œè·ç¦»è¶Šå°åˆ™æ‰€ä»£è¡¨çš„é€‚åº”æ€§è¶Šå¼ºã€‚</p><h3 id="dna-ç¼–ç "><a class="header-anchor" href="#dna-ç¼–ç ">#</a>DNA ç¼–ç </h3><p>ç¼–ç æ˜¯åº”ç”¨é—ä¼ ç®—æ³•æ—¶è¦è§£å†³çš„é¦–è¦é—®é¢˜ï¼Œä¹Ÿæ˜¯è®¾è®¡é—ä¼ ç®—æ³•æ—¶çš„ä¸€ä¸ªå…³é”®æ­¥éª¤ã€‚ç¼–ç æ–¹æ³•å½±å“åˆ°äº¤å‰ç®—å­ã€å˜å¼‚ç®—å­ç­‰é—ä¼ ç®—å­çš„è¿ç®—æ–¹æ³•ï¼Œå¤§å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†é—ä¼ è¿›åŒ–çš„æ•ˆç‡ã€‚åœ¨æ—…è¡Œå•†é—®é¢˜ä¸­çš„ DNA ç¼–ç æ–¹å¼æ˜¯<code>äºŒè¿›åˆ¶ç¼–ç </code>æ–¹å¼ï¼Œå…·ä½“æ˜¯å°†åæ ‡åˆ†åˆ«æ”¾å…¥ä¸¤æ¡ DNA ä¸­ï¼Œå½¢æˆ<code>x</code>å’Œ<code>y</code>ä¸¤æ¡ DNAï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x:</span><br><span class="line">[<span class="number">121.47</span> <span class="number">115.85</span> <span class="number">117.25</span> <span class="number">108.93</span> <span class="number">106.55</span> <span class="number">112.55</span> <span class="number">114.52</span> <span class="number">121.52</span> <span class="number">108.37</span>  <span class="number">91.13</span></span><br><span class="line">  <span class="number">87.62</span> <span class="number">106.63</span> <span class="number">111.73</span> <span class="number">101.78</span> <span class="number">119.3</span>  <span class="number">114.3</span>  <span class="number">125.32</span> <span class="number">116.4</span>  <span class="number">117.2</span>  <span class="number">116.98</span></span><br><span class="line"> <span class="number">118.78</span> <span class="number">113.62</span> <span class="number">114.17</span> <span class="number">113.27</span> <span class="number">108.37</span> <span class="number">123.43</span> <span class="number">120.15</span> <span class="number">113.55</span> <span class="number">102.72</span> <span class="number">104.07</span></span><br><span class="line"> <span class="number">112.93</span> <span class="number">103.82</span> <span class="number">106.28</span> <span class="number">126.53</span>]</span><br><span class="line">y:</span><br><span class="line">[<span class="number">31.23</span> <span class="number">28.68</span> <span class="number">31.83</span> <span class="number">34.27</span> <span class="number">29.57</span> <span class="number">37.87</span> <span class="number">38.05</span> <span class="number">25.03</span> <span class="number">22.82</span> <span class="number">29.65</span> <span class="number">43.82</span> <span class="number">26.65</span></span><br><span class="line"> <span class="number">40.83</span> <span class="number">36.62</span> <span class="number">26.08</span> <span class="number">30.6</span>  <span class="number">43.9</span>  <span class="number">39.9</span>  <span class="number">39.12</span> <span class="number">36.67</span> <span class="number">32.07</span> <span class="number">34.75</span> <span class="number">22.28</span> <span class="number">23.13</span></span><br><span class="line"> <span class="number">22.82</span> <span class="number">41.8</span>  <span class="number">30.28</span> <span class="number">22.19</span> <span class="number">25.05</span> <span class="number">30.67</span> <span class="number">28.23</span> <span class="number">36.07</span> <span class="number">38.47</span> <span class="number">45.8</span>]</span><br></pre></td></tr></table></figure><h3 id="é€‚è€…ç”Ÿå­˜-selection"><a class="header-anchor" href="#é€‚è€…ç”Ÿå­˜-selection">#</a>é€‚è€…ç”Ÿå­˜ (selection)</h3><p>é€šè¿‡ä¸ªä½“é€‚åº”æ€§æ¥æŒ‘é€‰ï¼Œé€‚åº”æ€§è¶Šé«˜(å³è·ç¦»è¶Šå°)å°±è¶Šå¯èƒ½è¢«é€‰åˆ°ã€‚</p><h3 id="äº¤å‰é…å¯¹-crossover"><a class="header-anchor" href="#äº¤å‰é…å¯¹-crossover">#</a>äº¤å‰é…å¯¹ (crossover)</h3><p>åœ¨æ—…è¡Œå•†é—®é¢˜ä¸­ï¼Œäº¤å‰é…å¯¹ä¸èƒ½é€šè¿‡ç®€å•çš„ä»çˆ¶æ¯çš„ DNA ä¸­å–ä¸€åŠæ¥å®Œæˆï¼Œè¿™æ ·ä¼šäº§ç”Ÿé‡å¤ç‚¹ã€‚<br>æ›¿ä»£åŠæ³•æ˜¯å°†çˆ¶ä»£çš„ DNA ä¸­é€‰å–çš„ç‚¹å¾—åˆ°åæŒ‰é¡ºåºæ”¾ç½®åˆ°æ–° DNA çš„å‰åŠéƒ¨ï¼Œç„¶åå†ä»æ¯ä»£çš„ DNA ä¸­é€‰å–å‰©ä¸‹çš„ç‚¹ï¼Œæ”¾åˆ°æ–° DNA çš„ååŠéƒ¨ã€‚</p><h3 id="å˜å¼‚-mutation"><a class="header-anchor" href="#å˜å¼‚-mutation">#</a>å˜å¼‚ (mutation)</h3><p>åœ¨æ—…è¡Œå•†é—®é¢˜ä¸­ï¼Œå˜å¼‚åªéœ€è¦éšæœºäº¤æ¢ä¸¤ä¸ªç‚¹çš„ä½ç½®å³å¯ã€‚</p><h2 id="ç¨‹åºæµç¨‹"><a class="header-anchor" href="#ç¨‹åºæµç¨‹">#</a>ç¨‹åºæµç¨‹</h2><p>ç¨‹åºæµç¨‹å¦‚<code>å›¾1</code>æ‰€ç¤º</p><center><div id="flowchart-0" class="flow-chart"></div><p>å›¾ 1 ç¨‹åºæµç¨‹å›¾</p></center><h2 id="æ ¸å¿ƒä¼ªä»£ç "><a class="header-anchor" href="#æ ¸å¿ƒä¼ªä»£ç ">#</a>æ ¸å¿ƒä¼ªä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿­ä»£N_GENERATIONSæ¬¡</span></span><br><span class="line"><span class="keyword">for</span> generation <span class="keyword">in</span> range(N_GENERATIONS):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†åŸå¸‚åæ ‡è½¬æ¢ä¸ºDNA</span></span><br><span class="line">    lx, ly = translateDNA(pop, CITIES)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—ä¸ªä½“é€‚åº”æ€§</span></span><br><span class="line">    fitness, total_distance = get_fitness(lx, ly)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é€‚è€…ç”Ÿå­˜</span></span><br><span class="line">    pop = select(fitness)</span><br><span class="line">    pop_copy = pop.copy()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹äºç§ç¾¤ä¸­çš„æ¯ä¸€ä¸ªçˆ¶æ¯ä»£</span></span><br><span class="line">    <span class="keyword">for</span> parent <span class="keyword">in</span> pop:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ‚äº¤</span></span><br><span class="line">        child = crossover(parent, pop_copy)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å˜å¼‚</span></span><br><span class="line">        child = mutate(child)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åŠ å…¥åˆ°æ–°ç§ç¾¤ä¸­</span></span><br><span class="line">        parent[:] = child</span><br></pre></td></tr></table></figure><h2 id="ä»£ç è¿è¡ŒåŠæµ‹è¯•"><a class="header-anchor" href="#ä»£ç è¿è¡ŒåŠæµ‹è¯•">#</a>ä»£ç è¿è¡ŒåŠæµ‹è¯•</h2><p>é€‰å–çš„å‚æ•°å¦‚<code>è¡¨1</code>æ‰€ç¤º.</p><center>å‚æ•°è¡¨</center><table><thead><tr><th style="text-align:center">å‚æ•°åç§°</th><th style="text-align:center">å‚æ•°å€¼</th></tr></thead><tbody><tr><td style="text-align:center">åŸå¸‚æ•°é‡</td><td style="text-align:center">34</td></tr><tr><td style="text-align:center">åŸå¸‚åæ ‡</td><td style="text-align:center"><a href="#city_list">é™„å½•:åŸå¸‚åæ ‡</a></td></tr><tr><td style="text-align:center">äº¤å‰æ¦‚ç‡</td><td style="text-align:center">0.1</td></tr><tr><td style="text-align:center">å˜å¼‚æ¦‚ç‡</td><td style="text-align:center">0.02</td></tr><tr><td style="text-align:center">ç§ç¾¤è§„æ¨¡</td><td style="text-align:center">1000</td></tr><tr><td style="text-align:center">è¿­ä»£æ¬¡æ•°</td><td style="text-align:center">500</td></tr></tbody></table><p>ä»£ç è¿è¡Œç»“æœå¦‚<code>å›¾2</code>æ‰€ç¤º.</p><center><p><img src="//onns.xyz/blog/image/20181124-1.png" alt="è¿è¡Œç»“æœå›¾"></p><p>å›¾ 2 è¿è¡Œç»“æœå›¾</p></center><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h2><p>34 ä¸ªåŸå¸‚çš„æœ€ç»ˆç»“æœä¸º<code>16434.4730</code>å…¬é‡Œã€‚<br>æ€»å¾—æ¥è¯´é—ä¼ ç®—æ³•è§£å†³æ—…è¡Œå•†é—®é¢˜æ˜¯ç”±è¿ç»­é—®é¢˜å½’çº³åˆ°ç»„åˆé—®é¢˜çš„æ±‚è§£ï¼Œä½¿å¾—ç²¾åº¦å—åˆ°å¾ˆå¤§çš„å½±å“ï¼Œæœ€ç»ˆç»“æœæœ‰æ—¶ä¹Ÿå®¹æ˜“é™·å…¥åˆ°å±€éƒ¨æ—©ç†Ÿè€Œå¯¼è‡´ç»“æœä¸ç†æƒ³ï¼Œä¸è¿‡é—ä¼ ç®—æ³•è¿˜æ˜¯å…·æœ‰è¾ƒå¼ºçš„å…¨å±€æœç´¢èƒ½åŠ›ï¼Œåœ¨è®¡ç®—ç²¾åº¦è¦æ±‚è¾ƒé«˜æ—¶ï¼Œå¯¹è®¡ç®—æ—¶é—´çš„èŠ±è´¹è¾ƒå°‘ã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://morvanzhou.github.io/tutorials/machine-learning/evolutionary-algorithm/2-01-genetic-algorithm/" target="_blank" rel="noopener">é—ä¼ ç®—æ³•</a></li></ul><p style="page-break-before: always"></p><h2 id="é™„å½•"><a class="header-anchor" href="#é™„å½•">#</a>é™„å½•</h2><h3 id="åŸå¸‚åæ ‡"><a class="header-anchor" href="#åŸå¸‚åæ ‡">#</a>åŸå¸‚åæ ‡</h3><center id="city_list">åŸå¸‚åæ ‡è¡¨</center><table><thead><tr><th style="text-align:center">åºå·</th><th style="text-align:center">çœä»½</th><th style="text-align:center">ç»åº¦</th><th style="text-align:center">çº¬åº¦</th></tr></thead><tbody><tr><td style="text-align:center">01</td><td style="text-align:center">åŒ—äº¬</td><td style="text-align:center">116.4</td><td style="text-align:center">39.9</td></tr><tr><td style="text-align:center">02</td><td style="text-align:center">å¤©æ´¥</td><td style="text-align:center">117.2</td><td style="text-align:center">39.12</td></tr><tr><td style="text-align:center">03</td><td style="text-align:center">æ²³åŒ—</td><td style="text-align:center">114.52</td><td style="text-align:center">38.05</td></tr><tr><td style="text-align:center">04</td><td style="text-align:center">å±±è¥¿</td><td style="text-align:center">112.55</td><td style="text-align:center">37.87</td></tr><tr><td style="text-align:center">05</td><td style="text-align:center">å†…è’™å¤</td><td style="text-align:center">111.73</td><td style="text-align:center">40.83</td></tr><tr><td style="text-align:center">06</td><td style="text-align:center">è¾½å®</td><td style="text-align:center">123.43</td><td style="text-align:center">41.8</td></tr><tr><td style="text-align:center">07</td><td style="text-align:center">å‰æ—</td><td style="text-align:center">125.32</td><td style="text-align:center">43.9</td></tr><tr><td style="text-align:center">08</td><td style="text-align:center">é»‘é¾™æ±Ÿ</td><td style="text-align:center">126.53</td><td style="text-align:center">45.8</td></tr><tr><td style="text-align:center">09</td><td style="text-align:center">ä¸Šæµ·</td><td style="text-align:center">121.47</td><td style="text-align:center">31.23</td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">æ±Ÿè‹</td><td style="text-align:center">118.78</td><td style="text-align:center">32.07</td></tr><tr><td style="text-align:center">11</td><td style="text-align:center">æµ™æ±Ÿ</td><td style="text-align:center">120.15</td><td style="text-align:center">30.28</td></tr><tr><td style="text-align:center">12</td><td style="text-align:center">å®‰å¾½</td><td style="text-align:center">117.25</td><td style="text-align:center">31.83</td></tr><tr><td style="text-align:center">13</td><td style="text-align:center">ç¦å»º</td><td style="text-align:center">119.3</td><td style="text-align:center">26.08</td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">æ±Ÿè¥¿</td><td style="text-align:center">115.85</td><td style="text-align:center">28.68</td></tr><tr><td style="text-align:center">15</td><td style="text-align:center">å±±ä¸œ</td><td style="text-align:center">116.98</td><td style="text-align:center">36.67</td></tr><tr><td style="text-align:center">16</td><td style="text-align:center">æ²³å—</td><td style="text-align:center">113.62</td><td style="text-align:center">34.75</td></tr><tr><td style="text-align:center">17</td><td style="text-align:center">æ¹–åŒ—</td><td style="text-align:center">114.3</td><td style="text-align:center">30.6</td></tr><tr><td style="text-align:center">18</td><td style="text-align:center">æ¹–å—</td><td style="text-align:center">112.93</td><td style="text-align:center">28.23</td></tr><tr><td style="text-align:center">19</td><td style="text-align:center">å¹¿ä¸œ</td><td style="text-align:center">113.27</td><td style="text-align:center">23.13</td></tr><tr><td style="text-align:center">20</td><td style="text-align:center">å¹¿è¥¿</td><td style="text-align:center">108.37</td><td style="text-align:center">22.82</td></tr><tr><td style="text-align:center">21</td><td style="text-align:center">æµ·å—</td><td style="text-align:center">108.37</td><td style="text-align:center">22.82</td></tr><tr><td style="text-align:center">22</td><td style="text-align:center">é‡åº†</td><td style="text-align:center">106.55</td><td style="text-align:center">29.57</td></tr><tr><td style="text-align:center">23</td><td style="text-align:center">å››å·</td><td style="text-align:center">104.07</td><td style="text-align:center">30.67</td></tr><tr><td style="text-align:center">24</td><td style="text-align:center">è´µå·</td><td style="text-align:center">106.63</td><td style="text-align:center">26.65</td></tr><tr><td style="text-align:center">25</td><td style="text-align:center">äº‘å—</td><td style="text-align:center">102.72</td><td style="text-align:center">25.05</td></tr><tr><td style="text-align:center">26</td><td style="text-align:center">è¥¿è—</td><td style="text-align:center">91.13</td><td style="text-align:center">29.65</td></tr><tr><td style="text-align:center">27</td><td style="text-align:center">é™•è¥¿</td><td style="text-align:center">108.93</td><td style="text-align:center">34.27</td></tr><tr><td style="text-align:center">28</td><td style="text-align:center">ç”˜è‚ƒ</td><td style="text-align:center">103.82</td><td style="text-align:center">36.07</td></tr><tr><td style="text-align:center">29</td><td style="text-align:center">é’æµ·</td><td style="text-align:center">101.78</td><td style="text-align:center">36.62</td></tr><tr><td style="text-align:center">30</td><td style="text-align:center">å®å¤</td><td style="text-align:center">106.28</td><td style="text-align:center">38.47</td></tr><tr><td style="text-align:center">31</td><td style="text-align:center">æ–°ç–†</td><td style="text-align:center">87.62</td><td style="text-align:center">43.82</td></tr><tr><td style="text-align:center">32</td><td style="text-align:center">å°åŒ—</td><td style="text-align:center">121.52</td><td style="text-align:center">25.03</td></tr><tr><td style="text-align:center">33</td><td style="text-align:center">é¦™æ¸¯</td><td style="text-align:center">114.17</td><td style="text-align:center">22.28</td></tr><tr><td style="text-align:center">34</td><td style="text-align:center">æ¾³é—¨</td><td style="text-align:center">113.55</td><td style="text-align:center">22.19</td></tr></tbody></table><h3 id="é—ä¼ ç®—æ³•ä»£ç "><a class="header-anchor" href="#é—ä¼ ç®—æ³•ä»£ç ">#</a>é—ä¼ ç®—æ³•ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------model import----------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> radians, cos, sin, asin, sqrt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end model import----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------global variables----------</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">@param:</span></span><br><span class="line"><span class="string">    CITIES          the longitude and the latitude of cities</span></span><br><span class="line"><span class="string">    N_CITIES        the number of cities</span></span><br><span class="line"><span class="string">    CROSS_RATE      the rate of cross</span></span><br><span class="line"><span class="string">    MUTATE_RATE     the rate of mutate</span></span><br><span class="line"><span class="string">    POP_SIZE        the size of population</span></span><br><span class="line"><span class="string">    N_GENERATIONS   the number of generations</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">CITIES = np.array([[<span class="number">116.4</span>, <span class="number">39.9</span>],</span><br><span class="line">                   [<span class="number">117.2</span>, <span class="number">39.12</span>],</span><br><span class="line">                   [<span class="number">114.52</span>, <span class="number">38.05</span>],</span><br><span class="line">                   [<span class="number">112.55</span>, <span class="number">37.87</span>],</span><br><span class="line">                   [<span class="number">111.73</span>, <span class="number">40.83</span>],</span><br><span class="line">                   [<span class="number">123.43</span>, <span class="number">41.8</span>],</span><br><span class="line">                   [<span class="number">125.32</span>, <span class="number">43.9</span>],</span><br><span class="line">                   [<span class="number">126.53</span>, <span class="number">45.8</span>],</span><br><span class="line">                   [<span class="number">121.47</span>, <span class="number">31.23</span>],</span><br><span class="line">                   [<span class="number">118.78</span>, <span class="number">32.07</span>],</span><br><span class="line">                   [<span class="number">120.15</span>, <span class="number">30.28</span>],</span><br><span class="line">                   [<span class="number">117.25</span>, <span class="number">31.83</span>],</span><br><span class="line">                   [<span class="number">119.3</span>, <span class="number">26.08</span>],</span><br><span class="line">                   [<span class="number">115.85</span>, <span class="number">28.68</span>],</span><br><span class="line">                   [<span class="number">116.98</span>, <span class="number">36.67</span>],</span><br><span class="line">                   [<span class="number">113.62</span>, <span class="number">34.75</span>],</span><br><span class="line">                   [<span class="number">114.3</span>, <span class="number">30.6</span>],</span><br><span class="line">                   [<span class="number">112.93</span>, <span class="number">28.23</span>],</span><br><span class="line">                   [<span class="number">113.27</span>, <span class="number">23.13</span>],</span><br><span class="line">                   [<span class="number">108.37</span>, <span class="number">22.82</span>],</span><br><span class="line">                   [<span class="number">108.37</span>, <span class="number">22.82</span>],</span><br><span class="line">                   [<span class="number">106.55</span>, <span class="number">29.57</span>],</span><br><span class="line">                   [<span class="number">104.07</span>, <span class="number">30.67</span>],</span><br><span class="line">                   [<span class="number">106.63</span>, <span class="number">26.65</span>],</span><br><span class="line">                   [<span class="number">102.72</span>, <span class="number">25.05</span>],</span><br><span class="line">                   [<span class="number">91.13</span>, <span class="number">29.65</span>],</span><br><span class="line">                   [<span class="number">108.93</span>, <span class="number">34.27</span>],</span><br><span class="line">                   [<span class="number">103.82</span>, <span class="number">36.07</span>],</span><br><span class="line">                   [<span class="number">101.78</span>, <span class="number">36.62</span>],</span><br><span class="line">                   [<span class="number">106.28</span>, <span class="number">38.47</span>],</span><br><span class="line">                   [<span class="number">87.62</span>, <span class="number">43.82</span>],</span><br><span class="line">                   [<span class="number">121.52</span>, <span class="number">25.03</span>],</span><br><span class="line">                   [<span class="number">114.17</span>, <span class="number">22.28</span>],</span><br><span class="line">                   [<span class="number">113.55</span>, <span class="number">22.19</span>]])</span><br><span class="line">N_CITIES = CITIES.shape[<span class="number">0</span>]</span><br><span class="line">CROSS_RATE = <span class="number">0.1</span></span><br><span class="line">MUTATE_RATE = <span class="number">0.02</span></span><br><span class="line">POP_SIZE = <span class="number">1000</span></span><br><span class="line">N_GENERATIONS = <span class="number">500</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end global variables----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------function definition----------</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    Calculate the great circle distance between two points</span></span><br><span class="line"><span class="string">    on the earth (specified in decimal degrees)</span></span><br><span class="line"><span class="string">    @param:</span></span><br><span class="line"><span class="string">        lon1    Longitude of the first point</span></span><br><span class="line"><span class="string">        lat1    Latitude of the first point</span></span><br><span class="line"><span class="string">        lon2    Longitude of the second point</span></span><br><span class="line"><span class="string">        lat2    Latitude of the second point</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">haversine</span><span class="params">(lon1, lat1, lon2, lat2)</span>:</span></span><br><span class="line">    lon1, lat1, lon2, lat2 = map(radians, [lon1, lat1, lon2, lat2])</span><br><span class="line">    dlon = lon2 - lon1</span><br><span class="line">    dlat = lat2 - lat1</span><br><span class="line">    a = sin(dlat/<span class="number">2</span>)**<span class="number">2</span> + cos(lat1) * cos(lat2) * sin(dlon/<span class="number">2</span>)**<span class="number">2</span></span><br><span class="line">    c = <span class="number">2</span> * asin(sqrt(a))</span><br><span class="line">    r = <span class="number">6378.137</span></span><br><span class="line">    <span class="keyword">return</span> c * r</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end function definition----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------class definition----------</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GA</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, DNA_size, cross_rate, mutation_rate, pop_size, )</span>:</span></span><br><span class="line">        self.DNA_size = DNA_size</span><br><span class="line">        self.cross_rate = cross_rate</span><br><span class="line">        self.mutate_rate = mutation_rate</span><br><span class="line">        self.pop_size = pop_size</span><br><span class="line"></span><br><span class="line">        self.pop = np.vstack([np.random.permutation(DNA_size)</span><br><span class="line">                              <span class="keyword">for</span> _ <span class="keyword">in</span> range(pop_size)])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">translateDNA</span><span class="params">(self, DNA, city_position)</span>:</span>     <span class="comment"># get cities' coord in order</span></span><br><span class="line">        line_x = np.empty_like(DNA, dtype=np.float64)</span><br><span class="line">        line_y = np.empty_like(DNA, dtype=np.float64)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i, d <span class="keyword">in</span> enumerate(DNA):</span><br><span class="line"></span><br><span class="line">            city_coord = city_position[d]</span><br><span class="line">            line_x[i, :] = city_coord[:, <span class="number">0</span>]</span><br><span class="line">            line_y[i, :] = city_coord[:, <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> line_x, line_y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_fitness</span><span class="params">(self, line_x, line_y)</span>:</span></span><br><span class="line">        total_distance = np.zeros((line_x.shape[<span class="number">0</span>],), dtype=np.float64)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(line_x.shape[<span class="number">0</span>]):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(line_x.shape[<span class="number">1</span>]<span class="number">-1</span>):</span><br><span class="line">                total_distance[i] += haversine(line_x[i][j],</span><br><span class="line">                    line_y[i][j], line_x[i][j+<span class="number">1</span>], line_y[i][j+<span class="number">1</span>])</span><br><span class="line">            total_distance[i] += haversine(line_x[i][<span class="number">0</span>], line_y[i][<span class="number">0</span>],</span><br><span class="line">                line_x[i][line_x.shape[<span class="number">1</span>]<span class="number">-1</span>], line_y[i][line_x.shape[<span class="number">1</span>]<span class="number">-1</span>])</span><br><span class="line"></span><br><span class="line">        fitness = np.exp(self.DNA_size * <span class="number">20000</span> / total_distance)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fitness, total_distance</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">select</span><span class="params">(self, fitness)</span>:</span></span><br><span class="line">        idx = np.random.choice(np.arange(</span><br><span class="line">            self.pop_size), size=self.pop_size, replace=<span class="literal">True</span>, p=fitness / fitness.sum())</span><br><span class="line">        <span class="keyword">return</span> self.pop[idx]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">crossover</span><span class="params">(self, parent, pop)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> np.random.rand() &lt; self.cross_rate:</span><br><span class="line">            <span class="comment"># select another individual from pop</span></span><br><span class="line">            i_ = np.random.randint(<span class="number">0</span>, self.pop_size, size=<span class="number">1</span>)</span><br><span class="line">            <span class="comment"># choose crossover points</span></span><br><span class="line">            cross_points = np.random.randint(</span><br><span class="line">                <span class="number">0</span>, <span class="number">2</span>, self.DNA_size).astype(np.bool)</span><br><span class="line">            <span class="comment"># find the city number</span></span><br><span class="line">            keep_city = parent[~cross_points]</span><br><span class="line">            swap_city = pop[i_, np.in1d(</span><br><span class="line">                pop[i_].ravel(), keep_city, invert=<span class="literal">True</span>)]</span><br><span class="line">            parent[:] = np.concatenate((keep_city, swap_city))</span><br><span class="line">        <span class="keyword">return</span> parent</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mutate</span><span class="params">(self, child)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> point <span class="keyword">in</span> range(self.DNA_size):</span><br><span class="line">            <span class="keyword">if</span> np.random.rand() &lt; self.mutate_rate:</span><br><span class="line">                swap_point = np.random.randint(<span class="number">0</span>, self.DNA_size)</span><br><span class="line">                swapA, swapB = child[point], child[swap_point]</span><br><span class="line">                child[point], child[swap_point] = swapB, swapA</span><br><span class="line">        <span class="keyword">return</span> child</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">evolve</span><span class="params">(self, fitness)</span>:</span></span><br><span class="line">        pop = self.select(fitness)</span><br><span class="line">        pop_copy = pop.copy()</span><br><span class="line">        <span class="comment"># for every parent</span></span><br><span class="line">        <span class="keyword">for</span> parent <span class="keyword">in</span> pop:</span><br><span class="line">            child = self.crossover(parent, pop_copy)</span><br><span class="line">            child = self.mutate(child)</span><br><span class="line">            parent[:] = child</span><br><span class="line">        self.pop = pop</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end class definition----------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------main function----------</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    ga = GA(DNA_size=N_CITIES, cross_rate=CROSS_RATE,</span><br><span class="line">            mutation_rate=MUTATE_RATE, pop_size=POP_SIZE)</span><br><span class="line"></span><br><span class="line">    path_list = []</span><br><span class="line">    <span class="keyword">for</span> generation <span class="keyword">in</span> range(N_GENERATIONS):</span><br><span class="line">        lx, ly = ga.translateDNA(ga.pop, CITIES)</span><br><span class="line">        fitness, total_distance = ga.get_fitness(lx, ly)</span><br><span class="line">        ga.evolve(fitness)</span><br><span class="line">        best_idx = np.argmax(fitness)</span><br><span class="line">        print(<span class="string">'Gen:'</span>, generation, <span class="string">'| total distance: %.4f'</span> %</span><br><span class="line">              total_distance[best_idx],)</span><br><span class="line"></span><br><span class="line">        path_x = np.array(list(lx[best_idx]) + [lx[best_idx][<span class="number">0</span>]])</span><br><span class="line">        path_y = np.array(list(ly[best_idx]) + [ly[best_idx][<span class="number">0</span>]])</span><br><span class="line">        path = np.stack((path_x, path_y))</span><br><span class="line">        path = path.transpose(<span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">        path_list.append(path.tolist())</span><br><span class="line"></span><br><span class="line">    f = open(<span class="string">'data.json'</span>, <span class="string">'w'</span>)</span><br><span class="line">    f.write(json.dumps(path_list))</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------end main function----------</span></span><br></pre></td></tr></table></figure><h3 id="ç›¸å…³é“¾æ¥"><a class="header-anchor" href="#ç›¸å…³é“¾æ¥">#</a>ç›¸å…³é“¾æ¥</h3><ul><li><a href="https://github.com/onns/GaTSP" target="_blank" rel="noopener">GitHub ä»£ç åœ°å€</a></li><li><a href="https://onns.xyz/2018/11/24/gatsp/">å¯è§†åŒ–æ¼”ç¤ºåœ°å€</a></li></ul><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: éšæœºäº§ç”Ÿåˆå§‹ç§ç¾¤op1=>operation: è®¡ç®—ç§ç¾¤ä¸­æ¯ä¸ªä¸ªä½“çš„é€‚åº”æ€§op2=>operation: æŒ‰é€‚åº”åº¦è¿›è¡Œé€‰æ‹©ä¸ªä½“op3=>operation: ç¹æ®–op4=>operation: å°†æ–°ä¸ªä½“å¤åˆ¶åˆ°æ–°ç§ç¾¤op5=>operation: æŒ‰é€‚åº”åº¦è¿›è¡Œé€‰æ‹©ä¸¤ä¸ªä¸ªä½“op6=>operation: æ‚äº¤op7=>operation: å°†ä¸¤ä¸ªæ–°ä¸ªä½“åŠ åˆ°æ–°ç§ç¾¤op8=>operation: æŒ‰é€‚åº”åº¦è¿›è¡Œé€‰æ‹©ä¸ªä½“op9=>operation: å˜å¼‚op10=>operation: å°†å˜å¼‚åçš„æ–°ä¸ªä½“åŠ åˆ°æ–°ç§ç¾¤op11=>operation: å¾ªç¯æ¬¡æ•°åŠ ä¸€cond1=>condition: ç»ˆæ­¢åˆ¤æ®æ˜¯å¦æ»¡è¶³?cond2=>condition: æ˜¯å¦å¾ªç¯æŒ‡å®šæ¬¡æ•°?para1=>parallel: éšæœºé€‰æ‹©é—ä¼ ç®—å­io1=>inputoutput: è¾“å‡ºç»“æœe1=>end: ç®—æ³•ç»“æŸst->cond1cond1(no, bottom)->op1->cond2cond1(yes)->io1->e1cond2(no, bottom)->para1cond2(yes)->cond1para1(path1, left)->op2para1(path2, bottom)->op5para1(path3, right)->op8op2->op3->op4->op11op5->op6->op7->op11op8->op9->op10->op11op11->cond2</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://baike.baidu.com/item/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/838140" target="_blank" rel="noopener">é—ä¼ ç®—æ³•_ç™¾åº¦ç™¾ç§‘</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computational intelligence </tag>
            
            <tag> TSP </tag>
            
            <tag> GA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hybrid images lab report</title>
      <link href="/blog/2018/11/11/hybrid-images-lab-report/"/>
      <url>/blog/2018/11/11/hybrid-images-lab-report/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜åˆ†æ"><a class="header-anchor" href="#é—®é¢˜åˆ†æ">#</a>é—®é¢˜åˆ†æ</h2><h3 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h3><p>è¯¥å®éªŒçš„ç›®æ ‡æ˜¯ç¼–å†™ä¸€ä¸ªå›¾åƒè¿‡æ»¤åŠŸèƒ½çš„ä»£ç ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥åˆ›å»ºæ··åˆå›¾åƒã€‚æ··åˆå›¾åƒæ˜¯é™æ€å›¾åƒï¼Œå…¶è§†è§‰æ•ˆæœéšè§‚å¯Ÿè·ç¦»çš„å˜åŒ–è€Œå˜åŒ–ã€‚åŸºæœ¬æ€æƒ³æ˜¯äººçš„æ„ŸçŸ¥å¯¹äº<code>é«˜é¢‘ç‡</code>æ›´åŠ æ•æ„Ÿï¼Œä½†æ˜¯åœ¨è¿œå¤„åªèƒ½çœ‹åˆ°ä¿¡å·çš„<code>ä½é¢‘(å¹³æ»‘)</code>éƒ¨åˆ†ã€‚é€šè¿‡å°†ä¸€ä¸ªå›¾åƒçš„é«˜é¢‘éƒ¨åˆ†ä¸å¦ä¸€ä¸ªå›¾åƒçš„ä½é¢‘éƒ¨åˆ†æ··åˆï¼Œå¯ä»¥è·å¾—æ··åˆå›¾åƒï¼Œä»è€Œåœ¨ä¸åŒè·ç¦»å¤„äº§ç”Ÿä¸åŒçš„è§†è§‰æ•ˆæœã€‚å®éªŒæ•°æ®é›†åœ¨<code>proj1.rar</code>ä¸­ã€‚</p><h3 id="æ•°æ®é›†åˆ†æ"><a class="header-anchor" href="#æ•°æ®é›†åˆ†æ">#</a>æ•°æ®é›†åˆ†æ</h3><p>å®éªŒæ•°æ®é›†å¦‚ä¸‹æ‰€ç¤ºï¼Œç”±åå¼ ä¸åŒçš„<code>bmp</code>å›¾åƒæ„æˆã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data</span><br><span class="line">â”œâ”€â”€ bicycle.bmp</span><br><span class="line">â”œâ”€â”€ bird.bmp</span><br><span class="line">â”œâ”€â”€ cat.bmp</span><br><span class="line">â”œâ”€â”€ dog.bmp</span><br><span class="line">â”œâ”€â”€ einstein.bmp</span><br><span class="line">â”œâ”€â”€ fish.bmp</span><br><span class="line">â”œâ”€â”€ marilyn.bmp</span><br><span class="line">â”œâ”€â”€ motorcycle.bmp</span><br><span class="line">â”œâ”€â”€ plane.bmp</span><br><span class="line">â””â”€â”€ submarine.bmp</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="å®éªŒæ–¹æ³•"><a class="header-anchor" href="#å®éªŒæ–¹æ³•">#</a>å®éªŒæ–¹æ³•</h2><h3 id="å®éªŒæµç¨‹"><a class="header-anchor" href="#å®éªŒæµç¨‹">#</a>å®éªŒæµç¨‹</h3><p>æœ¬å®éªŒçš„æµç¨‹å¦‚<code>å›¾1</code>æ‰€ç¤ºã€‚</p><center><div id="flowchart-0" class="flow-chart"></div><p>å›¾ 1 å®éªŒæµç¨‹å›¾</p></center><h3 id="æ»¤æ³¢å™¨"><a class="header-anchor" href="#æ»¤æ³¢å™¨">#</a>æ»¤æ³¢å™¨<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></h3><p>é«˜é€šæ»¤æ³¢å™¨å¯ä»¥é€šè¿‡ä½é€šæ»¤æ³¢å™¨å–åå¾—åˆ°ï¼Œæ•…ä¸å†åŒºåˆ†é«˜/ä½é€šæ»¤æ³¢å™¨ã€‚<br>ä¸‹é¢å¯¹æ¯”ç»“æœçš„è¾“å…¥å›¾åƒå¦‚<code>å›¾2</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-1.jpg" alt="æ»¤æ³¢å™¨è¾“å…¥å›¾åƒ"><br>å›¾ 2 è¾“å…¥å›¾åƒ</p></center><h4 id="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><a class="header-anchor" href="#ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨">#</a>ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨</h4><p>$$<br>H(u,v)=<br>\begin{cases}<br>1,&amp;{D(u,v) \leq D_0} \<br>0,&amp;{D(u,v) &gt; D_0}<br>\end{cases}<br>\tag{1}<br>$$</p><p>å…¶ä¸­ï¼Œ$D_0$è¡¨ç¤ºé€šå¸¦çš„åŠå¾„ã€‚$D(u,v)$çš„è®¡ç®—æ–¹å¼ä¹Ÿå°±æ˜¯ä¸¤ç‚¹é—´çš„è·ç¦»ï¼Œè®¡ç®—å…¬å¼å¦‚<code>å…¬å¼2.2</code>æ‰€ç¤ºã€‚</p><p>$$<br>D(u,v)=\sqrt{\left( u-\frac{P}{2} \right)^{2} + \left( v-\frac{Q}{2} \right)^{2}}<br>\tag{2}<br>$$</p><p>ä½é€šæ»¤æ³¢å™¨æ‰€å¾—åˆ°çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºã€‚ä½é€šæ»¤æ³¢å™¨æ»¤é™¤äº†é«˜é¢‘æˆåˆ†ï¼Œæ‰€ä»¥ä½¿å¾—å›¾åƒæ¨¡ç³Šã€‚ç”±äºç†æƒ³ä½é€šæ»¤æ³¢å™¨çš„è¿‡åº¦ç‰¹æ€§è¿‡äºæ€¥å³»ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿäº†æŒ¯é“ƒç°è±¡ã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-2.jpg" alt="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><br><img src="//onns.xyz/blog/image/20181117-3.jpg" alt="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><br>å›¾ 3 ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨</p></center><h4 id="å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨"><a class="header-anchor" href="#å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨">#</a>å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨</h4><p>$$<br>H(u,v)=\frac{1}{1+\left(D(u,v) / {D_0} \right)^{2n}}<br>\tag{3}<br>$$</p><p>$D_0$è¡¨ç¤ºé€šå¸¦çš„åŠå¾„ï¼Œ$n$è¡¨ç¤ºçš„æ˜¯å·´ç‰¹æ²ƒæ–¯æ»¤æ³¢å™¨çš„æ¬¡æ•°ã€‚éšç€æ¬¡æ•°çš„å¢åŠ ï¼ŒæŒ¯é“ƒç°è±¡ä¼šè¶Šæ¥è¶Šæ˜æ˜¾ã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-4.jpg" alt="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><br><img src="//onns.xyz/blog/image/20181117-5.jpg" alt="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><br>å›¾ 4 å·´ç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨</p></center><h4 id="é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"><a class="header-anchor" href="#é«˜æ–¯ä½é€šæ»¤æ³¢å™¨">#</a>é«˜æ–¯ä½é€šæ»¤æ³¢å™¨</h4><p>$$<br>H(u,v)=e^<br>{\frac{-D^2(u,v)}<br>{2{D_0}^2}}<br>\tag{4}<br>$$</p><p>$D_0$è¡¨ç¤ºé€šå¸¦çš„åŠå¾„ï¼Œé«˜æ–¯æ»¤æ³¢å™¨çš„è¿‡åº¦ç‰¹æ€§éå¸¸å¹³å¦ï¼Œä¸ä¼šäº§ç”ŸæŒ¯é“ƒç°è±¡çš„ã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-6.jpg" alt="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><br><img src="//onns.xyz/blog/image/20181117-7.jpg" alt="ç†æƒ³çš„ä½é€šæ»¤æ³¢å™¨"><br>å›¾ 5 é«˜æ–¯ä½é€šæ»¤æ³¢å™¨</p></center><h3 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h3><p>ç»¼åˆä»¥ä¸Šåˆ†æ, æˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº†<code>é«˜æ–¯ä½é€šæ»¤æ³¢å™¨</code>.</p><h2 id="å®éªŒè¿‡ç¨‹"><a class="header-anchor" href="#å®éªŒè¿‡ç¨‹">#</a>å®éªŒè¿‡ç¨‹</h2><h3 id="ç¼–ç¨‹è¯­è¨€ä»‹ç»"><a class="header-anchor" href="#ç¼–ç¨‹è¯­è¨€ä»‹ç»">#</a>ç¼–ç¨‹è¯­è¨€ä»‹ç»</h3><p>æœ¬å®éªŒæ‰€é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ä¸º<code>Matlab</code>, ç¼–ç¨‹è½¯ä»¶ä¸º<code>Matlab 2018b</code>.</p><h3 id="å›¾åƒé¢„å¤„ç†"><a class="header-anchor" href="#å›¾åƒé¢„å¤„ç†">#</a>å›¾åƒé¢„å¤„ç†</h3><p><code>10å¼ </code>bmp å›¾åƒå¯ä»¥åˆ†æˆ<code>5å¯¹</code>å›¾åƒè¿›è¡Œå®éªŒï¼Œå¦‚<code>å›¾6</code>æ‰€ç¤ºï¼Œå¤§å°éƒ½æ˜¯<code>225*265</code>ï¼Œæ•…ä¸éœ€è¦è¿›è¡Œç¼©æ”¾ã€‚è‹¥é€‰å–çš„å›¾åƒå¤§å°ä¸ä¸€ï¼Œéœ€è¦å…ˆå¯¹å›¾åƒè¿›è¡Œå¤§å°è°ƒæ•´ï¼Œç”¨<code>Matlab</code>çš„<code>imresize</code>å‡½æ•°ã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-einstein.bmp" alt="åŸå›¾ä»¥åŠHOGç‰¹å¾å›¾"><img src="//onns.xyz/blog/image/20181117-marilyn.bmp" alt="åŸå›¾ä»¥åŠHOGç‰¹å¾å›¾"><br>å›¾ 6 æ ·ä¾‹å›¾åƒ</p></center><h3 id="ç¨‹åºç¼–å†™"><a class="header-anchor" href="#ç¨‹åºç¼–å†™">#</a>ç¨‹åºç¼–å†™</h3><h4 id="ç©ºåŸŸå›¾åƒæ»¤æ³¢"><a class="header-anchor" href="#ç©ºåŸŸå›¾åƒæ»¤æ³¢">#</a>ç©ºåŸŸå›¾åƒæ»¤æ³¢</h4><p>å°†æ¨¡æ¿åœ¨å›¾åƒä¸­é€åƒç´ ç§»åŠ¨ï¼Œå°†å·ç§¯æ ¸çš„æ¯ä¸ªå…ƒç´ åˆ†åˆ«å’Œå›¾åƒçŸ©é˜µå¯¹åº”ä½ç½®å…ƒç´ ç›¸ä¹˜å¹¶å°†ç»“æœç´¯åŠ ï¼Œç´¯åŠ å’Œä½œä¸ºæ¨¡æ¿ä¸­å¿ƒå¯¹åº”åƒç´ ç‚¹çš„å·ç§¯ç»“æœã€‚é€šä¿—çš„è®²ï¼Œå·ç§¯å°±æ˜¯å¯¹æ•´å¹…å›¾åƒè¿›è¡ŒåŠ æƒå¹³å‡çš„è¿‡ç¨‹ï¼Œæ¯ä¸€ä¸ªåƒç´ ç‚¹çš„å€¼ï¼Œéƒ½ç”±å…¶æœ¬èº«å’Œé‚»åŸŸå†…çš„å…¶ä»–åƒç´ å€¼ç»è¿‡åŠ æƒå¹³å‡åå¾—åˆ°ã€‚åœ¨åƒç´ çš„å¤„ç†ä¸Šï¼Œæ˜¯å…ˆå°†ç»“æœæš‚å­˜åœ¨äºä¸€ä¸ªå‰¯æœ¬ï¼Œæœ€åç»Ÿä¸€æ‹·è´ï¼Œæ•…ä¸ä¼šå‡ºç°å¤„ç†é¡ºåºä¸åŒè€Œç»“æœä¸åŒçš„æƒ…å†µã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><p>æ»¤æ³¢ç»“æœå¦‚<code>å›¾7</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-8.jpg" alt="é«˜é€šæ»¤æ³¢ç»“æœå›¾"><img src="//onns.xyz/blog/image/20181117-9.jpg" alt="ä½é€šæ»¤æ³¢ç»“æœå›¾"><br>å›¾ 7 ç©ºåŸŸå›¾åƒæ»¤æ³¢ç»“æœå›¾</p></center><h4 id="é¢‘åŸŸå›¾åƒæ»¤æ³¢"><a class="header-anchor" href="#é¢‘åŸŸå›¾åƒæ»¤æ³¢">#</a>é¢‘åŸŸå›¾åƒæ»¤æ³¢</h4><p>å…ˆå¯¹å›¾åƒè¿›è¡Œå‚…é‡Œå¶å˜æ¢ï¼Œè½¬æ¢è‡³é¢‘ç‡åŸŸï¼Œåœ¨é¢‘åŸŸä½¿ç”¨æ»¤æ³¢å‡½æ•°è¿›è¡Œæ»¤æ³¢ï¼Œæœ€åå°†ç»“æœåå˜æ¢è‡³ç©ºé—´åŸŸã€‚</p><p>æ»¤æ³¢ç»“æœå¦‚<code>å›¾8</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-11.jpg" alt="é«˜é€šæ»¤æ³¢ç»“æœå›¾"><img src="//onns.xyz/blog/image/20181117-12.jpg" alt="ä½é€šæ»¤æ³¢ç»“æœå›¾"><br>å›¾ 8 é¢‘åŸŸå›¾åƒæ»¤æ³¢ç»“æœå›¾</p></center><h4 id="å›¾åƒèåˆ"><a class="header-anchor" href="#å›¾åƒèåˆ">#</a>å›¾åƒèåˆ</h4><p>åœ¨ Matlab ä¸­å°†ä¸¤ä¸ªæ»¤æ³¢åçš„å›¾åƒ<code>ç›¸åŠ </code>å³å¯å¾—åˆ°èåˆå›¾åƒã€‚</p><p>ç»“æœå¦‚<code>å›¾9</code>æ‰€ç¤ºã€‚</p><center><p><img src="//onns.xyz/blog/image/20181117-10.jpg" alt="ç©ºåŸŸå›¾åƒæ»¤æ³¢èåˆå›¾"><img src="//onns.xyz/blog/image/20181117-13.jpg" alt="é¢‘åŸŸå›¾åƒæ»¤æ³¢èåˆå›¾"><br>å›¾ 9 å›¾åƒèåˆç»“æœå›¾</p></center><h2 id="å®éªŒç»“æœ"><a class="header-anchor" href="#å®éªŒç»“æœ">#</a>å®éªŒç»“æœ</h2><center><p><img src="//onns.xyz/blog/image/20181117-14.png" alt="ç¨‹åºå¯è§†åŒ–ç•Œé¢å›¾"><br>å›¾ 10 ç¨‹åºå¯è§†åŒ–ç•Œé¢å›¾</p></center><h3 id="å®éªŒç»“æœåˆ†æ"><a class="header-anchor" href="#å®éªŒç»“æœåˆ†æ">#</a>å®éªŒç»“æœåˆ†æ</h3><p>ç»™å®šé¢‘ç‡åŸŸæ»¤æ³¢å™¨ï¼Œå¯å¯¹å…¶è¿›è¡Œå‚…é‡Œå¶é€†å˜æ¢å¾—åˆ°å¯¹åº”çš„ç©ºåŸŸæ»¤æ³¢å™¨ï¼›æ»¤æ³¢åœ¨é¢‘åŸŸæ›´ä¸ºç›´è§‚ï¼Œä½†ç©ºåŸŸé€‚åˆä½¿ç”¨æ›´å°çš„æ»¤æ³¢æ¨¡æ¿ä»¥æé«˜æ»¤æ³¢é€Ÿåº¦ã€‚å› ä¸ºç›¸åŒå°ºå¯¸ä¸‹ï¼Œé¢‘åŸŸæ»¤æ³¢å™¨æ•ˆç‡é«˜äºç©ºåŸŸæ»¤æ³¢å™¨ï¼Œæ•…ç©ºåŸŸæ»¤æ³¢éœ€è¦ä¸€ä¸ªæ›´å°å°ºå¯¸çš„æ¨¡æ¿è¿‘ä¼¼å¾—åˆ°éœ€è¦çš„æ»¤æ³¢ç»“æœã€‚</p><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st1=>start: å¼€å§‹e1=>end: ç»“æŸio1=>inputoutput: è¾“å…¥å›¾åƒ1io2=>inputoutput: è¾“å…¥å›¾åƒ2io3=>inputoutput: è¾“å‡ºæ··åˆå›¾åƒop1=>operation: é€šè¿‡ä½é€šæ»¤æ³¢å™¨å¾—åˆ°ä½é¢‘éƒ¨åˆ†op2=>operation: é€šè¿‡é«˜é€šæ»¤æ³¢å™¨å¾—åˆ°é«˜é¢‘éƒ¨åˆ†op3=>operation: å°†ä¸¤éƒ¨åˆ†ç›¸åŠ å¾—åˆ°æ··åˆå›¾åƒst1->io1->op1->io2->op2->op3->io3->e1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://blog.csdn.net/zhoufan900428/article/details/17194289" target="_blank" rel="noopener">åŸºç¡€ä¸ä½é€šæ»¤æ³¢å™¨</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://blog.csdn.net/u010839382/article/details/41908541" target="_blank" rel="noopener">ç©ºåŸŸé«˜æ–¯æ»¤æ³¢ä¸é¢‘åŸŸé«˜æ–¯æ»¤æ³¢</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computer vision </tag>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 Computational Intelligence Homework No.2</title>
      <link href="/blog/2018/10/31/2018-computational-intelligence-homework-no.2/"/>
      <url>/blog/2018/10/31/2018-computational-intelligence-homework-no.2/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”¨saç®—æ³•æ±‚è§£æ—…è¡Œå•†é—®é¢˜"><a class="header-anchor" href="#ç”¨saç®—æ³•æ±‚è§£æ—…è¡Œå•†é—®é¢˜">#</a>ç”¨SAç®—æ³•æ±‚è§£æ—…è¡Œå•†é—®é¢˜</h1><h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>æ—…è¡Œå•†é—®é¢˜ï¼ˆTravelling Salesman Problem, ç®€è®°TSP, äº¦ç§°è´§éƒæ‹…é—®é¢˜): è®¾æœ‰nä¸ªåŸå¸‚å’Œè·ç¦»çŸ©é˜µD=[d<sub>ij</sub>], å…¶ä¸­d<sub>ij</sub>è¡¨ç¤ºåŸå¸‚iåˆ°åŸå¸‚jçš„è·ç¦», i, j=1, 2 â€¦ n, åˆ™é—®é¢˜æ˜¯è¦æ‰¾å‡ºéè®¿æ¯ä¸ªåŸå¸‚æ°å¥½ä¸€æ¬¡çš„ä¸€æ¡å›è·¯å¹¶ä½¿å…¶è·¯å¾„é•¿åº¦ä¸ºæœ€çŸ­.</p><a id="more"></a><h2 id="ç®—æ³•è®¾è®¡"><a class="header-anchor" href="#ç®—æ³•è®¾è®¡">#</a>ç®—æ³•è®¾è®¡</h2><p>é‡‡ç”¨æ¨¡æ‹Ÿé€€ç«ç®—æ³•è®¡ç®—æ—…è¡Œå•†é—®é¢˜, æ¨¡æ‹Ÿé€€ç«ç®—æ³•(Simulated Annealing Algorithm, ç®€ç§°SAç®—æ³•), æºäºå¯¹å›ºä½“é€€ç«è¿‡ç¨‹çš„æ¨¡æ‹Ÿ, é‡‡ç”¨Metropolisæ¥å—å‡†åˆ™, å¹¶ç”¨ä¸€ç»„ç§°ä¸ºå†·å´è¡¨çš„å‚æ•°æ§åˆ¶ç®—æ³•è¿›ç¨‹, ä½¿ç®—æ³•åœ¨å¤šé¡¹å¼æ—¶é—´é‡Œç»™å‡ºä¸€ä¸ªè¿‘ä¼¼æœ€ä¼˜è§£.</p><h3 id="metropolisç®—æ³•"><a class="header-anchor" href="#metropolisç®—æ³•">#</a>Metropolisç®—æ³•</h3><p>æ¨¡æ‹Ÿé€€ç«ç®—æ³•ç”¨Metropolisç®—æ³•äº§ç”Ÿç»„åˆä¼˜åŒ–é—®é¢˜è§£çš„åºåˆ—. å¹¶ç”±Metropoliså‡†åˆ™å¯¹åº”çš„è½¬ç§»æ¦‚ç‡<code>P</code>.</p><span>$$P(i=&gt;j)=\begin{cases}1,&amp;{å½“f(j) \leq f(i)} \\e^{\frac{f(i)&minus;f(j)}{t}},&amp;{å¦åˆ™}\end{cases}\tag{1}$$</span><!-- Has MathJax --><h3 id="å†·å´è¿›åº¦è¡¨"><a class="header-anchor" href="#å†·å´è¿›åº¦è¡¨">#</a>å†·å´è¿›åº¦è¡¨</h3><p>å†·å´è¡¨(cooling schedule)æ˜¯ä¸€ç»„æ§åˆ¶ç®—æ³•è¿›ç¨‹çš„å‚æ•°, ç”¨ä»¥é€¼è¿‘æ¨¡æ‹Ÿé€€ç«ç®—æ³•çš„æ¸è¿›æ”¶æ•›æ€§æ€, ä½¿ç®—æ³•åœ¨æœ‰é™æ—¶é—´å†…æ‰§è¡Œè¿­ä»£è¿‡ç¨‹åè¿”å›ä¸€ä¸ªè¿‘ä¼¼æœ€ä¼˜è§£.<br>å†·å´è¡¨æ˜¯å½±å“æ¨¡æ‹Ÿé€€ç«ç®—æ³•å®éªŒæ€§èƒ½çš„é‡è¦å› ç´ , å…¶åˆç†é€‰å–æ˜¯ç®—æ³•åº”ç”¨çš„å…³é”®.<br>ä¸€ä¸ªå†·å´è¡¨åº”å½“è§„å®šä¸‹è¿°å‚æ•°:</p><ul><li>æ§åˆ¶å‚æ•°tçš„åˆå€¼t<sub>0</sub></li><li>æ§åˆ¶å‚æ•°tçš„è¡°å‡å‡½æ•°</li><li>æ§åˆ¶å‚æ•°tçš„ç»ˆå€¼t<sub>f</sub>(åœæ­¢å‡†åˆ™)</li><li>Mapkobé“¾é•¿L<sub>k</sub></li></ul><h4 id="åˆå€¼t0"><a class="header-anchor" href="#åˆå€¼t0">#</a>åˆå€¼t<sub>0</sub></h4><p>æ§åˆ¶å‚æ•°åˆå€¼t<sub>0</sub>è¦è¶³å¤Ÿå¤§, æ‰èƒ½ä½¿ç®—æ³•è¿›ç¨‹åœ¨åˆç†æ—¶é—´é‡Œæœç´¢å°½å¯èƒ½å¤§çš„è§£ç©ºé—´èŒƒå›´.<br>æœ¬å®éªŒé€‰å–t<sub>0</sub>ä¸º<code>100</code>.</p><h4 id="è¡°å‡å‡½æ•°"><a class="header-anchor" href="#è¡°å‡å‡½æ•°">#</a>è¡°å‡å‡½æ•°</h4><p>åœ¨æ§åˆ¶å‚æ•°çš„è¡°å‡å‡½æ•°åº”ä½¿t<sub>k</sub>çš„è¡°å‡ä»¥å°ä¸ºå®œ.</p><span>$$\alpha(t)=0.9*t\tag{2}$$</span><!-- Has MathJax --><p>æœ¬å®éªŒé€‰å–çš„è¡°å‡å‡½æ•°å¦‚<code>å…¬å¼2</code>æ‰€ç¤º.</p><h4 id="tçš„ç»ˆå€¼tf-åœæ­¢å‡†åˆ™"><a class="header-anchor" href="#tçš„ç»ˆå€¼tf-åœæ­¢å‡†åˆ™">#</a>tçš„ç»ˆå€¼t<sub>f</sub>(åœæ­¢å‡†åˆ™)</h4><p>æ§åˆ¶å‚æ•°ç»ˆå€¼t<sub>f</sub>é€šå¸¸ç”±åœæ­¢å‡†åˆ™å†³å®š. åˆç†çš„åœæ­¢å‡†åˆ™æ—¢è¦ç¡®ä¿ç®—æ³•æ”¶æ•›äºæŸä¸€è¿‘ä¼¼è§£, åˆè¦ä½¿æœ€ç»ˆè§£å…·æœ‰ä¸€å®šçš„è´¨é‡.<br>æœ¬å®éªŒé€‰å–çš„åœæ­¢å‡†åˆ™ä¸º<code>è¿ç»­ä¸¤ä¸ªMapkobé“¾è·¯å¾„æ— å˜åŒ–</code>åˆ™ç¨‹åºç»ˆæ­¢.</p><h4 id="mapkobé“¾é•¿lk"><a class="header-anchor" href="#mapkobé“¾é•¿lk">#</a>Mapkobé“¾é•¿L<sub>k</sub></h4><p>Mapkobé“¾é•¿L<sub>k</sub>åœ¨æ§åˆ¶å‚æ•°tçš„è¡°å‡å‡½æ•°å·²é€‰å®šçš„å‰æä¸‹, L<sub>k</sub>åº”é€‰å¾—åœ¨æ§åˆ¶å‚æ•°çš„æ¯ä¸€å–å€¼ä¸Šéƒ½èƒ½æ¢å¤å‡†å¹³è¡¡.<br>æœ¬å®éªŒé€‰å–çš„Mapkobé“¾é•¿ä¸º<code>å®šé•¿20000</code>.</p><h3 id="æ–°è§£çš„äº§ç”Ÿ"><a class="header-anchor" href="#æ–°è§£çš„äº§ç”Ÿ">#</a>æ–°è§£çš„äº§ç”Ÿ</h3><p>é‡‡ç”¨2å˜æ¢æ³•. ä»»é€‰åºå·<code>u</code>å’Œ<code>v</code>(u &lt; v), å°† <code>u</code>å’Œ<code>v</code>åŠå…¶ä¹‹é—´çš„é¡ºåºé€†è½¬.</p><span>$$\pi_{1}...\pi_{u-1}\color{red}{\pi_{u}\pi_{u+1}...\pi_{v-1}\pi_{v}}\pi_{v+1}...\pi_{n} \\\downarrow{} \\\pi_{1}...\pi_{u-1}\color{red}{\pi_{v}\pi_{v-1}...\pi_{u-1}\pi_{u}}\pi_{v+1}...\pi_{n}\tag{3}$$</span><!-- Has MathJax --><h2 id="ç¨‹åºæµç¨‹"><a class="header-anchor" href="#ç¨‹åºæµç¨‹">#</a>ç¨‹åºæµç¨‹</h2><p>ç¨‹åºæµç¨‹å¦‚<code>å›¾1</code>æ‰€ç¤º</p><center><div id="flowchart-0" class="flow-chart"></div>å›¾1 ç¨‹åºæµç¨‹å›¾</center><h2 id="æ ¸å¿ƒä¼ªä»£ç "><a class="header-anchor" href="#æ ¸å¿ƒä¼ªä»£ç ">#</a>æ ¸å¿ƒä¼ªä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–è·¯å¾„</span></span><br><span class="line">x1 = random.sample(range(citynum), citynum)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—æŒ‰æ­¤è·¯å¾„è¿åŠ¨æ‰€èŠ±è´¹çš„ä»£ä»·</span></span><br><span class="line">f1 = calculate(x1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–èµ·å§‹æ¸©åº¦</span></span><br><span class="line">T = T_max</span><br><span class="line"></span><br><span class="line">flag = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“èµ·å§‹æ¸©åº¦ä½äºé¢„è®¾çš„æœ€ä½æ¸©åº¦æ—¶åœæ­¢å¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    flag = flag + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Mapkobé“¾é•¿, å³è¿­ä»£æ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(iter):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># é€šè¿‡2å˜æ¢æ³•ç”Ÿæˆæ–°è·¯å¾„</span></span><br><span class="line">        x2 = generate(x1)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¡ç®—æ–°è§£æ‰€èŠ±è´¹çš„ä»£ä»·</span></span><br><span class="line">        f2 = calculate(x2)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># è®¡ç®—ä¸¤ä¸ªè§£çš„ä»£ä»·å·®</span></span><br><span class="line">        df = f2 - f1</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”¨Metropolisç®—æ³•åˆ¤æ–­æ˜¯å¦æ¥å—æ–°è§£</span></span><br><span class="line">        <span class="keyword">if</span> accept(df, T):</span><br><span class="line">            x1 = x2</span><br><span class="line">            f1 = calculate(x1)</span><br><span class="line">            flag = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ¨¡æ‹Ÿæ¸©åº¦è¡°å‡</span></span><br><span class="line">    T *= rate</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿ç»­ä¸¤æ¬¡Mapkobé“¾è·¯å¾„æ— å˜åŒ–åˆ™åœæ­¢å¾ªç¯</span></span><br><span class="line">    <span class="keyword">if</span> flag &gt;= <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¾—åˆ°æœ€ç»ˆè·¯å¾„ç»“æœ</span></span><br><span class="line">x = x1</span><br></pre></td></tr></table></figure><h2 id="ä»£ç è¿è¡ŒåŠæµ‹è¯•"><a class="header-anchor" href="#ä»£ç è¿è¡ŒåŠæµ‹è¯•">#</a>ä»£ç è¿è¡ŒåŠæµ‹è¯•</h2><p>ä»£ç çš„è¿è¡Œç»“æœå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">time: 14.867s</span><br><span class="line">result: 0 -&gt; 3 -&gt; 2 -&gt; 1</span><br><span class="line">cost: 108</span><br><span class="line"></span><br><span class="line">time: 16.764s</span><br><span class="line">result: 5 -&gt; 6 -&gt; 7 -&gt; 1 -&gt; 2 -&gt; 9 -&gt; 0 -&gt; 8 -&gt; 4 -&gt; 3</span><br><span class="line">cost: 229</span><br><span class="line"></span><br><span class="line">time: 24.910s</span><br><span class="line">result: 12 -&gt; 15 -&gt; 8 -&gt; 0 -&gt; 18 -&gt; 3 -&gt; 21 -&gt; 16 -&gt; 27 -&gt; 20</span><br><span class="line"> -&gt; 29 -&gt; 14 -&gt; 10 -&gt; 6 -&gt; 28 -&gt; 25 -&gt; 17 -&gt; 5 -&gt; 4 -&gt; 11</span><br><span class="line"> -&gt; 24 -&gt; 1 -&gt; 26 -&gt; 9 -&gt; 23 -&gt; 7 -&gt; 19 -&gt; 13 -&gt; 2 -&gt; 22</span><br><span class="line">cost: 576</span><br></pre></td></tr></table></figure><p>ç”±äºæ•°æ®è®¡ç®—ç»“æœè¿‡æ…¢, åœ¨ä»£ç ä¸­é¢å¤–å¢åŠ äº†ç»ˆæ­¢æ¡ä»¶: <code>å½“æ¸©åº¦ä½äº0.01æ—¶ç¨‹åºåœæ­¢</code>.<br>ç”±äºå‰ä¸¤ä¸ªæµ‹è¯•æ•°æ®åŸå¸‚æ•°é‡è¾ƒå°‘, å·²ç»å¾—åˆ°æœ€ä¼˜è§£, åç»­æ”¹è¿›å®éªŒä»…ä»¥<code>30</code>ä¸ªåŸå¸‚çš„ç»“æœä½œä¸ºå¯¹æ¯”.<br>è€ƒè™‘åˆ°åˆå§‹å€¼ä¸ºéšæœºé€‰å–çš„, ä¸”æœ€ç»ˆçš„è·¯å¾„ä¸ºä¸€ä¸ª<code>å¤´å°¾ç›¸æ¥</code>çš„&quot;ç¯&quot;, ä¿®æ”¹æ–°è§£çš„äº§ç”Ÿæ–¹æ³•</p><span>$$\color{red}{\pi_{1}...\pi_{u-1}}\pi_{u}\pi_{u+1}...\pi_{v-1}\pi_{v}\color{red}{\pi_{v+1}...\pi_{n}} \\\downarrow{} \\\color{red}{\pi_{1}...\pi_{v+1}}\pi_{u}\pi_{u+1}...\pi_{v-1}\pi_{v}\color{red}{\pi_{u-1}...\pi_{n}}\tag{4}$$</span><!-- Has MathJax --><p>ä»£ç çš„è¿è¡Œç»“æœå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">time: 22.672s</span><br><span class="line">result: 9 -&gt; 17 -&gt; 5 -&gt; 18 -&gt; 16 -&gt; 27 -&gt; 20 -&gt; 21 -&gt; 4 -&gt; 1</span><br><span class="line"> -&gt; 12 -&gt; 15 -&gt; 8 -&gt; 3 -&gt; 13 -&gt; 25 -&gt; 2 -&gt; 29 -&gt; 14 -&gt; 10</span><br><span class="line"> -&gt; 6 -&gt; 28 -&gt; 22 -&gt; 11 -&gt; 24 -&gt; 7 -&gt; 19 -&gt; 23 -&gt; 26 -&gt; 0</span><br><span class="line">cost: 565</span><br></pre></td></tr></table></figure><p>å¢å¤§å˜æ¢çš„è‡ªç”±åº¦, åªäº¤æ¢<code>u</code>å’Œ<code>v</code>çš„ä¸¤ä¸ªåºå·</p><span>$$\pi_{1}...\pi_{u-1}\color{red}{\pi_{u}}\pi_{u+1}...\pi_{v-1}\color{red}{\pi_{v}}\pi_{v+1}...\pi_{n} \\\downarrow{} \\\pi_{1}...\pi_{u-1}\color{red}{\pi_{v}}\pi_{u+1}...\pi_{v-1}\color{red}{\pi_{u}}\pi_{v+1}...\pi_{n}\tag{5}$$</span><!-- Has MathJax --><p>ä»£ç çš„è¿è¡Œç»“æœå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">time: 11.749s</span><br><span class="line">result: 0 -&gt; 2 -&gt; 22 -&gt; 11 -&gt; 7 -&gt; 28 -&gt; 6 -&gt; 19 -&gt; 23 -&gt; 26</span><br><span class="line"> -&gt; 9 -&gt; 21 -&gt; 12 -&gt; 13 -&gt; 16 -&gt; 27 -&gt; 20 -&gt; 15 -&gt; 8 -&gt; 24</span><br><span class="line"> -&gt; 4 -&gt; 1 -&gt; 5 -&gt; 25 -&gt; 17 -&gt; 18 -&gt; 3 -&gt; 29 -&gt; 14 -&gt; 10</span><br><span class="line">cost: 475</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿä»£ç è¿è¡ŒçŠ¶æ€, éƒ½æ˜¯æ¸©åº¦è¾¾åˆ°<code>æœ€å°å€¼ä»¥ä¸‹</code>åé€€å‡ºçš„ç¨‹åº, å¯èƒ½æœªè¾¾åˆ°<code>å½“å‰å‚æ•°ä¸‹</code>çš„æœ€ä½³ç»“æœ, æ•…å°†å¾ªç¯ç»ˆæ­¢æ¡ä»¶æ”¹ä¸º<code>åªæœ‰è¿ç»­ä¸¤ä¸ªMapkobé“¾è·¯å¾„æ— å˜åŒ–</code>.<br>ä»£ç çš„è¿è¡Œç»“æœå¦‚ä¸‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">time: 7.6435s</span><br><span class="line">result: 8 -&gt; 2 -&gt; 21 -&gt; 6 -&gt; 28 -&gt; 29 -&gt; 14 -&gt; 10 -&gt; 17 -&gt; 23</span><br><span class="line"> -&gt; 26 -&gt; 9 -&gt; 12 -&gt; 15 -&gt; 19 -&gt; 25 -&gt; 1 -&gt; 5 -&gt; 13 -&gt; 16</span><br><span class="line"> -&gt; 27 -&gt; 20 -&gt; 18 -&gt; 22 -&gt; 11 -&gt; 0 -&gt; 24 -&gt; 4 -&gt; 7 -&gt; 3</span><br><span class="line">cost: 467</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ç»“æœå¦‚<code>è¡¨1</code>æ‰€ç¤º:</p><center>è¡¨1 ä»£ç è¿è¡Œç»“æœ</center><table><thead><tr><th style="text-align:center">ä»£ç ç‰ˆæœ¬</th><th style="text-align:center">æ—¶é—´</th><th style="text-align:center">èŠ±è´¹</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">24.910s</td><td style="text-align:center">576</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">22.672s</td><td style="text-align:center">565</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">11.749s</td><td style="text-align:center">475</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center"><font color=#ff0000>7.6435s</font></td><td style="text-align:center"><font color=#ff0000>467</font></td></tr></tbody></table><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h2><p>ç®—æ³•åœ¨å¤šé¡¹å¼æ—¶é—´é‡Œç»™å‡ºä¸€ä¸ªè¿‘ä¼¼æœ€ä¼˜è§£.</p><h2 id="é™„å½•"><a class="header-anchor" href="#é™„å½•">#</a>é™„å½•</h2><h3 id="åŸå¸‚çŸ©é˜µç”Ÿæˆä»£ç "><a class="header-anchor" href="#åŸå¸‚çŸ©é˜µç”Ÿæˆä»£ç ">#</a>åŸå¸‚çŸ©é˜µç”Ÿæˆä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_city</span><span class="params">(num, min=<span class="number">10</span>, max=<span class="number">100</span>)</span>:</span></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(num):</span><br><span class="line">temp_data = []</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(num):</span><br><span class="line"><span class="keyword">if</span>(i == j):</span><br><span class="line">temp_data.append(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">temp_data.append(random.randint(min, max))</span><br><span class="line">data.append(temp_data)</span><br><span class="line"><span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line">print(generate_city(<span class="number">4</span>))</span><br><span class="line">print(generate_city(<span class="number">10</span>))</span><br><span class="line">print(generate_city(<span class="number">30</span>))</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ‹Ÿé€€ç«ç®—æ³•ä»£ç "><a class="header-anchor" href="#æ¨¡æ‹Ÿé€€ç«ç®—æ³•ä»£ç ">#</a>æ¨¡æ‹Ÿé€€ç«ç®—æ³•ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SA</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, citymap, T_max=<span class="number">100</span>, T_min=<span class="number">0.01</span>, iter=<span class="number">20000</span>, rate=<span class="number">0.90</span>)</span>:</span></span><br><span class="line">        self.citymap = citymap</span><br><span class="line">        self.citynum = len(citymap)</span><br><span class="line">        self.T_max = T_max</span><br><span class="line">        self.T_min = T_min</span><br><span class="line">        self.iter = iter</span><br><span class="line">        self.rate = rate</span><br><span class="line"></span><br><span class="line">        self.i = random.sample(range(self.citynum), self.citynum)</span><br><span class="line"></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        self.solve()</span><br><span class="line">        end_time = time.time()</span><br><span class="line"></span><br><span class="line">        print(<span class="string">'time: '</span> + str(end_time - start_time)[:<span class="number">6</span>] + <span class="string">'s'</span>)</span><br><span class="line">        print(<span class="string">'result: '</span> + <span class="string">' -&gt; '</span>.join(str(i) <span class="keyword">for</span> i <span class="keyword">in</span> self.x))</span><br><span class="line">        print(<span class="string">'cost: '</span> + str(self.calculate(self.x)))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span><span class="params">(self, city_list)</span>:</span></span><br><span class="line">        cost = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.citynum - <span class="number">1</span>):</span><br><span class="line">            cost = cost + self.citymap[city_list[i]][city_list[i + <span class="number">1</span>]]</span><br><span class="line">        cost = cost + self.citymap[city_list[i + <span class="number">1</span>]][city_list[<span class="number">0</span>]]</span><br><span class="line">        <span class="keyword">return</span> cost</span><br><span class="line"></span><br><span class="line">    <span class="comment"># def generate(self, city_list):</span></span><br><span class="line">    <span class="comment">#     u, v = random.sample(range(self.citynum + 1), 2)</span></span><br><span class="line">    <span class="comment">#     if u &gt; v:</span></span><br><span class="line">    <span class="comment">#         temp_list = city_list[u:] + city_list[:v]</span></span><br><span class="line">    <span class="comment">#         temp_list.reverse()</span></span><br><span class="line">    <span class="comment">#         return temp_list[self.citynum-u:] + city_list[v:u] + temp_list[:self.citynum-u]</span></span><br><span class="line">    <span class="comment">#     else:</span></span><br><span class="line">    <span class="comment">#         temp_list = city_list[u:v]</span></span><br><span class="line">    <span class="comment">#         temp_list.reverse()</span></span><br><span class="line">    <span class="comment">#         return city_list[:u] + temp_list + city_list[v:]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># def generate(self, city_list):</span></span><br><span class="line">    <span class="comment">#     u, v = random.sample(range(self.citynum + 1), 2)</span></span><br><span class="line">    <span class="comment">#     if u &gt; v:</span></span><br><span class="line">    <span class="comment">#         u, v = v, u</span></span><br><span class="line">    <span class="comment">#     temp_list = city_list[u:v]</span></span><br><span class="line">    <span class="comment">#     temp_list.reverse()</span></span><br><span class="line">    <span class="comment">#     return city_list[:u] + temp_list + city_list[v:]</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generate</span><span class="params">(self, city_list)</span>:</span></span><br><span class="line">        u, v = random.sample(range(self.citynum), <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">if</span> u &gt; v:</span><br><span class="line">            u, v = v, u</span><br><span class="line">        <span class="keyword">return</span> city_list[:u] + city_list[v:v+<span class="number">1</span>] + city_list[u+<span class="number">1</span>:v] + city_list[u:u+<span class="number">1</span>] + city_list[v+<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">accept</span><span class="params">(self, df, T)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> df &lt; <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> np.exp(-df / T) &gt;= random.random():</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">solve</span><span class="params">(self)</span>:</span></span><br><span class="line">        x1 = self.i</span><br><span class="line">        f1 = self.calculate(x1)</span><br><span class="line">        T = self.T_max</span><br><span class="line">        flag = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            flag = flag + <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(self.iter):</span><br><span class="line">                x2 = self.generate(x1)</span><br><span class="line">                f2 = self.calculate(x2)</span><br><span class="line">                df = f2 - f1</span><br><span class="line">                <span class="keyword">if</span> self.accept(df, T):</span><br><span class="line">                    x1 = x2</span><br><span class="line">                    f1 = self.calculate(x1)</span><br><span class="line">                    flag = <span class="number">0</span></span><br><span class="line">            T *= self.rate</span><br><span class="line">            <span class="keyword">if</span> flag &gt;= <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        self.x = x1</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    SA([[<span class="number">0</span>, <span class="number">48</span>, <span class="number">46</span>, <span class="number">48</span>], [<span class="number">1</span>, <span class="number">0</span>, <span class="number">63</span>, <span class="number">4</span>], [<span class="number">39</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">59</span>], [<span class="number">67</span>, <span class="number">28</span>, <span class="number">56</span>, <span class="number">0</span>]])</span><br><span class="line">    SA([[<span class="number">0</span>, <span class="number">76</span>, <span class="number">62</span>, <span class="number">85</span>, <span class="number">81</span>, <span class="number">99</span>, <span class="number">78</span>, <span class="number">99</span>, <span class="number">37</span>, <span class="number">87</span>],</span><br><span class="line">        [<span class="number">31</span>, <span class="number">0</span>, <span class="number">24</span>, <span class="number">61</span>, <span class="number">56</span>, <span class="number">89</span>, <span class="number">84</span>, <span class="number">99</span>, <span class="number">48</span>, <span class="number">44</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">54</span>, <span class="number">0</span>, <span class="number">43</span>, <span class="number">53</span>, <span class="number">86</span>, <span class="number">73</span>, <span class="number">90</span>, <span class="number">37</span>, <span class="number">22</span>],</span><br><span class="line">        [<span class="number">77</span>, <span class="number">12</span>, <span class="number">23</span>, <span class="number">0</span>, <span class="number">64</span>, <span class="number">13</span>, <span class="number">61</span>, <span class="number">29</span>, <span class="number">94</span>, <span class="number">54</span>],</span><br><span class="line">        [<span class="number">17</span>, <span class="number">90</span>, <span class="number">81</span>, <span class="number">27</span>, <span class="number">0</span>, <span class="number">61</span>, <span class="number">94</span>, <span class="number">36</span>, <span class="number">79</span>, <span class="number">64</span>],</span><br><span class="line">        [<span class="number">47</span>, <span class="number">27</span>, <span class="number">66</span>, <span class="number">82</span>, <span class="number">87</span>, <span class="number">0</span>, <span class="number">17</span>, <span class="number">57</span>, <span class="number">91</span>, <span class="number">55</span>],</span><br><span class="line">        [<span class="number">98</span>, <span class="number">18</span>, <span class="number">93</span>, <span class="number">72</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">0</span>, <span class="number">48</span>, <span class="number">47</span>, <span class="number">94</span>],</span><br><span class="line">        [<span class="number">88</span>, <span class="number">13</span>, <span class="number">97</span>, <span class="number">78</span>, <span class="number">80</span>, <span class="number">54</span>, <span class="number">21</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">96</span>],</span><br><span class="line">        [<span class="number">32</span>, <span class="number">87</span>, <span class="number">75</span>, <span class="number">27</span>, <span class="number">10</span>, <span class="number">94</span>, <span class="number">36</span>, <span class="number">21</span>, <span class="number">0</span>, <span class="number">14</span>],</span><br><span class="line">        [<span class="number">18</span>, <span class="number">97</span>, <span class="number">75</span>, <span class="number">91</span>, <span class="number">57</span>, <span class="number">78</span>, <span class="number">76</span>, <span class="number">70</span>, <span class="number">13</span>, <span class="number">0</span>]])</span><br><span class="line">    SA([[<span class="number">0</span>, <span class="number">84</span>, <span class="number">19</span>, <span class="number">73</span>, <span class="number">83</span>, <span class="number">56</span>, <span class="number">55</span>, <span class="number">78</span>, <span class="number">68</span>, <span class="number">10</span>, <span class="number">33</span>, <span class="number">61</span>, <span class="number">23</span>, <span class="number">41</span>, <span class="number">17</span>,</span><br><span class="line">         <span class="number">81</span>, <span class="number">12</span>, <span class="number">22</span>, <span class="number">24</span>, <span class="number">60</span>, <span class="number">85</span>, <span class="number">53</span>, <span class="number">82</span>, <span class="number">97</span>, <span class="number">13</span>, <span class="number">44</span>, <span class="number">54</span>, <span class="number">96</span>, <span class="number">54</span>, <span class="number">18</span>],</span><br><span class="line">        [<span class="number">56</span>, <span class="number">0</span>, <span class="number">25</span>, <span class="number">76</span>, <span class="number">60</span>, <span class="number">11</span>, <span class="number">38</span>, <span class="number">35</span>, <span class="number">98</span>, <span class="number">76</span>, <span class="number">25</span>, <span class="number">67</span>, <span class="number">29</span>, <span class="number">51</span>, <span class="number">53</span>,</span><br><span class="line">         <span class="number">29</span>, <span class="number">94</span>, <span class="number">70</span>, <span class="number">76</span>, <span class="number">74</span>, <span class="number">83</span>, <span class="number">29</span>, <span class="number">54</span>, <span class="number">64</span>, <span class="number">75</span>, <span class="number">33</span>, <span class="number">25</span>, <span class="number">53</span>, <span class="number">23</span>, <span class="number">62</span>],</span><br><span class="line">        [<span class="number">43</span>, <span class="number">89</span>, <span class="number">0</span>, <span class="number">95</span>, <span class="number">100</span>, <span class="number">93</span>, <span class="number">38</span>, <span class="number">95</span>, <span class="number">77</span>, <span class="number">34</span>, <span class="number">33</span>, <span class="number">70</span>, <span class="number">90</span>, <span class="number">75</span>, <span class="number">66</span>,</span><br><span class="line">         <span class="number">75</span>, <span class="number">26</span>, <span class="number">81</span>, <span class="number">90</span>, <span class="number">19</span>, <span class="number">91</span>, <span class="number">27</span>, <span class="number">10</span>, <span class="number">25</span>, <span class="number">17</span>, <span class="number">37</span>, <span class="number">18</span>, <span class="number">95</span>, <span class="number">13</span>, <span class="number">27</span>],</span><br><span class="line">        [<span class="number">31</span>, <span class="number">26</span>, <span class="number">63</span>, <span class="number">0</span>, <span class="number">80</span>, <span class="number">71</span>, <span class="number">64</span>, <span class="number">70</span>, <span class="number">10</span>, <span class="number">54</span>, <span class="number">70</span>, <span class="number">47</span>, <span class="number">78</span>, <span class="number">12</span>, <span class="number">18</span>,</span><br><span class="line">         <span class="number">89</span>, <span class="number">69</span>, <span class="number">90</span>, <span class="number">59</span>, <span class="number">37</span>, <span class="number">24</span>, <span class="number">11</span>, <span class="number">90</span>, <span class="number">87</span>, <span class="number">71</span>, <span class="number">48</span>, <span class="number">38</span>, <span class="number">76</span>, <span class="number">84</span>, <span class="number">13</span>],</span><br><span class="line">        [<span class="number">24</span>, <span class="number">16</span>, <span class="number">72</span>, <span class="number">64</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">64</span>, <span class="number">11</span>, <span class="number">82</span>, <span class="number">52</span>, <span class="number">87</span>, <span class="number">14</span>, <span class="number">43</span>, <span class="number">75</span>, <span class="number">32</span>,</span><br><span class="line">         <span class="number">79</span>, <span class="number">66</span>, <span class="number">54</span>, <span class="number">66</span>, <span class="number">50</span>, <span class="number">55</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">85</span>, <span class="number">31</span>, <span class="number">58</span>, <span class="number">37</span>, <span class="number">60</span>, <span class="number">33</span>, <span class="number">83</span>],</span><br><span class="line">        [<span class="number">11</span>, <span class="number">15</span>, <span class="number">56</span>, <span class="number">46</span>, <span class="number">37</span>, <span class="number">0</span>, <span class="number">50</span>, <span class="number">86</span>, <span class="number">55</span>, <span class="number">76</span>, <span class="number">17</span>, <span class="number">59</span>, <span class="number">58</span>, <span class="number">15</span>, <span class="number">37</span>,</span><br><span class="line">         <span class="number">12</span>, <span class="number">22</span>, <span class="number">39</span>, <span class="number">33</span>, <span class="number">97</span>, <span class="number">65</span>, <span class="number">88</span>, <span class="number">57</span>, <span class="number">56</span>, <span class="number">64</span>, <span class="number">29</span>, <span class="number">69</span>, <span class="number">51</span>, <span class="number">66</span>, <span class="number">94</span>],</span><br><span class="line">        [<span class="number">63</span>, <span class="number">71</span>, <span class="number">50</span>, <span class="number">34</span>, <span class="number">97</span>, <span class="number">87</span>, <span class="number">0</span>, <span class="number">37</span>, <span class="number">75</span>, <span class="number">58</span>, <span class="number">68</span>, <span class="number">21</span>, <span class="number">57</span>, <span class="number">74</span>, <span class="number">75</span>,</span><br><span class="line">         <span class="number">84</span>, <span class="number">20</span>, <span class="number">90</span>, <span class="number">77</span>, <span class="number">18</span>, <span class="number">99</span>, <span class="number">59</span>, <span class="number">19</span>, <span class="number">22</span>, <span class="number">40</span>, <span class="number">33</span>, <span class="number">44</span>, <span class="number">81</span>, <span class="number">11</span>, <span class="number">34</span>],</span><br><span class="line">        [<span class="number">89</span>, <span class="number">79</span>, <span class="number">22</span>, <span class="number">15</span>, <span class="number">78</span>, <span class="number">55</span>, <span class="number">83</span>, <span class="number">0</span>, <span class="number">21</span>, <span class="number">74</span>, <span class="number">22</span>, <span class="number">69</span>, <span class="number">53</span>, <span class="number">25</span>, <span class="number">57</span>,</span><br><span class="line">         <span class="number">100</span>, <span class="number">88</span>, <span class="number">53</span>, <span class="number">68</span>, <span class="number">18</span>, <span class="number">99</span>, <span class="number">71</span>, <span class="number">81</span>, <span class="number">56</span>, <span class="number">72</span>, <span class="number">82</span>, <span class="number">100</span>, <span class="number">21</span>, <span class="number">14</span>, <span class="number">55</span>],</span><br><span class="line">        [<span class="number">19</span>, <span class="number">88</span>, <span class="number">13</span>, <span class="number">28</span>, <span class="number">61</span>, <span class="number">79</span>, <span class="number">73</span>, <span class="number">31</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">85</span>, <span class="number">61</span>, <span class="number">36</span>, <span class="number">39</span>, <span class="number">62</span>,</span><br><span class="line">         <span class="number">44</span>, <span class="number">69</span>, <span class="number">63</span>, <span class="number">25</span>, <span class="number">55</span>, <span class="number">51</span>, <span class="number">100</span>, <span class="number">77</span>, <span class="number">36</span>, <span class="number">11</span>, <span class="number">78</span>, <span class="number">37</span>, <span class="number">76</span>, <span class="number">88</span>, <span class="number">66</span>],</span><br><span class="line">        [<span class="number">15</span>, <span class="number">99</span>, <span class="number">36</span>, <span class="number">61</span>, <span class="number">79</span>, <span class="number">85</span>, <span class="number">57</span>, <span class="number">26</span>, <span class="number">39</span>, <span class="number">0</span>, <span class="number">22</span>, <span class="number">54</span>, <span class="number">13</span>, <span class="number">78</span>, <span class="number">95</span>,</span><br><span class="line">         <span class="number">99</span>, <span class="number">94</span>, <span class="number">11</span>, <span class="number">60</span>, <span class="number">12</span>, <span class="number">43</span>, <span class="number">20</span>, <span class="number">60</span>, <span class="number">28</span>, <span class="number">24</span>, <span class="number">95</span>, <span class="number">94</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">77</span>],</span><br><span class="line">        [<span class="number">34</span>, <span class="number">73</span>, <span class="number">96</span>, <span class="number">100</span>, <span class="number">81</span>, <span class="number">93</span>, <span class="number">21</span>, <span class="number">63</span>, <span class="number">34</span>, <span class="number">19</span>, <span class="number">0</span>, <span class="number">63</span>, <span class="number">47</span>, <span class="number">95</span>, <span class="number">36</span>,</span><br><span class="line">         <span class="number">20</span>, <span class="number">18</span>, <span class="number">13</span>, <span class="number">99</span>, <span class="number">58</span>, <span class="number">30</span>, <span class="number">98</span>, <span class="number">29</span>, <span class="number">75</span>, <span class="number">85</span>, <span class="number">58</span>, <span class="number">99</span>, <span class="number">39</span>, <span class="number">25</span>, <span class="number">79</span>],</span><br><span class="line">        [<span class="number">16</span>, <span class="number">90</span>, <span class="number">15</span>, <span class="number">85</span>, <span class="number">79</span>, <span class="number">53</span>, <span class="number">44</span>, <span class="number">13</span>, <span class="number">83</span>, <span class="number">86</span>, <span class="number">27</span>, <span class="number">0</span>, <span class="number">37</span>, <span class="number">41</span>, <span class="number">42</span>,</span><br><span class="line">         <span class="number">13</span>, <span class="number">50</span>, <span class="number">45</span>, <span class="number">97</span>, <span class="number">36</span>, <span class="number">96</span>, <span class="number">87</span>, <span class="number">59</span>, <span class="number">57</span>, <span class="number">42</span>, <span class="number">36</span>, <span class="number">85</span>, <span class="number">17</span>, <span class="number">55</span>, <span class="number">98</span>],</span><br><span class="line">        [<span class="number">99</span>, <span class="number">85</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">44</span>, <span class="number">34</span>, <span class="number">39</span>, <span class="number">88</span>, <span class="number">35</span>, <span class="number">13</span>, <span class="number">26</span>, <span class="number">40</span>, <span class="number">0</span>, <span class="number">11</span>, <span class="number">19</span>,</span><br><span class="line">         <span class="number">10</span>, <span class="number">22</span>, <span class="number">28</span>, <span class="number">21</span>, <span class="number">52</span>, <span class="number">54</span>, <span class="number">91</span>, <span class="number">76</span>, <span class="number">78</span>, <span class="number">53</span>, <span class="number">66</span>, <span class="number">87</span>, <span class="number">17</span>, <span class="number">54</span>, <span class="number">87</span>],</span><br><span class="line">        [<span class="number">80</span>, <span class="number">66</span>, <span class="number">29</span>, <span class="number">77</span>, <span class="number">41</span>, <span class="number">92</span>, <span class="number">61</span>, <span class="number">25</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">47</span>, <span class="number">39</span>, <span class="number">92</span>, <span class="number">0</span>, <span class="number">30</span>,</span><br><span class="line">         <span class="number">37</span>, <span class="number">10</span>, <span class="number">81</span>, <span class="number">59</span>, <span class="number">24</span>, <span class="number">75</span>, <span class="number">74</span>, <span class="number">34</span>, <span class="number">65</span>, <span class="number">82</span>, <span class="number">53</span>, <span class="number">100</span>, <span class="number">82</span>, <span class="number">69</span>, <span class="number">92</span>],</span><br><span class="line">        [<span class="number">87</span>, <span class="number">73</span>, <span class="number">97</span>, <span class="number">59</span>, <span class="number">72</span>, <span class="number">77</span>, <span class="number">34</span>, <span class="number">86</span>, <span class="number">57</span>, <span class="number">90</span>, <span class="number">10</span>, <span class="number">74</span>, <span class="number">38</span>, <span class="number">18</span>, <span class="number">0</span>,</span><br><span class="line">         <span class="number">90</span>, <span class="number">19</span>, <span class="number">55</span>, <span class="number">17</span>, <span class="number">71</span>, <span class="number">63</span>, <span class="number">95</span>, <span class="number">83</span>, <span class="number">88</span>, <span class="number">45</span>, <span class="number">32</span>, <span class="number">40</span>, <span class="number">51</span>, <span class="number">70</span>, <span class="number">71</span>],</span><br><span class="line">        [<span class="number">78</span>, <span class="number">51</span>, <span class="number">43</span>, <span class="number">92</span>, <span class="number">50</span>, <span class="number">81</span>, <span class="number">91</span>, <span class="number">59</span>, <span class="number">11</span>, <span class="number">48</span>, <span class="number">52</span>, <span class="number">58</span>, <span class="number">30</span>, <span class="number">79</span>, <span class="number">48</span>,</span><br><span class="line">         <span class="number">0</span>, <span class="number">26</span>, <span class="number">28</span>, <span class="number">52</span>, <span class="number">17</span>, <span class="number">24</span>, <span class="number">11</span>, <span class="number">63</span>, <span class="number">55</span>, <span class="number">46</span>, <span class="number">76</span>, <span class="number">59</span>, <span class="number">32</span>, <span class="number">43</span>, <span class="number">96</span>],</span><br><span class="line">        [<span class="number">77</span>, <span class="number">64</span>, <span class="number">11</span>, <span class="number">77</span>, <span class="number">89</span>, <span class="number">64</span>, <span class="number">23</span>, <span class="number">31</span>, <span class="number">81</span>, <span class="number">43</span>, <span class="number">55</span>, <span class="number">30</span>, <span class="number">38</span>, <span class="number">92</span>, <span class="number">63</span>,</span><br><span class="line">         <span class="number">67</span>, <span class="number">0</span>, <span class="number">100</span>, <span class="number">31</span>, <span class="number">40</span>, <span class="number">59</span>, <span class="number">39</span>, <span class="number">41</span>, <span class="number">35</span>, <span class="number">72</span>, <span class="number">19</span>, <span class="number">37</span>, <span class="number">12</span>, <span class="number">76</span>, <span class="number">65</span>],</span><br><span class="line">        [<span class="number">33</span>, <span class="number">80</span>, <span class="number">18</span>, <span class="number">86</span>, <span class="number">35</span>, <span class="number">18</span>, <span class="number">81</span>, <span class="number">22</span>, <span class="number">32</span>, <span class="number">47</span>, <span class="number">72</span>, <span class="number">43</span>, <span class="number">60</span>, <span class="number">73</span>, <span class="number">88</span>,</span><br><span class="line">         <span class="number">49</span>, <span class="number">30</span>, <span class="number">0</span>, <span class="number">13</span>, <span class="number">46</span>, <span class="number">84</span>, <span class="number">72</span>, <span class="number">25</span>, <span class="number">15</span>, <span class="number">88</span>, <span class="number">22</span>, <span class="number">69</span>, <span class="number">60</span>, <span class="number">97</span>, <span class="number">97</span>],</span><br><span class="line">        [<span class="number">57</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">33</span>, <span class="number">74</span>, <span class="number">36</span>, <span class="number">24</span>, <span class="number">49</span>, <span class="number">32</span>, <span class="number">11</span>, <span class="number">48</span>, <span class="number">38</span>, <span class="number">56</span>, <span class="number">20</span>, <span class="number">60</span>,</span><br><span class="line">         <span class="number">24</span>, <span class="number">16</span>, <span class="number">69</span>, <span class="number">0</span>, <span class="number">60</span>, <span class="number">27</span>, <span class="number">98</span>, <span class="number">33</span>, <span class="number">26</span>, <span class="number">73</span>, <span class="number">37</span>, <span class="number">40</span>, <span class="number">83</span>, <span class="number">29</span>, <span class="number">89</span>],</span><br><span class="line">        [<span class="number">83</span>, <span class="number">79</span>, <span class="number">23</span>, <span class="number">58</span>, <span class="number">33</span>, <span class="number">65</span>, <span class="number">76</span>, <span class="number">97</span>, <span class="number">65</span>, <span class="number">17</span>, <span class="number">93</span>, <span class="number">87</span>, <span class="number">66</span>, <span class="number">25</span>, <span class="number">95</span>,</span><br><span class="line">         <span class="number">28</span>, <span class="number">90</span>, <span class="number">78</span>, <span class="number">33</span>, <span class="number">0</span>, <span class="number">64</span>, <span class="number">90</span>, <span class="number">41</span>, <span class="number">12</span>, <span class="number">74</span>, <span class="number">30</span>, <span class="number">100</span>, <span class="number">86</span>, <span class="number">73</span>, <span class="number">49</span>],</span><br><span class="line">        [<span class="number">57</span>, <span class="number">66</span>, <span class="number">50</span>, <span class="number">82</span>, <span class="number">42</span>, <span class="number">56</span>, <span class="number">54</span>, <span class="number">61</span>, <span class="number">55</span>, <span class="number">65</span>, <span class="number">23</span>, <span class="number">98</span>, <span class="number">78</span>, <span class="number">54</span>, <span class="number">44</span>,</span><br><span class="line">         <span class="number">17</span>, <span class="number">60</span>, <span class="number">89</span>, <span class="number">17</span>, <span class="number">44</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">48</span>, <span class="number">40</span>, <span class="number">100</span>, <span class="number">44</span>, <span class="number">58</span>, <span class="number">11</span>, <span class="number">55</span>, <span class="number">25</span>],</span><br><span class="line">        [<span class="number">88</span>, <span class="number">18</span>, <span class="number">94</span>, <span class="number">98</span>, <span class="number">32</span>, <span class="number">55</span>, <span class="number">20</span>, <span class="number">40</span>, <span class="number">90</span>, <span class="number">52</span>, <span class="number">80</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">89</span>, <span class="number">60</span>,</span><br><span class="line">         <span class="number">72</span>, <span class="number">20</span>, <span class="number">59</span>, <span class="number">77</span>, <span class="number">31</span>, <span class="number">83</span>, <span class="number">0</span>, <span class="number">83</span>, <span class="number">51</span>, <span class="number">90</span>, <span class="number">48</span>, <span class="number">63</span>, <span class="number">48</span>, <span class="number">42</span>, <span class="number">36</span>],</span><br><span class="line">        [<span class="number">98</span>, <span class="number">51</span>, <span class="number">76</span>, <span class="number">52</span>, <span class="number">42</span>, <span class="number">80</span>, <span class="number">57</span>, <span class="number">36</span>, <span class="number">98</span>, <span class="number">64</span>, <span class="number">28</span>, <span class="number">25</span>, <span class="number">18</span>, <span class="number">62</span>, <span class="number">22</span>,</span><br><span class="line">         <span class="number">59</span>, <span class="number">13</span>, <span class="number">95</span>, <span class="number">65</span>, <span class="number">69</span>, <span class="number">91</span>, <span class="number">28</span>, <span class="number">0</span>, <span class="number">88</span>, <span class="number">64</span>, <span class="number">38</span>, <span class="number">97</span>, <span class="number">66</span>, <span class="number">14</span>, <span class="number">96</span>],</span><br><span class="line">        [<span class="number">32</span>, <span class="number">20</span>, <span class="number">71</span>, <span class="number">94</span>, <span class="number">45</span>, <span class="number">93</span>, <span class="number">98</span>, <span class="number">10</span>, <span class="number">99</span>, <span class="number">78</span>, <span class="number">31</span>, <span class="number">35</span>, <span class="number">56</span>, <span class="number">18</span>, <span class="number">91</span>,</span><br><span class="line">         <span class="number">79</span>, <span class="number">23</span>, <span class="number">16</span>, <span class="number">55</span>, <span class="number">71</span>, <span class="number">53</span>, <span class="number">59</span>, <span class="number">75</span>, <span class="number">0</span>, <span class="number">58</span>, <span class="number">66</span>, <span class="number">11</span>, <span class="number">100</span>, <span class="number">81</span>, <span class="number">53</span>],</span><br><span class="line">        [<span class="number">68</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">62</span>, <span class="number">23</span>, <span class="number">74</span>, <span class="number">55</span>, <span class="number">11</span>, <span class="number">83</span>, <span class="number">64</span>, <span class="number">73</span>, <span class="number">57</span>, <span class="number">73</span>, <span class="number">45</span>, <span class="number">28</span>,</span><br><span class="line">         <span class="number">81</span>, <span class="number">40</span>, <span class="number">93</span>, <span class="number">78</span>, <span class="number">29</span>, <span class="number">97</span>, <span class="number">97</span>, <span class="number">36</span>, <span class="number">17</span>, <span class="number">0</span>, <span class="number">70</span>, <span class="number">77</span>, <span class="number">65</span>, <span class="number">75</span>, <span class="number">31</span>],</span><br><span class="line">        [<span class="number">45</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">84</span>, <span class="number">72</span>, <span class="number">22</span>, <span class="number">47</span>, <span class="number">93</span>, <span class="number">46</span>, <span class="number">37</span>, <span class="number">85</span>, <span class="number">89</span>, <span class="number">32</span>, <span class="number">92</span>, <span class="number">59</span>,</span><br><span class="line">         <span class="number">93</span>, <span class="number">62</span>, <span class="number">12</span>, <span class="number">80</span>, <span class="number">21</span>, <span class="number">91</span>, <span class="number">80</span>, <span class="number">49</span>, <span class="number">35</span>, <span class="number">90</span>, <span class="number">0</span>, <span class="number">68</span>, <span class="number">54</span>, <span class="number">17</span>, <span class="number">45</span>],</span><br><span class="line">        [<span class="number">21</span>, <span class="number">49</span>, <span class="number">13</span>, <span class="number">58</span>, <span class="number">100</span>, <span class="number">98</span>, <span class="number">56</span>, <span class="number">12</span>, <span class="number">74</span>, <span class="number">13</span>, <span class="number">87</span>, <span class="number">36</span>, <span class="number">48</span>, <span class="number">59</span>, <span class="number">55</span>,</span><br><span class="line">         <span class="number">71</span>, <span class="number">21</span>, <span class="number">70</span>, <span class="number">45</span>, <span class="number">38</span>, <span class="number">63</span>, <span class="number">91</span>, <span class="number">99</span>, <span class="number">100</span>, <span class="number">41</span>, <span class="number">38</span>, <span class="number">0</span>, <span class="number">91</span>, <span class="number">13</span>, <span class="number">48</span>],</span><br><span class="line">        [<span class="number">69</span>, <span class="number">59</span>, <span class="number">58</span>, <span class="number">28</span>, <span class="number">25</span>, <span class="number">98</span>, <span class="number">54</span>, <span class="number">39</span>, <span class="number">75</span>, <span class="number">33</span>, <span class="number">60</span>, <span class="number">52</span>, <span class="number">35</span>, <span class="number">43</span>, <span class="number">15</span>,</span><br><span class="line">         <span class="number">34</span>, <span class="number">90</span>, <span class="number">58</span>, <span class="number">62</span>, <span class="number">34</span>, <span class="number">11</span>, <span class="number">23</span>, <span class="number">41</span>, <span class="number">50</span>, <span class="number">81</span>, <span class="number">75</span>, <span class="number">83</span>, <span class="number">0</span>, <span class="number">60</span>, <span class="number">54</span>],</span><br><span class="line">        [<span class="number">36</span>, <span class="number">44</span>, <span class="number">92</span>, <span class="number">14</span>, <span class="number">41</span>, <span class="number">100</span>, <span class="number">17</span>, <span class="number">19</span>, <span class="number">89</span>, <span class="number">43</span>, <span class="number">30</span>, <span class="number">27</span>, <span class="number">65</span>, <span class="number">80</span>, <span class="number">65</span>,</span><br><span class="line">         <span class="number">81</span>, <span class="number">35</span>, <span class="number">90</span>, <span class="number">17</span>, <span class="number">75</span>, <span class="number">26</span>, <span class="number">89</span>, <span class="number">13</span>, <span class="number">63</span>, <span class="number">16</span>, <span class="number">35</span>, <span class="number">22</span>, <span class="number">86</span>, <span class="number">0</span>, <span class="number">19</span>],</span><br><span class="line">        [<span class="number">85</span>, <span class="number">23</span>, <span class="number">52</span>, <span class="number">95</span>, <span class="number">40</span>, <span class="number">77</span>, <span class="number">71</span>, <span class="number">81</span>, <span class="number">45</span>, <span class="number">66</span>, <span class="number">47</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">69</span>, <span class="number">11</span>,</span><br><span class="line">         <span class="number">22</span>, <span class="number">22</span>, <span class="number">86</span>, <span class="number">90</span>, <span class="number">35</span>, <span class="number">33</span>, <span class="number">12</span>, <span class="number">36</span>, <span class="number">51</span>, <span class="number">86</span>, <span class="number">43</span>, <span class="number">59</span>, <span class="number">65</span>, <span class="number">64</span>, <span class="number">0</span>]])</span><br></pre></td></tr></table></figure><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: è¾“å…¥åŸå¸‚è·ç¦»çŸ©é˜µe1=>end: ç®—æ³•ç»“æŸ, å¾—åˆ°ç»“æœop1=>operation: éšæœºåˆå§‹åŒ–è¡Œèµ°è·¯å¾„op2=>operation: é€šè¿‡2å˜æ¢æ³•ç”Ÿæˆæ–°è·¯å¾„op3=>operation: æ¥å—æ–°è§£op4=>operation: æ”¹å˜æ¸©åº¦å‚æ•°cond1=>condition: ç”¨Metropolisç®—æ³•åˆ¤æ–­æ˜¯å¦æ¥å—æ–°è§£?cond2=>condition: æ˜¯å¦è¿ç»­ä¸¤æ¬¡Mapkobé“¾è·¯å¾„æ— å˜åŒ–?st->op1->op2->cond1cond1(yes)->op3cond1(no)->op4op3->op4->cond2cond2(yes)->e1cond2(no)->op1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computational intelligence </tag>
            
            <tag> TSP </tag>
            
            <tag> SA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>face recognition lab report</title>
      <link href="/blog/2018/10/16/face-recognition-lab-report/"/>
      <url>/blog/2018/10/16/face-recognition-lab-report/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜åˆ†æ"><a class="header-anchor" href="#é—®é¢˜åˆ†æ">#</a>é—®é¢˜åˆ†æ</h2><h3 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h3><p>åœ¨ç»™å®šçš„Yaleäººè„¸æ•°æ®é›†ä¸Šè¿›è¡Œäººè„¸è¯†åˆ«. è¾“å…¥ä¸€å¼ å¾…æµ‹è¯•çš„äººè„¸å›¾ç‰‡, åˆ¤æ–­å…¶å±äºæ•°æ®åº“ä¸­å“ªä¸ªäººçš„è„¸.</p><h3 id="æ•°æ®é›†åˆ†æ"><a class="header-anchor" href="#æ•°æ®é›†åˆ†æ">#</a>æ•°æ®é›†åˆ†æ</h3><p>Yaleäººè„¸æ•°æ®é›†ä¸­åŒ…å«æœ‰165å¼ <code>bmp</code>æ ¼å¼çš„é»‘ç™½äººè„¸å›¾åƒ, å›¾åƒå¤§å°ä¸º<code>100*100</code>åƒç´ , è¿™äº›å›¾åƒåˆ†åˆ«å±äº15ä¸ªäºº, æ¯äºº11å¼ å›¾åƒ.</p><a id="more"></a><h2 id="ç°æœ‰æ–¹æ³•"><a class="header-anchor" href="#ç°æœ‰æ–¹æ³•">#</a>ç°æœ‰æ–¹æ³•</h2><h3 id="ä¼ ç»Ÿæ–¹æ³•"><a class="header-anchor" href="#ä¼ ç»Ÿæ–¹æ³•">#</a>ä¼ ç»Ÿæ–¹æ³•</h3><p>ä¼ ç»Ÿçš„æ–¹æ³•æ˜¯å…ˆå¯¹å›¾åƒè¿›è¡Œå¤„ç†å, å¯¹å›¾åƒçš„ç‰¹å¾è¿›è¡Œæå–, ç„¶åç”¨åˆ†ç±»å™¨å¯¹å›¾åƒè¿›è¡Œåˆ†ç±», æœ€åè¯†åˆ«å‡ºå›¾åƒçš„æ–¹æ³•.</p><h4 id="ç‰¹å¾æå–"><a class="header-anchor" href="#ç‰¹å¾æå–">#</a>ç‰¹å¾æå–</h4><ul><li>å¼¹æ€§æ¨¡ç‰ˆ<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></li></ul><blockquote><p>ä¸ºäººè„¸å»ºç«‹å±æ€§æ‹“æ‰‘å›¾æ¥è¡¨ç¤ºäººè„¸å„å™¨å®˜ä¹‹é—´çš„æ‹“æ‰‘ç»“æ„, å®é™…ä¸Šæ˜¯åŸºäºå‡ ä½•ç‰¹å¾å’Œå¯¹ç°åº¦åˆ†å¸ƒä¿¡æ¯è¿›è¡Œå°æ³¢çº¹ç†åˆ†æç›¸ç»“åˆçš„æ–¹æ³•.</p></blockquote><p>è¯¥æ–¹æ³•å¯¹åˆå§‹å‚æ•°è¦æ±‚é«˜, å®ç°è¾ƒå¤æ‚</p><ul><li>ç‰¹å¾è„¸(PCA)<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></li></ul><blockquote><p>å°†å›¾åƒç”±é«˜ç»´æŠ•å½±åˆ°ä½ç»´å½¢æˆç‰¹å¾çŸ¢é‡, æ‰€æœ‰å­ç©ºé—´çš„æ­£äº¤åŸºè¢«ç§°ä¸ºç‰¹å¾è„¸.</p></blockquote><p>è¯¥æ–¹æ³•é€Ÿåº¦å¿«, ä½†é²æ£’æ€§è¾ƒå·®, å—è¡¨æƒ…ã€å…‰å¼ºå’Œè§†è§’çš„å˜åŒ–å½±å“è¾ƒå¤§.</p><ul><li>å°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢(SIFT)<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></li></ul><blockquote><p>åœ¨æ¯ä¸ªç‰¹å¾ç‚¹å‘¨å›´çš„é¢†åŸŸå†…, åœ¨é€‰å®šçš„å°ºåº¦ä¸Šæµ‹é‡å›¾åƒçš„å±€éƒ¨æ¢¯åº¦, è®¡ç®—æ¢¯åº¦ç›´æ–¹å›¾ç”Ÿæˆå…·æœ‰ç‹¬ç‰¹æ€§çš„å‘é‡.</p></blockquote><p>å…·æœ‰å°ºåº¦ä¸å˜æ€§çš„ä¼˜ç‚¹, å¹¶ä¸”æŠ—é®æŒ¡. ç¼ºç‚¹æ˜¯è®¡ç®—é‡è¾ƒå¤§, å¦‚æœä¸å€ŸåŠ©ç¡¬ä»¶åŠ é€Ÿæˆ–ä¸“é—¨çš„å›¾åƒå¤„ç†å™¨å¾ˆéš¾å®ç°.</p><ul><li>æ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾(HOG)<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li></ul><blockquote><p>å°†å›¾åƒåˆ†å‰²æˆcell, ç„¶åé‡‡é›†cellä¸­å„åƒç´ ç‚¹æ¢¯åº¦æ–¹å‘çš„ç›´æ–¹å›¾, æŠŠç›´æ–¹å›¾ç»„åˆèµ·æ¥å°±å¯ä»¥æ„æˆå›¾åƒç‰¹å¾.</p></blockquote><p>è¯¥æ–¹æ³•å¯¹å›¾åƒçš„é¢œè‰²ä¿¡æ¯å’Œå…‰å­¦å˜åŒ–å…·æœ‰ä¸å˜æ€§, ä½†å¯¹å™ªå£°æ¯”è¾ƒæ•æ„Ÿ.</p><ul><li>å±€éƒ¨äºŒå€¼æ¨¡å¼(LBP)<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></li></ul><blockquote><p>å°†æŸä¸­å¿ƒåƒç´ çš„ç°åº¦å€¼å’Œå…¶ç›¸é‚»çš„8ä¸ªåƒç´ ä½œæ¯”è¾ƒ, ç”ŸæˆLBPç ç”¨æ¥åæ˜ çº¹ç†ä¿¡æ¯.</p></blockquote><p>å®ƒå…·æœ‰æ—‹è½¬å’Œç°åº¦ä¸å˜æ€§çš„ä¼˜ç‚¹, å¯¹æ–¹å‘ä¿¡æ¯æ¯”è¾ƒæ•æ„Ÿ, ä¸€èˆ¬ç”¨äºå¤„ç†8ä½æˆ–16ä½çš„å›¾ç‰‡.</p><h4 id="åˆ†ç±»å™¨"><a class="header-anchor" href="#åˆ†ç±»å™¨">#</a>åˆ†ç±»å™¨</h4><ul><li>æœ€é‚»è¿‘åˆ†ç±»å™¨<sup class="footnote-ref"><a href="#fn6" id="fnref6">[6]</a></sup></li></ul><blockquote><p>å®šä¹‰ä¸€ä¸ªè·ç¦»åº¦é‡, ä»¥æµ‹è¯•æ ·æœ¬æœ€è¿‘çš„kä¸ªæ ·æœ¬çš„ä¸»è¦ç±»åˆ«ä½œä¸ºæµ‹è¯•æ ·æœ¬çš„ç±»åˆ«.</p></blockquote><ul><li>çº¿æ€§åˆ¤åˆ«å¼åˆ†æ(LDA)<sup class="footnote-ref"><a href="#fn7" id="fnref7">[7]</a></sup></li></ul><blockquote><p>å‡è®¾æ•°æ®ä¸ºå‡å€¼ä¸åŒã€æ–¹å·®ç›¸åŒçš„é«˜æ–¯åˆ†å¸ƒ, æ‰¾å‡ºæœ€ä¼˜å†³ç­–é¢.</p></blockquote><ul><li>é€»è¾‘å›å½’(Logistic Regression)<sup class="footnote-ref"><a href="#fn8" id="fnref8">[8]</a></sup></li></ul><blockquote><p>å‡è®¾åéªŒæ¦‚ç‡ä¸ºLogistics åˆ†å¸ƒ, æ ¹æ®è´å¶æ–¯ç†è®ºè®¡ç®—æŸä¸€ç±»çš„æ¦‚ç‡.</p></blockquote><ul><li>æ”¯æŒå‘é‡æœº(SVM)<sup class="footnote-ref"><a href="#fn9" id="fnref9">[9]</a></sup></li></ul><blockquote><p>æœ€å°åŒ–ç±»é—´çš„æœ€å¤§é—´éš”å¾—åˆ°æœ€ä¼˜å†³ç­–é¢. å¯¹æ•°æ®åˆ†å¸ƒçš„è¦æ±‚ä½, é€‚ç”¨æ€§æ›´å¹¿.</p></blockquote><h3 id="ç¥ç»ç½‘ç»œæ–¹æ³•"><a class="header-anchor" href="#ç¥ç»ç½‘ç»œæ–¹æ³•">#</a>ç¥ç»ç½‘ç»œæ–¹æ³•</h3><p>ç¥ç»ç½‘ç»œæ–¹æ³•éœ€è¦å¤§é‡çš„æ•°æ®, ä¸ç¬¦åˆæœ¬å®éªŒçš„æ¡ä»¶.</p><h3 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h3><p>ç»¼åˆä»¥ä¸Šåˆ†æ, æˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº†<code>HOG+SVM</code>çš„æ–¹æ³•.</p><h2 id="å®éªŒè¿‡ç¨‹"><a class="header-anchor" href="#å®éªŒè¿‡ç¨‹">#</a>å®éªŒè¿‡ç¨‹</h2><h3 id="ç¼–ç¨‹è¯­è¨€ä»‹ç»"><a class="header-anchor" href="#ç¼–ç¨‹è¯­è¨€ä»‹ç»">#</a>ç¼–ç¨‹è¯­è¨€ä»‹ç»</h3><p>æœ¬å®éªŒæ‰€é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ä¸º<code>Matlab</code>, ç¼–ç¨‹è½¯ä»¶ä¸º<code>Matlab 2018b</code>.</p><h3 id="æ•°æ®é›†é¢„å¤„ç†"><a class="header-anchor" href="#æ•°æ®é›†é¢„å¤„ç†">#</a>æ•°æ®é›†é¢„å¤„ç†</h3><p>å¯¹æ¯ä¸ªäººé€‰å–1å¼ ä½œä¸ºæµ‹è¯•æ ·æœ¬, å…¶ä½™10å¼ ä½œä¸ºè®­ç»ƒæ ·æœ¬. å› æ­¤æœ€ç»ˆçš„è®­ç»ƒé›†åŒ…å«150å¼ å›¾åƒ, æµ‹è¯•é›†ä¸º15å¼ .</p><h3 id="ç¨‹åºç¼–å†™"><a class="header-anchor" href="#ç¨‹åºç¼–å†™">#</a>ç¨‹åºç¼–å†™</h3><h4 id="svmæ„é€ 15ä¸ªäºŒåˆ†ç±»å™¨"><a class="header-anchor" href="#svmæ„é€ 15ä¸ªäºŒåˆ†ç±»å™¨">#</a>SVMæ„é€ 15ä¸ªäºŒåˆ†ç±»å™¨</h4><p>æ„é€ 15ä¸ªåˆ†ç±»å™¨, æ¯ä¸€ä¸ªåˆ†ç±»å™¨ç”¨10å¼ ä½œä¸ºæ­£æ ·æœ¬, å…¶ä½™140å¼ ä½œä¸ºè¯¥åˆ†ç±»å™¨çš„è´Ÿæ ·æœ¬, ç„¶åè¿›è¡Œè®­ç»ƒ. æœ€ç»ˆå¾—åˆ°15ä¸ªåˆ†ç±»å™¨, ç”¨äºåˆ†åˆ«è¯†åˆ«æ˜¯å¦ä¸º15ä¸ªäººçš„å›¾åƒ.</p><h4 id="hog-svmæ„é€ 15ä¸ªäºŒåˆ†ç±»å™¨"><a class="header-anchor" href="#hog-svmæ„é€ 15ä¸ªäºŒåˆ†ç±»å™¨">#</a>HOG+SVMæ„é€ 15ä¸ªäºŒåˆ†ç±»å™¨</h4><p>å’Œä¹‹å‰çš„æ–¹æ³•ç›¸åŒ, åœ¨å›¾åƒè¢«åŠ å…¥åˆ†ç±»å™¨ä¸­è¿›è¡Œè®­ç»ƒä¹‹å‰, å…ˆå°†å›¾åƒçš„å¤§å°è½¬æ¢ä¸º<code>256*256</code>, ç„¶åæå–å‡ºHOGç‰¹å¾, é‡å¤ä¸Šè¿°å®éªŒ.<br><code>extractHOGFeatures</code><sup class="footnote-ref"><a href="#fn10" id="fnref10">[10]</a></sup>æ˜¯Matlabé¢„å…ˆå®ç°å¥½çš„æ–¹æ³•, é€‰å–<code>cell</code>ä¸º<code>8*8</code>, <code>block</code>ä¸º<code>2*2</code>.<br>å›¾ä¸€ä¸º<code>s1.bmp</code>å’Œå®ƒçš„HOGç‰¹å¾å›¾:</p><center><p><img src="https://onns.xyz/blog/image/20181017-1.jpg" alt="åŸå›¾ä»¥åŠHOGç‰¹å¾å›¾"></p><p>å›¾1 åŸå›¾ä»¥åŠHOGç‰¹å¾å›¾</p></center><h4 id="hog-svmæ„é€ å¤šåˆ†ç±»å™¨"><a class="header-anchor" href="#hog-svmæ„é€ å¤šåˆ†ç±»å™¨">#</a>HOG+SVMæ„é€ å¤šåˆ†ç±»å™¨</h4><p>åœ¨è®­ç»ƒå›¾åƒå¼€å§‹ä¹‹å‰, å°†HOGç‰¹å¾å›¾å’Œç‰¹å¾å›¾å¯¹åº”çš„æ ‡ç­¾(å³å¯¹åº”çš„äººè„¸çš„æ ‡å·1-15)ä¼ å…¥<code>fitcecoc</code><sup class="footnote-ref"><a href="#fn11" id="fnref11">[11]</a></sup>å‡½æ•°å³å¯è®­ç»ƒå¾—åˆ°ä¸€ä¸ªå¤šæ ‡ç­¾çš„SVM, å¯¹äºç»™å®šçš„æµ‹è¯•æ ·ä¾‹, å¯ä»¥ç»™å‡ºæ ·ä¾‹æ‰€å¯¹åº”çš„æ ‡ç­¾.</p><h2 id="å®éªŒç»“æœ"><a class="header-anchor" href="#å®éªŒç»“æœ">#</a>å®éªŒç»“æœ</h2><h3 id="å®éªŒè¿‡ç¨‹è¯´æ˜"><a class="header-anchor" href="#å®éªŒè¿‡ç¨‹è¯´æ˜">#</a>å®éªŒè¿‡ç¨‹è¯´æ˜</h3><p>ç”±äºå‰ä¸€ä¸ªå®éªŒæ–¹æ³•å¹¶ä¸èƒ½åˆ°è¾¾ç†æƒ³çš„100%å‡†ç¡®ç‡, æ‰€ä»¥æ”¹å˜äº†ä¸åŒçš„æ–¹æ³•é‡æ–°å®ç°, æœ€ç»ˆæœ‰ä¸‰ç§ä¸åŒçš„å®éªŒæ–¹æ³•.<br>ä¸‹è¿°å®éªŒç»“æœå¦‚æ— ç‰¹æ®Šè¯´æ˜, éƒ½æ˜¯æŒ‰ç…§<code>è®­ç»ƒé›†10:æµ‹è¯•é›†1</code>è¿›è¡Œçš„å®éªŒ, å®éªŒç»“æœä¸º<code>1æ¬¡</code>å®éªŒçš„ç»“æœ.</p><h3 id="ä¸åŒå®éªŒæ–¹æ³•ç»“æœå¯¹æ¯”"><a class="header-anchor" href="#ä¸åŒå®éªŒæ–¹æ³•ç»“æœå¯¹æ¯”">#</a>ä¸åŒå®éªŒæ–¹æ³•ç»“æœå¯¹æ¯”</h3><center>è¡¨1 å®éªŒç»“æœ</center><table><thead><tr><th style="text-align:left">å®éªŒæ–¹æ³•</th><th style="text-align:center">å‡†ç¡®ç‡</th><th style="text-align:center">ç¨‹åºè¿è¡Œæ—¶é—´</th></tr></thead><tbody><tr><td style="text-align:left">SVM</td><td style="text-align:center">93.333%</td><td style="text-align:center">27.485s</td></tr><tr><td style="text-align:left">SVM+HOG binary</td><td style="text-align:center">93.333%</td><td style="text-align:center"><font color=#ff0000>4.928s</font></td></tr><tr><td style="text-align:left">SVM+HOG</td><td style="text-align:center"><font color=#ff0000>100%</font></td><td style="text-align:center">11.556s</td></tr></tbody></table><p>å®éªŒç»“æœå¦‚è¡¨1æ‰€ç¤º, åœ¨å‡†ç¡®ç‡ä¸Š, <code>SVM+HOGå¤šåˆ†ç±»</code>çš„æ–¹æ³•åœ¨å‡†ç¡®ç‡ä¸Šåˆæ­¥è¾¾åˆ°äº†<code>100%</code>, ä½†ä»éœ€è¦åç»­çš„å¤šæ¬¡å®éªŒè¯æ˜; åœ¨ç¨‹åºè¿è¡Œæ—¶é—´ä¸Š, <code>SVM+HOGäºŒåˆ†ç±»</code>çš„æ–¹æ³•è€—æ—¶æœ€å°‘, ä¸ç¬¬ä¸€ç§æ–¹æ³•ç›¸å¯¹æ¯”, æå–çš„ç‰¹å¾å›¾è¾ƒåŸå›¾åƒç›¸æ¯”, æ›´å®¹æ˜“å¾—åˆ°ç‰¹å¾, æ›´å®¹æ˜“è®­ç»ƒ, ä¸ç¬¬ä¸‰ç§æ–¹æ³•ç›¸å¯¹æ¯”, äºŒåˆ†ç±»å™¨åªéœ€è¦åˆ¤æ–­<code>æ˜¯æˆ–ä¸æ˜¯</code>çš„é—®é¢˜, è¾ƒ<code>æ˜¯å“ªä¸ª</code>è¿™ä¸ªé—®é¢˜æ¥è¯´ç›¸å¯¹ç®€å•, æ•…æ¶ˆè€—æ—¶é—´æœ€å°‘.</p><h3 id="svm-hogå¤šåˆ†ç±»"><a class="header-anchor" href="#svm-hogå¤šåˆ†ç±»">#</a>SVM+HOGå¤šåˆ†ç±»</h3><p>ä¸€æ¬¡å®éªŒçš„ç»“æœå…·æœ‰éšæœºæ€§, æ•…å–<code>10æ¬¡</code>å®éªŒçš„<code>å¹³å‡å€¼</code>å¹¶æ”¹å˜è®­ç»ƒé›†ä¸æµ‹è¯•é›†çš„æ¯”ä¾‹, å¾—åˆ°çš„ç»“æœå¦‚è¡¨2æ‰€ç¤º.</p><center>è¡¨2 10æ¬¡éšæœºå®éªŒç»“æœå¹³å‡å€¼</center><table><thead><tr><th style="text-align:center">è®­ç»ƒé›†:æµ‹è¯•é›†</th><th style="text-align:center">å‡†ç¡®ç‡</th><th style="text-align:center">ç¨‹åºè¿è¡Œæ—¶é—´</th></tr></thead><tbody><tr><td style="text-align:center">10:1</td><td style="text-align:center">100.00%</td><td style="text-align:center">7.7176s</td></tr><tr><td style="text-align:center">9:2</td><td style="text-align:center">99.50%</td><td style="text-align:center">8.1220s</td></tr><tr><td style="text-align:center">8:3</td><td style="text-align:center">99.78%</td><td style="text-align:center">8.4686s</td></tr><tr><td style="text-align:center">7:4</td><td style="text-align:center">99.50%</td><td style="text-align:center">9.2287s</td></tr><tr><td style="text-align:center">6:5</td><td style="text-align:center">95.73%</td><td style="text-align:center">9.7408s</td></tr></tbody></table><h3 id="å®éªŒç»“æœåˆ†æ"><a class="header-anchor" href="#å®éªŒç»“æœåˆ†æ">#</a>å®éªŒç»“æœåˆ†æ</h3><p><code>SVMåˆ†ç±»</code>æ–¹æ³•è®­ç»ƒçš„åˆ†ç±»å™¨æœªèƒ½è¯†åˆ«çš„å›¾åƒéƒ½æ˜¯å•ä¾§å…‰ç…§ä¸‹çš„å›¾åƒ, æ•…åç»­æ”¹è¿›æ—¶å¢åŠ äº†å¯¹<code>å…‰ç…§ä¸æ•æ„Ÿ</code>çš„HOGç‰¹æ€§æ¥è¿›è¡Œè®­ç»ƒ; <code>HOG+SVMäºŒåˆ†ç±»</code>æ–¹æ³•å­˜åœ¨ç€<code>æ ·æœ¬ä¸å¯¹ç§°</code>çš„é—®é¢˜, ä¹Ÿæœªèƒ½è¾¾åˆ°ç†æƒ³çš„å®éªŒæ•ˆæœ; <code>SVM+HOGå¤šåˆ†ç±»å™¨</code>æ–¹æ³•åœ¨<code>å¯¹å…‰ç…§ä¸æ•æ„Ÿ</code>çš„åŒæ—¶, ä¹Ÿä¸å­˜åœ¨<code>æ ·æœ¬ä¸å¯¹ç§°</code>çš„é—®é¢˜, æœ€ç»ˆè¾¾åˆ°äº†é¢„æœŸçš„å®éªŒç»“æœ, å³<code>100%</code>çš„å‡†ç¡®ç‡.</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="http://www.arocmag.com/getarticle/?aid=8d1cc55eca76ad42" target="_blank" rel="noopener">äººè„¸è¯†åˆ«ç ”ç©¶ç»¼è¿°</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://blog.csdn.net/liulina603/article/details/7925170" target="_blank" rel="noopener">äººè„¸è¯†åˆ«ä¸»è¦ç®—æ³•åŸç†</a> <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://www.zhihu.com/question/45833619" target="_blank" rel="noopener">Scale-Invariant Feature Taransform</a> <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://www.zhihu.com/question/45833619" target="_blank" rel="noopener">Histogram of Oriented Gradient</a> <a href="#fnref4" class="footnote-backref">â†©ï¸</a></p></li><li id="fn5" class="footnote-item"><p><a href="https://www.zhihu.com/question/45833619" target="_blank" rel="noopener">Local Binary Pattern</a> <a href="#fnref5" class="footnote-backref">â†©ï¸</a></p></li><li id="fn6" class="footnote-item"><p><a href="https://blog.csdn.net/u013146742/article/details/52356560" target="_blank" rel="noopener">æœ€é‚»è¿‘åˆ†ç±»å™¨</a> <a href="#fnref6" class="footnote-backref">â†©ï¸</a></p></li><li id="fn7" class="footnote-item"><p><a href="https://blog.csdn.net/u013146742/article/details/52356560" target="_blank" rel="noopener">Linear Discriminant Analysis</a> <a href="#fnref7" class="footnote-backref">â†©ï¸</a></p></li><li id="fn8" class="footnote-item"><p><a href="https://blog.csdn.net/liulina603/article/details/78676723" target="_blank" rel="noopener">Logistic Regression</a> <a href="#fnref8" class="footnote-backref">â†©ï¸</a></p></li><li id="fn9" class="footnote-item"><p><a href="https://blog.csdn.net/liugan528/article/details/79448379" target="_blank" rel="noopener">Support Vector Machine</a> <a href="#fnref9" class="footnote-backref">â†©ï¸</a></p></li><li id="fn10" class="footnote-item"><p><a href="http://ww2.mathworks.cn/help/vision/ref/extracthogfeatures.html" target="_blank" rel="noopener">Extract histogram of oriented gradients (HOG) features</a> <a href="#fnref10" class="footnote-backref">â†©ï¸</a></p></li><li id="fn11" class="footnote-item"><p><a href="https://www.mathworks.com/help/stats/fitcecoc.html" target="_blank" rel="noopener">Fit multiclass models for support vector machines or other classifierscollapse</a> <a href="#fnref11" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computer vision </tag>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bimé¢„è§ˆ</title>
      <link href="/blog/2018/10/04/bim-preview/"/>
      <url>/blog/2018/10/04/bim-preview/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><a id="more"></a><center><p><canvas id="viewer" width="640" height="360"></canvas></p></center><script src="//docs.xbim.net/XbimWebUI/scripts/xbim-viewer.debug.bundle.js"></script><script type="text/javascript">    var canvas = document.getElementById('viewer');    var viewer = new xViewer('viewer');    viewer.load('//onns.xyz/attachment/m6.wexbim');    viewer.start();</script>]]></content>
      
      
      <categories>
          
          <category> bim </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bim </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæ’ä»¶æ•´ç†</title>
      <link href="/blog/2018/10/03/hexo-plugin-list/"/>
      <url>/blog/2018/10/03/hexo-plugin-list/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a class="header-anchor" href="#ä»‹ç»">#</a>ä»‹ç»</h2><p>hexoæœ‰å¾ˆå¤šå¾ˆå¥½ç”¨çš„æ’ä»¶, å¯ä»¥ä¼˜åŒ–å†™åšå®¢çš„ä½“éªŒ, å°¤å…¶æ˜¯å¯¹äºä¸€äº›æ•°å­¦å…¬ç¤ºæˆ–å›¾è¡¨çš„æ¸²æŸ“.</p><a id="more"></a><h2 id="å…¬å¼"><a class="header-anchor" href="#å…¬å¼">#</a>å…¬å¼</h2><p>ç½‘ä¸Šçš„å…³äºæ•°å­¦å…¬å¼æ¸²æŸ“çš„è§£å†³æ–¹æ¡ˆåŸºæœ¬éƒ½æ˜¯æ¢äº†hexoçš„é»˜è®¤markdownè§£æå·¥å…·, æˆ‘ä¸æ˜¯å¾ˆæƒ³è¿™æ ·ä¿®æ”¹, è¿˜æ˜¯æƒ³é‡‡ç”¨æ’ä»¶çš„æ–¹æ³•.<br><a href="https://github.com/hexojs/hexo-math" target="_blank" rel="noopener">hexo-math</a>æ˜¯ä¸€ä¸ªæ¸²æŸ“æ•°å­¦å…¬å¼çš„æ’ä»¶, è™½ç„¶ä»githubä¸Šçš„è¯„è®ºæ¥çœ‹, åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½å­˜åœ¨ä¸èƒ½æ¸²æŸ“çš„é—®é¢˜, ä¸è¿‡æŒ‰ç…§ä¸‹é¢çš„é…ç½®, åº”è¯¥å¯ä»¥æˆåŠŸå®ç°æ•°å­¦å…¬å¼çš„æ¸²æŸ“, å…ˆçœ‹ä¸€ä¸‹æ•ˆæœ.</p><h3 id="æ•ˆæœ"><a class="header-anchor" href="#æ•ˆæœ">#</a>æ•ˆæœ</h3><span>$$\begin{aligned}\dot{x} &amp; = \sigma(y-x) \\\dot{y} &amp; = \rho x - y - xz \\\dot{z} &amp; = -\beta z + xy\end{aligned}$$</span><!-- Has MathJax --><h3 id="é…ç½®"><a class="header-anchor" href="#é…ç½®">#</a>é…ç½®</h3><p>é¦–å…ˆé€šè¿‡npmå®‰è£…<code>hexo-math</code>, ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿ç»­æ‰§è¡Œä¸¤æ¬¡æ‰èƒ½æ‰§è¡ŒæˆåŠŸ.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-math --save</span><br><span class="line">npm install hexo-math --save</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ç½‘ç«™æ ¹ç›®å½•çš„<code>_config.yml</code>, æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">math:</span><br><span class="line">  engine: &#39;mathjax&#39; # or &#39;katex&#39;</span><br><span class="line">  mathjax:</span><br><span class="line">    src: &quot;&#x2F;&#x2F;cdn.mathjax.org&#x2F;mathjax&#x2F;latest&#x2F;MathJax.js?config&#x3D;TeX-AMS-MML_HTMLorMML&quot;</span><br><span class="line">    config:</span><br><span class="line">      # MathJax config</span><br></pre></td></tr></table></figure><h3 id="ç”¨æ³•"><a class="header-anchor" href="#ç”¨æ³•">#</a>ç”¨æ³•</h3><p>ç”±äºæ­£å¸¸markdownçš„<code>$$...$$</code>ç­‰å†™æ³•ä¼šå’Œhexoçš„è§£ææ–¹æ³•äº§ç”Ÿå†²çª, æ”¹æˆå¦‚ä¸‹çš„å†™æ³•å³å¯:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% math %&#125;</span><br><span class="line">\begin&#123;array&#125;&#123;c|lcr&#125;</span><br><span class="line">n &amp; \text&#123;Left&#125; &amp; \text&#123;Center&#125; &amp; \text&#123;Right&#125; \\</span><br><span class="line">\hline</span><br><span class="line">1 &amp; 0.24 &amp; 1 &amp; 125 \\</span><br><span class="line">2 &amp; -1 &amp; 189 &amp; -8 \\</span><br><span class="line">3 &amp; -20 &amp; 2000 &amp; 1+10i</span><br><span class="line">\end&#123;array&#125;</span><br><span class="line">&#123;% endmath %&#125;</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºç»“æœå¦‚ä¸‹:</p><span>$$\begin{array}{c|lcr}n &amp; \text{Left} &amp; \text{Center} &amp; \text{Right} \\\hline1 &amp; 0.24 &amp; 1 &amp; 125 \\2 &amp; -1 &amp; 189 &amp; -8 \\3 &amp; -20 &amp; 2000 &amp; 1+10i\end{array}$$</span><!-- Has MathJax -->]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¸¸ç”¨å‘½ä»¤æ•´ç†</title>
      <link href="/blog/2018/10/03/linux-command-list/"/>
      <url>/blog/2018/10/03/linux-command-list/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><a id="more"></a><h2 id="bash"><a class="header-anchor" href="#bash">#</a>bash</h2><ul><li>Centos7é˜²ç«å¢™å¼€å¯æˆ–å…³é—­æŸä¸ªç«¯å£:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -p tcp --dport &lt;port&gt; -j ACCEPT</span><br><span class="line">iptables -I INPUT -p tcp --dport &lt;port&gt; -j REJECT</span><br></pre></td></tr></table></figure><h2 id="git"><a class="header-anchor" href="#git">#</a>git</h2><ul><li>gitå›é€€åˆ°æŸä¸€ä¸ªç‰ˆæœ¬, å³åˆ é™¤commitè®°å½•:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard &lt;commit_id&gt;</span><br><span class="line">git push -f -u origin &lt;branch&gt;</span><br></pre></td></tr></table></figure><ul><li>gitæ–°å»ºä¸€ä¸ªæ–°çš„ç©ºåˆ†æ”¯:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout --orphan &lt;branch&gt;</span><br><span class="line">git rm -rf .</span><br></pre></td></tr></table></figure><h2 id="python"><a class="header-anchor" href="#python">#</a>python</h2><ul><li>å»æ‰å­—ç¬¦ä¸²ä¸¤è¾¹çš„ç©ºæ ¼:</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string.strip()</span><br></pre></td></tr></table></figure><ul><li>å¤§å°å†™è½¬æ¢:</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°å†™å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯</span></span><br><span class="line">string.upper()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤§å†™å­—æ¯è½¬æ¢æˆå°å†™å­—æ¯</span></span><br><span class="line">string.lower()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¤´å­—æ¯å¤§å†™</span></span><br><span class="line">string.capitalize()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰€æœ‰é¦–å­—æ¯å¤§å†™</span></span><br><span class="line">string.title()</span><br></pre></td></tr></table></figure><h2 id="selenium"><a class="header-anchor" href="#selenium">#</a>selenium</h2>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 Computational Intelligence Homework No.1</title>
      <link href="/blog/2018/09/29/2018-computational-intelligence-homework-no.1/"/>
      <url>/blog/2018/09/29/2018-computational-intelligence-homework-no.1/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>å°å­©åˆ†æ²¹é—®é¢˜ï¼šä¸¤ä¸ªå°å­©å»æ‰“æ²¹ï¼Œä¸€äººå¸¦äº†ä¸€ä¸ªä¸€æ–¤çš„ç©ºç“¶ï¼Œå¦ä¸€ä¸ªå¸¦äº†ä¸€ä¸ªä¸ƒä¸¤ã€ä¸€ä¸ªä¸‰ä¸¤çš„ç©ºç“¶ã€‚åŸè®¡åˆ’å„æ‰“ä¸€æ–¤æ²¹ï¼Œå¯æ˜¯ç”±äºæ‰€å¸¦çš„é’±ä¸å¤Ÿï¼Œåªå¥½ä¸¤äººåˆæ‰“äº†ä¸€æ–¤æ²¹ï¼Œåœ¨å›å®¶çš„è·¯ä¸Šï¼Œä¸¤äººæƒ³å¹³åˆ†è¿™ä¸€æ–¤æ²¹ï¼Œå¯æ˜¯åˆæ²¡æœ‰å…¶å®ƒå·¥å…·ã€‚è¯•ä»…ç”¨ä¸‰ä¸ªç“¶å­(ä¸€æ–¤ã€ä¸ƒä¸¤ã€ä¸‰ä¸¤)ç²¾ç¡®åœ°åˆ†å‡ºä¸¤ä¸ªåŠæ–¤æ²¹æ¥ã€‚</p><a id="more"></a><h2 id="ç®—æ³•è®¾è®¡"><a class="header-anchor" href="#ç®—æ³•è®¾è®¡">#</a>ç®—æ³•è®¾è®¡</h2><h3 id="é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„è¡¨ç¤ºé—®é¢˜çŠ¶æ€"><a class="header-anchor" href="#é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„è¡¨ç¤ºé—®é¢˜çŠ¶æ€">#</a>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„è¡¨ç¤ºé—®é¢˜çŠ¶æ€</h3><p>ç”¨å‘é‡<code>(T, S, Q)</code>è¡¨ç¤ºçŠ¶æ€, <code>E</code>è¡¨ç¤º10æ–¤ç“¶ä¸­çš„æ²¹é‡, <code>S</code>è¡¨ç¤º7æ–¤ç“¶ä¸­çš„æ²¹é‡, <code>Q</code>è¡¨ç¤º3æ–¤ç“¶ä¸­çš„æ²¹é‡.</p><p>é—®é¢˜çš„èµ·å§‹çŠ¶æ€: <font color="#FF0000">(10, 0, 0)</font></p><p>é—®é¢˜çš„ç›®æ ‡çŠ¶æ€: <font color="#FF0000">(5, 5, 0)</font></p><h3 id="ç¡®å®šæ™ºèƒ½ç®—å­ï¼Œç”¨ä»¥å˜åŒ–çŠ¶æ€çš„è§„åˆ™"><a class="header-anchor" href="#ç¡®å®šæ™ºèƒ½ç®—å­ï¼Œç”¨ä»¥å˜åŒ–çŠ¶æ€çš„è§„åˆ™">#</a>ç¡®å®šæ™ºèƒ½ç®—å­ï¼Œç”¨ä»¥å˜åŒ–çŠ¶æ€çš„è§„åˆ™</h3><center id="rulelist">è§„åˆ™è¡¨</center><table><thead><tr><th style="text-align:left">è§„åˆ™å·</th><th style="text-align:left">è§„åˆ™</th><th style="text-align:left">è§£é‡Š</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">(T, S, Q) and S&lt;7 and T+Sâ‰¥7 â†’ (T+S-7, 7, Q)</td><td style="text-align:left">ç”¨10æ–¤ç“¶æ²¹è£…æ»¡7æ–¤ç“¶</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">(T, S, Q) and Q&lt;3 and T+Qâ‰¥3 â†’ (T+Q-3, S, 3)</td><td style="text-align:left">ç”¨10æ–¤ç“¶æ²¹è£…æ»¡3æ–¤ç“¶</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left">(T, S, Q) and T&lt;10 and T+Sâ‰¥10 â†’ (10, T+S-10, Q)</td><td style="text-align:left">ç”¨7æ–¤ç“¶æ²¹è£…æ»¡10æ–¤ç“¶</td></tr><tr><td style="text-align:left">4</td><td style="text-align:left">(T, S, Q) and Q&lt;3 and S+Qâ‰¥3 â†’ (T, S+Q-3, 3)</td><td style="text-align:left">ç”¨7æ–¤ç“¶æ²¹è£…æ»¡3æ–¤ç“¶</td></tr><tr><td style="text-align:left">5</td><td style="text-align:left">(T, S, Q) and T&lt;10 and T+Qâ‰¥10 â†’ (10, S, T+Q-10)</td><td style="text-align:left">ç”¨3æ–¤ç“¶æ²¹è£…æ»¡10æ–¤ç“¶</td></tr><tr><td style="text-align:left">6</td><td style="text-align:left">(T, S, Q) and S&lt;7 and S+Qâ‰¥7 â†’ (T, 7, S+Q-7)</td><td style="text-align:left">ç”¨3æ–¤ç“¶æ²¹è£…æ»¡7æ–¤ç“¶</td></tr><tr><td style="text-align:left">7</td><td style="text-align:left">(T, S, Q) and T&gt;0 and T+Sâ‰¤7 â†’ (0, T+S, Q)</td><td style="text-align:left">10æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥7æ–¤ç“¶</td></tr><tr><td style="text-align:left">8</td><td style="text-align:left">(T, S, Q) and T&gt;0 and T+Qâ‰¤3 â†’ (0, S, T+Q)</td><td style="text-align:left">10æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥3æ–¤ç“¶</td></tr><tr><td style="text-align:left">9</td><td style="text-align:left">(T, S, Q) and S&gt;0 and T+Sâ‰¤10 â†’ (T+S, 0, Q)</td><td style="text-align:left">7æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥10æ–¤ç“¶</td></tr><tr><td style="text-align:left">10</td><td style="text-align:left">(T, S, Q) and S&gt;0 and S+Qâ‰¤3 â†’ (T, 0, S+Q)</td><td style="text-align:left">7æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥3æ–¤ç“¶</td></tr><tr><td style="text-align:left">11</td><td style="text-align:left">(T, S, Q) and Q&gt;0 and T+Qâ‰¤10 â†’ (T+Q, S, 0)</td><td style="text-align:left">3æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥10æ–¤ç“¶</td></tr><tr><td style="text-align:left">12</td><td style="text-align:left">(T, S, Q) and Q&gt;0 and S+Qâ‰¤7 â†’ (T, S+Q, 0)</td><td style="text-align:left">3æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥7æ–¤ç“¶</td></tr></tbody></table><h3 id="ç¡®å®šæœç´¢æ–¹æ³•"><a class="header-anchor" href="#ç¡®å®šæœç´¢æ–¹æ³•">#</a>ç¡®å®šæœç´¢æ–¹æ³•</h3><p>æœ€åŸºæœ¬çš„æœç´¢æ–¹æ³•ä¸º<code>æ·±åº¦ä¼˜å…ˆæœç´¢</code>å’Œ<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>, è€ƒè™‘åˆ°æœ¬é¢˜ç›®å­˜åœ¨ç€æ— é™æ·±åº¦çš„æƒ…å†µ, æ•…é€‰ç”¨<code>å¹¿åº¦ä¼˜å…ˆæœç´¢</code>æ–¹æ³•æ¥å®ç°.</p><h2 id="ç¨‹åºæµç¨‹"><a class="header-anchor" href="#ç¨‹åºæµç¨‹">#</a>ç¨‹åºæµç¨‹</h2><p>å¤§ä½“çš„ç¨‹åºæµç¨‹å¦‚å›¾1æ‰€ç¤º</p><center><div id="flowchart-0" class="flow-chart"></div>å›¾1 ç¨‹åºæµç¨‹å›¾</center><h2 id="æ ¸å¿ƒä¼ªä»£ç "><a class="header-anchor" href="#æ ¸å¿ƒä¼ªä»£ç ">#</a>æ ¸å¿ƒä¼ªä»£ç </h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="comment">//å–å‡ºå½“å‰é˜Ÿåˆ—çš„å¤´éƒ¨èŠ‚ç‚¹</span></span><br><span class="line">  currNode = list.shift();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//é˜Ÿåˆ—ä¸ºç©º, æœç´¢å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span>(currNode == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç›®æ ‡çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">if</span>(checkNode(currNode)) &#123;</span><br><span class="line">    printPath(currNode);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å°†æ‰€æœ‰å¯èƒ½çš„ä¸‹ä¸€æ­¥çŠ¶æ€åŠ å…¥é˜Ÿåˆ—å°¾éƒ¨</span></span><br><span class="line">  pour(currNode);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»£ç è¿è¡ŒåŠæµ‹è¯•"><a class="header-anchor" href="#ä»£ç è¿è¡ŒåŠæµ‹è¯•">#</a>ä»£ç è¿è¡ŒåŠæµ‹è¯•</h2><p>ä»£ç è¿è¡Œç»“æœå¦‚å›¾2æ‰€ç¤º, ç”±äºå¹¶æœªå¯¹çŠ¶æ€è¿›è¡Œä¼˜åŒ–, é¦–æ¬¡å‡ºç°çš„ç›®æ ‡çŠ¶æ€åœ¨<code>ç¬¬åå±‚</code>, æœ‰<code>190221 </code>ä¸ªé‡å¤çŠ¶æ€, ä¸¥é‡å½±å“äº†è¿ç®—é€Ÿåº¦.</p><center><p><img src="https://onns.xyz/blog/image/20180930-1.png" alt="ä»£ç è¿è¡Œç»“æœå›¾"></p><p>å›¾2 ä»£ç è¿è¡Œç»“æœå›¾</p></center><p>æ”¹è¿›æ–¹æ³•æ˜¯åœ¨å¯¹ç›®æ ‡çŠ¶æ€è¿›è¡Œæœç´¢çš„è¿‡ç¨‹ä¸­, å¯¹äºé‚£äº›åœ¨ä¹‹å‰å­˜åœ¨è¿‡çš„çŠ¶æ€è¿›è¡Œå‰”é™¤, åªä¿ç•™æ–°çŠ¶æ€, æ”¹è¿›åçš„ä»£ç è¿è¡Œç»“æœå¦‚å›¾3æ‰€ç¤º.</p><center><p><img src="https://onns.xyz/blog/image/20180930-2.png" alt="æ”¹è¿›åä»£ç è¿è¡Œç»“æœå›¾"></p><p>å›¾3 æ”¹è¿›åä»£ç è¿è¡Œç»“æœå›¾</p></center><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">#</a>ç»“è®º</h2><p>ä»<font color="#FF0000">(10, 0, 0)</font>åˆ°<font color="#FF0000">(5, 5, 0)</font>çš„åˆ†æ²¹æ–¹æ³•ä¸º:</p><ul><li>ç”¨10æ–¤ç“¶æ²¹è£…æ»¡7æ–¤ç“¶ (10, 0, 0) -&gt; (3, 7, 0)</li><li>ç”¨7æ–¤ç“¶æ²¹è£…æ»¡3æ–¤ç“¶ (3, 7, 0) -&gt; (3, 4, 3)</li><li>3æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥10æ–¤ç“¶ (3, 4, 3) -&gt; (6, 4, 0)</li><li>ç”¨7æ–¤ç“¶æ²¹è£…æ»¡3æ–¤ç“¶ (6, 4, 0) -&gt; (6, 1, 3)</li><li>3æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥10æ–¤ç“¶ (6, 1, 3) -&gt; (9, 1, 0)</li><li>7æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥3æ–¤ç“¶ (9, 1, 0) -&gt; (9, 0, 1)</li><li>ç”¨10æ–¤ç“¶æ²¹è£…æ»¡7æ–¤ç“¶ (9, 0, 1) -&gt; (2, 7, 1)</li><li>ç”¨7æ–¤ç“¶æ²¹è£…æ»¡3æ–¤ç“¶ (2, 7, 1) -&gt; (2, 5, 3)</li><li>3æ–¤ç“¶æ²¹å…¨éƒ¨å€’å…¥10æ–¤ç“¶ (2, 5, 3) -&gt; (5, 5, 0)</li></ul><p>å¦‚å›¾4æ‰€ç¤ºçº¢è‰²ç®­å¤´å³ä¸ºåˆ†æ²¹æ–¹æ³•.</p><center><div id="graphviz-0"></div><p>å›¾4 åˆ†æ²¹æ–¹æ³•ç¤ºæ„å›¾</p></center><p><a href="#rulelist">æ³¨:ç®­å¤´ä¸Šæ–¹æ•°å­—å³ä¸ºè§„åˆ™å·</a></p><script src="https://unpkg.com/viz.js@2.1.2/viz.js"></script><script src="https://unpkg.com/viz.js@2.1.2/full.render.js"></script><textarea id="graphviz-0-code" style="display: none">digraph G {  "(10,0,0)" -> "(3,7,0)"[color=red,label="1"]  "(10,0,0)" -> "(7,0,3)"[label="2"]  "(3,7,0)" -> "(0,7,3)"[label="2"]  "(3,7,0)" -> "(3,4,3)"[color=red,label="4"]  "(7,0,3)" -> "(7,3,0)"[label="12"]  "(3,4,3)" -> "(6,4,0)"[color=red,label="11"]  "(7,3,0)" -> "(4,3,3)"[label="2"]  "(6,4,0)" -> "(6,1,3)"[color=red,label="4"]  "(4,3,3)" -> "(4,6,0)"[label="12"]  "(6,1,3)" -> "(9,1,0)"[color=red,label="11"]  "(4,6,0)" -> "(1,6,3)"[label="2"]  "(9,1,0)" -> "(9,0,1)"[color=red,label="10"]  "(1,6,3)" -> "(1,7,2)"[label="6"]  "(9,0,1)" -> "(2,7,1)"[color=red,label="1"]  "(1,7,2)" -> "(8,0,2)"[label="9"]  "(2,7,1)" -> "(2,5,3)"[color=red,label="4"]  "(8,0,2)" -> "(8,2,0)"[label="12"]  "(2,5,3)" -> "(5,5,0)"[color=red,label="11"]  "(8,2,0)" -> "(5,2,3)"[label="2"]}</textarea><script>  var viz = new Viz();  var code = document.getElementById("graphviz-0-code").value;  viz.renderSVGElement(code)  .then(function(element) {    document.getElementById("graphviz-0").append(element)  });</script><script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script><script src="//flowchart.js.org/flowchart-latest.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: ç¡®å®šåˆå§‹çŠ¶æ€(10, 0, 0), åŠ å…¥é˜Ÿåˆ—e1=>end: æœªæ‰¾åˆ°ç›®æ ‡çŠ¶æ€e2=>end: è¾¾åˆ°ç›®æ ‡çŠ¶æ€(5, 5, 0)op1=>operation: å–å‡ºé˜Ÿåˆ—å¤´éƒ¨ä¸­çš„ç¬¬ä¸€ä¸ªçŠ¶æ€cond1=>condition: æ­¤çŠ¶æ€æ˜¯å¦ä¸ºç©º?cond2=>condition: æ˜¯å¦ä¸ºç›®æ ‡çŠ¶æ€?op2=>operation: å°†æ‰€æœ‰å¯èƒ½ä¸‹ä¸€æ­¥çŠ¶æ€åŠ å…¥é˜Ÿåˆ—å°¾éƒ¨st->op1->cond1cond1(yes)->e1cond1(no)->cond2cond2(yes)->e2cond2(no)->op2op2->op1</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> computational intelligence </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlæ‹¼æ¥å­—ç¬¦ä¸²æœç´¢</title>
      <link href="/blog/2018/04/03/mysql-string-search/"/>
      <url>/blog/2018/04/03/mysql-string-search/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a class="header-anchor" href="#é—®é¢˜æè¿°">#</a>é—®é¢˜æè¿°</h2><p>åœ¨mysqlçš„è¡¨ä¸­æŸä¸€ä¸ªé”®å€¼æ˜¯ç”±<code>,</code>åˆ†éš”çš„å¤šä¸ª<code>id</code>ç»„æˆçš„å­—ç¬¦ä¸², ä¾‹å¦‚: <code>1,2,3,4,5,6,7,8</code>.<br>ç°åœ¨éœ€è¦æœç´¢æ‰€æœ‰æ‹¥æœ‰<code>id</code>ä¸º<code>3</code>çš„è¡Œ, ä¾‹å¦‚: <code>1,2,3,4</code>, <code>1,2,3</code>, <code>3,4,5,6</code>.</p><a id="more"></a><h3 id="æ–¹æ³•ä¸€"><a class="header-anchor" href="#æ–¹æ³•ä¸€">#</a>æ–¹æ³•ä¸€</h3><p>è¿™æ˜¯æˆ‘è‡ªå·±æƒ³åˆ°çš„æœ€ç¬¨çš„æ–¹æ³•, å°±æ˜¯å°†æ•°æ®éƒ½å–å‡ºä¹‹åå†æŸ¥æ‰¾, æ•ˆç‡è‚¯å®šå¾ˆä½.<br>ä¸æ¨è.</p><h3 id="æ–¹æ³•äºŒ"><a class="header-anchor" href="#æ–¹æ³•äºŒ">#</a>æ–¹æ³•äºŒ</h3><p>ç”¨æ¨¡ç³Šæœç´¢, ä½†æ˜¯å‡å¦‚åŒ¹é…<code>id</code>ä¸º<code>3</code>çš„å­—æ®µ, ä¹ŸåŒæ—¶ä¼šåŒ¹é…<code>id</code>ä¸º<code>31</code>æˆ–<code>13</code>çš„å­—æ®µ.<br>è§£å†³æ–¹æ¡ˆæ˜¯å°†å­—ç¬¦ä¸²å¤´å°¾æ·»åŠ <code>,</code>, è¿™æ ·åŒ¹é…<code>,3,</code>å³å¯.åªæ˜¯ä¸å¤Ÿä¼˜é›….<br>ä¸æ¨è.</p><h3 id="æ–¹æ³•ä¸‰"><a class="header-anchor" href="#æ–¹æ³•ä¸‰">#</a>æ–¹æ³•ä¸‰</h3><p>mysqlæä¾›äº†å†…ç½®çš„å‡½æ•°<code>FIND_IN_SET(str,strlist)</code>,<br>åªéœ€<code>find_in_set('3', user_id_list)</code>å³å¯.<br>æ¨è.</p><p>è°¢è°¢ç¾¤é‡Œçš„å¤§ç¥.</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¹Œç­å›¾ä¸‹ä½¿ç”¨shadowsocksrå®¢æˆ·ç«¯</title>
      <link href="/blog/2018/04/02/ubuntu-client-setup/"/>
      <url>/blog/2018/04/02/ubuntu-client-setup/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>æ–°é…ç½®çš„ç”µè„‘éœ€è¦ä¸‹è½½Googleçš„æ’ä»¶å’ŒGoogleçš„æœç´¢åŠŸèƒ½, æ‰€ä»¥è¦é…ç½®ä»£ç†. è®°å½•ä¸€ä¸‹.</p><a id="more"></a><h3 id="å®‰è£…git"><a class="header-anchor" href="#å®‰è£…git">#</a>å®‰è£…git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git -y</span><br></pre></td></tr></table></figure><h3 id="è·å–shadowsocksr"><a class="header-anchor" href="#è·å–shadowsocksr">#</a>è·å–shadowsocksr</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b manyuser https://github.com/shadowsocksr-backup/shadowsocksr.git</span><br><span class="line"><span class="built_in">cd</span> shadowsocksr/shadowsocks</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºé…ç½®æ–‡ä»¶"><a class="header-anchor" href="#åˆ›å»ºé…ç½®æ–‡ä»¶">#</a>åˆ›å»ºé…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/shadowsocks.json</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"server"</span>:<span class="string">"0.0.0.0"</span>,</span><br><span class="line">    <span class="attr">"server_ipv6"</span>: <span class="string">"::"</span>,</span><br><span class="line">    <span class="attr">"server_port"</span>:<span class="number">8000</span>,</span><br><span class="line">    <span class="attr">"local_address"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"password"</span>:<span class="string">"password"</span>,</span><br><span class="line">    <span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">"udp_timeout"</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>,</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"auth_aes128_md5"</span>,</span><br><span class="line">    <span class="attr">"protocol_param"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"obfs"</span>:<span class="string">"http_simple"</span>,</span><br><span class="line">    <span class="attr">"obfs_param"</span>: <span class="string">""</span>,</span><br><span class="line">    <span class="attr">"fast_open"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"workers"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œ"><a class="header-anchor" href="#è¿è¡Œ">#</a>è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python local.py -c /etc/shadowsocks.json -d start</span><br></pre></td></tr></table></figure><h3 id="è¯´æ˜"><a class="header-anchor" href="#è¯´æ˜">#</a>è¯´æ˜</h3><p>æ­¤æ—¶ä»£ç†å·²ç»è¿è¡Œåœ¨äº†127.0.0.1:1080, å°†éœ€è¦ä»£ç†çš„ç½‘å€ä»£ç†åˆ°æ­¤ç«¯å£å³å¯.</p><h2 id="é™„å½•"><a class="header-anchor" href="#é™„å½•">#</a>é™„å½•</h2><h3 id="chromeæ’ä»¶æ¨è"><a class="header-anchor" href="#chromeæ’ä»¶æ¨è">#</a>Chromeæ’ä»¶æ¨è</h3><h4 id="switchyomega"><a class="header-anchor" href="#switchyomega">#</a><a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=en" target="_blank" rel="noopener">SwitchyOmega</a></h4><p>chromeä¸­é€šè¿‡SwitchyOmegaå¯ä»¥å°†è®¿é—®çš„ç½‘å€ä»£ç†åˆ°å‰é¢çš„shadowsocksrå®¢æˆ·ç«¯è®¿é—®.<br>ä»£ç†è®¾ç½®:<br>åè®® <code>SOCKS5</code><br>æœåŠ¡å™¨ <code>127.0.0.1</code><br>ç«¯å£ <code>1080</code></p><p>ä¹Ÿå¯ä»¥æ ¹æ®åœ°å€é€‰æ‹©è‡ªåŠ¨åˆ‡æ¢ä»£ç†.<br>ä»£ç†è®¾ç½®:<br>è·¯ç”±åˆ—è¡¨æ ¼å¼ <code>AutoProxy</code><br>è·¯ç”±åˆ—è¡¨åœ°å€ <code>https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</code></p><p>åº”ç”¨å³å¯.</p><h4 id="google-input-tools"><a class="header-anchor" href="#google-input-tools">#</a><a href="https://chrome.google.com/webstore/detail/google-input-tools/mclkkofklkfljcocdinagocijmpgbhab?hl=en" target="_blank" rel="noopener">Google Input Tools</a></h4><p>chromeä¸­å¯ä»¥ä½¿ç”¨çš„è¾“å…¥æ³•, æ”¯æŒå¤šç§è¯­è¨€å’Œä¸ªäººè¯åº“.</p><h2 id="å‚è€ƒé“¾æ¥"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥">#</a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://github.com/shadowsocksr-backup/shadowsocks-rss/wiki" target="_blank" rel="noopener">Python client setup (Mult language)</a></li><li><a href="https://www.switchyomega.com/settings.html" target="_blank" rel="noopener">é…ç½® - SwitchyOmega - è½»æ¾å¿«æ·åœ°ç®¡ç†å’Œåˆ‡æ¢å¤šä¸ªä»£ç†è®¾ç½®</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> shadowsocksr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡å™¨æ–‡æ¡£</title>
      <link href="/blog/2018/01/30/server-document/"/>
      <url>/blog/2018/01/30/server-document/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¯å¢ƒä¾èµ–"><a class="header-anchor" href="#ç¯å¢ƒä¾èµ–">#</a>ç¯å¢ƒä¾èµ–</h2><ul><li>Centos/7.x.x</li><li>nginx/1.12.2</li><li>PHP/7.1.xã€php-fpm/7.1.x</li><li>mysql/5.7.x</li><li>unoconv/0.8.x</li></ul><a id="more"></a><h2 id="ç³»ç»Ÿå¯åŠ¨æµç¨‹"><a class="header-anchor" href="#ç³»ç»Ÿå¯åŠ¨æµç¨‹">#</a>ç³»ç»Ÿå¯åŠ¨æµç¨‹</h2><ol><li>æ‰“å¼€nginxæœåŠ¡å™¨ <code>nginx</code></li><li>å¼€å¯phpæœåŠ¡ <code>service php-fpm start</code></li><li>å¼€å¯mysqlæœåŠ¡ <code>service mysqld start</code></li><li>å…³é—­selinuxé˜²ç«å¢™ <code>setenforce 0</code></li><li>å¼€å¯iptableså¯¹ç›¸åº”ç«¯å£çš„å±è”½ <code>iptables -I INPUT -p tcp --dport </code><font color=#ff0000><code>10080</code></font><code> -j ACCEPT</code></li><li>å¼€å¯unoconvç›‘å¬å™¨å¹¶åå°è¿è¡Œ <code>nohup unoconv --listener &amp;</code></li></ol><h2 id="ç›¸å…³é…ç½®æ–‡ä»¶"><a class="header-anchor" href="#ç›¸å…³é…ç½®æ–‡ä»¶">#</a>ç›¸å…³é…ç½®æ–‡ä»¶</h2><ol><li>nginxé…ç½®æ–‡ä»¶ç›®å½• <code>/etc/nginx/nginx.conf</code></li><li>phpé…ç½®æ–‡ä»¶ç›®å½• <code>/etc/php.ini</code></li><li>ç³»ç»Ÿæ–‡ä»¶ç›®å½• <code>/usr/share/nginx/longjing/</code></li><li>ä¸Šä¼ æ–‡ä»¶ç›®å½• <code>/usr/share/nginx/longjing/upload/</code></li><li>å¯¼å‡ºè¡¨æ–‡ä»¶ç›®å½• <code>/usr/share/nginx/longjing/application/index/file/</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> work </category>
          
      </categories>
      
      
        <tags>
            
            <tag> longking </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2018 movie list</title>
      <link href="/blog/2018/01/01/2018-movie-list/"/>
      <url>/blog/2018/01/01/2018-movie-list/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h3><a id="more"></a><h3 id="ä¸€æœˆ"><a class="header-anchor" href="#ä¸€æœˆ">#</a>ä¸€æœˆ</h3><ul><li>2017-01-03 <a href="https://movie.douban.com/subject/26580232/" target="_blank" rel="noopener">ã€Šçœ‹ä¸è§çš„å®¢äººã€‹</a></li><li>2017-01-11 <a href="https://movie.douban.com/subject/22266126/" target="_blank" rel="noopener">ã€Šç‹ç‰Œä¿é•–ã€‹</a></li><li>2017-01-12 <a href="https://movie.douban.com/subject/1578714/" target="_blank" rel="noopener">ã€Šç¥å¥‡å¥³ä¾ ã€‹</a></li><li>2017-01-15 <a href="https://movie.douban.com/subject/10512661/" target="_blank" rel="noopener">ã€Šé“¶ç¿¼æ€æ‰‹2049ã€‹</a></li><li>2017-01-17 <a href="https://movie.douban.com/subject/1292720/" target="_blank" rel="noopener">ã€Šé˜¿ç”˜æ­£ä¼ ã€‹</a></li><li>2017-01-30 <a href="https://movie.douban.com/subject/3205624/" target="_blank" rel="noopener">ã€Šç¤¾äº¤ç½‘ç»œã€‹</a></li></ul><h3 id="äºŒæœˆ"><a class="header-anchor" href="#äºŒæœˆ">#</a>äºŒæœˆ</h3><ul><li>2017-02-02 <a href="https://movie.douban.com/subject/1851857/" target="_blank" rel="noopener">ã€Šè™è ä¾ ï¼šé»‘æš—éª‘å£«ã€‹</a></li><li>2017-02-20 <a href="https://movie.douban.com/subject/26861685/" target="_blank" rel="noopener">ã€Šçº¢æµ·è¡ŒåŠ¨ã€‹</a></li><li>2017-02-21 <a href="https://movie.douban.com/subject/3442220/" target="_blank" rel="noopener">ã€Šæµ·è±šæ¹¾ã€‹</a></li><li>2017-02-22 <a href="https://movie.douban.com/subject/1309046/" target="_blank" rel="noopener">ã€ŠVå­—ä»‡æ€é˜Ÿã€‹</a></li><li>2017-02-24 <a href="https://movie.douban.com/subject/26698897/" target="_blank" rel="noopener">ã€Šå”äººè¡—æ¢æ¡ˆ2ã€‹</a></li><li>2017-02-26 <a href="https://movie.douban.com/subject/26311973/" target="_blank" rel="noopener">ã€Šå”äººè¡—æ¢æ¡ˆã€‹</a></li><li>2017-02-27 <a href="https://movie.douban.com/subject/26942674/" target="_blank" rel="noopener">ã€Šç¥ç§˜å·¨æ˜Ÿã€‹</a></li></ul><h3 id="ä¸‰æœˆ"><a class="header-anchor" href="#ä¸‰æœˆ">#</a>ä¸‰æœˆ</h3><ul><li>2017-03-01 <a href="https://movie.douban.com/subject/2158490/" target="_blank" rel="noopener">ã€Šæ­£ä¹‰è”ç›Ÿã€‹</a></li><li>2017-03-06 <a href="https://movie.douban.com/subject/26662193/" target="_blank" rel="noopener">ã€Šå‰ä»»3ï¼šå†è§å‰ä»»ã€‹</a></li><li>2017-03-09 <a href="https://movie.douban.com/subject/6390825/" target="_blank" rel="noopener">ã€Šé»‘è±¹ã€‹</a></li><li>2017-03-09 <a href="https://movie.douban.com/subject/26611804/" target="_blank" rel="noopener">ã€Šä¸‰å—å¹¿å‘Šç‰Œã€‹</a></li><li>2017-03-12 <a href="https://movie.douban.com/subject/21324900/" target="_blank" rel="noopener">ã€Šé™ä¸´ã€‹</a></li><li>2017-03-13 <a href="https://movie.douban.com/subject/1900841/" target="_blank" rel="noopener">ã€Šçªƒå¬é£æš´ã€‹</a></li><li>2017-03-16 <a href="https://movie.douban.com/subject/26752852/" target="_blank" rel="noopener">ã€Šæ°´å½¢ç‰©è¯­ã€‹</a></li><li>2017-03-18 <a href="https://movie.douban.com/subject/1760622/" target="_blank" rel="noopener">ã€Šé¦™æ°´ã€‹</a></li><li>2017-03-20 <a href="https://movie.douban.com/subject/1472510/" target="_blank" rel="noopener">ã€Šä¸å¥³äººä»¬çš„å¯¹è¯ã€‹</a><blockquote><p>å¦‚æœé‚£ä¸ªå¿ƒè„ç—…åŒ»ç”Ÿ, è§‰å¾—ä½ åˆè€åˆè¡°, è€Œä¸”å¾ˆä¸‘ä¸€ç‚¹éƒ½ä¸å¯çˆ±äº†, æˆ‘æ„¿æ„é™ªä½ èµ°å®Œæœ€åçš„äººç”Ÿ.</p></blockquote></li><li>2017-03-21 <a href="https://movie.douban.com/subject/1296821/" target="_blank" rel="noopener">ã€Šæ€»æœ‰éª„é˜³ã€‹</a></li><li>2017-03-23 <a href="https://movie.douban.com/subject/27042405/" target="_blank" rel="noopener">ã€Šå¤§åç‹ç‹¸çš„æ•…äº‹ã€‹</a></li><li>2017-03-26 <a href="https://movie.douban.com/subject/26764928/" target="_blank" rel="noopener">ã€Šè„¸åºï¼Œæ‘åº„ã€‹</a></li><li>2017-03-27 <a href="https://movie.douban.com/subject/3530403/" target="_blank" rel="noopener">ã€Šäº‘å›¾ã€‹</a></li><li>2017-03-29 <a href="https://movie.douban.com/subject/4920389/" target="_blank" rel="noopener">ã€Šå¤´å·ç©å®¶ã€‹</a></li></ul><h3 id="å››æœˆ"><a class="header-anchor" href="#å››æœˆ">#</a>å››æœˆ</h3><ul><li>2017-04-04 <a href="https://movie.douban.com/subject/3364223/" target="_blank" rel="noopener">ã€Šäº†ä¸èµ·çš„ç›–èŒ¨æ¯”ã€‹</a></li><li>2017-04-06 <a href="https://movie.douban.com/subject/26353372/" target="_blank" rel="noopener">ã€Šå¤œè¡ŒåŠ¨ç‰©ã€‹</a></li><li>2017-04-14 <a href="https://movie.douban.com/subject/26393561/" target="_blank" rel="noopener">ã€Šå°èè‰çš„çŒ´ç¥å¤§å”ã€‹</a></li></ul><h3 id="äº”æœˆ"><a class="header-anchor" href="#äº”æœˆ">#</a>äº”æœˆ</h3><ul><li>2017-05-31 <a href="https://movie.douban.com/subject/6874741/" target="_blank" rel="noopener">ã€Šæ— é—®è¥¿ä¸œã€‹</a></li></ul><h3 id="å…­æœˆ"><a class="header-anchor" href="#å…­æœˆ">#</a>å…­æœˆ</h3><ul><li>2017-06-01 <a href="https://movie.douban.com/subject/27069070/" target="_blank" rel="noopener">ã€Šå“†å•¦Aæ¢¦ï¼šå¤§é›„çš„é‡‘é“¶å²›ã€‹</a></li><li>2017-06-29 <a href="https://movie.douban.com/subject/26925317/" target="_blank" rel="noopener">ã€ŠåŠ¨ç‰©ä¸–ç•Œã€‹</a></li></ul><h3 id="ä¸ƒæœˆ"><a class="header-anchor" href="#ä¸ƒæœˆ">#</a>ä¸ƒæœˆ</h3><ul><li>2017-07-13 <a href="https://movie.douban.com/subject/1292780/" target="_blank" rel="noopener">ã€Šæ—¶å…‰å€’æµä¸ƒåå¹´ã€‹</a></li><li>2017-07-17 <a href="https://movie.douban.com/subject/3742360/" target="_blank" rel="noopener">ã€Šè®©å­å¼¹é£ã€‹</a></li><li>2017-07-21 <a href="https://movie.douban.com/subject/1292656/" target="_blank" rel="noopener">ã€Šå¿ƒçµæ•æ‰‹ã€‹</a></li></ul><h3 id="å…«æœˆ"><a class="header-anchor" href="#å…«æœˆ">#</a>å…«æœˆ</h3><ul><li>2017-08-09 <a href="https://movie.douban.com/subject/1291841/" target="_blank" rel="noopener">ã€Šæ•™çˆ¶ã€‹</a></li><li>2017-08-10 <a href="https://movie.douban.com/subject/1299131/" target="_blank" rel="noopener">ã€Šæ•™çˆ¶2ã€‹</a></li><li>2017-08-13 <a href="https://movie.douban.com/subject/1291571/" target="_blank" rel="noopener">ã€ŠæŒ‡ç¯ç‹1ï¼šé­”æˆ’å†ç°ã€‹</a></li><li>2017-08-18 <a href="https://movie.douban.com/subject/1291572/" target="_blank" rel="noopener">ã€ŠæŒ‡ç¯ç‹2ï¼šåŒå¡”å¥‡å…µã€‹</a></li><li>2017-08-19 <a href="https://movie.douban.com/subject/1291552/" target="_blank" rel="noopener">ã€ŠæŒ‡ç¯ç‹3ï¼šç‹è€…æ— æ•Œã€‹</a></li><li>2017-08-21 <a href="https://movie.douban.com/subject/1291999/" target="_blank" rel="noopener">ã€Šé‡åº†æ£®æ—ã€‹</a></li><li>2017-08-23 <a href="https://movie.douban.com/subject/1295124/" target="_blank" rel="noopener">ã€Šè¾›å¾·å‹’çš„åå•ã€‹</a></li><li>2017-08-24 <a href="https://movie.douban.com/subject/1291549/" target="_blank" rel="noopener">ã€Šæ”¾ç‰›ç­çš„æ˜¥å¤©ã€‹</a></li><li>2017-08-27 <a href="https://movie.douban.com/subject/1292063/" target="_blank" rel="noopener">ã€Šç¾ä¸½äººç”Ÿã€‹</a></li><li>2017-08-28 <a href="https://movie.douban.com/subject/1889243/" target="_blank" rel="noopener">ã€Šæ˜Ÿé™…ç©¿è¶Šã€‹</a></li><li>2017-08-29 <a href="https://movie.douban.com/subject/1293182/" target="_blank" rel="noopener">ã€ŠåäºŒæ€’æ±‰ã€‹</a></li><li>2017-08-31 <a href="https://movie.douban.com/subject/25839662/" target="_blank" rel="noopener">ã€Š45å‘¨å¹´ã€‹</a></li></ul><h3 id="ä¹æœˆ"><a class="header-anchor" href="#ä¹æœˆ">#</a>ä¹æœˆ</h3><ul><li>2017-09-01 <a href="https://movie.douban.com/subject/26336252/" target="_blank" rel="noopener">ã€Šç¢Ÿä¸­è°6ï¼šå…¨é¢ç“¦è§£ã€‹</a></li><li>2017-09-04 <a href="https://movie.douban.com/subject/10727641/" target="_blank" rel="noopener">ã€Šç¢Ÿä¸­è°5ï¼šç¥ç§˜å›½åº¦ã€‹</a></li><li>2017-09-04 <a href="https://movie.douban.com/subject/3068206/" target="_blank" rel="noopener">ã€Šç¢Ÿä¸­è°4ã€‹</a></li><li>2017-09-04 <a href="https://movie.douban.com/subject/26416603/" target="_blank" rel="noopener">ã€Šè¨åˆ©æœºé•¿ã€‹</a></li><li>2017-09-06 <a href="https://movie.douban.com/subject/25814705/" target="_blank" rel="noopener">ã€Šå°æ£®æ— å¤ç§‹ç¯‡ã€‹</a></li><li>2017-09-06 <a href="https://movie.douban.com/subject/25814707/" target="_blank" rel="noopener">ã€Šå°æ£®æ— å†¬æ˜¥ç¯‡ã€‹</a></li><li>2017-09-07 <a href="https://movie.douban.com/subject/26874505/" target="_blank" rel="noopener">ã€Šäººç”Ÿæœå®ã€‹</a></li><li>2017-09-12 <a href="https://movie.douban.com/subject/1937401/" target="_blank" rel="noopener">ã€ŠKæ­Œæƒ…äººã€‹</a></li><li>2017-09-21 <a href="https://movie.douban.com/subject/27605698/" target="_blank" rel="noopener">ã€Šè¥¿è™¹å¸‚é¦–å¯Œã€‹</a></li><li>2017-09-22 <a href="https://movie.douban.com/subject/26806099/" target="_blank" rel="noopener">ã€Šçˆ±çŒ«ä¹‹åŸã€‹</a></li><li>2017-09-24 <a href="https://movie.douban.com/subject/1294639/" target="_blank" rel="noopener">ã€Šå‹‡æ•¢çš„å¿ƒã€‹</a></li><li>2017-09-28 <a href="https://movie.douban.com/subject/27133303/" target="_blank" rel="noopener">ã€Šè¶…æ—¶ç©ºåŒå±…ã€‹</a></li></ul><h3 id="åæœˆ"><a class="header-anchor" href="#åæœˆ">#</a>åæœˆ</h3><h3 id="å¾…çœ‹"><a class="header-anchor" href="#å¾…çœ‹">#</a>å¾…çœ‹</h3><ul><li>ã€Šç»¿é‡Œå¥‡è¿¹ã€‹</li><li>ã€Šäº†ä¸èµ·çš„ç›–èŒ¨æ¯”ã€‹</li><li><a href="https://movie.douban.com/subject/1305725/" target="_blank" rel="noopener">ã€Šå¤§å«Â·æˆˆå°”çš„ä¸€ç”Ÿã€‹</a></li><li><a href="https://movie.douban.com/subject/2369845/" target="_blank" rel="noopener">ã€Šå«Œç–‘äººXçš„çŒ®èº«ã€‹</a></li><li>ã€Šç‹ç‰Œç‰¹å·¥2: é»„é‡‘åœˆã€‹</li><li>ã€ŠåˆºçŒ¬çš„ä¼˜é›…ã€‹</li><li><a href="https://movie.douban.com/subject/26356789/" target="_blank" rel="noopener">ã€Šå¿ƒæˆ¿å®¢ã€‹</a></li><li><a href="https://movie.douban.com/subject/20514947/" target="_blank" rel="noopener">ã€Šé¾™è™¾ã€‹</a></li><li><a href="https://movie.douban.com/subject/2053515/" target="_blank" rel="noopener">ã€Šæ›¾ç»ã€‹</a><blockquote><p>I paid the cost too late, Now youâ€™re gone.</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> movie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2017 movie list</title>
      <link href="/blog/2017/10/30/2017-movie-list/"/>
      <url>/blog/2017/10/30/2017-movie-list/</url>
      
        <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a class="header-anchor" href="#å†™åœ¨å‰é¢">#</a>å†™åœ¨å‰é¢</h3><p>å¥½çœ‹çš„ç”µå½±å¥½å¤š, æˆªå›¾æ”¾åˆ°æ‰‹æœºé‡Œæ€•ä¸¢, å†™ä¸‹æ¥.<br>å®šæœŸæ›´æ–°.</p><a id="more"></a><h3 id="ä¸€æœˆ"><a class="header-anchor" href="#ä¸€æœˆ">#</a>ä¸€æœˆ</h3><ul><li>2017-01-01 <a href="https://movie.douban.com/subject/25894431/" target="_blank" rel="noopener">ã€Šæ˜Ÿçƒå¤§æˆ˜å¤–ä¼ : ä¾ ç›—ä¸€å·ã€‹</a></li><li>2017-01-07 <a href="https://movie.douban.com/subject/1309196/" target="_blank" rel="noopener">ã€Šå©šç¤¼å‚²å®¢ã€‹</a></li><li>2017-01-08 <a href="https://movie.douban.com/subject/25815034/" target="_blank" rel="noopener">ã€Šæ¹„å…¬æ²³è¡ŒåŠ¨ã€‹</a></li></ul><h3 id="äºŒæœˆ"><a class="header-anchor" href="#äºŒæœˆ">#</a>äºŒæœˆ</h3><ul><li>2017-02-02 <a href="https://movie.douban.com/subject/26182910/" target="_blank" rel="noopener">ã€ŠåŠŸå¤«ç‘œä¼½ã€‹</a></li><li>2017-02-06 <a href="https://movie.douban.com/subject/26862259/" target="_blank" rel="noopener">ã€Šä¹˜é£ç ´æµªã€‹</a></li><li>2017-02-09 <a href="https://movie.douban.com/subject/1309163/" target="_blank" rel="noopener">ã€Šæ‹æ‹ç¬”è®°æœ¬ã€‹</a></li><li>2017-02-15 <a href="https://movie.douban.com/subject/25934014/" target="_blank" rel="noopener">ã€Šçˆ±ä¹ä¹‹åŸã€‹</a></li></ul><h3 id="ä¸‰æœˆ"><a class="header-anchor" href="#ä¸‰æœˆ">#</a>ä¸‰æœˆ</h3><ul><li>2017-03-09 <a href="https://movie.douban.com/subject/26235839/" target="_blank" rel="noopener">ã€Šå†…åœ¨ç¾ã€‹</a></li><li>2017-03-10 <a href="https://movie.douban.com/subject/25980443/" target="_blank" rel="noopener">ã€Šæµ·è¾¹çš„æ›¼å½»æ–¯ç‰¹ã€‹</a></li><li>2017-03-11 <a href="https://movie.douban.com/subject/2974278/" target="_blank" rel="noopener">ã€Šè“è‰²æƒ…äººèŠ‚ã€‹</a></li><li>2017-03-16 <a href="https://movie.douban.com/subject/5360889/" target="_blank" rel="noopener">ã€Šæœˆå‡ç‹å›½ã€‹</a></li><li>2017-03-22 <a href="https://movie.douban.com/subject/1300992/" target="_blank" rel="noopener">ã€Šå®Œç¾çš„ä¸–ç•Œã€‹</a></li><li>2017-03-28 <a href="https://movie.douban.com/subject/1340517/" target="_blank" rel="noopener">ã€Šåˆå»ã€‹</a></li><li>2017-03-29 <a href="https://movie.douban.com/subject/3550132/" target="_blank" rel="noopener">ã€Šéå¸¸ä¸»æ’­ã€‹</a></li></ul><h3 id="å››æœˆ"><a class="header-anchor" href="#å››æœˆ">#</a>å››æœˆ</h3><ul><li>2017-04-12 <a href="https://movie.douban.com/subject/26599076/" target="_blank" rel="noopener">ã€Šå››æœˆæ˜¯ä½ çš„è°è¨€ã€‹</a></li><li>2017-04-14 <a href="https://movie.douban.com/subject/26260853/" target="_blank" rel="noopener">ã€Šé€Ÿåº¦ä¸æ¿€æƒ…8ã€‹</a></li><li>2017-04-23 <a href="https://movie.douban.com/subject/10777687/" target="_blank" rel="noopener">ã€Š7å·æˆ¿çš„ç¤¼ç‰©ã€‹</a></li></ul><h3 id="äº”æœˆ"><a class="header-anchor" href="#äº”æœˆ">#</a>äº”æœˆ</h3><ul><li>2017-05-11 <a href="https://movie.douban.com/subject/1301912/" target="_blank" rel="noopener">ã€Šç§‹å¤©çš„ç«¥è¯ã€‹</a></li><li>2017-05-18 <a href="https://movie.douban.com/subject/10577869/" target="_blank" rel="noopener">ã€Šæ—¶ç©ºæ‹æ—…äººã€‹</a></li><li>2017-05-26 <a href="https://movie.douban.com/subject/6311303/" target="_blank" rel="noopener">ã€ŠåŠ å‹’æ¯”æµ·ç›—5: æ­»æ— å¯¹è¯ã€‹</a></li><li>2017-05-28 <a href="https://movie.douban.com/subject/26593587/" target="_blank" rel="noopener">ã€Šå¤©æ‰å°‘å¥³ã€‹</a></li><li>2017-05-31 <a href="https://movie.douban.com/subject/26586432/" target="_blank" rel="noopener">ã€Šå¥‘å…‹ã€‹</a></li></ul><h3 id="å…­æœˆ"><a class="header-anchor" href="#å…­æœˆ">#</a>å…­æœˆ</h3><ul><li>2017-06-13 <a href="https://movie.douban.com/subject/1309172/" target="_blank" rel="noopener">ã€Šåˆæ‹50æ¬¡ã€‹</a></li><li>2017-06-15 <a href="https://movie.douban.com/subject/3025447/" target="_blank" rel="noopener">ã€Šé‡‘è‰è„±å£³ã€‹</a></li></ul><h3 id="ä¸ƒæœˆ"><a class="header-anchor" href="#ä¸ƒæœˆ">#</a>ä¸ƒæœˆ</h3><ul><li>2017-07-02 <a href="https://movie.douban.com/subject/23761370/" target="_blank" rel="noopener">ã€Šé€Ÿåº¦ä¸æ¿€æƒ…7ã€‹</a></li><li>2017-07-16 <a href="https://movie.douban.com/subject/6845529/" target="_blank" rel="noopener">ã€Šæœ‰å¸Œæœ›çš„ç”·äººã€‹</a></li><li>2017-07-17 <a href="https://movie.douban.com/subject/25812712/" target="_blank" rel="noopener">ã€Šç¥å·å¥¶çˆ¸3ã€‹</a></li><li>2017-07-19 <a href="https://movie.douban.com/subject/26811587/" target="_blank" rel="noopener">ã€Šå¤§æŠ¤æ³•ã€‹</a></li><li>2017-07-24 <a href="https://movie.douban.com/subject/26266085/" target="_blank" rel="noopener">ã€Šä¸‰ä¸ªè€æªæ‰‹ã€‹</a></li><li>2017-07-29 <a href="https://movie.douban.com/subject/24529353/" target="_blank" rel="noopener">ã€Šç»åœ°é€ƒäº¡ã€‹</a></li><li>2017-07-30 <a href="https://movie.douban.com/subject/26816383/" target="_blank" rel="noopener">ã€Šå–œæ¬¢ä½ ã€‹</a></li></ul><h3 id="å…«æœˆ"><a class="header-anchor" href="#å…«æœˆ">#</a>å…«æœˆ</h3><ul><li>2017-08-12 <a href="https://movie.douban.com/subject/3011091/" target="_blank" rel="noopener">ã€Šå¿ çŠ¬å…«å…¬çš„æ•…äº‹ã€‹</a></li></ul><h3 id="ä¹æœˆ"><a class="header-anchor" href="#ä¹æœˆ">#</a>ä¹æœˆ</h3><ul><li>2017-09-06 <a href="https://movie.douban.com/subject/26607693/" target="_blank" rel="noopener">ã€Šæ•¦åˆ»å°”å…‹ã€‹</a></li><li>2017-09-09 <a href="https://movie.douban.com/subject/26366465/" target="_blank" rel="noopener">ã€Šæˆ‘çš„å°‘å¥³æ—¶ä»£ã€‹</a></li></ul><h3 id="åæœˆ"><a class="header-anchor" href="#åæœˆ">#</a>åæœˆ</h3><ul><li>2017-10-15 <a href="https://movie.douban.com/subject/27024903/" target="_blank" rel="noopener">ã€Šå¤©æ‰æªæ‰‹ã€‹</a></li><li>2017-10-22 <a href="https://movie.douban.com/subject/1298624/" target="_blank" rel="noopener">ã€Šé—»é¦™è¯†å¥³äººã€‹</a></li><li>2017-10-29 <a href="https://movie.douban.com/subject/26382962/" target="_blank" rel="noopener">ã€Šç¾å¥½çš„æ„å¤–ã€‹</a></li></ul><h3 id="åä¸€æœˆ"><a class="header-anchor" href="#åä¸€æœˆ">#</a>åä¸€æœˆ</h3><ul><li>2017-11-16 <a href="https://movie.douban.com/subject/3443074/" target="_blank" rel="noopener">ã€Šå¯‚å¯èŠ³å¿ƒã€‹</a></li><li>2017-11-23 <a href="https://movie.douban.com/subject/1308820/" target="_blank" rel="noopener">ã€ŠèŠ±ä¸çˆ±ä¸½ä¸ã€‹</a></li></ul><h3 id="åäºŒæœˆ"><a class="header-anchor" href="#åäºŒæœˆ">#</a>åäºŒæœˆ</h3><ul><li>2017-12-21 <a href="https://movie.douban.com/subject/1293399/" target="_blank" rel="noopener">ã€Šè«æ‰ç‰¹ä¼ ã€‹</a></li><li>2017-12-30 <a href="https://movie.douban.com/subject/26799731/" target="_blank" rel="noopener">ã€Šè¯·ä»¥ä½ çš„åå­—å‘¼å”¤æˆ‘ã€‹</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> movie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>New Here</title>
      <link href="/blog/2017/10/29/new-here/"/>
      <url>/blog/2017/10/29/new-here/</url>
      
        <content type="html"><![CDATA[<h2 id="first-and-foremost"><a class="header-anchor" href="#first-and-foremost">#</a>First and Foremost</h2><p><a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> is a fast, simple and powerful blog framework. You write posts in Markdown (or other languages) and Hexo generates static files with a beautiful theme in seconds.</p><a id="more"></a><p>Being tired of my old WordPress blog framework so I want to try something new. Hexo is just the one I really need! Simple and beautiful.</p><p>New here with new change, so in this blog I will try my best to wirte some posts in English.</p><p>åšå®¢çš„ä¸»é¢˜ç®€å•, ä½†æ˜¯æˆ‘æ„å¤–çš„å‘ç°, åœ¨è¿™ä¸ªä¸»é¢˜ä¸‹çš„æ–‡ç« ç”¨ä¸­æ–‡æ„å¤–çš„æ¯”è‹±æ–‡å¥½çœ‹.</p>]]></content>
      
      
      <categories>
          
          <category> life </category>
          
      </categories>
      
      
        <tags>
            
            <tag> life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/blog/2017/10/28/hello-world/"/>
      <url>/blog/2017/10/28/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="quick-start"><a class="header-anchor" href="#quick-start">#</a>Quick Start</h2><h3 id="create-a-new-post"><a class="header-anchor" href="#create-a-new-post">#</a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="run-server"><a class="header-anchor" href="#run-server">#</a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="generate-static-files"><a class="header-anchor" href="#generate-static-files">#</a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="header-anchor" href="#deploy-to-remote-sites">#</a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Arduino in command line</title>
      <link href="/blog/2017/05/01/arduino-in-command-line/"/>
      <url>/blog/2017/05/01/arduino-in-command-line/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="header-anchor" href="#å‰è¨€">#</a>å‰è¨€</h2><p>ç”±äºå¼€å‘ç¯å¢ƒæ˜¯æ ‘è“æ´¾è¿æ¥Arduinoçš„æ¿å­ç„¶åæ§åˆ¶å…¶å®ƒå…ƒä»¶,è€Œæ ‘è“æ´¾å’ŒArduinoéƒ½å·²ç»è¢«æ”¾ç½®åœ¨äº†å¯†å°è£…ç½®ä¸­,åªèƒ½é€šè¿‡wifiçš„æ–¹å¼è¿æ¥,æ‰€ä»¥é€šè¿‡Googleæ‰¾åˆ°äº†ä¸€ä¸ªæ•™ç¨‹æˆåŠŸå®ç°è¿œç¨‹Arduinoç¼–è¯‘ä¸Šä¼ .</p><a id="more"></a><h2 id="ç¯å¢ƒ"><a class="header-anchor" href="#ç¯å¢ƒ">#</a>ç¯å¢ƒ</h2><p>Raspberry Pi3,Ubuntu-Mate 16.04 LTS,ArduinoÂ Mega 2560.</p><h2 id="é…ç½®"><a class="header-anchor" href="#é…ç½®">#</a>é…ç½®</h2><p>æ‰¾åˆ°çš„å·¥å…·æ˜¯ <a href="http://inotool.org/" target="_blank" rel="noopener">Ino</a>. é¦–å…ˆæŒ‰ç…§æ–‡æ¡£è¦æ±‚, å®‰è£…ä¾èµ–æ–‡ä»¶:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤Ubuntuä¸‹æœ‰Python 2.6+æ•…æ— éœ€é‡æ–°å®‰è£…</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install arduino arduino-core <span class="comment"># å¤§æ¦‚inoä¹Ÿæ˜¯ä¸€ä¸ªæ§åˆ¶å·¥å…·,è¿˜æ˜¯è¦ä¾èµ–arduinoçš„ide</span></span><br><span class="line">sudo apt-get install picocom <span class="comment"># picocomæ˜¯ä¸€ä¸ªä¸²å£è°ƒè¯•å·¥å…·</span></span><br></pre></td></tr></table></figure><p>å®‰è£…åå³å¯å®‰è£…ino,å®˜æ–¹æ¨èäº†å¯ä»¥ç”¨è¿‡pipå’Œeasy_installå®‰è£…,ä¸è¿‡æˆ‘éƒ½å®‰è£…å¤±è´¥äº†,æ•…è¿™é‡Œé€‰æ‹©ä¸‹è½½æ–¹å¼:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨https://pypi.python.org/pypi/ino/#downloadsç½‘é¡µä¸­æ‰¾åˆ°æœ€æ–°çš„å‹ç¼©åŒ…ä¸‹è½½å³å¯.</span></span><br><span class="line">tar -xvf ino-0.3.6.tar.gz</span><br><span class="line"><span class="built_in">cd</span> ino-0.3.6/</span><br><span class="line">pip install -r requirements.txt <span class="comment"># ä¸çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ç”¨python setup.pyå°±æ˜¯ä¼šå‡ºé”™,åªèƒ½æ‰‹åŠ¨å®‰è£…pipä¾èµ–</span></span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">sudo mv ino-0.3.6/ /usr/<span class="built_in">local</span>/ino</span><br><span class="line">sudo ln -s /usr/<span class="built_in">local</span>/ino/bin/ino /usr/bin/ino</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a class="header-anchor" href="#ä½¿ç”¨">#</a>ä½¿ç”¨</h2><p>å› ä¸ºarduinoé™åˆ¶æ–‡ä»¶å¿…é¡»åœ¨å·¥ç¨‹ä¸‹æ‰èƒ½ç¼–è¯‘,æ‰€ä»¥å…ˆåˆ›å»ºå·¥ç¨‹(å…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹å³å¯):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir driver</span><br><span class="line"><span class="built_in">cd</span> driver</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨initå‘½ä»¤å¯ä»¥è‡ªåŠ¨å¸®ä½ ç”Ÿæˆä¸€ä¸ªå·¥ç¨‹:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ino init</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹srcæ–‡ä»¶ä¸‹çš„.inoæ–‡ä»¶å³å¯. ç¼–å†™å®Œæˆå,ä½¿ç”¨buildå‘½ä»¤ç¼–è¯‘:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ino build -m mega2560 <span class="comment"># -må‚æ•°æ˜¯æ¿å­ç±»å‹</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å®Œæˆå,ä½¿ç”¨uploadå‘½ä»¤ä¸Šä¼ :</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ino upload -m mega2560 -p /dev/ttyACM0 <span class="comment"># -pæ˜¯ä¸²å£å·</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥æ·»åŠ é…ç½®æ–‡ä»¶å°±ä¸ç”¨æ¯æ¬¡buildå’Œuploadçš„æ—¶å€™éƒ½å¸¦å‚æ•°:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vi ino.ini</span><br><span class="line">[build]</span><br><span class="line">board-model = mega2560</span><br><span class="line"></span><br><span class="line">[upload]</span><br><span class="line">board-model = mega2560</span><br><span class="line">serial-port = /dev/ttyACM0</span><br><span class="line"></span><br><span class="line">[serial]</span><br><span class="line">serial-port = /dev/ttyACM0</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒæ–‡æ¡£"><a class="header-anchor" href="#å‚è€ƒæ–‡æ¡£">#</a>å‚è€ƒæ–‡æ¡£</h2><ul><li><a href="http://playground.arduino.cc//Linux/Ubuntu" target="_blank" rel="noopener">Install Arduino on Ubuntu Linux</a></li><li><a href="http://inotool.org/#installation" target="_blank" rel="noopener">Ino</a></li><li><a href="http://inotool.org/quickstart" target="_blank" rel="noopener">Ino-Quick start</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç”¨Adobe Photoshopåˆ›é€ æœˆå…‰åœºæ™¯æ•ˆæœ</title>
      <link href="/blog/2015/12/13/how-to-create-a-moonlight-scene-photo-manipulation-with-adobe-photoshop/"/>
      <url>/blog/2015/12/13/how-to-create-a-moonlight-scene-photo-manipulation-with-adobe-photoshop/</url>
      
        <content type="html"><![CDATA[<p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/mTf0sRWTETF*eeeP7I5HvMkVA.n8FexdNX9YQ9NFVts!/r/dHQBAAAAAAAA" alt=""><br>æœ€ç»ˆæ•ˆæœå›¾<br>åœ¨è¿™ç¯‡æ•™ç¨‹ä¸­ï¼Œæˆ‘ä¼šå‘ä½ å±•ç¤ºå¦‚ä½•åˆ¶ä½œä¸€å¼ å¥³å­èµèŠ±çš„æœˆæ™¯å›¾ã€‚</p><a id="more"></a><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ·»åŠ å¤©ç©ºå’Œé£æ™¯ï¼Œä¹‹åæ·»åŠ æœˆäº®ï¼Œå¹¶ä¸”é€šè¿‡è°ƒæ•´å›¾å±‚ã€è’™æ¿å’Œç¬”åˆ·æ¥æ”¹å˜å®ƒçš„æ•ˆæœã€‚è¿™ä¹‹åæˆ‘ä»¬å†æ·»åŠ å…¶å®ƒå…ƒç´ ï¼Œä¾‹å¦‚åœ°æ¿ã€é˜³å°ã€æ¨¡ç‰¹å’Œé²œèŠ±ï¼Œæˆ‘ä»¬ç”¨ç›¸åŒçš„æ‰‹æ³•æŠŠå®ƒä»¬ç»“åˆèµ·æ¥ã€‚æœ€åçš„ä½œå“å°†ç”±å‡ ä¸ªå›¾å±‚æ„æˆã€‚</p><p>é€šè¿‡è¿™ç¯‡æ•™ç¨‹ï¼Œä½ å¯ä»¥å­¦ä¹ åˆ°å¯¹å…‰çº¿çš„è°ƒæ•´ã€å¯¹æ™¯æ·±çš„åŠ å¼ºç­‰ç­‰ã€‚</p><p>ä½ æ˜¯ä¸€ä¸ªLightroomçš„ç²‰ä¸ä¹ˆï¼Ÿæˆ‘ä»¬æœ‰å¾ˆå¤šå¥½çš„<a href="http://graphicriver.net/category/add-ons/lightroom-presets" target="_blank" rel="noopener">Lightroomé¢„è®¾</a>æ”¶è—åœ¨GraphicRiverï¼Œè¿™äº›å°†å¸®ä½ åœ¨ä¿®æ”¹ç…§ç‰‡çš„æ•ˆåº”å’Œé£æ ¼ä¸ŠèŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚</p><h3 id="æ•™ç¨‹æ‰€éœ€ç´ æ"><a class="header-anchor" href="#æ•™ç¨‹æ‰€éœ€ç´ æ">#</a>æ•™ç¨‹æ‰€éœ€ç´ æ</h3><p>ä¸‹é¢å°±æ˜¯æœ¬æ•™ç¨‹éœ€è¦ç”¨åˆ°çš„ç´ æï¼š</p><ul><li><a href="https://pixabay.com/en/gray-clouds-thunderstorm-718177/" target="_blank" rel="noopener">å¤©ç©º</a></li><li><a href="https://pixabay.com/en/mountains-lake-mist-fog-nature-691082/" target="_blank" rel="noopener">é£æ™¯</a></li><li><a href="https://pixabay.com/en/moon-nocturne-night-nature-232753/" target="_blank" rel="noopener">æœˆäº®</a></li><li><a href="http://www.textures.com/download/brickround0092/37917" target="_blank" rel="noopener">åœ°æ¿</a></li><li><a href="http://simbores.deviantart.com/art/Medieval-Garden-07-492641354" target="_blank" rel="noopener">é˜³å°</a></li><li><a href="http://mizzd-stock.deviantart.com/art/Fairytale-Princess-2-206778528" target="_blank" rel="noopener">æ¨¡ç‰¹</a></li><li><a href="https://pixabay.com/en/bloom-blossom-bougainvillea-flora-2387/" target="_blank" rel="noopener">èŠ±1</a></li><li><a href="https://pixabay.com/en/bougainvillea-flowers-pink-flowers-241690/" target="_blank" rel="noopener">èŠ±2</a></li><li><a href="https://pixabay.com/en/bougainvillea-sky-moon-374111/" target="_blank" rel="noopener">èŠ±3</a></li></ul><h3 id="1-æ·»åŠ å¤©ç©ºå’Œé£æ™¯"><a class="header-anchor" href="#1-æ·»åŠ å¤©ç©ºå’Œé£æ™¯">#</a>1.æ·»åŠ å¤©ç©ºå’Œé£æ™¯</h3><h4 id="æ­¥éª¤1"><a class="header-anchor" href="#æ­¥éª¤1">#</a>æ­¥éª¤1</h4><p>åœ¨Photoshopé¢„è®¾æ¡ä»¶ä¸‹åˆ›å»ºä¸€ä¸ª1500åƒç´ *1500åƒç´ çš„æ–°æ–‡ä»¶ï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/cd8TyBtimYUUTH4ycZFUplic5kfm10zs0TMzRqJ*9l4!/r/dHUBAAAAAAAA" alt=""></p><h4 id="æ­¥éª¤2"><a class="header-anchor" href="#æ­¥éª¤2">#</a>æ­¥éª¤2</h4><p>æ‰“å¼€å¤©ç©ºçš„å›¾ç‰‡ã€‚å°†å®ƒç”¨ç§»åŠ¨å·¥å…·(V)æ‹–åŠ¨åˆ°ä¸»æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å®ƒæ”¾ç½®åœ¨ç”»å¸ƒçš„ä¸ŠåŠéƒ¨åˆ†ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/O*i39A7Lzl.NZCnC5r6A28zvSkOgOFXZJ.lhNkZFcrI!/r/dHIBAAAAAAAA" alt=""></p><p>é€‰æ‹©æ»¤é•œ&gt;æ¨¡ç³Š&gt;é«˜æ–¯æ¨¡ç³Šï¼Œè®¾ç½®åŠå¾„ä¸º8åƒç´ ï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/raNpbkQfXiAfVjPvbFfqpof4bEkoQm*WQbFTl*IVaGw!/r/dHMBAAAAAAAA" alt=""></p><h4 id="æ­¥éª¤3"><a class="header-anchor" href="#æ­¥éª¤3">#</a>æ­¥éª¤3</h4><p>ä½¿ç”¨å›¾åƒè°ƒæ•´è®©å¤©ç©ºå˜å¾—æ›´æš—ä¸€äº›ã€‚å›¾å±‚&gt;æ–°å»ºè°ƒæ•´å›¾å±‚&gt;æ›²çº¿ï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/uTOJdaTPV0nzusZfKTHhEyBjR0ZP6kgWJzRJ7ToR5So!/r/dHIBAAAAAAAA" alt=""></p><p>åœ¨è¿™ä¸ªå›¾å±‚è’™æ¿ä¸Šï¼Œæ¿€æ´»ç¬”åˆ·å·¥å…·(B)ï¼Œç”¨ä¸€ä¸ªè½¯åœ†çš„ã€é»‘é¢œè‰²çš„(è½¯é»‘ç¬”åˆ·)æ¥å‡å°‘å·¦è¾¹çš„æ•ˆæœï¼Œä¸ºçš„æ˜¯æˆ‘ä»¬ä¹‹åä¼šåœ¨è¿™é‡Œæ·»åŠ çš„æœˆäº®ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/R6z4eLPc92UAgDC*DBq8u1m0MLpXN4grKa*XUcnk1lA!/r/dI8BAAAAAAAA" alt=""></p><h4 id="æ­¥éª¤4"><a class="header-anchor" href="#æ­¥éª¤4">#</a>æ­¥éª¤4</h4><p>ç”¨å¦ä¸€ä¸ªæ›²çº¿è°ƒæ•´å›¾å±‚æ¥ä½¿å¤©ç©ºåŠ äº®ï¼Œç‰¹åˆ«æ˜¯å·¦è¾¹éƒ¨åˆ†ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/BZ3hmdfcNTRVGVY4lf2gupPDRFGqvQQpJuEod.F1RFk!/r/dGsAAAAAAAAA" alt=""></p><p>ä½¿ç”¨è½¯é»‘ç¬”åˆ·éšè—å³åŠéƒ¨åˆ†çš„æ•ˆæœï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†è®©å®ƒæ›´æš—ä¸€äº›ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/vkVe8ekz*YjMVpEjOaqlrbEIZXV4KDpLgXTLb.RWG3s!/r/dHQBAAAAAAAA" alt=""></p><h4 id="æ­¥éª¤5"><a class="header-anchor" href="#æ­¥éª¤5">#</a>æ­¥éª¤5</h4><p>æ‰“å¼€é£æ™¯çš„å›¾ç‰‡ã€‚æŠŠå®ƒæ”¾ç½®åœ¨ç”»å¸ƒçš„ä¸‹åŠéƒ¨åˆ†ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/lBPBaiPx7C4u7mJ4dO0SID0uvMkarzzcq8ds4Tphsrc!/r/dHIBAAAAAAAA" alt=""></p><p>åœ¨è¿™ä¸ªå›¾å±‚ä¸Šæ·»åŠ ä¸€ä¸ªè’™æ¿ï¼Œç”¨è½¯é»‘ç¬”åˆ·å»æ‰å¯¹æ¯”å¼ºçƒˆçš„è¾¹ç¼˜ï¼Œè®©ä¸¤å¼ å›¾ç‰‡çš„å¤©ç©ºèåˆã€‚ä¿ç•™ä¸€äº›å±±é¡¶å‘¨å›´äº‘é›¾çš„è¾¹ç¼˜ã€‚åœ¨æ¶‚æŠ¹å·¦è¾¹çš„å±±çš„æ—¶å€™é™ä½ç¬”åˆ·çš„é€æ˜åº¦ï¼Œè®©å®ƒæ¶ˆå¤±åœ¨å¤©ç©ºä¸­ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/RCyav9QORhwoYe4YGI1KyDlPnMlLnH0F1b5P7ALG.TQ!/r/dI8BAAAAAAAA" alt="â€œ"></p><h4 id="æ­¥éª¤6"><a class="header-anchor" href="#æ­¥éª¤6">#</a>æ­¥éª¤6</h4><p>åœ¨æ¹–é¢ä¸Šæœ‰ä¸€äº›æˆ‘ä»¬ä¸æƒ³è¦çš„ç»†èŠ‚ã€‚æ–°å»ºä¸€ä¸ªå›¾å±‚ï¼ŒæŠŠå®ƒä½œä¸ºå‰ªåˆ‡è’™æ¿ã€‚é€‰æ‹©ä»¿åˆ¶å›¾ç« å·¥å…·(S)æ¥æ¸…é™¤è¿™äº›ç»†èŠ‚ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/*pkFvZePxW8VNl1*tq8WFJ8F.pCPbEKltd6ifyTQ1*8!/r/dHIBAAAAAAAA" alt="â€œâ€/"></p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/fLm4kbuNt2DnfxZWbgsqu6CsyPj5WHL.hkCbeOdkxlM!/r/dHUBAAAAAAAA" alt="â€œâ€/"></p><h4 id="æ­¥éª¤7"><a class="header-anchor" href="#æ­¥éª¤7">#</a>æ­¥éª¤7</h4><p>æ·»åŠ ä¸€ä¸ªæ›²çº¿è°ƒæ•´å›¾å±‚(ä½œä¸ºå‰ªåˆ‡è’™æ¿)æ¥è®©ç”»é¢æš—åŒ–ã€‚åœ¨å®ƒçš„å›¾å±‚è’™æ¿ä¸Šï¼Œç”¨è½¯é»‘ç¬”åˆ·æ¸…é™¤æœˆå…‰ç…§äº®çš„éƒ¨åˆ†çš„æš—åŒ–æ•ˆæœã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/HEMFn10HahuPII9fOUosMwMUOiGkxy5Yk1ZOf.MBYh4!/r/dHIBAAAAAAAA" alt="â€œâ€/"></p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/xBKAbWNBAolO09QZ7k*W9m7hmg7A*kgdRLvvp4bkVzQ!/r/dHIBAAAAAAAA" alt="â€œâ€/"></p><h4 id="æ­¥éª¤8"><a class="header-anchor" href="#æ­¥éª¤8">#</a>æ­¥éª¤8</h4><p>ä½¿ç”¨è‰²ç›¸/é¥±å’Œåº¦è°ƒæ•´å›¾å±‚è®©é£æ™¯å’Œå¤©ç©ºçš„é¥±å’Œåº¦åŒ¹é…ï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/EMHRi*T1lrgTs7ARk*phWVNgWVpy2XzYc9ef*xrVup0!/r/dI8BAAAAAAAA" alt="â€œ"></p><h3 id="2-æ·»åŠ æœˆäº®"><a class="header-anchor" href="#2-æ·»åŠ æœˆäº®">#</a>2.æ·»åŠ æœˆäº®</h3><h4 id="æ­¥éª¤1-2"><a class="header-anchor" href="#æ­¥éª¤1-2">#</a>æ­¥éª¤1</h4><p>ç”¨æ¤­åœ†é€‰åŒºå·¥å…·(M)å°†æœˆäº®ä»åŸå§‹å›¾ç‰‡ä¸­æŠ å‡ºï¼ŒæŠŠå®ƒæ”¾ç½®åˆ°ç”»å¸ƒçš„å·¦ä¸Šè§’ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/Jn.SihB9uqOgPn6LqrQVFJqckRZi81nwwbl5eeFgHTg!/r/dHQBAAAAAAAA" alt="â€œ"></p><h4 id="æ­¥éª¤2-2"><a class="header-anchor" href="#æ­¥éª¤2-2">#</a>æ­¥éª¤2</h4><p>å¯¹æœˆäº®å›¾å±‚åº”ç”¨8åƒç´ çš„é«˜æ–¯æ¨¡ç³Šï¼Œä½¿å¾—å®ƒå’Œå¤©ç©ºçš„æ·±åº¦å’ŒæŸ”è½¯åº¦ç›¸åŒ¹é…ï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/HoXp*B40D3Jfqs3Rw00nDNfhnx85n5MpGQoZDet1XlE!/r/dIoBAAAAAAAA" alt="â€œâ€/"></p><h4 id="æ­¥éª¤3-2"><a class="header-anchor" href="#æ­¥éª¤3-2">#</a>æ­¥éª¤3</h4><p>åŒå‡»æœˆäº®å›¾å±‚ï¼Œé€‰æ‹©å†…å‘å…‰æ•ˆæœï¼Œè®¾ç½®çš„å‘å…‰é¢œè‰²ä¸º#edededï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/81POBVcgpZy60yCeovpd3cY*F0jPjNzC2Fr9D7jsUwk!/r/dHQBAAAAAAAA" alt="â€œâ€/"></p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/aR0HIA7BiD2HpXFNuM8gD0J96Wtd4pMH1EdKi7wnGmY!/r/dHIBAAAAAAAA" alt="â€œ"></p><h4 id="æ­¥éª¤4-2"><a class="header-anchor" href="#æ­¥éª¤4-2">#</a>æ­¥éª¤4</h4><p>ç”¨å’Œæˆ‘ä¹‹å‰çš„<a href="http://design.tutsplus.com/tutorials/create-a-relaxing-vibrant-fantasy-lake-scene-with-adobe-photoshop--cms-24409" target="_blank" rel="noopener">æ¢¦å¹»æ¹–æ³Šæ™¯è±¡æ•™ç¨‹</a>ä¸€æ ·çš„æ–¹æ³•æ¥åšæœˆå…‰å…³äºæ¹–é¢çš„åå°„ã€‚ä½ åº”è¯¥å¾—åˆ°ç±»ä¼¼å‘ä¸‹å›¾ä¸€æ ·çš„æ•ˆæœï¼š</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/JQnLzUr4yNUZY.bkux0yyQJbzS0W6K57HKcHvYZm.2k!/r/dHQBAAAAAAAA" alt="â€œâ€/"></p><h4 id="æ­¥éª¤5-2"><a class="header-anchor" href="#æ­¥éª¤5-2">#</a>æ­¥éª¤5</h4><p>æ–°å»ºä¸€ä¸ªå›¾å±‚ï¼Œç”¨æŸ”è½¯çš„ã€é¢œè‰²å€¼ä¸º#edededçš„ç¬”åˆ·æ¥æ¶‚æŠ¹æ¹–é¢çš„åŒºåŸŸï¼Œè¾¾åˆ°åå°„æœˆå…‰çš„æ•ˆæœã€‚æ›´æ”¹å›¾å±‚æ ·å¼å˜ä¸ºæŸ”å…‰100%ã€‚</p><p><img src="http://r.photo.store.qq.com/psb?/V10scHBd1P6AZ9/qJcrjAfAdo273Fr9vKtQoD5dJ45OS1r*R*mSZt2nifo!/r/dHYBAAAAAAAA" alt="â€œâ€/"></p><p><a href="http://design.tutsplus.com/tutorials/how-to-create-a-moonlight-scene-photo-manipulation-with-adobe-photoshop--cms-25064" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> Photoshop </category>
          
      </categories>
      
      
        <tags>
            
            <tag> photoshop </tag>
            
            <tag> design </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>about</title>
      <link href="/blog/about/index.html"/>
      <url>/blog/about/index.html</url>
      
        <content type="html"><![CDATA[<p>ä¸€äº›å…³äºæˆ‘çš„ï¼Œæœ‰çš„æ²¡çš„ï¼Œçš„ä¸œè¥¿ã€‚</p><ul><li>ä¸€ä¸ªåœ¨çº¿è§†é¢‘åŒæ­¥æ’­æ”¾æ’ä»¶ï¼š<a href="https://onns.xyz/sync-sofa/">https://onns.xyz/sync-sofa/</a></li><li>ä¸€ä¸ªå› ä¸º leetcode åˆ·é¢˜ä¸æƒ³æ¯æ¬¡æ”¹åçš„ä¸­åˆ’çº¿è½¬é©¼å³°ï¼š<a href="https://onns.xyz/tools/hyphens-to-camel-case/">https://onns.xyz/tools/hyphens-to-camel-case/</a></li><li>ä¸€ä¸ªä¸æƒ³åˆ°å¤„ä¹±ç™»å½•çš„æ–‡å­—åŒæ­¥å·¥å…·ï¼š<a href="https://onns.xyz/doc/?anything">https://onns.xyz/doc/?anything</a></li></ul><p>ä¸€ä¸ªç®€ç®€å•å•çš„ç®€å†ï¼Œ<code>Adobe Indesign</code> åšçš„ã€‚</p><div class="row">    <embed src="//onns.xyz/blog/files/resume-20200706.pdf" width="100%" height="550" type="application/pdf"></div><p>ä¸€äº›å­¦ç”»ç”»è·¯ä¸Šçš„ä¸œè¥¿ï¼š<a href="https://onns.xyz/blog/draw/">ä¹±æ¶‚ä¹±ç”»</a></p><p>ä¸€äº›å‹é“¾ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¸æ˜¯æˆ‘æ²¡æœ‰æœ‹å‹ï¼Œæ˜¯ä»–ä»¬è€æ¢é“¾æ¥ï¼Œå”‰ â•®(â•¯â–½â•°)â•­ï¼š<a href="https://onns.xyz/blog/links/">å‹é“¾</a></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>categories</title>
      <link href="/blog/categories/index.html"/>
      <url>/blog/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>2019å¹´æ€»ç»“</title>
      <link href="/blog/drafts/2019-summary.html"/>
      <url>/blog/drafts/2019-summary.html</url>
      
        <content type="html"><![CDATA[<p>è’å”äº‹ä¸‰å››</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>Xlibraryæ¥å£æ–‡æ¡£</title>
      <link href="/blog/drafts/xlibrary-api-document.html"/>
      <url>/blog/drafts/xlibrary-api-document.html</url>
      
        <content type="html"><![CDATA[<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} --><!-- code_chunk_output --><ul><li><a href="#%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3">æ¥å£æ–‡æ¡£</a><ul><li><a href="#%E7%94%9F%E6%88%90%E8%BD%AC%E5%80%9F%E7%A0%81">ç”Ÿæˆè½¬å€Ÿç </a></li><li><a href="#%E8%BD%AC%E5%80%9F%E5%9B%BE%E4%B9%A6">è½¬å€Ÿå›¾ä¹¦</a></li></ul></li></ul><!-- /code_chunk_output --><a id="more"></a><h1 id="æ¥å£æ–‡æ¡£"><a class="header-anchor" href="#æ¥å£æ–‡æ¡£">#</a>æ¥å£æ–‡æ¡£</h1><ul><li>æ®µè½æ ‡é¢˜<ul><li>æ®µè½æ ‡é¢˜<ul><li>æ®µè½æ ‡é¢˜<ul><li>æ®µè½æ ‡é¢˜</li></ul></li><li>æ®µè½æ ‡é¢˜</li></ul></li><li>æ®µè½æ ‡é¢˜</li></ul></li><li>æ®µè½æ ‡é¢˜</li></ul><h2 id="ç”Ÿæˆè½¬å€Ÿç "><a class="header-anchor" href="#ç”Ÿæˆè½¬å€Ÿç ">#</a>ç”Ÿæˆè½¬å€Ÿç </h2><ul><li>ä½œè€…ï¼š@Onns</li><li>ä¸Šæ¬¡ä¿®æ”¹ï¼š2019-08-14</li></ul><p>æ‹¥æœ‰ä¹¦çš„ç”¨æˆ·å¯ä»¥ç”Ÿæˆè½¬å€Ÿç ï¼Œå°†ä¹¦å€Ÿç»™ä»–äººã€‚</p><ul><li><strong>ç½‘å€ï¼š</strong><br>/api/book/generate-code</li><li><strong>æ–¹æ³•ï¼š</strong><br><code>GET</code> | <code>POST</code></li></ul><ul><li><strong>å‚æ•°ï¼š</strong><ul><li>å¿…éœ€ï¼š<br><code>isbn=[isbn]</code></li></ul></li></ul><ul><li><strong>æˆåŠŸï¼š</strong><ul><li>è¿”å›ç ï¼š<img src="https://placehold.it/15/00ff00/000000?text=+" alt=""> <strong>10101</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{&quot;error&quot;:0,&quot;message&quot;:&quot;10101: ç”Ÿæˆè½¬å€Ÿç æˆåŠŸ&quot;,&quot;data&quot;:&quot;LDMvsjLWikpPjXX+ytc3wISPZr66c9oE1XN1NgzBjO0=&quot;}</code></li></ul></li><li><strong>å¤±è´¥ï¼š</strong><ul><li>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10000</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10000: æœªç™»å½•ï¼Œç¦æ­¢æ“ä½œ&quot;}</code></li><li>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10102</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10102: isbnå·æœ‰è¯¯&quot;}</code></li><li>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10103</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10103: æœªæ‰¾åˆ°ç›¸å…³è®°å½•&quot;}</code></li></ul></li></ul><h2 id="è½¬å€Ÿå›¾ä¹¦"><a class="header-anchor" href="#è½¬å€Ÿå›¾ä¹¦">#</a>è½¬å€Ÿå›¾ä¹¦</h2><ul><li>ä½œè€…ï¼š@Onns</li><li>ä¸Šæ¬¡ä¿®æ”¹ï¼š2019-08-14</li></ul><p>é€šè¿‡æ‰«ç ä»–äººçš„è½¬å€Ÿç ï¼Œè·å¾—è½¬å€Ÿçš„å›¾ä¹¦ã€‚</p><ul><li><p><strong>ç½‘å€ï¼š</strong></p><p>/api/book/subtenancy</p></li><li><p><strong>æ–¹æ³•ï¼š</strong></p><p><code>GET</code> | <code>POST</code></p></li><li><p><strong>å‚æ•°ï¼š</strong></p><ul><li><p>å¿…éœ€ï¼š</p><p><code>code=[code]</code></p></li></ul></li><li><p><strong>æˆåŠŸï¼š</strong></p><ul><li>è¿”å›ç ï¼š<img src="https://placehold.it/15/00ff00/000000?text=+" alt=""> <strong>10201</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{&quot;error&quot;:0,&quot;message&quot;:&quot;10201: è½¬å€ŸæˆåŠŸ&quot;}</code></li></ul></li><li><p><strong>å¤±è´¥ï¼š</strong></p><ul><li><p>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10000</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10000: æœªç™»å½•ï¼Œç¦æ­¢æ“ä½œ&quot;}</code></p></li><li><p>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10202</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10202: ä¸èƒ½è½¬å€Ÿç»™è‡ªå·±&quot;}</code></p></li><li><p>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10103</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10103: æœªæ‰¾åˆ°ç›¸å…³è®°å½•&quot;}</code></p></li><li><p>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10204</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{&quot;error&quot;:1,&quot;message&quot;:&quot;10204: è½¬å€Ÿç æœ‰è¯¯&quot;}</code></p></li><li><p>è¿”å›ç ï¼š<img src="https://placehold.it/15/ff0000/000000?text=+" alt=""> <strong>10205</strong> <br /><br>è¿”å›å€¼ï¼š<br /><br><code>{error: 1, message: &quot;10205: è½¬å€Ÿç æœ‰è¯¯&quot;}</code></p></li></ul></li></ul>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ifc file parsing</title>
      <link href="/blog/drafts/ifc-file-parsing.html"/>
      <url>/blog/drafts/ifc-file-parsing.html</url>
      
        <content type="html"><![CDATA[<p>ISO-10303-21;<br>HEADER;<br>FILE_DESCRIPTION ((â€™â€™), â€˜2;1â€™);<br>FILE_NAME (â€™â€™, â€˜2018-10-16T13:20:31â€™, (â€™â€™), (â€™â€™), â€˜Xbim File Processor version 4.0.0.0â€™, â€˜Xbim version 4.0.0.0â€™, â€˜â€™);<br>FILE_SCHEMA ((â€˜IFC4â€™));<br>ENDSEC;<br>DATA;<br>#1=IFCPROJECT(â€˜2GZ2lqVtL4RhhgjFpmQj7sâ€™,#2,â€˜HelloWallâ€™,$,$,$,$,(#20,#23),#8);<br>#2=IFCOWNERHISTORY(#5,#6,$,.ADDED.,$,$,$,0);<br>#3=IFCPERSON($,â€˜Teamâ€™,â€˜xBIMâ€™,$,$,$,$,$);<br>#4=IFCORGANIZATION($,â€˜xBimTeamâ€™,$,$,$);<br>#5=IFCPERSONANDORGANIZATION(#3,#4,$);<br>#7=IFCORGANIZATION($,â€˜xBimTeamâ€™,$,$,$);<br>#6=IFCAPPLICATION(#7,â€˜1.0â€™,â€˜Hello Wall Applicationâ€™,â€˜HelloWall.exeâ€™);<br>#8=IFCUNITASSIGNMENT((#9,#10,#11,#12,#13,#14,#15,#16,#17));<br>#9=IFCSIUNIT(<em>,.LENGTHUNIT.,.MILLI.,.METRE.);<br>#10=IFCSIUNIT(</em>,.AREAUNIT.,$,.SQUARE_METRE.);<br>#11=IFCSIUNIT(<em>,.VOLUMEUNIT.,$,.CUBIC_METRE.);<br>#12=IFCSIUNIT(</em>,.SOLIDANGLEUNIT.,$,.STERADIAN.);<br>#13=IFCSIUNIT(<em>,.PLANEANGLEUNIT.,$,.RADIAN.);<br>#14=IFCSIUNIT(</em>,.MASSUNIT.,$,.GRAM.);<br>#15=IFCSIUNIT(<em>,.TIMEUNIT.,$,.SECOND.);<br>#16=IFCSIUNIT(</em>,.THERMODYNAMICTEMPERATUREUNIT.,$,.DEGREE_CELSIUS.);<br>#17=IFCSIUNIT(<em>,.LUMINOUSINTENSITYUNIT.,$,.LUMEN.);<br>#18=IFCCARTESIANPOINT((0.,0.,0.));<br>#19=IFCAXIS2PLACEMENT3D(#18,$,$);<br>#20=IFCGEOMETRICREPRESENTATIONCONTEXT(â€˜Building Modelâ€™,â€˜Modelâ€™,3,1.E-05,#19,$);<br>#21=IFCCARTESIANPOINT((0.,0.));<br>#22=IFCAXIS2PLACEMENT2D(#21,$);<br>#23=IFCGEOMETRICREPRESENTATIONCONTEXT(â€˜Building Plan Viewâ€™,â€˜Planâ€™,2,1.E-05,#22,$);<br>#24=IFCBUILDING(â€˜0ClVgjZh5FhBAip2_5_wLeâ€™,#2,â€˜Default Buildingâ€™,$,$,#25,$,$,.ELEMENT.,$,$,$);<br>#25=IFCLOCALPLACEMENT($,#26);<br>#26=IFCAXIS2PLACEMENT3D(#27,$,$);<br>#27=IFCCARTESIANPOINT((0.,0.,0.));<br>#28=IFCRELAGGREGATES(â€˜30n8zf84X9W8Dm9so0gVfbâ€™,#2,$,$,#1,(#24));<br>#29=IFCWALLSTANDARDCASE(â€˜0m0peqs9P7veKstlE2d0ilâ€™,#2,â€˜A Standard rectangular wallâ€™,$,$,#39,#38,$,$);<br>#30=IFCRECTANGLEPROFILEDEF(.AREA.,$,#32,300.,4000.);<br>#31=IFCCARTESIANPOINT((0.,400.));<br>#32=IFCAXIS2PLACEMENT2D(#31,$);<br>#33=IFCEXTRUDEDAREASOLID(#30,#36,#34,2400.);<br>#34=IFCDIRECTION((0.,0.,1.));<br>#35=IFCCARTESIANPOINT((0.,0.,0.));<br>#36=IFCAXIS2PLACEMENT3D(#35,$,$);<br>#37=IFCSHAPEREPRESENTATION(#20,â€˜Bodyâ€™,â€˜SweptSolidâ€™,(#33));<br>#38=IFCPRODUCTDEFINITIONSHAPE($,$,(#37,#52));<br>#39=IFCLOCALPLACEMENT($,#40);<br>#40=IFCAXIS2PLACEMENT3D(#35,#42,#41);<br>#41=IFCDIRECTION((0.,1.,0.));<br>#42=IFCDIRECTION((0.,0.,1.));<br>#43=IFCMATERIALLAYERSETUSAGE(#44,.AXIS2.,.NEGATIVE.,150.,$);<br>#44=IFCMATERIALLAYERSET((#45),$,$);<br>#45=IFCMATERIALLAYER($,10.,$,$,$,$,$);<br>#46=IFCMATERIAL(â€˜some materialâ€™,$,$);<br>#47=IFCRELASSOCIATESMATERIAL(â€˜1tSNZgCKP6TOgKn7Pgi4Niâ€™,#2,$,$,(#29),#43);<br>#48=IFCPRESENTATIONLAYERASSIGNMENT(â€˜some ifcPresentationLayerAssignmentâ€™,$,(#37),$);<br>#49=IFCPOLYLINE((#50,#51));<br>#50=IFCCARTESIANPOINT((0.,0.));<br>#51=IFCCARTESIANPOINT((4000.,0.));<br>#52=IFCSHAPEREPRESENTATION(#20,â€˜Axisâ€™,â€˜Curve2Dâ€™,(#49));<br>#54=IFCSIUNIT(</em>,.LENGTHUNIT.,.MILLI.,.METRE.);<br>#53=IFCQUANTITYLENGTH(â€˜IfcQuantityArea:Areaâ€™,â€™â€™,#54,100.,$);<br>#56=IFCDIMENSIONALEXPONENTS(1,0,0,0,0,0,0);<br>#55=IFCCONTEXTDEPENDENTUNIT(#56,.LENGTHUNIT.,â€˜Elephantsâ€™);<br>#57=IFCQUANTITYCOUNT(â€˜IfcQuantityCount:Elephantâ€™,$,#55,12.,$);<br>#60=IFCSIUNIT(<em>,.LENGTHUNIT.,.MILLI.,.METRE.);<br>#59=IFCMEASUREWITHUNIT(IFCRATIOMEASURE(25.4),#60);<br>#61=IFCDIMENSIONALEXPONENTS(1,0,0,0,0,0,0);<br>#58=IFCCONVERSIONBASEDUNIT(#61,.LENGTHUNIT.,â€˜Inchâ€™,#59);<br>#62=IFCQUANTITYLENGTH(â€˜IfcQuantityLength:Lengthâ€™,â€™â€™,#58,24.,$);<br>#63=IFCELEMENTQUANTITY(â€˜2eT$$_utH4BR61Fw6jnbaTâ€™,#2,â€˜Test:IfcElementQuantityâ€™,â€˜Measurement quantityâ€™,$,(#53,#57,#62));<br>#64=IFCRELDEFINESBYPROPERTIES(â€˜10Kc9Br0D13961GThfQc7sâ€™,#2,â€˜Area Associationâ€™,â€˜IfcElementQuantity associated to wallâ€™,(#29),#63);<br>#66=IFCSIUNIT(</em>,.TIMEUNIT.,$,.SECOND.);<br>#65=IFCPROPERTYSINGLEVALUE(â€˜IfcPropertySingleValue:Timeâ€™,â€™â€™,IFCTIMEMEASURE(150.),#66);<br>#68=IFCPROPERTYENUMERATION(â€˜Notesâ€™,(IFCLABEL(â€˜Doâ€™),IFCLABEL(â€˜Reâ€™),IFCLABEL(â€˜Miâ€™),IFCLABEL(â€˜Faâ€™),IFCLABEL(â€˜Soâ€™),IFCLABEL(â€˜Laâ€™),IFCLABEL(â€˜Tiâ€™)),$);<br>#67=IFCPROPERTYENUMERATEDVALUE(â€˜IfcPropertyEnumeratedValue:Musicâ€™,$,(IFCLABEL(â€˜Doâ€™),IFCLABEL(â€˜Reâ€™),IFCLABEL(â€˜Miâ€™)),#68);<br>#70=IFCSIUNIT(*,.MASSUNIT.,.KILO.,.GRAM.);<br>#69=IFCPROPERTYBOUNDEDVALUE(â€˜IfcPropertyBoundedValue:Massâ€™,â€™â€™,IFCMASSMEASURE(5000.),IFCMASSMEASURE(1000.),#70,$);<br>#73=IFCDIMENSIONALEXPONENTS(0,0,0,0,0,0,0);<br>#72=IFCCONTEXTDEPENDENTUNIT(#73,.FREQUENCYUNIT.,â€˜dBâ€™);<br>#71=IFCPROPERTYTABLEVALUE(â€˜IfcPropertyTableValue:Soundâ€™,$,(IFCREAL(100.),IFCREAL(200.),IFCREAL(400.),IFCREAL(800.),IFCREAL(1600.),IFCREAL(3200.)),(IFCREAL(20.),IFCREAL(42.),IFCREAL(46.),IFCREAL(56.),IFCREAL(60.),IFCREAL(65.)),$,$,#72,$);<br>#74=IFCPROPERTYLISTVALUE(â€˜IfcPropertyListValue:Coloursâ€™,$,(IFCLABEL(â€˜Redâ€™),IFCLABEL(â€˜Greenâ€™),IFCLABEL(â€˜Blueâ€™),IFCLABEL(â€˜Pinkâ€™),IFCLABEL(â€˜Whiteâ€™),IFCLABEL(â€˜Blackâ€™)),$);<br>#75=IFCMATERIAL(â€˜Brickâ€™,$,$);<br>#76=IFCPROPERTYREFERENCEVALUE(â€˜IfcPropertyReferenceValue:Materialâ€™,$,$,#75);<br>#78=IFCMATERIAL(â€˜Cavityâ€™,$,$);<br>#79=IFCMATERIAL(â€˜Blockâ€™,$,$);<br>#77=IFCMATERIALLIST((#75,#78,#79));<br>#80=IFCMATERIALLAYER(#75,100.,$,$,$,$,$);<br>#81=IFCPROPERTYREFERENCEVALUE(â€˜IfcPropertyReferenceValue:MaterialLayerâ€™,$,$,#80);<br>#82=IFCDOCUMENTREFERENCE(â€˜c://Documents//TheDoc.Txtâ€™,$,â€˜Documentâ€™,$,$);<br>#83=IFCPROPERTYREFERENCEVALUE(â€˜IfcPropertyReferenceValue:Documentâ€™,$,$,#82);<br>#84=IFCREGULARTIMESERIES(â€˜Regular Time Seriesâ€™,â€˜Time series of eventsâ€™,â€˜2015-02-14T12:01:01â€™,â€˜2015-05-15T12:01:01â€™,.CONTINUOUS.,.MEASURED.,$,$,604800.,());<br>#85=IFCPROPERTYREFERENCEVALUE(â€˜IfcPropertyReferenceValue:TimeSeriesâ€™,$,$,#84);<br>#86=IFCPOSTALADDRESS($,$,$,â€˜Room 101â€™,(â€˜12 New roadâ€™,â€˜DoxFieldâ€™),$,â€˜Sunderlandâ€™,$,â€˜DL01 6SXâ€™,$);<br>#87=IFCPROPERTYREFERENCEVALUE(â€˜IfcPropertyReferenceValue:Addressâ€™,$,$,#86);<br>#88=IFCTELECOMADDRESS($,$,$,(â€˜01325 6589965â€™),$,$,(â€˜bob@bobsworks.comâ€™),$,$);<br>#89=IFCPROPERTYREFERENCEVALUE(â€˜IfcPropertyReferenceValue:Telecomâ€™,$,$,#88);<br>#90=IFCPROPERTYSET(â€˜1qDdK625XDLvD1ADI2cU4Qâ€™,#2,â€˜Test:IfcPropertySetâ€™,â€˜Property Setâ€™,(#65,#67,#69,#71,#74,#76,#81,#83,#85,#87,#89));<br>#91=IFCRELDEFINESBYPROPERTIES(â€˜2oFbfaFWT6SAQkNtJ7W$sBâ€™,#2,â€˜Property Associationâ€™,â€˜IfcPropertySet associated to wallâ€™,(#29),#90);<br>#92=IFCRELCONTAINEDINSPATIALSTRUCTURE(â€˜2BRDC5_vD1XfhW_$wVxuAtâ€™,#2,$,$,(#29),#24);<br>ENDSEC;<br>END-ISO-10303-21;</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç”»å•Šç”»æ¶‚å•Šæ¶‚</title>
      <link href="/blog/draw/index.html"/>
      <url>/blog/draw/index.html</url>
      
        <content type="html"><![CDATA[<h3 id="2020-02"><a class="header-anchor" href="#2020-02">#</a>2020.02</h3><p><img src="//onns.xyz/blog/image/draw-20200207.jpg" alt="20200207"></p><h3 id="2019-12"><a class="header-anchor" href="#2019-12">#</a>2019.12</h3><p><img src="//onns.xyz/blog/image/draw-20191215.jpg" alt="20191215"></p><h3 id="2019-10"><a class="header-anchor" href="#2019-10">#</a>2019.10</h3><p><img src="//onns.xyz/blog/image/draw-20191031.jpg" alt="20191031"></p><h3 id="2019-07"><a class="header-anchor" href="#2019-07">#</a>2019.07</h3><p><img src="//onns.xyz/blog/image/draw-20190731.jpg" alt="20190731"></p><p><img src="//onns.xyz/blog/image/draw-20190728.jpg" alt="20190728"></p><h3 id="2019-06"><a class="header-anchor" href="#2019-06">#</a>2019.06</h3><p><img src="//onns.xyz/blog/image/draw-20190608.jpg" alt="20190608"></p><p><img src="//onns.xyz/blog/image/draw-20190606.jpg" alt="20190606"></p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>home</title>
      <link href="/blog/home/index.html"/>
      <url>/blog/home/index.html</url>
      
        <content type="html"><![CDATA[<script language="javascript" type="text/javascript">window.location.href="//onns.xyz/";</script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>image</title>
      <link href="/blog/image/index.html"/>
      <url>/blog/image/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>links</title>
      <link href="/blog/links/index.html"/>
      <url>/blog/links/index.html</url>
      
        <content type="html"><![CDATA[<ul><li><a href="https://www.mycgx.com/" target="_blank" rel="noopener">å°é±¼ blog</a></li><li><a href="http://xiangyi.pro/" target="_blank" rel="noopener">Xiangyiâ€™s Blog</a></li><li><a href="https://her-cat.com/" target="_blank" rel="noopener">å¥¹å’Œå¥¹çš„çŒ«</a></li></ul>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/blog/tags/index.html"/>
      <url>/blog/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
