<!DOCTYPE html>
<html lang="en">
  <head><script type="text/javascript" src="/blog/lib/jquery/jquery.min.js"></script>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript" src="/blog/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/blog/lib/fancybox/jquery.fancybox.pack.js"></script>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="PAN验证结果-20201008"/><meta name="keywords" content="行为识别, action recognition, pan, pan lite, pan full, pan en, Onns Blog" /><link rel="alternate" href="/blog/default" title="Onns Blog"><link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=2.11.0" />
<link rel="canonical" href="https://onns.xyz/2020/10/08/pan-results-20201008/"/>

<link rel="stylesheet" type="text/css" href="/blog/lib/fancybox/jquery.fancybox.css" /><script type="text/javascript">
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]  
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script type="text/javascript" async src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=2.11.0" />

<script id="baidu_analytics">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?094f3776af9873aa4bf55d2700e2b1cc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127068305-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127068305-1');
</script><script src="//onns.xyz/js/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "jIRe5LRqbWDB2dxmu7FH8c1S-gzGzoHsz",
      appKey: "pM10kNYtPMwvqYUCWfbUGBPJ",
      serverURLs: "https://jire5lrq.lc-cn-n1-shared.com"
    });
  </script><script>
  window.config = {"leancloud":{"app_id":"jIRe5LRqbWDB2dxmu7FH8c1S-gzGzoHsz","app_key":"pM10kNYtPMwvqYUCWfbUGBPJ","server_urls":"https://jire5lrq.lc-cn-n1-shared.com"},"toc":true,"fancybox":true,"pjax":true,"latex":true};
</script>

<script id="search">
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        success: function( xmlResponse ) {
            // get the contents from search data
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();

            var $input = document.getElementById(search_id);
			if (!$input) return;
            var $resultContent = document.getElementById(content_id);
            
            $input.addEventListener('input', function () {
                var str = '<section class=\"posts\">';
                var rawValue = this.value.trim().toLowerCase();
                if (rawValue.length <= 0) {
                    return;
                }
                var keywords = [];
                for (const matchKey of rawValue.matchAll(/"([^"]*)"/g)) {
                  keywords.push(matchKey[1]);
                  rawValue = rawValue.replace(matchKey[0], "");
                }
                keywords = keywords.concat(rawValue.split(/[\s\-]+/));
                keywords = keywords.filter(function(el) {
                    return el.trim().length > 0;
                });
                if (keywords.length <= 0) {
                    return;
                }
                $resultContent.innerHTML = "";
                
                // perform local searching
                datas.forEach(function (data) {
                    var isMatch = true;
                    var content_index = [];
                    if (!data.title || data.title.trim() === '') {
                        data.title = "Untitled";
                    }
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty contents
                    if (data_content !== '') {
                        keywords.forEach(function (keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);

                            if (index_title < 0 && index_content < 0) {
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                                // content_index.push({index_content:index_content, keyword_len:keyword_len});
                            }
                        });
                    } else {
                        isMatch = false;
                    }
                    // show search results
                    if (isMatch) {
                        str += `
<article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="`+ data_url +`">`+ data_title +`</a>
        </h1>
    </header>
    <div class="post-content">
        `;
                        var content = data.content.trim().replace(/<[^>]+>/g, "");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;

                            if (start < 0) {
                                start = 0;
                            }

                            if (start == 0) {
                                end = 100;
                            }

                            if (end > content.length) {
                                end = content.length;
                            }

                            var match_content = content.substring(start, end);

                            // highlight all keywords
                            keywords.forEach(function (keyword) {
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<code>" + keyword + "</code>");
                            });

                            str += "<p>" + match_content + "...</p>"
                        }
                        str += "</article>";
                    }
                });
                str += "</section>";
                $resultContent.innerHTML = str;
            });
        }
    });
}    
var search_path = "search.xml";
if (search_path.length == 0) {
search_path = "search.xml";
}
var path = "/blog/" + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script>
    <title>PAN验证结果-20201008 - Onns Blog</title>
  <meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="mobile-header-logo">
    <a href="/blog/." class="logo">Onns Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/blog/home">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/blog/archives">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/blog/tags">
        <li class="mobile-menu-item">Tags
          </li>
      </a><a href="/blog/categories">
        <li class="mobile-menu-item">Categories
          </li>
      </a><a href="/blog/about">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/blog/." class="logo">Onns Blog</a>
</div>

<nav class="site-navbar"><div class="search-button">
        <a href="#" class="search-toggle" data-selector=".site-navbar"></a>
    </div>
    <div class="search-box">
        <input type="text" id="local-search-input" class="text search-input" placeholder="Type here to search..." />
    </div><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/blog/home">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/archives">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/tags">
            Tags
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/categories">
            Categories
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/about">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            <div id="local-search-result"></div><article class="post">
    <header class="post-header">
      <h1 class="post-title">PAN验证结果-20201008
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2020-10-08 16:03:51
        </span><span class="post-category">
            <a href="/blog/categories/study/">study</a>
            </span>
        <span class="post-visits"
             data-url="/blog/2020/10/08/pan-results-20201008/"
             data-title="PAN验证结果-20201008">
          Visits 0
        </span>
        </div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-my"><span class="toc-text">PAN My</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-rgb-rpa"><span class="toc-text">PAN RGB&amp;RPA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-full"><span class="toc-text">PAN Full</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-myen"><span class="toc-text">PAN MyEn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-rgb-pa-rpa"><span class="toc-text">PAN RGB&amp;PA&amp;RPA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201009-rgb-pa-rpa-rgb"><span class="toc-text">20201009 RGB&amp;PA&amp;RPA&amp;RGB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201009-rgb-pa-rpa-rgb-lite-lite"><span class="toc-text">20201009 RGB&amp;PA&amp;RPA&amp;RGB&amp;Lite&amp;Lite</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201009-rgb-pa-lite（论文结果）"><span class="toc-text">20201009 RGB&amp;PA&amp;Lite（论文结果）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201012-mypa-myrpa-rgb"><span class="toc-text">20201012 MyPA&amp;MyRPA&amp;RGB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201014-rgbo-pan"><span class="toc-text">20201014 RGBo&amp;PAn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201014-rgbo-pao-pan"><span class="toc-text">20201014 RGBo&amp;PAo&amp;PAn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201014-rgbo-pan-lpan"><span class="toc-text">20201014 RGBo&amp;PAn&amp;LPAn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201014-rgbo-rpan-lpan"><span class="toc-text">20201014 RGBo&amp;RPAn&amp;LPAn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201014-rgbo-lpan"><span class="toc-text">20201014 RGBo&amp;LPAn</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201019-pa-with-new-conv-rgb"><span class="toc-text">20201019 PA with new conv &amp; RGB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201019-pa-with-new-conv-rgb-2"><span class="toc-text">20201019 PA with new conv &amp; RGB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201021-rgbo"><span class="toc-text">20201021 RGBo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201021-rgbo-pan-liten"><span class="toc-text">20201021 RGBo &amp; PAn &amp; Liten</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20201021-pa-with-conv-rgbo-liten"><span class="toc-text">20201021 PA with conv &amp; RGBo &amp; Liten</span></a></li></ol>
    </div>
  </div><div class="post-content"><p>测试结果：</p>
<a id="more"></a>
<h2 id="pan-my"><a class="header-anchor" href="#pan-my">#</a>PAN My</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/AAA.sh</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.223 sec/video, moving Prec@1 50.000 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.055 sec/video, moving Prec@1 53.869 Prec@5 83.631</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.051 sec/video, moving Prec@1 54.268 Prec@5 82.165</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.049 sec/video, moving Prec@1 53.484 Prec@5 80.943</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.049 sec/video, moving Prec@1 53.627 Prec@5 81.481</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.048 sec/video, moving Prec@1 53.713 Prec@5 80.941</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.048 sec/video, moving Prec@1 52.789 Prec@5 80.527</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.048 sec/video, moving Prec@1 52.527 Prec@5 80.452</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.048 sec/video, moving Prec@1 52.446 Prec@5 80.551</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.048 sec/video, moving Prec@1 52.106 Prec@5 80.352</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.048 sec/video, moving Prec@1 51.710 Prec@5 80.379</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.047 sec/video, moving Prec@1 51.669 Prec@5 80.402</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.047 sec/video, moving Prec@1 51.504 Prec@5 80.031</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.047 sec/video, moving Prec@1 51.245 Prec@5 79.957</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.047 sec/video, moving Prec@1 51.157 Prec@5 80.004</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.047 sec/video, moving Prec@1 51.017 Prec@5 79.672</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.047 sec/video, moving Prec@1 50.818 Prec@5 79.420</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.047 sec/video, moving Prec@1 50.953 Prec@5 79.582</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.047 sec/video, moving Prec@1 50.952 Prec@5 79.415</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.047 sec/video, moving Prec@1 50.968 Prec@5 79.560</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.047 sec/video, moving Prec@1 51.044 Prec@5 79.723</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.047 sec/video, moving Prec@1 50.920 Prec@5 79.751</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.047 sec/video, moving Prec@1 51.020 Prec@5 79.691</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.047 sec/video, moving Prec@1 50.976 Prec@5 79.542</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.047 sec/video, moving Prec@1 51.130 Prec@5 79.691</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.047 sec/video, moving Prec@1 51.085 Prec@5 79.753</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.047 sec/video, moving Prec@1 51.116 Prec@5 79.762</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.047 sec/video, moving Prec@1 50.947 Prec@5 79.737</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.047 sec/video, moving Prec@1 50.925 Prec@5 79.768</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.047 sec/video, moving Prec@1 50.968 Prec@5 79.733</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.047 sec/video, moving Prec@1 51.113 Prec@5 79.773</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.047 sec/video, moving Prec@1 51.127 Prec@5 79.781</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.047 sec/video, moving Prec@1 51.268 Prec@5 79.904</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.047 sec/video, moving Prec@1 51.314 Prec@5 79.870</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.047 sec/video, moving Prec@1 51.386 Prec@5 79.947</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.047 sec/video, moving Prec@1 51.444 Prec@5 79.913</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.047 sec/video, moving Prec@1 51.311 Prec@5 79.865</span><br><span class="line">[0.88059701 0.2875     0.25714286 0.64179104 0.39473684 0.42241379</span><br><span class="line"> 0.71641791 0.41176471 0.65048544 0.70873786 0.38666667 0.44444444</span><br><span class="line"> 0.32978723 0.4516129  0.71974522 0.5        0.23493976 0.25</span><br><span class="line"> 0.44715447 0.36       0.336      0.5862069  0.48148148 0.41176471</span><br><span class="line"> 0.5483871  0.41666667 0.43478261 0.48       0.72727273 0.63492063</span><br><span class="line"> 0.59090909 0.57692308 0.83333333 0.23076923 0.32608696 0.13888889</span><br><span class="line"> 0.81609195 0.79411765 0.10526316 0.59259259 0.68595041 0.66</span><br><span class="line"> 0.73076923 0.67346939 0.71153846 0.59016393 0.41176471 0.42105263</span><br><span class="line"> 0.17977528 0.69924812 0.62264151 0.         0.36       0.4</span><br><span class="line"> 0.23809524 0.29166667 0.42424242 0.53125    0.         0.75510204</span><br><span class="line"> 0.78787879 0.16666667 0.66       0.19090909 0.1        0.44444444</span><br><span class="line"> 0.18518519 0.24242424 0.50704225 0.42307692 0.58064516 0.25</span><br><span class="line"> 0.55263158 0.52       0.78333333 0.48387097 0.35294118 0.52941176</span><br><span class="line"> 0.36363636 0.80487805 0.08571429 0.19047619 0.36666667 0.15789474</span><br><span class="line"> 0.65714286 0.39655172 0.59459459 0.63492063 0.16666667 0.08928571</span><br><span class="line"> 0.62162162 0.7804878  0.53488372 0.59259259 0.71028037 0.27419355</span><br><span class="line"> 0.03703704 0.11904762 0.56140351 0.47058824 0.32653061 0.55555556</span><br><span class="line"> 0.203125   0.59183673 0.63414634 0.65714286 0.52808989 0.72463768</span><br><span class="line"> 0.49122807 0.32967033 0.64705882 0.05882353 0.66216216 0.28571429</span><br><span class="line"> 0.61320755 0.4        0.34545455 0.76595745 0.31707317 0.58333333</span><br><span class="line"> 0.80681818 0.60784314 0.36363636 0.5        0.33333333 0.46938776</span><br><span class="line"> 0.49056604 0.57407407 0.11724138 0.625      0.28       0.25925926</span><br><span class="line"> 0.26315789 0.33333333 0.68211921 0.43103448 0.07142857 0.38333333</span><br><span class="line"> 0.15254237 0.59210526 0.66       0.37209302 0.40909091 0.48305085</span><br><span class="line"> 0.62666667 0.45774648 0.63207547 0.1641791  0.546875   0.832</span><br><span class="line"> 0.67878788 0.27419355 0.33333333 0.81481481 0.53571429 0.25490196</span><br><span class="line"> 0.27868852 0.3        0.51485149 0.34375    0.46296296 0.375</span><br><span class="line"> 0.3        0.37931034 0.7254902  0.75757576 0.9223301  0.87735849</span><br><span class="line"> 0.76851852 0.72972973 0.43809524 0.64748201 0.69343066 0.72368421]</span><br><span class="line">upper bound: 0.4892586659876352</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.29%</span><br><span class="line">Overall Prec@1 51.31% Prec@5 79.86%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-rgb-rpa"><a class="header-anchor" href="#pan-rgb-rpa">#</a>PAN RGB&amp;RPA</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Full.sh</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.230 sec/video, moving Prec@1 56.250 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.034 sec/video, moving Prec@1 55.357 Prec@5 84.226</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.029 sec/video, moving Prec@1 55.488 Prec@5 82.317</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.027 sec/video, moving Prec@1 53.689 Prec@5 80.225</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.026 sec/video, moving Prec@1 54.090 Prec@5 80.478</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.026 sec/video, moving Prec@1 54.084 Prec@5 79.950</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.025 sec/video, moving Prec@1 53.202 Prec@5 79.649</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.025 sec/video, moving Prec@1 52.660 Prec@5 79.699</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.025 sec/video, moving Prec@1 52.484 Prec@5 79.852</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.025 sec/video, moving Prec@1 52.072 Prec@5 79.593</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.025 sec/video, moving Prec@1 51.617 Prec@5 79.602</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.025 sec/video, moving Prec@1 51.499 Prec@5 79.638</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.025 sec/video, moving Prec@1 51.167 Prec@5 79.305</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.025 sec/video, moving Prec@1 50.766 Prec@5 79.239</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.025 sec/video, moving Prec@1 50.512 Prec@5 79.115</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.025 sec/video, moving Prec@1 50.353 Prec@5 78.738</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.025 sec/video, moving Prec@1 50.097 Prec@5 78.466</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.026 sec/video, moving Prec@1 50.220 Prec@5 78.666</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.026 sec/video, moving Prec@1 50.208 Prec@5 78.497</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.026 sec/video, moving Prec@1 50.213 Prec@5 78.658</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.026 sec/video, moving Prec@1 50.374 Prec@5 78.787</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.026 sec/video, moving Prec@1 50.282 Prec@5 78.741</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.026 sec/video, moving Prec@1 50.425 Prec@5 78.699</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.026 sec/video, moving Prec@1 50.298 Prec@5 78.552</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.026 sec/video, moving Prec@1 50.468 Prec@5 78.768</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.026 sec/video, moving Prec@1 50.424 Prec@5 78.780</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.026 sec/video, moving Prec@1 50.468 Prec@5 78.791</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.026 sec/video, moving Prec@1 50.347 Prec@5 78.789</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.026 sec/video, moving Prec@1 50.379 Prec@5 78.877</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.026 sec/video, moving Prec@1 50.398 Prec@5 78.873</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.026 sec/video, moving Prec@1 50.520 Prec@5 78.900</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.026 sec/video, moving Prec@1 50.533 Prec@5 78.925</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.026 sec/video, moving Prec@1 50.575 Prec@5 79.027</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.026 sec/video, moving Prec@1 50.643 Prec@5 78.971</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.026 sec/video, moving Prec@1 50.734 Prec@5 79.102</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.026 sec/video, moving Prec@1 50.785 Prec@5 79.110</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.026 sec/video, moving Prec@1 50.720 Prec@5 79.040</span><br><span class="line">[0.89552239 0.325      0.27619048 0.59701493 0.36842105 0.43103448</span><br><span class="line"> 0.68656716 0.41176471 0.67961165 0.67961165 0.36       0.45833333</span><br><span class="line"> 0.30851064 0.4516129  0.68789809 0.48       0.22891566 0.25</span><br><span class="line"> 0.45528455 0.34666667 0.328      0.53448276 0.42592593 0.39215686</span><br><span class="line"> 0.38709677 0.5        0.43478261 0.52       0.75757576 0.65079365</span><br><span class="line"> 0.59090909 0.57692308 0.7962963  0.1978022  0.30434783 0.19444444</span><br><span class="line"> 0.7816092  0.7745098  0.18421053 0.62962963 0.69421488 0.66</span><br><span class="line"> 0.71538462 0.65306122 0.73076923 0.59016393 0.39705882 0.4</span><br><span class="line"> 0.25842697 0.69924812 0.59433962 0.         0.32       0.5</span><br><span class="line"> 0.23809524 0.33333333 0.36363636 0.53125    0.08333333 0.7244898</span><br><span class="line"> 0.72727273 0.22222222 0.64       0.15454545 0.13333333 0.49074074</span><br><span class="line"> 0.11111111 0.24242424 0.56338028 0.38461538 0.51612903 0.32142857</span><br><span class="line"> 0.47368421 0.56       0.76666667 0.48387097 0.35294118 0.47058824</span><br><span class="line"> 0.40909091 0.82926829 0.11428571 0.14285714 0.43333333 0.21052632</span><br><span class="line"> 0.54285714 0.34482759 0.62162162 0.63492063 0.16666667 0.10714286</span><br><span class="line"> 0.67567568 0.7804878  0.55813953 0.62037037 0.73831776 0.25806452</span><br><span class="line"> 0.07407407 0.14285714 0.55555556 0.41176471 0.31632653 0.58333333</span><br><span class="line"> 0.234375   0.59183673 0.6097561  0.62857143 0.52808989 0.72463768</span><br><span class="line"> 0.49122807 0.34065934 0.60784314 0.05882353 0.66216216 0.42857143</span><br><span class="line"> 0.60377358 0.4        0.34545455 0.78723404 0.34146341 0.58333333</span><br><span class="line"> 0.85227273 0.58823529 0.36363636 0.475      0.30555556 0.48979592</span><br><span class="line"> 0.50943396 0.51851852 0.12413793 0.63461538 0.32       0.25925926</span><br><span class="line"> 0.26315789 0.26666667 0.66887417 0.43103448 0.07142857 0.38333333</span><br><span class="line"> 0.18644068 0.61842105 0.66       0.37209302 0.31818182 0.49152542</span><br><span class="line"> 0.57333333 0.41549296 0.58490566 0.11940299 0.546875   0.792</span><br><span class="line"> 0.67878788 0.27419355 0.28333333 0.83333333 0.51190476 0.25490196</span><br><span class="line"> 0.29508197 0.31428571 0.46534653 0.34375    0.42592593 0.35</span><br><span class="line"> 0.3        0.34482759 0.70588235 0.75757576 0.9223301  0.87735849</span><br><span class="line"> 0.76851852 0.72972973 0.37142857 0.6618705  0.68613139 0.68421053]</span><br><span class="line">upper bound: 0.48195690400802077</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.97%</span><br><span class="line">Overall Prec@1 50.72% Prec@5 79.04%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-full"><a class="header-anchor" href="#pan-full">#</a>PAN Full</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/AAA.sh</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.237 sec/video, moving Prec@1 50.000 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.056 sec/video, moving Prec@1 51.488 Prec@5 83.333</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.052 sec/video, moving Prec@1 52.287 Prec@5 82.165</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.050 sec/video, moving Prec@1 51.332 Prec@5 80.840</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.049 sec/video, moving Prec@1 52.160 Prec@5 81.096</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.049 sec/video, moving Prec@1 51.795 Prec@5 80.446</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.048 sec/video, moving Prec@1 50.878 Prec@5 80.062</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.048 sec/video, moving Prec@1 50.798 Prec@5 79.920</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.048 sec/video, moving Prec@1 50.970 Prec@5 79.775</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.048 sec/video, moving Prec@1 50.760 Prec@5 79.731</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.048 sec/video, moving Prec@1 50.529 Prec@5 79.695</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.048 sec/video, moving Prec@1 50.509 Prec@5 79.638</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.048 sec/video, moving Prec@1 50.467 Prec@5 79.279</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.048 sec/video, moving Prec@1 50.359 Prec@5 79.215</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.048 sec/video, moving Prec@1 50.311 Prec@5 79.248</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.048 sec/video, moving Prec@1 50.104 Prec@5 78.987</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.048 sec/video, moving Prec@1 49.883 Prec@5 78.777</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.048 sec/video, moving Prec@1 50.202 Prec@5 78.886</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.048 sec/video, moving Prec@1 50.173 Prec@5 78.722</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.048 sec/video, moving Prec@1 50.262 Prec@5 78.888</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.047 sec/video, moving Prec@1 50.327 Prec@5 79.068</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.047 sec/video, moving Prec@1 50.238 Prec@5 79.053</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.047 sec/video, moving Prec@1 50.241 Prec@5 78.954</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.047 sec/video, moving Prec@1 50.176 Prec@5 78.823</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.047 sec/video, moving Prec@1 50.299 Prec@5 78.976</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.047 sec/video, moving Prec@1 50.274 Prec@5 79.067</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.047 sec/video, moving Prec@1 50.288 Prec@5 79.115</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.047 sec/video, moving Prec@1 50.139 Prec@5 79.136</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.047 sec/video, moving Prec@1 50.212 Prec@5 79.144</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.047 sec/video, moving Prec@1 50.237 Prec@5 79.131</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.047 sec/video, moving Prec@1 50.374 Prec@5 79.181</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.047 sec/video, moving Prec@1 50.312 Prec@5 79.177</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.047 sec/video, moving Prec@1 50.429 Prec@5 79.329</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.047 sec/video, moving Prec@1 50.454 Prec@5 79.283</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.047 sec/video, moving Prec@1 50.569 Prec@5 79.323</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.047 sec/video, moving Prec@1 50.606 Prec@5 79.271</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.047 sec/video, moving Prec@1 50.529 Prec@5 79.231</span><br><span class="line">[0.89552239 0.3125     0.26666667 0.65671642 0.36842105 0.48275862</span><br><span class="line"> 0.70895522 0.38235294 0.62135922 0.70873786 0.44       0.40277778</span><br><span class="line"> 0.30851064 0.35483871 0.77070064 0.4        0.24096386 0.2625</span><br><span class="line"> 0.45528455 0.34666667 0.352      0.60344828 0.46296296 0.45098039</span><br><span class="line"> 0.51612903 0.41666667 0.43478261 0.4        0.6969697  0.61904762</span><br><span class="line"> 0.59090909 0.53846154 0.87037037 0.25274725 0.23913043 0.13888889</span><br><span class="line"> 0.7816092  0.79411765 0.07894737 0.59259259 0.68595041 0.64</span><br><span class="line"> 0.67692308 0.67346939 0.75       0.57377049 0.47794118 0.36842105</span><br><span class="line"> 0.15730337 0.68421053 0.61320755 0.         0.36       0.45</span><br><span class="line"> 0.19047619 0.25       0.45454545 0.5        0.         0.74489796</span><br><span class="line"> 0.75757576 0.13888889 0.64       0.1        0.1        0.46296296</span><br><span class="line"> 0.18518519 0.21212121 0.43661972 0.34615385 0.5483871  0.21428571</span><br><span class="line"> 0.55263158 0.48       0.83333333 0.41935484 0.35294118 0.58823529</span><br><span class="line"> 0.27272727 0.82926829 0.11428571 0.21428571 0.33333333 0.15789474</span><br><span class="line"> 0.6        0.39655172 0.60810811 0.6984127  0.27777778 0.07142857</span><br><span class="line"> 0.59459459 0.75609756 0.58139535 0.55555556 0.62616822 0.22580645</span><br><span class="line"> 0.03703704 0.11904762 0.57894737 0.45588235 0.32653061 0.51851852</span><br><span class="line"> 0.203125   0.53061224 0.68292683 0.63809524 0.52808989 0.73913043</span><br><span class="line"> 0.49122807 0.32967033 0.58823529 0.         0.66216216 0.28571429</span><br><span class="line"> 0.60377358 0.43333333 0.27272727 0.73404255 0.29268293 0.54166667</span><br><span class="line"> 0.80681818 0.60784314 0.35454545 0.5        0.33333333 0.44897959</span><br><span class="line"> 0.47169811 0.57407407 0.14482759 0.63461538 0.22       0.22222222</span><br><span class="line"> 0.23684211 0.36666667 0.68874172 0.44827586 0.         0.31666667</span><br><span class="line"> 0.13559322 0.56578947 0.66       0.39534884 0.45454545 0.43220339</span><br><span class="line"> 0.6        0.47183099 0.63207547 0.17910448 0.546875   0.8</span><br><span class="line"> 0.66666667 0.29032258 0.38333333 0.7962963  0.55952381 0.11764706</span><br><span class="line"> 0.29508197 0.3        0.47524752 0.34375    0.42592593 0.325</span><br><span class="line"> 0.3        0.37931034 0.69607843 0.77272727 0.9223301  0.87735849</span><br><span class="line"> 0.74074074 0.75675676 0.45714286 0.62589928 0.69343066 0.69736842]</span><br><span class="line">upper bound: 0.483756929950145</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.26%</span><br><span class="line">Overall Prec@1 50.53% Prec@5 79.23%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-myen"><a class="header-anchor" href="#pan-myen">#</a>PAN MyEn</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=10 -j=4 --test_crops=1 --test_segments=8,8,8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar --full_res --twice_sample</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/AAA.sh</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.844 sec/video, moving Prec@1 60.000 Prec@5 80.000</span><br><span class="line">video 200 <span class="keyword">done</span>, total 200/11522, average 0.154 sec/video, moving Prec@1 58.571 Prec@5 83.810</span><br><span class="line">video 400 <span class="keyword">done</span>, total 400/11522, average 0.153 sec/video, moving Prec@1 56.829 Prec@5 83.902</span><br><span class="line">video 600 <span class="keyword">done</span>, total 600/11522, average 0.153 sec/video, moving Prec@1 57.541 Prec@5 83.279</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.151 sec/video, moving Prec@1 54.815 Prec@5 81.481</span><br><span class="line">video 1000 <span class="keyword">done</span>, total 1000/11522, average 0.151 sec/video, moving Prec@1 54.950 Prec@5 80.990</span><br><span class="line">video 1200 <span class="keyword">done</span>, total 1200/11522, average 0.152 sec/video, moving Prec@1 55.207 Prec@5 81.901</span><br><span class="line">video 1400 <span class="keyword">done</span>, total 1400/11522, average 0.151 sec/video, moving Prec@1 55.390 Prec@5 81.986</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.152 sec/video, moving Prec@1 55.404 Prec@5 81.801</span><br><span class="line">video 1800 <span class="keyword">done</span>, total 1800/11522, average 0.152 sec/video, moving Prec@1 54.530 Prec@5 81.271</span><br><span class="line">video 2000 <span class="keyword">done</span>, total 2000/11522, average 0.151 sec/video, moving Prec@1 54.677 Prec@5 81.542</span><br><span class="line">video 2200 <span class="keyword">done</span>, total 2200/11522, average 0.152 sec/video, moving Prec@1 54.525 Prec@5 81.629</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.152 sec/video, moving Prec@1 54.149 Prec@5 81.203</span><br><span class="line">video 2600 <span class="keyword">done</span>, total 2600/11522, average 0.152 sec/video, moving Prec@1 54.100 Prec@5 81.188</span><br><span class="line">video 2800 <span class="keyword">done</span>, total 2800/11522, average 0.152 sec/video, moving Prec@1 53.772 Prec@5 81.174</span><br><span class="line">video 3000 <span class="keyword">done</span>, total 3000/11522, average 0.152 sec/video, moving Prec@1 53.654 Prec@5 81.462</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.152 sec/video, moving Prec@1 53.271 Prec@5 81.277</span><br><span class="line">video 3400 <span class="keyword">done</span>, total 3400/11522, average 0.152 sec/video, moving Prec@1 53.343 Prec@5 81.525</span><br><span class="line">video 3600 <span class="keyword">done</span>, total 3600/11522, average 0.152 sec/video, moving Prec@1 53.269 Prec@5 81.191</span><br><span class="line">video 3800 <span class="keyword">done</span>, total 3800/11522, average 0.152 sec/video, moving Prec@1 53.255 Prec@5 81.050</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.151 sec/video, moving Prec@1 53.117 Prec@5 80.848</span><br><span class="line">video 4200 <span class="keyword">done</span>, total 4200/11522, average 0.151 sec/video, moving Prec@1 53.064 Prec@5 80.879</span><br><span class="line">video 4400 <span class="keyword">done</span>, total 4400/11522, average 0.151 sec/video, moving Prec@1 52.857 Prec@5 80.816</span><br><span class="line">video 4600 <span class="keyword">done</span>, total 4600/11522, average 0.151 sec/video, moving Prec@1 52.907 Prec@5 80.781</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.151 sec/video, moving Prec@1 52.786 Prec@5 80.707</span><br><span class="line">video 5000 <span class="keyword">done</span>, total 5000/11522, average 0.151 sec/video, moving Prec@1 52.455 Prec@5 80.399</span><br><span class="line">video 5200 <span class="keyword">done</span>, total 5200/11522, average 0.151 sec/video, moving Prec@1 52.534 Prec@5 80.557</span><br><span class="line">video 5400 <span class="keyword">done</span>, total 5400/11522, average 0.151 sec/video, moving Prec@1 52.699 Prec@5 80.573</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.151 sec/video, moving Prec@1 52.852 Prec@5 80.624</span><br><span class="line">video 5800 <span class="keyword">done</span>, total 5800/11522, average 0.151 sec/video, moving Prec@1 52.616 Prec@5 80.448</span><br><span class="line">video 6000 <span class="keyword">done</span>, total 6000/11522, average 0.151 sec/video, moving Prec@1 52.679 Prec@5 80.532</span><br><span class="line">video 6200 <span class="keyword">done</span>, total 6200/11522, average 0.151 sec/video, moving Prec@1 52.625 Prec@5 80.499</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.151 sec/video, moving Prec@1 52.746 Prec@5 80.718</span><br><span class="line">video 6600 <span class="keyword">done</span>, total 6600/11522, average 0.151 sec/video, moving Prec@1 52.617 Prec@5 80.756</span><br><span class="line">video 6800 <span class="keyword">done</span>, total 6800/11522, average 0.151 sec/video, moving Prec@1 52.555 Prec@5 80.675</span><br><span class="line">video 7000 <span class="keyword">done</span>, total 7000/11522, average 0.151 sec/video, moving Prec@1 52.511 Prec@5 80.685</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.151 sec/video, moving Prec@1 52.413 Prec@5 80.596</span><br><span class="line">video 7400 <span class="keyword">done</span>, total 7400/11522, average 0.151 sec/video, moving Prec@1 52.470 Prec@5 80.553</span><br><span class="line">video 7600 <span class="keyword">done</span>, total 7600/11522, average 0.151 sec/video, moving Prec@1 52.549 Prec@5 80.631</span><br><span class="line">video 7800 <span class="keyword">done</span>, total 7800/11522, average 0.151 sec/video, moving Prec@1 52.510 Prec@5 80.602</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.151 sec/video, moving Prec@1 52.447 Prec@5 80.587</span><br><span class="line">video 8200 <span class="keyword">done</span>, total 8200/11522, average 0.151 sec/video, moving Prec@1 52.460 Prec@5 80.597</span><br><span class="line">video 8400 <span class="keyword">done</span>, total 8400/11522, average 0.151 sec/video, moving Prec@1 52.556 Prec@5 80.618</span><br><span class="line">video 8600 <span class="keyword">done</span>, total 8600/11522, average 0.151 sec/video, moving Prec@1 52.427 Prec@5 80.604</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.151 sec/video, moving Prec@1 52.486 Prec@5 80.681</span><br><span class="line">video 9000 <span class="keyword">done</span>, total 9000/11522, average 0.151 sec/video, moving Prec@1 52.431 Prec@5 80.655</span><br><span class="line">video 9200 <span class="keyword">done</span>, total 9200/11522, average 0.151 sec/video, moving Prec@1 52.476 Prec@5 80.662</span><br><span class="line">video 9400 <span class="keyword">done</span>, total 9400/11522, average 0.151 sec/video, moving Prec@1 52.508 Prec@5 80.638</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.151 sec/video, moving Prec@1 52.591 Prec@5 80.666</span><br><span class="line">video 9800 <span class="keyword">done</span>, total 9800/11522, average 0.151 sec/video, moving Prec@1 52.589 Prec@5 80.693</span><br><span class="line">video 10000 <span class="keyword">done</span>, total 10000/11522, average 0.151 sec/video, moving Prec@1 52.667 Prec@5 80.689</span><br><span class="line">video 10200 <span class="keyword">done</span>, total 10200/11522, average 0.151 sec/video, moving Prec@1 52.752 Prec@5 80.695</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.151 sec/video, moving Prec@1 52.786 Prec@5 80.663</span><br><span class="line">video 10600 <span class="keyword">done</span>, total 10600/11522, average 0.151 sec/video, moving Prec@1 52.762 Prec@5 80.669</span><br><span class="line">video 10800 <span class="keyword">done</span>, total 10800/11522, average 0.151 sec/video, moving Prec@1 52.840 Prec@5 80.712</span><br><span class="line">video 11000 <span class="keyword">done</span>, total 11000/11522, average 0.151 sec/video, moving Prec@1 52.861 Prec@5 80.708</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.151 sec/video, moving Prec@1 52.899 Prec@5 80.740</span><br><span class="line">video 11400 <span class="keyword">done</span>, total 11400/11522, average 0.151 sec/video, moving Prec@1 52.875 Prec@5 80.710</span><br><span class="line">[0.91044776 0.4        0.28571429 0.68656716 0.47368421 0.46551724</span><br><span class="line"> 0.69402985 0.44117647 0.74757282 0.7184466  0.45333333 0.5</span><br><span class="line"> 0.37234043 0.41935484 0.77070064 0.5        0.21084337 0.2875</span><br><span class="line"> 0.4796748  0.38666667 0.368      0.62068966 0.5        0.50980392</span><br><span class="line"> 0.51612903 0.5        0.43478261 0.44       0.72727273 0.6984127</span><br><span class="line"> 0.72727273 0.5        0.83333333 0.24175824 0.26086957 0.22222222</span><br><span class="line"> 0.81609195 0.81372549 0.05263158 0.66666667 0.71900826 0.62</span><br><span class="line"> 0.73846154 0.67346939 0.69230769 0.62295082 0.48529412 0.41052632</span><br><span class="line"> 0.24719101 0.7518797  0.62264151 0.         0.4        0.5</span><br><span class="line"> 0.19047619 0.16666667 0.42424242 0.4375     0.         0.75510204</span><br><span class="line"> 0.6969697  0.22222222 0.64       0.14545455 0.2        0.5</span><br><span class="line"> 0.12962963 0.25757576 0.52112676 0.38461538 0.58064516 0.32142857</span><br><span class="line"> 0.5        0.48       0.83333333 0.5483871  0.23529412 0.58823529</span><br><span class="line"> 0.40909091 0.82926829 0.08571429 0.14285714 0.4        0.26315789</span><br><span class="line"> 0.57142857 0.43103448 0.66216216 0.79365079 0.11111111 0.125</span><br><span class="line"> 0.62162162 0.73170732 0.58139535 0.68518519 0.71962617 0.32258065</span><br><span class="line"> 0.03703704 0.16666667 0.56725146 0.42647059 0.39795918 0.5462963</span><br><span class="line"> 0.21875    0.57142857 0.68292683 0.65714286 0.52808989 0.73913043</span><br><span class="line"> 0.42105263 0.34065934 0.64705882 0.11764706 0.67567568 0.33333333</span><br><span class="line"> 0.66037736 0.5        0.32727273 0.78723404 0.34146341 0.58333333</span><br><span class="line"> 0.82954545 0.58823529 0.39090909 0.475      0.30555556 0.53061224</span><br><span class="line"> 0.52830189 0.61111111 0.13793103 0.66346154 0.28       0.22222222</span><br><span class="line"> 0.28947368 0.33333333 0.72847682 0.39655172 0.         0.26666667</span><br><span class="line"> 0.13559322 0.60526316 0.67       0.44186047 0.40909091 0.45762712</span><br><span class="line"> 0.6        0.47183099 0.62264151 0.19402985 0.59375    0.76</span><br><span class="line"> 0.68484848 0.27419355 0.4        0.88888889 0.57142857 0.23529412</span><br><span class="line"> 0.26229508 0.35714286 0.5049505  0.34375    0.44444444 0.375</span><br><span class="line"> 0.32       0.37931034 0.66666667 0.75757576 0.9223301  0.88679245</span><br><span class="line"> 0.76851852 0.67567568 0.44761905 0.66906475 0.7080292  0.73684211]</span><br><span class="line">upper bound: 0.5027293241199311</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 48.55%</span><br><span class="line">Overall Prec@1 52.86% Prec@5 80.72%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-rgb-pa-rpa"><a class="header-anchor" href="#pan-rgb-pa-rpa">#</a>PAN RGB&amp;PA&amp;RPA</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something \</span></span><br><span class="line"><span class="comment"># --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 \</span></span><br><span class="line"><span class="comment"># --weights=pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar \</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Three.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.267 sec/video, moving Prec@1 56.250 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.052 sec/video, moving Prec@1 54.167 Prec@5 83.631</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.048 sec/video, moving Prec@1 54.573 Prec@5 82.622</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.047 sec/video, moving Prec@1 53.484 Prec@5 81.557</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.046 sec/video, moving Prec@1 54.321 Prec@5 81.559</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.046 sec/video, moving Prec@1 54.022 Prec@5 80.879</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.045 sec/video, moving Prec@1 53.099 Prec@5 80.527</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.045 sec/video, moving Prec@1 52.793 Prec@5 80.496</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.045 sec/video, moving Prec@1 52.601 Prec@5 80.551</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.045 sec/video, moving Prec@1 52.279 Prec@5 80.318</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.044 sec/video, moving Prec@1 51.959 Prec@5 80.504</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.044 sec/video, moving Prec@1 51.810 Prec@5 80.317</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.044 sec/video, moving Prec@1 51.608 Prec@5 80.005</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.044 sec/video, moving Prec@1 51.389 Prec@5 79.861</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.044 sec/video, moving Prec@1 51.268 Prec@5 79.738</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.044 sec/video, moving Prec@1 50.997 Prec@5 79.527</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.044 sec/video, moving Prec@1 50.759 Prec@5 79.264</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.044 sec/video, moving Prec@1 50.898 Prec@5 79.399</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.044 sec/video, moving Prec@1 50.779 Prec@5 79.224</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.044 sec/video, moving Prec@1 50.820 Prec@5 79.331</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.043 sec/video, moving Prec@1 50.935 Prec@5 79.458</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.043 sec/video, moving Prec@1 50.861 Prec@5 79.454</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.043 sec/video, moving Prec@1 50.893 Prec@5 79.408</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.043 sec/video, moving Prec@1 50.813 Prec@5 79.284</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.043 sec/video, moving Prec@1 50.975 Prec@5 79.431</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.043 sec/video, moving Prec@1 50.948 Prec@5 79.479</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.043 sec/video, moving Prec@1 50.936 Prec@5 79.559</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.043 sec/video, moving Prec@1 50.739 Prec@5 79.552</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.043 sec/video, moving Prec@1 50.780 Prec@5 79.612</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.043 sec/video, moving Prec@1 50.818 Prec@5 79.561</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.043 sec/video, moving Prec@1 50.915 Prec@5 79.555</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.043 sec/video, moving Prec@1 50.946 Prec@5 79.569</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.043 sec/video, moving Prec@1 50.985 Prec@5 79.670</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.043 sec/video, moving Prec@1 51.059 Prec@5 79.643</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.043 sec/video, moving Prec@1 51.120 Prec@5 79.690</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.043 sec/video, moving Prec@1 51.221 Prec@5 79.654</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.043 sec/video, moving Prec@1 51.120 Prec@5 79.622</span><br><span class="line">[0.91044776 0.3625     0.3047619  0.64179104 0.39473684 0.46551724</span><br><span class="line"> 0.67164179 0.41176471 0.6407767  0.67961165 0.41333333 0.47222222</span><br><span class="line"> 0.31914894 0.4516129  0.70700637 0.44       0.25903614 0.275</span><br><span class="line"> 0.44715447 0.4        0.352      0.5862069  0.5        0.43137255</span><br><span class="line"> 0.5483871  0.41666667 0.43478261 0.52       0.72727273 0.65079365</span><br><span class="line"> 0.59090909 0.53846154 0.81481481 0.21978022 0.23913043 0.11111111</span><br><span class="line"> 0.83908046 0.78431373 0.18421053 0.62962963 0.69421488 0.7</span><br><span class="line"> 0.67692308 0.69387755 0.71153846 0.62295082 0.44852941 0.37894737</span><br><span class="line"> 0.21348315 0.69172932 0.59433962 0.         0.4        0.45</span><br><span class="line"> 0.23809524 0.29166667 0.42424242 0.5625     0.         0.7244898</span><br><span class="line"> 0.78787879 0.19444444 0.62       0.18181818 0.1        0.46296296</span><br><span class="line"> 0.18518519 0.22727273 0.47887324 0.30769231 0.5483871  0.25</span><br><span class="line"> 0.47368421 0.48       0.8        0.41935484 0.35294118 0.52941176</span><br><span class="line"> 0.40909091 0.80487805 0.11428571 0.23809524 0.43333333 0.15789474</span><br><span class="line"> 0.57142857 0.39655172 0.63513514 0.66666667 0.16666667 0.10714286</span><br><span class="line"> 0.59459459 0.7804878  0.48837209 0.61111111 0.70093458 0.25806452</span><br><span class="line"> 0.07407407 0.16666667 0.58479532 0.48529412 0.33673469 0.5462963</span><br><span class="line"> 0.1875     0.63265306 0.65853659 0.61904762 0.46067416 0.73913043</span><br><span class="line"> 0.49122807 0.34065934 0.58823529 0.         0.66216216 0.33333333</span><br><span class="line"> 0.56603774 0.36666667 0.34545455 0.79787234 0.29268293 0.5625</span><br><span class="line"> 0.79545455 0.60784314 0.36363636 0.5        0.27777778 0.42857143</span><br><span class="line"> 0.49056604 0.62962963 0.13793103 0.63461538 0.26       0.22222222</span><br><span class="line"> 0.23684211 0.4        0.65562914 0.4137931  0.07142857 0.3</span><br><span class="line"> 0.11864407 0.63157895 0.67       0.37209302 0.45454545 0.48305085</span><br><span class="line"> 0.57333333 0.47887324 0.63207547 0.13432836 0.53125    0.8</span><br><span class="line"> 0.68484848 0.29032258 0.33333333 0.83333333 0.52380952 0.23529412</span><br><span class="line"> 0.26229508 0.34285714 0.46534653 0.28125    0.48148148 0.325</span><br><span class="line"> 0.34       0.37931034 0.7254902  0.75757576 0.9223301  0.86792453</span><br><span class="line"> 0.74074074 0.7027027  0.38095238 0.64028777 0.70072993 0.71052632]</span><br><span class="line">upper bound: 0.48707027638701955</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.08%</span><br><span class="line">Overall Prec@1 51.12% Prec@5 79.62%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201009-rgb-pa-rpa-rgb"><a class="header-anchor" href="#20201009-rgb-pa-rpa-rgb">#</a>20201009 RGB&amp;PA&amp;RPA&amp;RGB</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/AAA.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.221 sec/video, moving Prec@1 56.250 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.055 sec/video, moving Prec@1 55.060 Prec@5 83.036</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.053 sec/video, moving Prec@1 55.335 Prec@5 82.012</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.052 sec/video, moving Prec@1 54.303 Prec@5 80.840</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.051 sec/video, moving Prec@1 54.552 Prec@5 81.173</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.050 sec/video, moving Prec@1 54.455 Prec@5 80.631</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.050 sec/video, moving Prec@1 53.409 Prec@5 80.217</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.050 sec/video, moving Prec@1 53.236 Prec@5 80.319</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.050 sec/video, moving Prec@1 53.106 Prec@5 80.435</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.050 sec/video, moving Prec@1 52.624 Prec@5 80.249</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.049 sec/video, moving Prec@1 52.239 Prec@5 80.224</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.049 sec/video, moving Prec@1 52.206 Prec@5 80.119</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.049 sec/video, moving Prec@1 52.127 Prec@5 79.798</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.049 sec/video, moving Prec@1 51.796 Prec@5 79.765</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.049 sec/video, moving Prec@1 51.646 Prec@5 79.760</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.049 sec/video, moving Prec@1 51.474 Prec@5 79.360</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.049 sec/video, moving Prec@1 51.188 Prec@5 79.186</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.049 sec/video, moving Prec@1 51.338 Prec@5 79.362</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.049 sec/video, moving Prec@1 51.229 Prec@5 79.190</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.049 sec/video, moving Prec@1 51.280 Prec@5 79.331</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.049 sec/video, moving Prec@1 51.372 Prec@5 79.520</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.049 sec/video, moving Prec@1 51.292 Prec@5 79.528</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.049 sec/video, moving Prec@1 51.361 Prec@5 79.478</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.049 sec/video, moving Prec@1 51.315 Prec@5 79.366</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.049 sec/video, moving Prec@1 51.494 Prec@5 79.548</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.049 sec/video, moving Prec@1 51.422 Prec@5 79.591</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.049 sec/video, moving Prec@1 51.476 Prec@5 79.667</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.049 sec/video, moving Prec@1 51.340 Prec@5 79.656</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.049 sec/video, moving Prec@1 51.326 Prec@5 79.690</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.049 sec/video, moving Prec@1 51.366 Prec@5 79.669</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.049 sec/video, moving Prec@1 51.466 Prec@5 79.732</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.049 sec/video, moving Prec@1 51.449 Prec@5 79.740</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.049 sec/video, moving Prec@1 51.511 Prec@5 79.846</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.049 sec/video, moving Prec@1 51.560 Prec@5 79.870</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.049 sec/video, moving Prec@1 51.597 Prec@5 79.956</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.049 sec/video, moving Prec@1 51.649 Prec@5 79.939</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.049 sec/video, moving Prec@1 51.536 Prec@5 79.865</span><br><span class="line">[0.89552239 0.325      0.28571429 0.64179104 0.44736842 0.46551724</span><br><span class="line"> 0.70149254 0.41176471 0.63106796 0.70873786 0.41333333 0.48611111</span><br><span class="line"> 0.30851064 0.41935484 0.75159236 0.46       0.23493976 0.275</span><br><span class="line"> 0.42276423 0.34666667 0.344      0.62068966 0.5        0.43137255</span><br><span class="line"> 0.51612903 0.41666667 0.43478261 0.48       0.72727273 0.61904762</span><br><span class="line"> 0.63636364 0.57692308 0.83333333 0.25274725 0.32608696 0.16666667</span><br><span class="line"> 0.82758621 0.79411765 0.10526316 0.59259259 0.68595041 0.66</span><br><span class="line"> 0.70769231 0.67346939 0.69230769 0.57377049 0.46323529 0.41052632</span><br><span class="line"> 0.17977528 0.69924812 0.6509434  0.         0.36       0.4</span><br><span class="line"> 0.23809524 0.25       0.42424242 0.5625     0.         0.75510204</span><br><span class="line"> 0.81818182 0.19444444 0.66       0.18181818 0.1        0.49074074</span><br><span class="line"> 0.14814815 0.22727273 0.45070423 0.34615385 0.5483871  0.21428571</span><br><span class="line"> 0.5        0.52       0.81666667 0.51612903 0.35294118 0.52941176</span><br><span class="line"> 0.36363636 0.80487805 0.08571429 0.21428571 0.4        0.15789474</span><br><span class="line"> 0.6        0.37931034 0.59459459 0.65079365 0.27777778 0.07142857</span><br><span class="line"> 0.59459459 0.75609756 0.55813953 0.58333333 0.68224299 0.25806452</span><br><span class="line"> 0.03703704 0.11904762 0.56140351 0.5        0.30612245 0.5462963</span><br><span class="line"> 0.203125   0.6122449  0.65853659 0.63809524 0.53932584 0.73913043</span><br><span class="line"> 0.47368421 0.32967033 0.60784314 0.05882353 0.67567568 0.28571429</span><br><span class="line"> 0.62264151 0.43333333 0.38181818 0.78723404 0.31707317 0.58333333</span><br><span class="line"> 0.81818182 0.60784314 0.36363636 0.5        0.30555556 0.46938776</span><br><span class="line"> 0.45283019 0.62962963 0.15862069 0.625      0.28       0.25925926</span><br><span class="line"> 0.28947368 0.3        0.67549669 0.46551724 0.07142857 0.36666667</span><br><span class="line"> 0.15254237 0.56578947 0.67       0.39534884 0.38636364 0.46610169</span><br><span class="line"> 0.58666667 0.45774648 0.63207547 0.1641791  0.5625     0.824</span><br><span class="line"> 0.68484848 0.29032258 0.36666667 0.83333333 0.54761905 0.15686275</span><br><span class="line"> 0.29508197 0.31428571 0.48514851 0.375      0.5        0.425</span><br><span class="line"> 0.32       0.4137931  0.71568627 0.77272727 0.9223301  0.87735849</span><br><span class="line"> 0.75925926 0.7027027  0.45714286 0.62589928 0.69343066 0.71052632]</span><br><span class="line">upper bound: 0.4923224364393845</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.49%</span><br><span class="line">Overall Prec@1 51.54% Prec@5 79.86%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201009-rgb-pa-rpa-rgb-lite-lite"><a class="header-anchor" href="#20201009-rgb-pa-rpa-rgb-lite-lite">#</a>20201009 RGB&amp;PA&amp;RPA&amp;RGB&amp;Lite&amp;Lite</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=8 -j=4 --test_crops=1 --test_segments=8,8,8,8,8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_Lite_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_Lite_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --full_res --twice_sample</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/6.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     Lite</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     Lite</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 1.315 sec/video, moving Prec@1 50.000 Prec@5 75.000</span><br><span class="line">video 160 <span class="keyword">done</span>, total 160/11522, average 0.300 sec/video, moving Prec@1 57.738 Prec@5 86.310</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.314 sec/video, moving Prec@1 55.793 Prec@5 85.366</span><br><span class="line">video 480 <span class="keyword">done</span>, total 480/11522, average 0.318 sec/video, moving Prec@1 57.582 Prec@5 85.656</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.318 sec/video, moving Prec@1 56.636 Prec@5 83.796</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.322 sec/video, moving Prec@1 55.569 Prec@5 82.673</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.322 sec/video, moving Prec@1 55.062 Prec@5 82.541</span><br><span class="line">video 1120 <span class="keyword">done</span>, total 1120/11522, average 0.321 sec/video, moving Prec@1 56.206 Prec@5 83.067</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.321 sec/video, moving Prec@1 56.522 Prec@5 83.307</span><br><span class="line">video 1440 <span class="keyword">done</span>, total 1440/11522, average 0.320 sec/video, moving Prec@1 56.354 Prec@5 82.942</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.320 sec/video, moving Prec@1 56.468 Prec@5 83.022</span><br><span class="line">video 1760 <span class="keyword">done</span>, total 1760/11522, average 0.320 sec/video, moving Prec@1 55.826 Prec@5 82.579</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.320 sec/video, moving Prec@1 55.705 Prec@5 82.573</span><br><span class="line">video 2080 <span class="keyword">done</span>, total 2080/11522, average 0.321 sec/video, moving Prec@1 55.603 Prec@5 82.375</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.321 sec/video, moving Prec@1 55.783 Prec@5 82.429</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.321 sec/video, moving Prec@1 55.399 Prec@5 82.018</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.321 sec/video, moving Prec@1 55.335 Prec@5 82.009</span><br><span class="line">video 2720 <span class="keyword">done</span>, total 2720/11522, average 0.321 sec/video, moving Prec@1 55.389 Prec@5 82.111</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.320 sec/video, moving Prec@1 55.090 Prec@5 82.168</span><br><span class="line">video 3040 <span class="keyword">done</span>, total 3040/11522, average 0.320 sec/video, moving Prec@1 54.921 Prec@5 82.283</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.321 sec/video, moving Prec@1 54.426 Prec@5 82.170</span><br><span class="line">video 3360 <span class="keyword">done</span>, total 3360/11522, average 0.320 sec/video, moving Prec@1 54.365 Prec@5 82.452</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.321 sec/video, moving Prec@1 54.223 Prec@5 82.115</span><br><span class="line">video 3680 <span class="keyword">done</span>, total 3680/11522, average 0.321 sec/video, moving Prec@1 54.094 Prec@5 81.860</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.321 sec/video, moving Prec@1 54.314 Prec@5 81.861</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.321 sec/video, moving Prec@1 54.167 Prec@5 81.737</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.321 sec/video, moving Prec@1 54.079 Prec@5 81.694</span><br><span class="line">video 4320 <span class="keyword">done</span>, total 4320/11522, average 0.321 sec/video, moving Prec@1 53.997 Prec@5 81.608</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.321 sec/video, moving Prec@1 53.922 Prec@5 81.640</span><br><span class="line">video 4640 <span class="keyword">done</span>, total 4640/11522, average 0.321 sec/video, moving Prec@1 53.894 Prec@5 81.497</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.321 sec/video, moving Prec@1 53.765 Prec@5 81.448</span><br><span class="line">video 4960 <span class="keyword">done</span>, total 4960/11522, average 0.321 sec/video, moving Prec@1 53.462 Prec@5 81.200</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.321 sec/video, moving Prec@1 53.432 Prec@5 81.162</span><br><span class="line">video 5280 <span class="keyword">done</span>, total 5280/11522, average 0.322 sec/video, moving Prec@1 53.423 Prec@5 81.127</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.321 sec/video, moving Prec@1 53.616 Prec@5 81.351</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.321 sec/video, moving Prec@1 53.709 Prec@5 81.384</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.321 sec/video, moving Prec@1 53.589 Prec@5 81.224</span><br><span class="line">video 5920 <span class="keyword">done</span>, total 5920/11522, average 0.321 sec/video, moving Prec@1 53.492 Prec@5 81.275</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.322 sec/video, moving Prec@1 53.400 Prec@5 81.340</span><br><span class="line">video 6240 <span class="keyword">done</span>, total 6240/11522, average 0.322 sec/video, moving Prec@1 53.457 Prec@5 81.354</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.322 sec/video, moving Prec@1 53.480 Prec@5 81.445</span><br><span class="line">video 6560 <span class="keyword">done</span>, total 6560/11522, average 0.321 sec/video, moving Prec@1 53.426 Prec@5 81.532</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.321 sec/video, moving Prec@1 53.404 Prec@5 81.495</span><br><span class="line">video 6880 <span class="keyword">done</span>, total 6880/11522, average 0.321 sec/video, moving Prec@1 53.296 Prec@5 81.402</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.321 sec/video, moving Prec@1 53.348 Prec@5 81.413</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.321 sec/video, moving Prec@1 53.344 Prec@5 81.396</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.321 sec/video, moving Prec@1 53.312 Prec@5 81.325</span><br><span class="line">video 7520 <span class="keyword">done</span>, total 7520/11522, average 0.321 sec/video, moving Prec@1 53.374 Prec@5 81.389</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.322 sec/video, moving Prec@1 53.356 Prec@5 81.413</span><br><span class="line">video 7840 <span class="keyword">done</span>, total 7840/11522, average 0.322 sec/video, moving Prec@1 53.313 Prec@5 81.397</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.322 sec/video, moving Prec@1 53.247 Prec@5 81.381</span><br><span class="line">video 8160 <span class="keyword">done</span>, total 8160/11522, average 0.322 sec/video, moving Prec@1 53.293 Prec@5 81.428</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.321 sec/video, moving Prec@1 53.338 Prec@5 81.460</span><br><span class="line">video 8480 <span class="keyword">done</span>, total 8480/11522, average 0.322 sec/video, moving Prec@1 53.228 Prec@5 81.374</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.322 sec/video, moving Prec@1 53.076 Prec@5 81.406</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.322 sec/video, moving Prec@1 53.134 Prec@5 81.460</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.322 sec/video, moving Prec@1 53.066 Prec@5 81.479</span><br><span class="line">video 9120 <span class="keyword">done</span>, total 9120/11522, average 0.321 sec/video, moving Prec@1 53.024 Prec@5 81.453</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.321 sec/video, moving Prec@1 53.025 Prec@5 81.449</span><br><span class="line">video 9440 <span class="keyword">done</span>, total 9440/11522, average 0.322 sec/video, moving Prec@1 53.059 Prec@5 81.425</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.321 sec/video, moving Prec@1 53.143 Prec@5 81.495</span><br><span class="line">video 9760 <span class="keyword">done</span>, total 9760/11522, average 0.321 sec/video, moving Prec@1 53.184 Prec@5 81.511</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.322 sec/video, moving Prec@1 53.112 Prec@5 81.467</span><br><span class="line">video 10080 <span class="keyword">done</span>, total 10080/11522, average 0.322 sec/video, moving Prec@1 53.202 Prec@5 81.572</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.322 sec/video, moving Prec@1 53.230 Prec@5 81.616</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.322 sec/video, moving Prec@1 53.324 Prec@5 81.572</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.322 sec/video, moving Prec@1 53.340 Prec@5 81.558</span><br><span class="line">video 10720 <span class="keyword">done</span>, total 10720/11522, average 0.322 sec/video, moving Prec@1 53.384 Prec@5 81.572</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.322 sec/video, moving Prec@1 53.398 Prec@5 81.585</span><br><span class="line">video 11040 <span class="keyword">done</span>, total 11040/11522, average 0.322 sec/video, moving Prec@1 53.385 Prec@5 81.598</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.322 sec/video, moving Prec@1 53.462 Prec@5 81.620</span><br><span class="line">video 11360 <span class="keyword">done</span>, total 11360/11522, average 0.322 sec/video, moving Prec@1 53.439 Prec@5 81.606</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.321 sec/video, moving Prec@1 53.524 Prec@5 81.592</span><br><span class="line">[0.89552239 0.4375     0.3047619  0.67164179 0.47368421 0.49137931</span><br><span class="line"> 0.69402985 0.5        0.73786408 0.73786408 0.52       0.52777778</span><br><span class="line"> 0.41489362 0.41935484 0.8089172  0.48       0.24698795 0.35</span><br><span class="line"> 0.49593496 0.37333333 0.416      0.63793103 0.44444444 0.41176471</span><br><span class="line"> 0.51612903 0.41666667 0.52173913 0.4        0.6969697  0.74603175</span><br><span class="line"> 0.63636364 0.53846154 0.87037037 0.25274725 0.26086957 0.16666667</span><br><span class="line"> 0.8045977  0.85294118 0.07894737 0.62962963 0.7107438  0.66</span><br><span class="line"> 0.72307692 0.69387755 0.71153846 0.67213115 0.47058824 0.43157895</span><br><span class="line"> 0.29213483 0.72932331 0.61320755 0.         0.24       0.55</span><br><span class="line"> 0.23809524 0.20833333 0.51515152 0.5        0.         0.7755102</span><br><span class="line"> 0.78787879 0.25       0.62       0.12727273 0.16666667 0.55555556</span><br><span class="line"> 0.11111111 0.24242424 0.43661972 0.42307692 0.51612903 0.25</span><br><span class="line"> 0.47368421 0.56       0.83333333 0.58064516 0.29411765 0.47058824</span><br><span class="line"> 0.40909091 0.82926829 0.11428571 0.11904762 0.43333333 0.15789474</span><br><span class="line"> 0.62857143 0.39655172 0.64864865 0.77777778 0.11111111 0.08928571</span><br><span class="line"> 0.59459459 0.75609756 0.55813953 0.61111111 0.75700935 0.25806452</span><br><span class="line"> 0.03703704 0.16666667 0.60818713 0.51470588 0.3877551  0.58333333</span><br><span class="line"> 0.234375   0.53061224 0.70731707 0.6952381  0.62921348 0.75362319</span><br><span class="line"> 0.43859649 0.36263736 0.62745098 0.11764706 0.64864865 0.38095238</span><br><span class="line"> 0.66981132 0.46666667 0.32727273 0.78723404 0.31707317 0.60416667</span><br><span class="line"> 0.81818182 0.60784314 0.41818182 0.45       0.27777778 0.51020408</span><br><span class="line"> 0.45283019 0.62962963 0.17241379 0.68269231 0.3        0.18518519</span><br><span class="line"> 0.39473684 0.26666667 0.70198675 0.46551724 0.14285714 0.2</span><br><span class="line"> 0.15254237 0.65789474 0.66       0.3255814  0.52272727 0.48305085</span><br><span class="line"> 0.54666667 0.50704225 0.64150943 0.20895522 0.53125    0.736</span><br><span class="line"> 0.67272727 0.29032258 0.35       0.88888889 0.5952381  0.19607843</span><br><span class="line"> 0.24590164 0.35714286 0.53465347 0.34375    0.48148148 0.375</span><br><span class="line"> 0.36       0.4137931  0.69607843 0.81818182 0.9223301  0.91509434</span><br><span class="line"> 0.74074074 0.7027027  0.47619048 0.61151079 0.7080292  0.71052632]</span><br><span class="line">upper bound: 0.5069670549400674</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 48.98%</span><br><span class="line">Overall Prec@1 53.52% Prec@5 81.59%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201009-rgb-pa-lite（论文结果）"><a class="header-anchor" href="#20201009-rgb-pa-lite（论文结果）">#</a>20201009 RGB&amp;PA&amp;Lite（论文结果）</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=o/PAN_Lite_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,o/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,o/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --full_res --twice_sample</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/En.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     Lite</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 1.100 sec/video, moving Prec@1 50.000 Prec@5 75.000</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.158 sec/video, moving Prec@1 58.333 Prec@5 84.226</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.152 sec/video, moving Prec@1 57.317 Prec@5 83.384</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.154 sec/video, moving Prec@1 55.738 Prec@5 81.865</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.152 sec/video, moving Prec@1 56.327 Prec@5 82.639</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.151 sec/video, moving Prec@1 56.436 Prec@5 82.364</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.150 sec/video, moving Prec@1 55.527 Prec@5 81.870</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.150 sec/video, moving Prec@1 55.230 Prec@5 81.826</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.149 sec/video, moving Prec@1 54.775 Prec@5 81.677</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.149 sec/video, moving Prec@1 54.489 Prec@5 81.802</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.149 sec/video, moving Prec@1 54.073 Prec@5 81.872</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.149 sec/video, moving Prec@1 53.761 Prec@5 81.900</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.149 sec/video, moving Prec@1 53.864 Prec@5 81.483</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.149 sec/video, moving Prec@1 53.736 Prec@5 81.418</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.149 sec/video, moving Prec@1 53.536 Prec@5 81.539</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.148 sec/video, moving Prec@1 53.447 Prec@5 81.292</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.149 sec/video, moving Prec@1 53.096 Prec@5 80.900</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.148 sec/video, moving Prec@1 53.262 Prec@5 81.067</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.148 sec/video, moving Prec@1 53.220 Prec@5 80.990</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.148 sec/video, moving Prec@1 53.199 Prec@5 81.119</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.148 sec/video, moving Prec@1 53.226 Prec@5 81.219</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.148 sec/video, moving Prec@1 53.162 Prec@5 81.191</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.148 sec/video, moving Prec@1 53.090 Prec@5 81.179</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.148 sec/video, moving Prec@1 53.050 Prec@5 81.047</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.148 sec/video, moving Prec@1 53.106 Prec@5 81.120</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.148 sec/video, moving Prec@1 53.094 Prec@5 81.025</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.148 sec/video, moving Prec@1 53.095 Prec@5 81.130</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.148 sec/video, moving Prec@1 52.934 Prec@5 81.077</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.148 sec/video, moving Prec@1 53.030 Prec@5 81.061</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.148 sec/video, moving Prec@1 52.937 Prec@5 81.003</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.148 sec/video, moving Prec@1 53.068 Prec@5 81.011</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.148 sec/video, moving Prec@1 53.110 Prec@5 80.988</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.148 sec/video, moving Prec@1 53.218 Prec@5 81.094</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.148 sec/video, moving Prec@1 53.262 Prec@5 81.014</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.147 sec/video, moving Prec@1 53.387 Prec@5 81.057</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.147 sec/video, moving Prec@1 53.424 Prec@5 81.054</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.147 sec/video, moving Prec@1 53.428 Prec@5 81.062</span><br><span class="line">[0.92537313 0.4125     0.35238095 0.68656716 0.36842105 0.52586207</span><br><span class="line"> 0.70149254 0.52941176 0.73786408 0.73786408 0.57333333 0.54166667</span><br><span class="line"> 0.40425532 0.4516129  0.79617834 0.44       0.24698795 0.2875</span><br><span class="line"> 0.42276423 0.4        0.456      0.62068966 0.55555556 0.47058824</span><br><span class="line"> 0.4516129  0.33333333 0.47826087 0.36       0.66666667 0.68253968</span><br><span class="line"> 0.68181818 0.53846154 0.85185185 0.30769231 0.2173913  0.13888889</span><br><span class="line"> 0.8045977  0.80392157 0.10526316 0.66666667 0.72727273 0.64</span><br><span class="line"> 0.7        0.69387755 0.73076923 0.63934426 0.47794118 0.41052632</span><br><span class="line"> 0.28089888 0.7443609  0.67924528 0.         0.44       0.5</span><br><span class="line"> 0.14285714 0.20833333 0.36363636 0.53125    0.         0.71428571</span><br><span class="line"> 0.81818182 0.25       0.58       0.13636364 0.16666667 0.5</span><br><span class="line"> 0.16666667 0.24242424 0.47887324 0.30769231 0.5483871  0.32142857</span><br><span class="line"> 0.5        0.56       0.81666667 0.5483871  0.23529412 0.58823529</span><br><span class="line"> 0.31818182 0.85365854 0.08571429 0.23809524 0.33333333 0.21052632</span><br><span class="line"> 0.62857143 0.43103448 0.67567568 0.79365079 0.05555556 0.14285714</span><br><span class="line"> 0.64864865 0.73170732 0.55813953 0.62962963 0.78504673 0.33870968</span><br><span class="line"> 0.03703704 0.16666667 0.59649123 0.5        0.39795918 0.5462963</span><br><span class="line"> 0.234375   0.42857143 0.70731707 0.66666667 0.52808989 0.69565217</span><br><span class="line"> 0.49122807 0.37362637 0.64705882 0.05882353 0.67567568 0.33333333</span><br><span class="line"> 0.66981132 0.46666667 0.29090909 0.78723404 0.31707317 0.625</span><br><span class="line"> 0.79545455 0.60784314 0.39090909 0.45       0.27777778 0.48979592</span><br><span class="line"> 0.52830189 0.57407407 0.15172414 0.68269231 0.26       0.22222222</span><br><span class="line"> 0.31578947 0.33333333 0.7218543  0.46551724 0.07142857 0.16666667</span><br><span class="line"> 0.11864407 0.60526316 0.69       0.34883721 0.47727273 0.42372881</span><br><span class="line"> 0.54666667 0.50704225 0.62264151 0.19402985 0.625      0.784</span><br><span class="line"> 0.6969697  0.22580645 0.36666667 0.85185185 0.64285714 0.21568627</span><br><span class="line"> 0.27868852 0.37142857 0.52475248 0.3125     0.5        0.4</span><br><span class="line"> 0.34       0.4137931  0.67647059 0.8030303  0.93203883 0.9245283</span><br><span class="line"> 0.75925926 0.72972973 0.41904762 0.6618705  0.7080292  0.72368421]</span><br><span class="line">upper bound: 0.507994552098881</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 48.71%</span><br><span class="line">Overall Prec@1 53.43% Prec@5 81.06%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201012-mypa-myrpa-rgb"><a class="header-anchor" href="#20201012-mypa-myrpa-rgb">#</a>20201012 MyPA&amp;MyRPA&amp;RGB</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --coeff=2,1,1</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/3.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.328 sec/video, moving Prec@1 50.000 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.055 sec/video, moving Prec@1 56.845 Prec@5 83.036</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.051 sec/video, moving Prec@1 56.555 Prec@5 82.317</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.049 sec/video, moving Prec@1 55.225 Prec@5 80.328</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.048 sec/video, moving Prec@1 55.941 Prec@5 80.478</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.047 sec/video, moving Prec@1 55.755 Prec@5 80.012</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.047 sec/video, moving Prec@1 54.545 Prec@5 79.855</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.047 sec/video, moving Prec@1 54.388 Prec@5 79.920</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.046 sec/video, moving Prec@1 53.998 Prec@5 80.241</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.046 sec/video, moving Prec@1 53.522 Prec@5 80.180</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.046 sec/video, moving Prec@1 53.016 Prec@5 80.162</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.046 sec/video, moving Prec@1 52.771 Prec@5 80.090</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.046 sec/video, moving Prec@1 52.567 Prec@5 79.694</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.046 sec/video, moving Prec@1 52.275 Prec@5 79.717</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.046 sec/video, moving Prec@1 52.069 Prec@5 79.760</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.046 sec/video, moving Prec@1 51.973 Prec@5 79.485</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.046 sec/video, moving Prec@1 51.616 Prec@5 79.167</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.046 sec/video, moving Prec@1 51.778 Prec@5 79.362</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.046 sec/video, moving Prec@1 51.697 Prec@5 79.172</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.046 sec/video, moving Prec@1 51.657 Prec@5 79.298</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.046 sec/video, moving Prec@1 51.683 Prec@5 79.426</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.046 sec/video, moving Prec@1 51.618 Prec@5 79.424</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.046 sec/video, moving Prec@1 51.644 Prec@5 79.365</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.046 sec/video, moving Prec@1 51.518 Prec@5 79.298</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.046 sec/video, moving Prec@1 51.624 Prec@5 79.483</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.046 sec/video, moving Prec@1 51.622 Prec@5 79.516</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.045 sec/video, moving Prec@1 51.667 Prec@5 79.547</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.045 sec/video, moving Prec@1 51.502 Prec@5 79.598</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.045 sec/video, moving Prec@1 51.515 Prec@5 79.623</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.046 sec/video, moving Prec@1 51.549 Prec@5 79.636</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.046 sec/video, moving Prec@1 51.674 Prec@5 79.690</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.045 sec/video, moving Prec@1 51.671 Prec@5 79.760</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.045 sec/video, moving Prec@1 51.765 Prec@5 79.856</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.045 sec/video, moving Prec@1 51.834 Prec@5 79.803</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.045 sec/video, moving Prec@1 51.927 Prec@5 79.892</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.045 sec/video, moving Prec@1 52.015 Prec@5 79.913</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.045 sec/video, moving Prec@1 51.883 Prec@5 79.865</span><br><span class="line">[0.89552239 0.35       0.28571429 0.62686567 0.34210526 0.46551724</span><br><span class="line"> 0.68656716 0.41176471 0.69902913 0.66990291 0.36       0.54166667</span><br><span class="line"> 0.32978723 0.41935484 0.75159236 0.54       0.24096386 0.275</span><br><span class="line"> 0.45528455 0.34666667 0.344      0.5862069  0.40740741 0.45098039</span><br><span class="line"> 0.4516129  0.41666667 0.43478261 0.52       0.6969697  0.65079365</span><br><span class="line"> 0.59090909 0.57692308 0.83333333 0.24175824 0.32608696 0.16666667</span><br><span class="line"> 0.8045977  0.80392157 0.05263158 0.59259259 0.67768595 0.7</span><br><span class="line"> 0.71538462 0.65306122 0.71153846 0.60655738 0.45588235 0.44210526</span><br><span class="line"> 0.20224719 0.69924812 0.66037736 0.         0.36       0.4</span><br><span class="line"> 0.14285714 0.29166667 0.42424242 0.5625     0.08333333 0.74489796</span><br><span class="line"> 0.75757576 0.27777778 0.64       0.19090909 0.13333333 0.55555556</span><br><span class="line"> 0.14814815 0.22727273 0.42253521 0.34615385 0.5483871  0.28571429</span><br><span class="line"> 0.47368421 0.52       0.81666667 0.51612903 0.35294118 0.47058824</span><br><span class="line"> 0.36363636 0.7804878  0.08571429 0.16666667 0.4        0.21052632</span><br><span class="line"> 0.6        0.34482759 0.62162162 0.68253968 0.33333333 0.10714286</span><br><span class="line"> 0.59459459 0.80487805 0.51162791 0.62037037 0.71028037 0.30645161</span><br><span class="line"> 0.07407407 0.14285714 0.55555556 0.47058824 0.32653061 0.57407407</span><br><span class="line"> 0.21875    0.63265306 0.62195122 0.67619048 0.52808989 0.72463768</span><br><span class="line"> 0.49122807 0.34065934 0.58823529 0.05882353 0.68918919 0.38095238</span><br><span class="line"> 0.66037736 0.4        0.38181818 0.80851064 0.36585366 0.58333333</span><br><span class="line"> 0.84090909 0.58823529 0.39090909 0.5        0.33333333 0.46938776</span><br><span class="line"> 0.49056604 0.61111111 0.16551724 0.64423077 0.24       0.25925926</span><br><span class="line"> 0.31578947 0.23333333 0.69536424 0.48275862 0.07142857 0.4</span><br><span class="line"> 0.20338983 0.61842105 0.66       0.39534884 0.38636364 0.47457627</span><br><span class="line"> 0.52       0.45070423 0.61320755 0.17910448 0.546875   0.8</span><br><span class="line"> 0.64242424 0.30645161 0.38333333 0.81481481 0.54761905 0.21568627</span><br><span class="line"> 0.26229508 0.35714286 0.54455446 0.375      0.48148148 0.35</span><br><span class="line"> 0.34       0.4137931  0.73529412 0.74242424 0.9223301  0.86792453</span><br><span class="line"> 0.72222222 0.72972973 0.42857143 0.62589928 0.66423358 0.71052632]</span><br><span class="line">upper bound: 0.4917864461284819</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.79%</span><br><span class="line">Overall Prec@1 51.88% Prec@5 79.86%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201014-rgbo-pan"><a class="header-anchor" href="#20201014-rgbo-pan">#</a>20201014 RGBo&amp;PAn</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar </span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Full.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.249 sec/video, moving Prec@1 50.000 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.034 sec/video, moving Prec@1 55.655 Prec@5 83.333</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.029 sec/video, moving Prec@1 55.793 Prec@5 81.860</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.027 sec/video, moving Prec@1 54.303 Prec@5 80.328</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.026 sec/video, moving Prec@1 54.552 Prec@5 80.633</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.026 sec/video, moving Prec@1 54.270 Prec@5 80.012</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.025 sec/video, moving Prec@1 53.048 Prec@5 79.597</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.025 sec/video, moving Prec@1 53.059 Prec@5 79.654</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.025 sec/video, moving Prec@1 52.717 Prec@5 79.697</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.025 sec/video, moving Prec@1 52.314 Prec@5 79.731</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.025 sec/video, moving Prec@1 52.146 Prec@5 79.633</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.024 sec/video, moving Prec@1 51.923 Prec@5 79.525</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.024 sec/video, moving Prec@1 51.867 Prec@5 79.175</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.024 sec/video, moving Prec@1 51.700 Prec@5 79.119</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.024 sec/video, moving Prec@1 51.624 Prec@5 79.181</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.024 sec/video, moving Prec@1 51.329 Prec@5 78.841</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.024 sec/video, moving Prec@1 50.974 Prec@5 78.583</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.024 sec/video, moving Prec@1 51.228 Prec@5 78.757</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.024 sec/video, moving Prec@1 51.108 Prec@5 78.636</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.024 sec/video, moving Prec@1 51.050 Prec@5 78.773</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.024 sec/video, moving Prec@1 51.044 Prec@5 78.959</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.024 sec/video, moving Prec@1 50.920 Prec@5 78.934</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.024 sec/video, moving Prec@1 50.935 Prec@5 78.784</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.024 sec/video, moving Prec@1 50.908 Prec@5 78.783</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.024 sec/video, moving Prec@1 51.014 Prec@5 78.950</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.024 sec/video, moving Prec@1 50.998 Prec@5 79.004</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.024 sec/video, moving Prec@1 50.960 Prec@5 79.007</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.024 sec/video, moving Prec@1 50.843 Prec@5 78.963</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.024 sec/video, moving Prec@1 50.869 Prec@5 78.966</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.024 sec/video, moving Prec@1 50.925 Prec@5 78.959</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.024 sec/video, moving Prec@1 51.050 Prec@5 78.973</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.024 sec/video, moving Prec@1 51.027 Prec@5 79.006</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.024 sec/video, moving Prec@1 51.160 Prec@5 79.105</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.024 sec/video, moving Prec@1 51.248 Prec@5 79.085</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.024 sec/video, moving Prec@1 51.276 Prec@5 79.157</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.024 sec/video, moving Prec@1 51.302 Prec@5 79.173</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.024 sec/video, moving Prec@1 51.206 Prec@5 79.170</span><br><span class="line">[0.88059701 0.3375     0.26666667 0.62686567 0.31578947 0.49137931</span><br><span class="line"> 0.6641791  0.5        0.69902913 0.68932039 0.38666667 0.55555556</span><br><span class="line"> 0.31914894 0.38709677 0.75159236 0.54       0.24096386 0.2625</span><br><span class="line"> 0.44715447 0.28       0.336      0.5862069  0.40740741 0.47058824</span><br><span class="line"> 0.4516129  0.41666667 0.47826087 0.52       0.75757576 0.65079365</span><br><span class="line"> 0.63636364 0.57692308 0.85185185 0.23076923 0.34782609 0.08333333</span><br><span class="line"> 0.7816092  0.79411765 0.07894737 0.59259259 0.66942149 0.66</span><br><span class="line"> 0.73076923 0.65306122 0.75       0.62295082 0.43382353 0.43157895</span><br><span class="line"> 0.17977528 0.69924812 0.58490566 0.         0.32       0.45</span><br><span class="line"> 0.14285714 0.20833333 0.45454545 0.5        0.08333333 0.74489796</span><br><span class="line"> 0.72727273 0.22222222 0.64       0.17272727 0.13333333 0.50925926</span><br><span class="line"> 0.12962963 0.18181818 0.46478873 0.38461538 0.51612903 0.32142857</span><br><span class="line"> 0.5        0.56       0.81666667 0.51612903 0.29411765 0.52941176</span><br><span class="line"> 0.36363636 0.82926829 0.14285714 0.14285714 0.33333333 0.21052632</span><br><span class="line"> 0.65714286 0.36206897 0.62162162 0.71428571 0.33333333 0.10714286</span><br><span class="line"> 0.56756757 0.80487805 0.48837209 0.59259259 0.69158879 0.30645161</span><br><span class="line"> 0.07407407 0.11904762 0.56140351 0.5        0.32653061 0.57407407</span><br><span class="line"> 0.203125   0.65306122 0.69512195 0.65714286 0.50561798 0.72463768</span><br><span class="line"> 0.47368421 0.37362637 0.62745098 0.05882353 0.63513514 0.38095238</span><br><span class="line"> 0.6509434  0.46666667 0.30909091 0.78723404 0.29268293 0.58333333</span><br><span class="line"> 0.80681818 0.58823529 0.4        0.5        0.33333333 0.44897959</span><br><span class="line"> 0.50943396 0.57407407 0.16551724 0.60576923 0.24       0.22222222</span><br><span class="line"> 0.31578947 0.23333333 0.70198675 0.4137931  0.07142857 0.38333333</span><br><span class="line"> 0.18644068 0.57894737 0.68       0.44186047 0.40909091 0.44915254</span><br><span class="line"> 0.56       0.42253521 0.62264151 0.1641791  0.4375     0.784</span><br><span class="line"> 0.63636364 0.24193548 0.4        0.81481481 0.52380952 0.2745098</span><br><span class="line"> 0.2295082  0.42857143 0.51485149 0.34375    0.44444444 0.3</span><br><span class="line"> 0.36       0.4137931  0.69607843 0.75757576 0.9223301  0.8490566</span><br><span class="line"> 0.69444444 0.75675676 0.41904762 0.63309353 0.64233577 0.68421053]</span><br><span class="line">upper bound: 0.4885991836244713</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.34%</span><br><span class="line">Overall Prec@1 51.21% Prec@5 79.17%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201014-rgbo-pao-pan"><a class="header-anchor" href="#20201014-rgbo-pao-pan">#</a>20201014 RGBo&amp;PAo&amp;PAn</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,</span></span><br><span class="line"><span class="comment"># o/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --coeff=2,1,1</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/3-old-new.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.323 sec/video, moving Prec@1 50.000 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.056 sec/video, moving Prec@1 53.869 Prec@5 82.440</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.050 sec/video, moving Prec@1 54.116 Prec@5 82.012</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.048 sec/video, moving Prec@1 53.074 Prec@5 80.738</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.048 sec/video, moving Prec@1 53.935 Prec@5 81.019</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.047 sec/video, moving Prec@1 53.713 Prec@5 80.507</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.047 sec/video, moving Prec@1 52.841 Prec@5 80.269</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.046 sec/video, moving Prec@1 52.881 Prec@5 80.408</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.046 sec/video, moving Prec@1 52.911 Prec@5 80.551</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.046 sec/video, moving Prec@1 52.521 Prec@5 80.456</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.046 sec/video, moving Prec@1 52.208 Prec@5 80.442</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.045 sec/video, moving Prec@1 51.951 Prec@5 80.373</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.045 sec/video, moving Prec@1 51.893 Prec@5 80.031</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.045 sec/video, moving Prec@1 51.652 Prec@5 79.909</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.045 sec/video, moving Prec@1 51.624 Prec@5 79.982</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.045 sec/video, moving Prec@1 51.433 Prec@5 79.713</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.045 sec/video, moving Prec@1 51.168 Prec@5 79.459</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.045 sec/video, moving Prec@1 51.430 Prec@5 79.619</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.045 sec/video, moving Prec@1 51.333 Prec@5 79.519</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.045 sec/video, moving Prec@1 51.345 Prec@5 79.544</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.045 sec/video, moving Prec@1 51.418 Prec@5 79.723</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.045 sec/video, moving Prec@1 51.232 Prec@5 79.706</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.045 sec/video, moving Prec@1 51.247 Prec@5 79.592</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.045 sec/video, moving Prec@1 51.166 Prec@5 79.515</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.045 sec/video, moving Prec@1 51.312 Prec@5 79.652</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.045 sec/video, moving Prec@1 51.322 Prec@5 79.703</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.045 sec/video, moving Prec@1 51.308 Prec@5 79.690</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.045 sec/video, moving Prec@1 51.178 Prec@5 79.644</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.045 sec/video, moving Prec@1 51.203 Prec@5 79.635</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.045 sec/video, moving Prec@1 51.216 Prec@5 79.615</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.045 sec/video, moving Prec@1 51.373 Prec@5 79.638</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.045 sec/video, moving Prec@1 51.318 Prec@5 79.670</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.045 sec/video, moving Prec@1 51.424 Prec@5 79.797</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.045 sec/video, moving Prec@1 51.522 Prec@5 79.784</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.045 sec/video, moving Prec@1 51.597 Prec@5 79.837</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.045 sec/video, moving Prec@1 51.658 Prec@5 79.850</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.044 sec/video, moving Prec@1 51.554 Prec@5 79.847</span><br><span class="line">[0.89552239 0.3375     0.24761905 0.67164179 0.34210526 0.50862069</span><br><span class="line"> 0.70895522 0.44117647 0.66019417 0.7184466  0.4        0.48611111</span><br><span class="line"> 0.35106383 0.35483871 0.76433121 0.52       0.23493976 0.2875</span><br><span class="line"> 0.45528455 0.36       0.336      0.62068966 0.48148148 0.49019608</span><br><span class="line"> 0.51612903 0.41666667 0.47826087 0.4        0.72727273 0.65079365</span><br><span class="line"> 0.59090909 0.57692308 0.87037037 0.25274725 0.2826087  0.16666667</span><br><span class="line"> 0.82758621 0.80392157 0.05263158 0.55555556 0.66942149 0.66</span><br><span class="line"> 0.73076923 0.67346939 0.76923077 0.63934426 0.45588235 0.42105263</span><br><span class="line"> 0.16853933 0.69172932 0.63207547 0.         0.36       0.45</span><br><span class="line"> 0.14285714 0.29166667 0.42424242 0.5        0.         0.75510204</span><br><span class="line"> 0.75757576 0.13888889 0.64       0.16363636 0.1        0.49074074</span><br><span class="line"> 0.18518519 0.21212121 0.46478873 0.30769231 0.5483871  0.28571429</span><br><span class="line"> 0.5        0.56       0.83333333 0.4516129  0.35294118 0.58823529</span><br><span class="line"> 0.27272727 0.80487805 0.08571429 0.14285714 0.36666667 0.15789474</span><br><span class="line"> 0.65714286 0.37931034 0.62162162 0.68253968 0.33333333 0.07142857</span><br><span class="line"> 0.54054054 0.75609756 0.53488372 0.57407407 0.6728972  0.29032258</span><br><span class="line"> 0.07407407 0.11904762 0.55555556 0.48529412 0.34693878 0.53703704</span><br><span class="line"> 0.203125   0.55102041 0.7195122  0.64761905 0.50561798 0.73913043</span><br><span class="line"> 0.47368421 0.37362637 0.60784314 0.05882353 0.64864865 0.33333333</span><br><span class="line"> 0.62264151 0.46666667 0.34545455 0.77659574 0.34146341 0.60416667</span><br><span class="line"> 0.80681818 0.58823529 0.38181818 0.5        0.33333333 0.46938776</span><br><span class="line"> 0.47169811 0.61111111 0.15862069 0.63461538 0.24       0.22222222</span><br><span class="line"> 0.23684211 0.33333333 0.70198675 0.4137931  0.         0.4</span><br><span class="line"> 0.16949153 0.55263158 0.66       0.44186047 0.38636364 0.45762712</span><br><span class="line"> 0.56       0.45774648 0.63207547 0.17910448 0.484375   0.808</span><br><span class="line"> 0.65454545 0.30645161 0.41666667 0.7962963  0.57142857 0.2745098</span><br><span class="line"> 0.26229508 0.34285714 0.5049505  0.34375    0.42592593 0.325</span><br><span class="line"> 0.32       0.4137931  0.69607843 0.77272727 0.9223301  0.86792453</span><br><span class="line"> 0.72222222 0.75675676 0.42857143 0.64028777 0.66423358 0.73684211]</span><br><span class="line">upper bound: 0.49272722679828856</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.36%</span><br><span class="line">Overall Prec@1 51.55% Prec@5 79.85%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201014-rgbo-pan-lpan"><a class="header-anchor" href="#20201014-rgbo-pan-lpan">#</a>20201014 RGBo&amp;PAn&amp;LPAn</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_LPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --coeff=2,1,1</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/3-lpa-pa.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.302 sec/video, moving Prec@1 43.750 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.055 sec/video, moving Prec@1 54.464 Prec@5 81.845</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.050 sec/video, moving Prec@1 54.878 Prec@5 82.317</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.049 sec/video, moving Prec@1 53.074 Prec@5 80.533</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.048 sec/video, moving Prec@1 53.704 Prec@5 81.250</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.048 sec/video, moving Prec@1 53.837 Prec@5 80.817</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.048 sec/video, moving Prec@1 52.738 Prec@5 80.475</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.047 sec/video, moving Prec@1 52.793 Prec@5 80.496</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.047 sec/video, moving Prec@1 52.484 Prec@5 80.668</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.047 sec/video, moving Prec@1 52.141 Prec@5 80.594</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.047 sec/video, moving Prec@1 51.835 Prec@5 80.597</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.047 sec/video, moving Prec@1 51.753 Prec@5 80.571</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.047 sec/video, moving Prec@1 51.738 Prec@5 80.083</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.047 sec/video, moving Prec@1 51.269 Prec@5 79.981</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.047 sec/video, moving Prec@1 51.179 Prec@5 80.027</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.047 sec/video, moving Prec@1 50.976 Prec@5 79.610</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.047 sec/video, moving Prec@1 50.662 Prec@5 79.400</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.047 sec/video, moving Prec@1 50.990 Prec@5 79.619</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.047 sec/video, moving Prec@1 50.952 Prec@5 79.467</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.047 sec/video, moving Prec@1 50.984 Prec@5 79.593</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.047 sec/video, moving Prec@1 51.044 Prec@5 79.660</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.047 sec/video, moving Prec@1 50.965 Prec@5 79.572</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.047 sec/video, moving Prec@1 50.950 Prec@5 79.521</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.047 sec/video, moving Prec@1 50.935 Prec@5 79.420</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.047 sec/video, moving Prec@1 51.117 Prec@5 79.561</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.046 sec/video, moving Prec@1 51.160 Prec@5 79.591</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.046 sec/video, moving Prec@1 51.188 Prec@5 79.607</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.046 sec/video, moving Prec@1 51.051 Prec@5 79.552</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.046 sec/video, moving Prec@1 51.081 Prec@5 79.557</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.046 sec/video, moving Prec@1 51.108 Prec@5 79.518</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.046 sec/video, moving Prec@1 51.258 Prec@5 79.545</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.046 sec/video, moving Prec@1 51.178 Prec@5 79.539</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.046 sec/video, moving Prec@1 51.297 Prec@5 79.631</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.046 sec/video, moving Prec@1 51.466 Prec@5 79.605</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.046 sec/video, moving Prec@1 51.523 Prec@5 79.653</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.046 sec/video, moving Prec@1 51.632 Prec@5 79.690</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.046 sec/video, moving Prec@1 51.562 Prec@5 79.665</span><br><span class="line">[0.88059701 0.3375     0.24761905 0.65671642 0.28947368 0.46551724</span><br><span class="line"> 0.68656716 0.5        0.66990291 0.70873786 0.38666667 0.52777778</span><br><span class="line"> 0.29787234 0.35483871 0.76433121 0.52       0.21084337 0.2875</span><br><span class="line"> 0.44715447 0.32       0.352      0.62068966 0.38888889 0.49019608</span><br><span class="line"> 0.51612903 0.41666667 0.47826087 0.56       0.78787879 0.68253968</span><br><span class="line"> 0.63636364 0.57692308 0.87037037 0.21978022 0.2826087  0.19444444</span><br><span class="line"> 0.81609195 0.80392157 0.07894737 0.66666667 0.67768595 0.66</span><br><span class="line"> 0.71538462 0.69387755 0.75       0.60655738 0.41911765 0.43157895</span><br><span class="line"> 0.19101124 0.71428571 0.63207547 0.         0.4        0.45</span><br><span class="line"> 0.14285714 0.25       0.48484848 0.5        0.08333333 0.7755102</span><br><span class="line"> 0.72727273 0.16666667 0.62       0.2        0.13333333 0.51851852</span><br><span class="line"> 0.16666667 0.22727273 0.47887324 0.34615385 0.5483871  0.32142857</span><br><span class="line"> 0.5        0.52       0.81666667 0.5483871  0.35294118 0.52941176</span><br><span class="line"> 0.40909091 0.80487805 0.11428571 0.14285714 0.36666667 0.21052632</span><br><span class="line"> 0.6        0.37931034 0.62162162 0.68253968 0.16666667 0.08928571</span><br><span class="line"> 0.59459459 0.80487805 0.53488372 0.57407407 0.71028037 0.29032258</span><br><span class="line"> 0.07407407 0.16666667 0.5497076  0.47058824 0.32653061 0.55555556</span><br><span class="line"> 0.1875     0.6122449  0.68292683 0.64761905 0.53932584 0.72463768</span><br><span class="line"> 0.47368421 0.35164835 0.58823529 0.05882353 0.62162162 0.38095238</span><br><span class="line"> 0.66981132 0.5        0.32727273 0.77659574 0.34146341 0.58333333</span><br><span class="line"> 0.82954545 0.56862745 0.39090909 0.5        0.33333333 0.46938776</span><br><span class="line"> 0.47169811 0.57407407 0.15172414 0.63461538 0.26       0.25925926</span><br><span class="line"> 0.26315789 0.33333333 0.68874172 0.39655172 0.14285714 0.31666667</span><br><span class="line"> 0.18644068 0.56578947 0.66       0.44186047 0.36363636 0.47457627</span><br><span class="line"> 0.58666667 0.45070423 0.61320755 0.14925373 0.46875    0.8</span><br><span class="line"> 0.66666667 0.24193548 0.38333333 0.7962963  0.5        0.29411765</span><br><span class="line"> 0.27868852 0.42857143 0.48514851 0.34375    0.44444444 0.35</span><br><span class="line"> 0.34       0.44827586 0.70588235 0.74242424 0.9223301  0.85849057</span><br><span class="line"> 0.71296296 0.75675676 0.44761905 0.65467626 0.65693431 0.71052632]</span><br><span class="line">upper bound: 0.49360881004950025</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.77%</span><br><span class="line">Overall Prec@1 51.56% Prec@5 79.66%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201014-rgbo-rpan-lpan"><a class="header-anchor" href="#20201014-rgbo-rpan-lpan">#</a>20201014 RGBo&amp;RPAn&amp;LPAn</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_LPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --coeff=2,1,1</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/3-lpa-rpa.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.289 sec/video, moving Prec@1 43.750 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.054 sec/video, moving Prec@1 55.357 Prec@5 83.333</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.050 sec/video, moving Prec@1 56.250 Prec@5 82.774</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.048 sec/video, moving Prec@1 54.098 Prec@5 80.840</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.047 sec/video, moving Prec@1 54.707 Prec@5 81.096</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.047 sec/video, moving Prec@1 54.517 Prec@5 80.693</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.047 sec/video, moving Prec@1 53.409 Prec@5 80.269</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.047 sec/video, moving Prec@1 53.369 Prec@5 80.363</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.047 sec/video, moving Prec@1 53.028 Prec@5 80.474</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.047 sec/video, moving Prec@1 52.624 Prec@5 80.421</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.047 sec/video, moving Prec@1 52.208 Prec@5 80.410</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.047 sec/video, moving Prec@1 52.291 Prec@5 80.373</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.047 sec/video, moving Prec@1 52.127 Prec@5 79.850</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.047 sec/video, moving Prec@1 51.580 Prec@5 79.765</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.047 sec/video, moving Prec@1 51.379 Prec@5 79.782</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.047 sec/video, moving Prec@1 51.204 Prec@5 79.402</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.047 sec/video, moving Prec@1 50.896 Prec@5 79.167</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.047 sec/video, moving Prec@1 51.045 Prec@5 79.417</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.047 sec/video, moving Prec@1 50.952 Prec@5 79.259</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.047 sec/video, moving Prec@1 51.050 Prec@5 79.446</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.047 sec/video, moving Prec@1 51.122 Prec@5 79.551</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.047 sec/video, moving Prec@1 51.024 Prec@5 79.543</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.047 sec/video, moving Prec@1 51.006 Prec@5 79.493</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.047 sec/video, moving Prec@1 51.003 Prec@5 79.501</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.047 sec/video, moving Prec@1 51.156 Prec@5 79.665</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.047 sec/video, moving Prec@1 51.135 Prec@5 79.678</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.047 sec/video, moving Prec@1 51.164 Prec@5 79.750</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.047 sec/video, moving Prec@1 50.970 Prec@5 79.748</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.046 sec/video, moving Prec@1 50.925 Prec@5 79.779</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.046 sec/video, moving Prec@1 50.957 Prec@5 79.755</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.047 sec/video, moving Prec@1 51.102 Prec@5 79.815</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.047 sec/video, moving Prec@1 51.057 Prec@5 79.821</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.046 sec/video, moving Prec@1 51.180 Prec@5 79.914</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.046 sec/video, moving Prec@1 51.276 Prec@5 79.898</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.046 sec/video, moving Prec@1 51.358 Prec@5 79.965</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.046 sec/video, moving Prec@1 51.462 Prec@5 79.993</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.046 sec/video, moving Prec@1 51.380 Prec@5 79.934</span><br><span class="line">[0.89552239 0.3375     0.25714286 0.62686567 0.31578947 0.44827586</span><br><span class="line"> 0.70149254 0.44117647 0.66019417 0.69902913 0.38666667 0.51388889</span><br><span class="line"> 0.30851064 0.41935484 0.74522293 0.5        0.21084337 0.2625</span><br><span class="line"> 0.44715447 0.4        0.328      0.60344828 0.35185185 0.43137255</span><br><span class="line"> 0.4516129  0.41666667 0.47826087 0.56       0.75757576 0.66666667</span><br><span class="line"> 0.72727273 0.57692308 0.83333333 0.21978022 0.30434783 0.19444444</span><br><span class="line"> 0.8045977  0.80392157 0.07894737 0.66666667 0.66942149 0.62</span><br><span class="line"> 0.7        0.67346939 0.75       0.60655738 0.44852941 0.38947368</span><br><span class="line"> 0.15730337 0.70676692 0.6509434  0.         0.36       0.45</span><br><span class="line"> 0.14285714 0.25       0.42424242 0.53125    0.         0.78571429</span><br><span class="line"> 0.75757576 0.25       0.64       0.22727273 0.13333333 0.50925926</span><br><span class="line"> 0.16666667 0.25757576 0.45070423 0.42307692 0.5483871  0.28571429</span><br><span class="line"> 0.47368421 0.52       0.76666667 0.5483871  0.35294118 0.47058824</span><br><span class="line"> 0.36363636 0.80487805 0.08571429 0.14285714 0.4        0.15789474</span><br><span class="line"> 0.54285714 0.34482759 0.60810811 0.66666667 0.22222222 0.08928571</span><br><span class="line"> 0.56756757 0.80487805 0.58139535 0.56481481 0.68224299 0.29032258</span><br><span class="line"> 0.07407407 0.11904762 0.56140351 0.44117647 0.32653061 0.55555556</span><br><span class="line"> 0.21875    0.63265306 0.64634146 0.62857143 0.5505618  0.72463768</span><br><span class="line"> 0.47368421 0.32967033 0.58823529 0.05882353 0.64864865 0.38095238</span><br><span class="line"> 0.66037736 0.4        0.38181818 0.78723404 0.36585366 0.5625</span><br><span class="line"> 0.80681818 0.60784314 0.39090909 0.5        0.30555556 0.46938776</span><br><span class="line"> 0.47169811 0.62962963 0.14482759 0.61538462 0.3        0.25925926</span><br><span class="line"> 0.26315789 0.26666667 0.68211921 0.44827586 0.07142857 0.31666667</span><br><span class="line"> 0.16949153 0.59210526 0.65       0.41860465 0.40909091 0.46610169</span><br><span class="line"> 0.6        0.43661972 0.61320755 0.11940299 0.5625     0.792</span><br><span class="line"> 0.67272727 0.25806452 0.36666667 0.81481481 0.57142857 0.19607843</span><br><span class="line"> 0.27868852 0.38571429 0.52475248 0.375      0.5        0.4</span><br><span class="line"> 0.32       0.44827586 0.71568627 0.75757576 0.9223301  0.87735849</span><br><span class="line"> 0.73148148 0.75675676 0.46666667 0.64028777 0.64233577 0.68421053]</span><br><span class="line">upper bound: 0.49090826225102707</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 47.50%</span><br><span class="line">Overall Prec@1 51.38% Prec@5 79.93%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201014-rgbo-lpan"><a class="header-anchor" href="#20201014-rgbo-lpan">#</a>20201014 RGBo&amp;LPAn</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_LPA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar </span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/2-lpa.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line">            </span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.237 sec/video, moving Prec@1 43.750 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.034 sec/video, moving Prec@1 51.786 Prec@5 83.036</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.029 sec/video, moving Prec@1 53.354 Prec@5 82.470</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.027 sec/video, moving Prec@1 51.742 Prec@5 79.918</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.026 sec/video, moving Prec@1 52.469 Prec@5 80.247</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.026 sec/video, moving Prec@1 52.413 Prec@5 79.950</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.025 sec/video, moving Prec@1 51.601 Prec@5 79.804</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.025 sec/video, moving Prec@1 51.817 Prec@5 79.876</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.025 sec/video, moving Prec@1 51.708 Prec@5 79.852</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.025 sec/video, moving Prec@1 51.450 Prec@5 79.869</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.025 sec/video, moving Prec@1 50.964 Prec@5 79.851</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.025 sec/video, moving Prec@1 50.962 Prec@5 79.808</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.025 sec/video, moving Prec@1 51.011 Prec@5 79.357</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.024 sec/video, moving Prec@1 50.694 Prec@5 79.119</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.024 sec/video, moving Prec@1 50.556 Prec@5 79.070</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.024 sec/video, moving Prec@1 50.374 Prec@5 78.675</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.024 sec/video, moving Prec@1 50.117 Prec@5 78.427</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.024 sec/video, moving Prec@1 50.385 Prec@5 78.666</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.024 sec/video, moving Prec@1 50.346 Prec@5 78.532</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.024 sec/video, moving Prec@1 50.476 Prec@5 78.724</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.024 sec/video, moving Prec@1 50.530 Prec@5 78.803</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.024 sec/video, moving Prec@1 50.386 Prec@5 78.711</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.024 sec/video, moving Prec@1 50.368 Prec@5 78.713</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.024 sec/video, moving Prec@1 50.325 Prec@5 78.633</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.024 sec/video, moving Prec@1 50.533 Prec@5 78.833</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.024 sec/video, moving Prec@1 50.487 Prec@5 78.855</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.024 sec/video, moving Prec@1 50.504 Prec@5 78.911</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.024 sec/video, moving Prec@1 50.335 Prec@5 78.847</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.024 sec/video, moving Prec@1 50.267 Prec@5 78.855</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.024 sec/video, moving Prec@1 50.258 Prec@5 78.840</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.024 sec/video, moving Prec@1 50.374 Prec@5 78.869</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.024 sec/video, moving Prec@1 50.312 Prec@5 78.845</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.024 sec/video, moving Prec@1 50.468 Prec@5 78.939</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.024 sec/video, moving Prec@1 50.605 Prec@5 78.896</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.024 sec/video, moving Prec@1 50.698 Prec@5 78.956</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.024 sec/video, moving Prec@1 50.811 Prec@5 79.003</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.024 sec/video, moving Prec@1 50.790 Prec@5 78.979</span><br><span class="line">[0.91044776 0.3875     0.25714286 0.62686567 0.31578947 0.4137931</span><br><span class="line"> 0.69402985 0.52941176 0.65048544 0.72815534 0.4        0.5</span><br><span class="line"> 0.28723404 0.41935484 0.75796178 0.46       0.19277108 0.275</span><br><span class="line"> 0.45528455 0.36       0.344      0.5862069  0.31481481 0.49019608</span><br><span class="line"> 0.48387097 0.41666667 0.47826087 0.52       0.75757576 0.68253968</span><br><span class="line"> 0.72727273 0.61538462 0.83333333 0.20879121 0.26086957 0.16666667</span><br><span class="line"> 0.81609195 0.80392157 0.05263158 0.66666667 0.66942149 0.64</span><br><span class="line"> 0.71538462 0.67346939 0.73076923 0.59016393 0.41176471 0.42105263</span><br><span class="line"> 0.15730337 0.69172932 0.63207547 0.         0.4        0.45</span><br><span class="line"> 0.14285714 0.20833333 0.36363636 0.46875    0.         0.81632653</span><br><span class="line"> 0.66666667 0.16666667 0.62       0.22727273 0.16666667 0.50925926</span><br><span class="line"> 0.16666667 0.21212121 0.45070423 0.46153846 0.5483871  0.35714286</span><br><span class="line"> 0.5        0.52       0.78333333 0.5483871  0.41176471 0.52941176</span><br><span class="line"> 0.36363636 0.82926829 0.11428571 0.11904762 0.36666667 0.15789474</span><br><span class="line"> 0.54285714 0.32758621 0.60810811 0.6984127  0.22222222 0.07142857</span><br><span class="line"> 0.54054054 0.70731707 0.55813953 0.5462963  0.68224299 0.24193548</span><br><span class="line"> 0.07407407 0.19047619 0.54385965 0.39705882 0.33673469 0.53703704</span><br><span class="line"> 0.203125   0.59183673 0.62195122 0.63809524 0.56179775 0.73913043</span><br><span class="line"> 0.43859649 0.32967033 0.56862745 0.05882353 0.58108108 0.42857143</span><br><span class="line"> 0.64150943 0.43333333 0.34545455 0.78723404 0.3902439  0.58333333</span><br><span class="line"> 0.81818182 0.58823529 0.39090909 0.5        0.33333333 0.44897959</span><br><span class="line"> 0.43396226 0.55555556 0.14482759 0.63461538 0.26       0.18518519</span><br><span class="line"> 0.28947368 0.3        0.66887417 0.39655172 0.07142857 0.21666667</span><br><span class="line"> 0.13559322 0.59210526 0.62       0.41860465 0.43181818 0.46610169</span><br><span class="line"> 0.6        0.42957746 0.61320755 0.11940299 0.484375   0.776</span><br><span class="line"> 0.67878788 0.22580645 0.36666667 0.83333333 0.57142857 0.2745098</span><br><span class="line"> 0.26229508 0.42857143 0.4950495  0.34375    0.44444444 0.325</span><br><span class="line"> 0.26       0.4137931  0.7254902  0.75757576 0.9223301  0.8490566</span><br><span class="line"> 0.72222222 0.72972973 0.48571429 0.65467626 0.65693431 0.69736842]</span><br><span class="line">upper bound: 0.4877900527936639</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.92%</span><br><span class="line">Overall Prec@1 50.79% Prec@5 78.98%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201019-pa-with-new-conv-rgb"><a class="header-anchor" href="#20201019-pa-with-new-conv-rgb">#</a>20201019 PA with new conv &amp; RGB</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Full.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.    </span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.246 sec/video, moving Prec@1 43.750 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.034 sec/video, moving Prec@1 54.167 Prec@5 83.036</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.029 sec/video, moving Prec@1 54.421 Prec@5 82.317</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.028 sec/video, moving Prec@1 52.459 Prec@5 80.328</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.027 sec/video, moving Prec@1 53.472 Prec@5 80.633</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.026 sec/video, moving Prec@1 53.218 Prec@5 80.074</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.026 sec/video, moving Prec@1 52.531 Prec@5 79.907</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.026 sec/video, moving Prec@1 52.482 Prec@5 79.699</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.025 sec/video, moving Prec@1 52.019 Prec@5 79.658</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.025 sec/video, moving Prec@1 51.623 Prec@5 79.489</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.025 sec/video, moving Prec@1 51.057 Prec@5 79.509</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.025 sec/video, moving Prec@1 50.990 Prec@5 79.525</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.025 sec/video, moving Prec@1 51.011 Prec@5 79.149</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.025 sec/video, moving Prec@1 50.766 Prec@5 79.143</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.025 sec/video, moving Prec@1 50.712 Prec@5 79.248</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.025 sec/video, moving Prec@1 50.478 Prec@5 78.987</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.025 sec/video, moving Prec@1 50.253 Prec@5 78.738</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.025 sec/video, moving Prec@1 50.293 Prec@5 78.867</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.025 sec/video, moving Prec@1 50.381 Prec@5 78.722</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.025 sec/video, moving Prec@1 50.525 Prec@5 78.822</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.025 sec/video, moving Prec@1 50.592 Prec@5 79.037</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.025 sec/video, moving Prec@1 50.460 Prec@5 78.934</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.025 sec/video, moving Prec@1 50.468 Prec@5 78.883</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.025 sec/video, moving Prec@1 50.461 Prec@5 78.823</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.024 sec/video, moving Prec@1 50.572 Prec@5 79.002</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.024 sec/video, moving Prec@1 50.474 Prec@5 79.029</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.024 sec/video, moving Prec@1 50.528 Prec@5 79.031</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.024 sec/video, moving Prec@1 50.393 Prec@5 78.986</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.024 sec/video, moving Prec@1 50.390 Prec@5 79.022</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.024 sec/video, moving Prec@1 50.333 Prec@5 78.926</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.024 sec/video, moving Prec@1 50.499 Prec@5 78.952</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.024 sec/video, moving Prec@1 50.543 Prec@5 78.975</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.024 sec/video, moving Prec@1 50.644 Prec@5 79.134</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.024 sec/video, moving Prec@1 50.766 Prec@5 79.113</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.024 sec/video, moving Prec@1 50.835 Prec@5 79.176</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.024 sec/video, moving Prec@1 50.945 Prec@5 79.182</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.024 sec/video, moving Prec@1 50.920 Prec@5 79.101</span><br><span class="line">[0.89552239 0.3375     0.26666667 0.62686567 0.34210526 0.45689655</span><br><span class="line"> 0.70895522 0.52941176 0.61165049 0.69902913 0.44       0.51388889</span><br><span class="line"> 0.29787234 0.38709677 0.74522293 0.46       0.18674699 0.275</span><br><span class="line"> 0.46341463 0.38666667 0.408      0.5        0.37037037 0.49019608</span><br><span class="line"> 0.4516129  0.5        0.39130435 0.36       0.6969697  0.6984127</span><br><span class="line"> 0.63636364 0.57692308 0.90740741 0.14285714 0.2173913  0.13888889</span><br><span class="line"> 0.7816092  0.78431373 0.15789474 0.59259259 0.7107438  0.66</span><br><span class="line"> 0.71538462 0.71428571 0.75       0.60655738 0.45588235 0.41052632</span><br><span class="line"> 0.24719101 0.68421053 0.67924528 0.         0.32       0.5</span><br><span class="line"> 0.19047619 0.25       0.42424242 0.53125    0.08333333 0.71428571</span><br><span class="line"> 0.63636364 0.22222222 0.64       0.16363636 0.13333333 0.48148148</span><br><span class="line"> 0.12962963 0.1969697  0.46478873 0.38461538 0.51612903 0.28571429</span><br><span class="line"> 0.47368421 0.56       0.76666667 0.48387097 0.47058824 0.35294118</span><br><span class="line"> 0.27272727 0.82926829 0.17142857 0.19047619 0.33333333 0.10526316</span><br><span class="line"> 0.51428571 0.36206897 0.59459459 0.63492063 0.22222222 0.16071429</span><br><span class="line"> 0.48648649 0.75609756 0.48837209 0.56481481 0.69158879 0.29032258</span><br><span class="line"> 0.07407407 0.07142857 0.53216374 0.51470588 0.34693878 0.60185185</span><br><span class="line"> 0.234375   0.6122449  0.52439024 0.68571429 0.52808989 0.68115942</span><br><span class="line"> 0.49122807 0.40659341 0.64705882 0.         0.67567568 0.42857143</span><br><span class="line"> 0.63207547 0.43333333 0.36363636 0.76595745 0.36585366 0.58333333</span><br><span class="line"> 0.79545455 0.74509804 0.38181818 0.475      0.36111111 0.57142857</span><br><span class="line"> 0.49056604 0.57407407 0.14482759 0.625      0.3        0.18518519</span><br><span class="line"> 0.28947368 0.26666667 0.67549669 0.4137931  0.14285714 0.41666667</span><br><span class="line"> 0.15254237 0.53947368 0.66       0.37209302 0.38636364 0.3559322</span><br><span class="line"> 0.58666667 0.42957746 0.67924528 0.17910448 0.484375   0.784</span><br><span class="line"> 0.64848485 0.27419355 0.38333333 0.75925926 0.52380952 0.19607843</span><br><span class="line"> 0.27868852 0.35714286 0.46534653 0.5        0.46296296 0.35</span><br><span class="line"> 0.32       0.4137931  0.65686275 0.72727273 0.91262136 0.86792453</span><br><span class="line"> 0.69444444 0.64864865 0.44761905 0.6618705  0.64963504 0.73684211]</span><br><span class="line">upper bound: 0.48456300049059403</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.96%</span><br><span class="line">Overall Prec@1 50.92% Prec@5 79.10%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201019-pa-with-new-conv-rgb-2"><a class="header-anchor" href="#20201019-pa-with-new-conv-rgb-2">#</a>20201019 PA with new conv &amp; RGB</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Full.sh</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.242 sec/video, moving Prec@1 43.750 Prec@5 87.500</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.034 sec/video, moving Prec@1 54.167 Prec@5 82.440</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.029 sec/video, moving Prec@1 53.963 Prec@5 82.317</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.027 sec/video, moving Prec@1 52.357 Prec@5 80.430</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.026 sec/video, moving Prec@1 53.164 Prec@5 80.710</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.026 sec/video, moving Prec@1 53.032 Prec@5 80.322</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.025 sec/video, moving Prec@1 52.428 Prec@5 80.165</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.025 sec/video, moving Prec@1 52.438 Prec@5 80.053</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.025 sec/video, moving Prec@1 52.135 Prec@5 79.852</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.025 sec/video, moving Prec@1 51.761 Prec@5 79.765</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.025 sec/video, moving Prec@1 51.182 Prec@5 79.789</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.025 sec/video, moving Prec@1 51.131 Prec@5 79.751</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.025 sec/video, moving Prec@1 51.193 Prec@5 79.357</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.024 sec/video, moving Prec@1 50.958 Prec@5 79.286</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.024 sec/video, moving Prec@1 50.845 Prec@5 79.404</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.024 sec/video, moving Prec@1 50.602 Prec@5 79.111</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.024 sec/video, moving Prec@1 50.389 Prec@5 78.894</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.024 sec/video, moving Prec@1 50.513 Prec@5 79.051</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.024 sec/video, moving Prec@1 50.623 Prec@5 78.895</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.024 sec/video, moving Prec@1 50.853 Prec@5 79.003</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.024 sec/video, moving Prec@1 50.982 Prec@5 79.193</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.024 sec/video, moving Prec@1 50.772 Prec@5 79.097</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.024 sec/video, moving Prec@1 50.779 Prec@5 79.025</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.024 sec/video, moving Prec@1 50.786 Prec@5 78.959</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.024 sec/video, moving Prec@1 50.910 Prec@5 79.158</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.024 sec/video, moving Prec@1 50.836 Prec@5 79.154</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.024 sec/video, moving Prec@1 50.852 Prec@5 79.163</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.024 sec/video, moving Prec@1 50.716 Prec@5 79.124</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.024 sec/video, moving Prec@1 50.657 Prec@5 79.133</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.024 sec/video, moving Prec@1 50.592 Prec@5 79.045</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.024 sec/video, moving Prec@1 50.759 Prec@5 79.077</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.024 sec/video, moving Prec@1 50.815 Prec@5 79.116</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.024 sec/video, moving Prec@1 50.907 Prec@5 79.280</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.024 sec/video, moving Prec@1 51.031 Prec@5 79.255</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.024 sec/video, moving Prec@1 51.101 Prec@5 79.314</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.024 sec/video, moving Prec@1 51.213 Prec@5 79.333</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.024 sec/video, moving Prec@1 51.180 Prec@5 79.283</span><br><span class="line">[0.91044776 0.3125     0.26666667 0.59701493 0.34210526 0.48275862</span><br><span class="line"> 0.73134328 0.5        0.63106796 0.70873786 0.44       0.48611111</span><br><span class="line"> 0.31914894 0.41935484 0.75159236 0.44       0.20481928 0.3125</span><br><span class="line"> 0.46341463 0.4        0.416      0.5        0.38888889 0.49019608</span><br><span class="line"> 0.4516129  0.41666667 0.39130435 0.36       0.6969697  0.68253968</span><br><span class="line"> 0.63636364 0.53846154 0.90740741 0.14285714 0.23913043 0.13888889</span><br><span class="line"> 0.8045977  0.80392157 0.13157895 0.59259259 0.7107438  0.64</span><br><span class="line"> 0.73076923 0.71428571 0.75       0.60655738 0.45588235 0.43157895</span><br><span class="line"> 0.26966292 0.70676692 0.6509434  0.         0.32       0.45</span><br><span class="line"> 0.19047619 0.25       0.45454545 0.53125    0.08333333 0.73469388</span><br><span class="line"> 0.6969697  0.22222222 0.64       0.18181818 0.13333333 0.5</span><br><span class="line"> 0.12962963 0.21212121 0.46478873 0.34615385 0.51612903 0.21428571</span><br><span class="line"> 0.47368421 0.56       0.83333333 0.4516129  0.29411765 0.41176471</span><br><span class="line"> 0.22727273 0.82926829 0.17142857 0.19047619 0.3        0.10526316</span><br><span class="line"> 0.54285714 0.34482759 0.59459459 0.63492063 0.16666667 0.16071429</span><br><span class="line"> 0.54054054 0.75609756 0.46511628 0.60185185 0.6635514  0.29032258</span><br><span class="line"> 0.07407407 0.07142857 0.52046784 0.51470588 0.32653061 0.58333333</span><br><span class="line"> 0.234375   0.59183673 0.56097561 0.6952381  0.57303371 0.68115942</span><br><span class="line"> 0.49122807 0.3956044  0.64705882 0.         0.67567568 0.38095238</span><br><span class="line"> 0.63207547 0.46666667 0.36363636 0.75531915 0.3902439  0.60416667</span><br><span class="line"> 0.78409091 0.76470588 0.39090909 0.475      0.36111111 0.53061224</span><br><span class="line"> 0.49056604 0.57407407 0.15172414 0.61538462 0.34       0.11111111</span><br><span class="line"> 0.28947368 0.26666667 0.66225166 0.43103448 0.14285714 0.4</span><br><span class="line"> 0.13559322 0.52631579 0.67       0.39534884 0.38636364 0.33050847</span><br><span class="line"> 0.57333333 0.42253521 0.68867925 0.17910448 0.53125    0.768</span><br><span class="line"> 0.64848485 0.29032258 0.38333333 0.77777778 0.51190476 0.19607843</span><br><span class="line"> 0.29508197 0.37142857 0.5049505  0.46875    0.44444444 0.325</span><br><span class="line"> 0.34       0.44827586 0.66666667 0.72727273 0.91262136 0.87735849</span><br><span class="line"> 0.72222222 0.64864865 0.43809524 0.64028777 0.65693431 0.73684211]</span><br><span class="line">upper bound: 0.4842930969956842</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.93%</span><br><span class="line">Overall Prec@1 51.18% Prec@5 79.28%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201021-rgbo"><a class="header-anchor" href="#20201021-rgbo">#</a>20201021 RGBo</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">$ python test_models.py something --VAP --batch_size=8 -j=4 --test_crops=1 --test_segments=8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 3.718 sec/video, moving Prec@1 25.000 Prec@5 62.500</span><br><span class="line">video 160 <span class="keyword">done</span>, total 160/11522, average 0.239 sec/video, moving Prec@1 46.429 Prec@5 76.786</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.193 sec/video, moving Prec@1 47.866 Prec@5 76.220</span><br><span class="line">video 480 <span class="keyword">done</span>, total 480/11522, average 0.190 sec/video, moving Prec@1 47.951 Prec@5 78.074</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.176 sec/video, moving Prec@1 46.759 Prec@5 76.698</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.168 sec/video, moving Prec@1 45.421 Prec@5 75.248</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.159 sec/video, moving Prec@1 45.971 Prec@5 74.690</span><br><span class="line">video 1120 <span class="keyword">done</span>, total 1120/11522, average 0.152 sec/video, moving Prec@1 46.099 Prec@5 74.734</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.144 sec/video, moving Prec@1 46.429 Prec@5 75.233</span><br><span class="line">video 1440 <span class="keyword">done</span>, total 1440/11522, average 0.140 sec/video, moving Prec@1 46.685 Prec@5 74.862</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.139 sec/video, moving Prec@1 46.766 Prec@5 74.876</span><br><span class="line">video 1760 <span class="keyword">done</span>, total 1760/11522, average 0.139 sec/video, moving Prec@1 45.871 Prec@5 74.321</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.135 sec/video, moving Prec@1 45.747 Prec@5 74.274</span><br><span class="line">video 2080 <span class="keyword">done</span>, total 2080/11522, average 0.133 sec/video, moving Prec@1 45.546 Prec@5 74.234</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.132 sec/video, moving Prec@1 45.418 Prec@5 74.199</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.131 sec/video, moving Prec@1 45.307 Prec@5 74.211</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.130 sec/video, moving Prec@1 45.132 Prec@5 74.182</span><br><span class="line">video 2720 <span class="keyword">done</span>, total 2720/11522, average 0.128 sec/video, moving Prec@1 45.345 Prec@5 74.450</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.126 sec/video, moving Prec@1 44.910 Prec@5 74.100</span><br><span class="line">video 3040 <span class="keyword">done</span>, total 3040/11522, average 0.124 sec/video, moving Prec@1 44.980 Prec@5 74.180</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.124 sec/video, moving Prec@1 44.514 Prec@5 74.034</span><br><span class="line">video 3360 <span class="keyword">done</span>, total 3360/11522, average 0.122 sec/video, moving Prec@1 44.626 Prec@5 74.228</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.121 sec/video, moving Prec@1 44.586 Prec@5 74.093</span><br><span class="line">video 3680 <span class="keyword">done</span>, total 3680/11522, average 0.119 sec/video, moving Prec@1 44.306 Prec@5 73.861</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.119 sec/video, moving Prec@1 44.491 Prec@5 73.831</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.118 sec/video, moving Prec@1 44.212 Prec@5 73.802</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.117 sec/video, moving Prec@1 44.218 Prec@5 73.800</span><br><span class="line">video 4320 <span class="keyword">done</span>, total 4320/11522, average 0.117 sec/video, moving Prec@1 44.362 Prec@5 73.706</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.116 sec/video, moving Prec@1 44.385 Prec@5 73.708</span><br><span class="line">video 4640 <span class="keyword">done</span>, total 4640/11522, average 0.115 sec/video, moving Prec@1 44.535 Prec@5 73.580</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.114 sec/video, moving Prec@1 44.468 Prec@5 73.440</span><br><span class="line">video 4960 <span class="keyword">done</span>, total 4960/11522, average 0.113 sec/video, moving Prec@1 44.304 Prec@5 73.289</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.113 sec/video, moving Prec@1 44.423 Prec@5 73.362</span><br><span class="line">video 5280 <span class="keyword">done</span>, total 5280/11522, average 0.112 sec/video, moving Prec@1 44.402 Prec@5 73.298</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.112 sec/video, moving Prec@1 44.475 Prec@5 73.477</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.112 sec/video, moving Prec@1 44.454 Prec@5 73.520</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.113 sec/video, moving Prec@1 44.435 Prec@5 73.370</span><br><span class="line">video 5920 <span class="keyword">done</span>, total 5920/11522, average 0.116 sec/video, moving Prec@1 44.518 Prec@5 73.482</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.117 sec/video, moving Prec@1 44.514 Prec@5 73.489</span><br><span class="line">video 6240 <span class="keyword">done</span>, total 6240/11522, average 0.117 sec/video, moving Prec@1 44.542 Prec@5 73.464</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.117 sec/video, moving Prec@1 44.538 Prec@5 73.533</span><br><span class="line">video 6560 <span class="keyword">done</span>, total 6560/11522, average 0.116 sec/video, moving Prec@1 44.488 Prec@5 73.538</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.116 sec/video, moving Prec@1 44.471 Prec@5 73.484</span><br><span class="line">video 6880 <span class="keyword">done</span>, total 6880/11522, average 0.115 sec/video, moving Prec@1 44.440 Prec@5 73.432</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.115 sec/video, moving Prec@1 44.509 Prec@5 73.411</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.114 sec/video, moving Prec@1 44.478 Prec@5 73.432</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.114 sec/video, moving Prec@1 44.435 Prec@5 73.358</span><br><span class="line">video 7520 <span class="keyword">done</span>, total 7520/11522, average 0.114 sec/video, moving Prec@1 44.474 Prec@5 73.433</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.113 sec/video, moving Prec@1 44.511 Prec@5 73.452</span><br><span class="line">video 7840 <span class="keyword">done</span>, total 7840/11522, average 0.113 sec/video, moving Prec@1 44.521 Prec@5 73.471</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.112 sec/video, moving Prec@1 44.456 Prec@5 73.489</span><br><span class="line">video 8160 <span class="keyword">done</span>, total 8160/11522, average 0.111 sec/video, moving Prec@1 44.478 Prec@5 73.470</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.111 sec/video, moving Prec@1 44.549 Prec@5 73.487</span><br><span class="line">video 8480 <span class="keyword">done</span>, total 8480/11522, average 0.111 sec/video, moving Prec@1 44.475 Prec@5 73.445</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.110 sec/video, moving Prec@1 44.438 Prec@5 73.462</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.110 sec/video, moving Prec@1 44.550 Prec@5 73.490</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.109 sec/video, moving Prec@1 44.625 Prec@5 73.550</span><br><span class="line">video 9120 <span class="keyword">done</span>, total 9120/11522, average 0.109 sec/video, moving Prec@1 44.665 Prec@5 73.510</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.109 sec/video, moving Prec@1 44.660 Prec@5 73.482</span><br><span class="line">video 9440 <span class="keyword">done</span>, total 9440/11522, average 0.108 sec/video, moving Prec@1 44.634 Prec@5 73.455</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.108 sec/video, moving Prec@1 44.775 Prec@5 73.564</span><br><span class="line">video 9760 <span class="keyword">done</span>, total 9760/11522, average 0.107 sec/video, moving Prec@1 44.799 Prec@5 73.618</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.106 sec/video, moving Prec@1 44.722 Prec@5 73.580</span><br><span class="line">video 10080 <span class="keyword">done</span>, total 10080/11522, average 0.106 sec/video, moving Prec@1 44.826 Prec@5 73.672</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.105 sec/video, moving Prec@1 44.838 Prec@5 73.800</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.105 sec/video, moving Prec@1 44.860 Prec@5 73.741</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.104 sec/video, moving Prec@1 44.909 Prec@5 73.723</span><br><span class="line">video 10720 <span class="keyword">done</span>, total 10720/11522, average 0.104 sec/video, moving Prec@1 44.976 Prec@5 73.723</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.104 sec/video, moving Prec@1 44.994 Prec@5 73.778</span><br><span class="line">video 11040 <span class="keyword">done</span>, total 11040/11522, average 0.104 sec/video, moving Prec@1 44.904 Prec@5 73.724</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.103 sec/video, moving Prec@1 44.995 Prec@5 73.742</span><br><span class="line">video 11360 <span class="keyword">done</span>, total 11360/11522, average 0.103 sec/video, moving Prec@1 44.986 Prec@5 73.716</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.102 sec/video, moving Prec@1 44.975 Prec@5 73.685</span><br><span class="line">[0.7761194  0.275      0.19047619 0.62686567 0.23684211 0.40517241</span><br><span class="line"> 0.62686567 0.44117647 0.45631068 0.6407767  0.37333333 0.38888889</span><br><span class="line"> 0.24468085 0.32258065 0.7133758  0.36       0.19879518 0.225</span><br><span class="line"> 0.39837398 0.28       0.32       0.48275862 0.40740741 0.43137255</span><br><span class="line"> 0.32258065 0.33333333 0.39130435 0.28       0.60606061 0.53968254</span><br><span class="line"> 0.63636364 0.57692308 0.72222222 0.10989011 0.23913043 0.16666667</span><br><span class="line"> 0.7816092  0.78431373 0.05263158 0.48148148 0.62809917 0.54</span><br><span class="line"> 0.66923077 0.63265306 0.59615385 0.52459016 0.41176471 0.34736842</span><br><span class="line"> 0.15730337 0.66165414 0.56603774 0.         0.36       0.4</span><br><span class="line"> 0.19047619 0.29166667 0.39393939 0.40625    0.         0.73469388</span><br><span class="line"> 0.60606061 0.13888889 0.6        0.11818182 0.1        0.38888889</span><br><span class="line"> 0.11111111 0.15151515 0.43661972 0.30769231 0.48387097 0.25</span><br><span class="line"> 0.5        0.44       0.7        0.41935484 0.29411765 0.29411765</span><br><span class="line"> 0.13636364 0.63414634 0.11428571 0.14285714 0.33333333 0.10526316</span><br><span class="line"> 0.62857143 0.29310345 0.52702703 0.55555556 0.16666667 0.10714286</span><br><span class="line"> 0.48648649 0.68292683 0.41860465 0.46296296 0.57009346 0.27419355</span><br><span class="line"> 0.03703704 0.11904762 0.41520468 0.41176471 0.24489796 0.51851852</span><br><span class="line"> 0.21875    0.46938776 0.42682927 0.6        0.5505618  0.75362319</span><br><span class="line"> 0.47368421 0.2967033  0.54901961 0.11764706 0.60810811 0.38095238</span><br><span class="line"> 0.66037736 0.36666667 0.21818182 0.62765957 0.2195122  0.58333333</span><br><span class="line"> 0.79545455 0.54901961 0.35454545 0.425      0.36111111 0.44897959</span><br><span class="line"> 0.49056604 0.53703704 0.15862069 0.53846154 0.22       0.18518519</span><br><span class="line"> 0.13157895 0.23333333 0.64238411 0.29310345 0.07142857 0.45</span><br><span class="line"> 0.08474576 0.51315789 0.57       0.34883721 0.25       0.38135593</span><br><span class="line"> 0.56       0.33098592 0.6509434  0.17910448 0.484375   0.752</span><br><span class="line"> 0.56363636 0.12903226 0.28333333 0.7037037  0.5        0.15686275</span><br><span class="line"> 0.18032787 0.21428571 0.43564356 0.4375     0.24074074 0.25</span><br><span class="line"> 0.26       0.31034483 0.60784314 0.66666667 0.83495146 0.75471698</span><br><span class="line"> 0.68518519 0.45945946 0.44761905 0.61870504 0.59124088 0.71052632]</span><br><span class="line">upper bound: 0.42524204990350917</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 40.94%</span><br><span class="line">Overall Prec@1 44.97% Prec@5 73.69%</span><br><span class="line">E:\Program Files\Anaconda3\envs\tsm\lib\site-packages\numpy\core\_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201021-rgbo-pan-liten"><a class="header-anchor" href="#20201021-rgbo-pan-liten">#</a>20201021 RGBo &amp; PAn &amp; Liten</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_Lite_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --full_res --twice_sample</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/En.sh</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     Lite</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 1.035 sec/video, moving Prec@1 50.000 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.156 sec/video, moving Prec@1 54.464 Prec@5 86.012</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.151 sec/video, moving Prec@1 56.707 Prec@5 84.299</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.150 sec/video, moving Prec@1 55.635 Prec@5 82.377</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.148 sec/video, moving Prec@1 56.481 Prec@5 83.102</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.148 sec/video, moving Prec@1 56.621 Prec@5 83.106</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.146 sec/video, moving Prec@1 55.682 Prec@5 82.800</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.146 sec/video, moving Prec@1 55.629 Prec@5 82.624</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.145 sec/video, moving Prec@1 55.668 Prec@5 82.026</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.145 sec/video, moving Prec@1 55.249 Prec@5 82.113</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.145 sec/video, moving Prec@1 54.851 Prec@5 82.121</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.145 sec/video, moving Prec@1 54.666 Prec@5 82.070</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.144 sec/video, moving Prec@1 54.876 Prec@5 81.743</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.144 sec/video, moving Prec@1 54.741 Prec@5 81.561</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.144 sec/video, moving Prec@1 54.560 Prec@5 81.539</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.143 sec/video, moving Prec@1 54.360 Prec@5 81.333</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.143 sec/video, moving Prec@1 53.972 Prec@5 81.055</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.143 sec/video, moving Prec@1 54.271 Prec@5 81.305</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.143 sec/video, moving Prec@1 54.276 Prec@5 81.198</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.143 sec/video, moving Prec@1 54.068 Prec@5 81.283</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.143 sec/video, moving Prec@1 54.193 Prec@5 81.390</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.143 sec/video, moving Prec@1 54.097 Prec@5 81.309</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.143 sec/video, moving Prec@1 53.997 Prec@5 81.278</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.143 sec/video, moving Prec@1 53.932 Prec@5 81.223</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.143 sec/video, moving Prec@1 53.963 Prec@5 81.302</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.143 sec/video, moving Prec@1 53.905 Prec@5 81.275</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.143 sec/video, moving Prec@1 53.839 Prec@5 81.310</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.143 sec/video, moving Prec@1 53.662 Prec@5 81.181</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.143 sec/video, moving Prec@1 53.632 Prec@5 81.205</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.143 sec/video, moving Prec@1 53.647 Prec@5 81.185</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.143 sec/video, moving Prec@1 53.744 Prec@5 81.198</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.143 sec/video, moving Prec@1 53.744 Prec@5 81.180</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.143 sec/video, moving Prec@1 53.890 Prec@5 81.318</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.142 sec/video, moving Prec@1 53.943 Prec@5 81.288</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.142 sec/video, moving Prec@1 53.992 Prec@5 81.360</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.142 sec/video, moving Prec@1 54.012 Prec@5 81.419</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.142 sec/video, moving Prec@1 54.044 Prec@5 81.427</span><br><span class="line">[0.89552239 0.3875     0.36190476 0.65671642 0.44736842 0.50862069</span><br><span class="line"> 0.69402985 0.47058824 0.74757282 0.76699029 0.44       0.63888889</span><br><span class="line"> 0.41489362 0.38709677 0.81528662 0.56       0.21084337 0.3125</span><br><span class="line"> 0.5203252  0.4        0.416      0.67241379 0.40740741 0.43137255</span><br><span class="line"> 0.51612903 0.41666667 0.47826087 0.44       0.72727273 0.6984127</span><br><span class="line"> 0.68181818 0.61538462 0.85185185 0.23076923 0.32608696 0.16666667</span><br><span class="line"> 0.82758621 0.82352941 0.13157895 0.7037037  0.70247934 0.68</span><br><span class="line"> 0.71538462 0.67346939 0.73076923 0.63934426 0.46323529 0.47368421</span><br><span class="line"> 0.30337079 0.65413534 0.6509434  0.         0.32       0.55</span><br><span class="line"> 0.14285714 0.29166667 0.48484848 0.59375    0.         0.75510204</span><br><span class="line"> 0.75757576 0.25       0.64       0.15454545 0.16666667 0.58333333</span><br><span class="line"> 0.11111111 0.21212121 0.45070423 0.38461538 0.5483871  0.28571429</span><br><span class="line"> 0.5        0.6        0.85       0.58064516 0.23529412 0.41176471</span><br><span class="line"> 0.36363636 0.80487805 0.14285714 0.0952381  0.4        0.10526316</span><br><span class="line"> 0.62857143 0.39655172 0.64864865 0.80952381 0.22222222 0.10714286</span><br><span class="line"> 0.56756757 0.7804878  0.60465116 0.65740741 0.75700935 0.30645161</span><br><span class="line"> 0.07407407 0.19047619 0.57894737 0.57352941 0.37755102 0.58333333</span><br><span class="line"> 0.25       0.69387755 0.69512195 0.72380952 0.59550562 0.72463768</span><br><span class="line"> 0.38596491 0.3956044  0.60784314 0.11764706 0.67567568 0.47619048</span><br><span class="line"> 0.66037736 0.53333333 0.29090909 0.74468085 0.36585366 0.64583333</span><br><span class="line"> 0.81818182 0.60784314 0.43636364 0.475      0.36111111 0.55102041</span><br><span class="line"> 0.43396226 0.59259259 0.13793103 0.65384615 0.3        0.25925926</span><br><span class="line"> 0.34210526 0.23333333 0.70860927 0.5        0.14285714 0.31666667</span><br><span class="line"> 0.18644068 0.60526316 0.69       0.34883721 0.54545455 0.47457627</span><br><span class="line"> 0.50666667 0.48591549 0.61320755 0.20895522 0.53125    0.76</span><br><span class="line"> 0.67878788 0.24193548 0.43333333 0.90740741 0.60714286 0.2745098</span><br><span class="line"> 0.26229508 0.41428571 0.48514851 0.34375    0.48148148 0.425</span><br><span class="line"> 0.34       0.48275862 0.73529412 0.81818182 0.9223301  0.9245283</span><br><span class="line"> 0.72222222 0.72972973 0.44761905 0.6618705  0.73722628 0.69736842]</span><br><span class="line">upper bound: 0.5131311156873893</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 49.83%</span><br><span class="line">Overall Prec@1 54.04% Prec@5 81.43%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="20201021-pa-with-conv-rgbo-liten"><a class="header-anchor" href="#20201021-pa-with-conv-rgbo-liten">#</a>20201021 PA with conv &amp; RGBo &amp; Liten</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 --weights=</span></span><br><span class="line"><span class="comment"># pretrained/PAN_Lite_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,</span></span><br><span class="line"><span class="comment"># pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,</span></span><br><span class="line"><span class="comment"># temp/PAN_APA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar --full_res --twice_sample</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/En.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     Lite</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 1.103 sec/video, moving Prec@1 50.000 Prec@5 81.250</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.156 sec/video, moving Prec@1 55.655 Prec@5 84.226</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.153 sec/video, moving Prec@1 56.707 Prec@5 83.232</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.152 sec/video, moving Prec@1 54.713 Prec@5 82.070</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.152 sec/video, moving Prec@1 55.247 Prec@5 82.793</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.150 sec/video, moving Prec@1 55.384 Prec@5 82.859</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.151 sec/video, moving Prec@1 54.700 Prec@5 82.593</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.150 sec/video, moving Prec@1 55.363 Prec@5 82.314</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.151 sec/video, moving Prec@1 55.124 Prec@5 81.910</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.150 sec/video, moving Prec@1 54.696 Prec@5 81.975</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.149 sec/video, moving Prec@1 54.353 Prec@5 81.996</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.150 sec/video, moving Prec@1 54.157 Prec@5 81.957</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.149 sec/video, moving Prec@1 54.253 Prec@5 81.613</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.149 sec/video, moving Prec@1 54.191 Prec@5 81.513</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.148 sec/video, moving Prec@1 54.070 Prec@5 81.606</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.148 sec/video, moving Prec@1 53.862 Prec@5 81.499</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.148 sec/video, moving Prec@1 53.563 Prec@5 81.211</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.148 sec/video, moving Prec@1 53.757 Prec@5 81.378</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.148 sec/video, moving Prec@1 53.826 Prec@5 81.302</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.148 sec/video, moving Prec@1 53.724 Prec@5 81.365</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.147 sec/video, moving Prec@1 53.819 Prec@5 81.468</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.147 sec/video, moving Prec@1 53.593 Prec@5 81.517</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.147 sec/video, moving Prec@1 53.543 Prec@5 81.519</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.147 sec/video, moving Prec@1 53.484 Prec@5 81.386</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.147 sec/video, moving Prec@1 53.495 Prec@5 81.510</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.147 sec/video, moving Prec@1 53.406 Prec@5 81.562</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.147 sec/video, moving Prec@1 53.491 Prec@5 81.670</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.147 sec/video, moving Prec@1 53.373 Prec@5 81.573</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.147 sec/video, moving Prec@1 53.376 Prec@5 81.584</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.146 sec/video, moving Prec@1 53.292 Prec@5 81.616</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.146 sec/video, moving Prec@1 53.380 Prec@5 81.614</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.146 sec/video, moving Prec@1 53.422 Prec@5 81.542</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.146 sec/video, moving Prec@1 53.539 Prec@5 81.699</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.146 sec/video, moving Prec@1 53.669 Prec@5 81.647</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.146 sec/video, moving Prec@1 53.744 Prec@5 81.681</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.146 sec/video, moving Prec@1 53.736 Prec@5 81.705</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.145 sec/video, moving Prec@1 53.810 Prec@5 81.739</span><br><span class="line">[0.92537313 0.4        0.31428571 0.68656716 0.39473684 0.52586207</span><br><span class="line"> 0.70895522 0.52941176 0.73786408 0.75728155 0.49333333 0.56944444</span><br><span class="line"> 0.45744681 0.35483871 0.79617834 0.46       0.22289157 0.3375</span><br><span class="line"> 0.4796748  0.4        0.432      0.55172414 0.40740741 0.43137255</span><br><span class="line"> 0.51612903 0.5        0.52173913 0.24       0.72727273 0.71428571</span><br><span class="line"> 0.68181818 0.57692308 0.88888889 0.18681319 0.26086957 0.13888889</span><br><span class="line"> 0.8045977  0.83333333 0.13157895 0.66666667 0.73553719 0.66</span><br><span class="line"> 0.71538462 0.75510204 0.71153846 0.67213115 0.54411765 0.50526316</span><br><span class="line"> 0.30337079 0.71428571 0.64150943 0.         0.36       0.55</span><br><span class="line"> 0.23809524 0.33333333 0.36363636 0.5        0.08333333 0.75510204</span><br><span class="line"> 0.72727273 0.27777778 0.62       0.11818182 0.16666667 0.55555556</span><br><span class="line"> 0.11111111 0.1969697  0.47887324 0.42307692 0.5483871  0.25</span><br><span class="line"> 0.5        0.64       0.85       0.61290323 0.29411765 0.41176471</span><br><span class="line"> 0.36363636 0.85365854 0.14285714 0.11904762 0.36666667 0.15789474</span><br><span class="line"> 0.6        0.39655172 0.68918919 0.73015873 0.11111111 0.10714286</span><br><span class="line"> 0.51351351 0.75609756 0.55813953 0.66666667 0.75700935 0.22580645</span><br><span class="line"> 0.07407407 0.16666667 0.57309942 0.55882353 0.35714286 0.58333333</span><br><span class="line"> 0.28125    0.59183673 0.67073171 0.73333333 0.61797753 0.73913043</span><br><span class="line"> 0.45614035 0.40659341 0.62745098 0.         0.64864865 0.42857143</span><br><span class="line"> 0.64150943 0.5        0.29090909 0.77659574 0.41463415 0.625</span><br><span class="line"> 0.79545455 0.68627451 0.41818182 0.5        0.25       0.59183673</span><br><span class="line"> 0.43396226 0.64814815 0.14482759 0.68269231 0.32       0.22222222</span><br><span class="line"> 0.36842105 0.23333333 0.68874172 0.51724138 0.21428571 0.3</span><br><span class="line"> 0.18644068 0.56578947 0.68       0.39534884 0.54545455 0.44915254</span><br><span class="line"> 0.54666667 0.50704225 0.66037736 0.19402985 0.5        0.76</span><br><span class="line"> 0.69090909 0.24193548 0.35       0.88888889 0.60714286 0.21568627</span><br><span class="line"> 0.26229508 0.37142857 0.43564356 0.4375     0.44444444 0.35</span><br><span class="line"> 0.36       0.51724138 0.67647059 0.81818182 0.91262136 0.9245283</span><br><span class="line"> 0.74074074 0.7027027  0.46666667 0.65467626 0.71532847 0.71052632]</span><br><span class="line">upper bound: 0.5095849479276692</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 49.46%</span><br><span class="line">Overall Prec@1 53.81% Prec@5 81.74%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>

      </div>
      
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/blog/tags/%E8%A1%8C%E4%B8%BA%E8%AF%86%E5%88%AB/">行为识别</a>
            <a href="/blog/tags/action-recognition/">action recognition</a>
            <a href="/blog/tags/pan/">pan</a>
            <a href="/blog/tags/pan-lite/">pan lite</a>
            <a href="/blog/tags/pan-full/">pan full</a>
            <a href="/blog/tags/pan-en/">pan en</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/blog/2020/10/12/resnet-50-temporal-shift/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">ResNet50 temporal shift</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/blog/2020/10/08/latex-spine/">
        <span class="next-text nav-default">Latex书脊制作</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"><div id="gitalk-container"></div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:onns@onns.xyz" class="iconfont icon-email" title="email"></a>
        <a href="https://facebook.com/onnsxyz" target="_blank" rel="noopener" class="iconfont icon-facebook" title="facebook"></a>
        <a href="https://github.com/onns" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        <a href="https://www.douban.com/people/onnsxyz/" target="_blank" rel="noopener" class="iconfont icon-douban" title="douban"></a>
        <a href="https://instagram.com/onnsxyz" target="_blank" rel="noopener" class="iconfont icon-instagram" title="instagram"></a>
        <a href="/blog/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2022<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Onns</span>
    <span class="licence"> <a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener">闽ICP备15022938号-2</a> </span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"/>


<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>

<script>
  var gitalk = new Gitalk({
    clientID: '7ebadcd52312c2b34f81',
    clientSecret: '052f4cb2121b344c1acd459e277d1bcdc53d1bce',
    repo: 'onns.xyz',
    owner: 'onns',
    admin: ['onns'],
    id: md5(location.pathname),
    
      language: window.navigator.language || window.navigator.userLanguage,
    
    distractionFreeMode: 'true'
  });
  gitalk.render('gitalk-container');
</script><script type="text/javascript" src="/blog/js/src/even.js?v=2.11.0"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
