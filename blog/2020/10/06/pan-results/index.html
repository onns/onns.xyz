<!DOCTYPE html>
<html lang="en">
  <head><script type="text/javascript" src="/blog/lib/jquery/jquery.min.js"></script>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><script type="text/javascript" src="/blog/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/blog/lib/fancybox/jquery.fancybox.pack.js"></script>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="PAN验证结果-20201006"/><meta name="keywords" content="行为识别, action recognition, pan, pan lite, pan full, pan en, Onns Blog" /><link rel="alternate" href="/blog/default" title="Onns Blog"><link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=2.11.0" />
<link rel="canonical" href="https://onns.xyz/2020/10/06/pan-results/"/>

<link rel="stylesheet" type="text/css" href="/blog/lib/fancybox/jquery.fancybox.css" /><script type="text/javascript">
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]  
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <script type="text/javascript" async src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=2.11.0" />

<script id="baidu_analytics">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?094f3776af9873aa4bf55d2700e2b1cc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127068305-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127068305-1');
</script><script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script src="//cdn.jsdelivr.net/npm/leancloud-storage@4.6.1/dist/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "jIRe5LRqbWDB2dxmu7FH8c1S-gzGzoHsz",
      appKey: "pM10kNYtPMwvqYUCWfbUGBPJ",
      serverURLs: "https://lean.onns.xyz"
    });
  </script><script>
  window.config = {"leancloud":{"app_id":"jIRe5LRqbWDB2dxmu7FH8c1S-gzGzoHsz","app_key":"pM10kNYtPMwvqYUCWfbUGBPJ","server_urls":"https://lean.onns.xyz"},"toc":true,"fancybox":true,"pjax":true,"latex":true};
</script>

<script id="search">
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        success: function( xmlResponse ) {
            // get the contents from search data
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();

            var $input = document.getElementById(search_id);
			if (!$input) return;
            var $resultContent = document.getElementById(content_id);
            
            $input.addEventListener('input', function () {
                var str = '<section class=\"posts\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length <= 0) {
                    return;
                }
                // perform local searching
                datas.forEach(function (data) {
                    var isMatch = true;
                    var content_index = [];
                    if (!data.title || data.title.trim() === '') {
                        data.title = "Untitled";
                    }
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty contents
                    if (data_content !== '') {
                        keywords.forEach(function (keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);

                            if (index_title < 0 && index_content < 0) {
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                                // content_index.push({index_content:index_content, keyword_len:keyword_len});
                            }
                        });
                    } else {
                        isMatch = false;
                    }
                    // show search results
                    if (isMatch) {
                        str += `
<article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="`+ data_url +`">`+ data_title +`</a>
        </h1>
    </header>
    <div class="post-content">
        `;
                        var content = data.content.trim().replace(/<[^>]+>/g, "");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;

                            if (start < 0) {
                                start = 0;
                            }

                            if (start == 0) {
                                end = 100;
                            }

                            if (end > content.length) {
                                end = content.length;
                            }

                            var match_content = content.substring(start, end);

                            // highlight all keywords
                            keywords.forEach(function (keyword) {
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<code>" + keyword + "</code>");
                            });

                            str += "<p>" + match_content + "...</p>"
                        }
                        str += "</article>";
                    }
                });
                str += "</section>";
                $resultContent.innerHTML = str;
            });
        }
    });
}    
var search_path = "search.xml";
if (search_path.length == 0) {
search_path = "search.xml";
}
var path = "/blog/" + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script>
    <title>PAN验证结果-20201006 - Onns Blog</title>
  <meta name="generator" content="Hexo 4.2.1"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="mobile-header-logo">
    <a href="/blog/." class="logo">Onns Blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/blog/home">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/blog/archives">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/blog/tags">
        <li class="mobile-menu-item">Tags
          </li>
      </a><a href="/blog/categories">
        <li class="mobile-menu-item">Categories
          </li>
      </a><a href="/blog/about">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/blog/." class="logo">Onns Blog</a>
</div>

<nav class="site-navbar"><div class="search-button">
        <a href="#" class="search-toggle" data-selector=".site-navbar"></a>
    </div>
    <div class="search-box">
        <input type="text" id="local-search-input" class="text search-input" placeholder="Type here to search..." />
    </div><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/blog/home">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/archives">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/tags">
            Tags
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/categories">
            Categories
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/blog/about">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            <div id="local-search-result"></div><article class="post">
    <header class="post-header">
      <h1 class="post-title">PAN验证结果-20201006
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2020-10-06 14:09:32
        </span><span class="post-category">
            <a href="/blog/categories/study/">study</a>
            </span>
        <span class="post-visits"
             data-url="/blog/2020/10/06/pan-results/"
             data-title="PAN验证结果-20201006">
          Visits 0
        </span>
        </div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-full"><span class="toc-text">PAN Full</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-full-2"><span class="toc-text">PAN Full</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-en"><span class="toc-text">PAN En</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-pa"><span class="toc-text">PAN PA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pan-rgb"><span class="toc-text">PAN RGB</span></a></li></ol>
    </div>
  </div><div class="post-content"><p>测试结果：</p>
<a id="more"></a>
<h2 id="pan-full"><a class="header-anchor" href="#pan-full">#</a>PAN Full</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=20 -j=4 --test_crops=1 --test_segments=8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Full.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.229 sec/video, moving Prec@1 50.000 Prec@5 85.000</span><br><span class="line">video 400 <span class="keyword">done</span>, total 400/11522, average 0.032 sec/video, moving Prec@1 52.143 Prec@5 83.333</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.028 sec/video, moving Prec@1 51.341 Prec@5 80.732</span><br><span class="line">video 1200 <span class="keyword">done</span>, total 1200/11522, average 0.026 sec/video, moving Prec@1 51.557 Prec@5 80.738</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.025 sec/video, moving Prec@1 51.728 Prec@5 80.432</span><br><span class="line">video 2000 <span class="keyword">done</span>, total 2000/11522, average 0.025 sec/video, moving Prec@1 50.792 Prec@5 79.950</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.024 sec/video, moving Prec@1 50.744 Prec@5 79.628</span><br><span class="line">video 2800 <span class="keyword">done</span>, total 2800/11522, average 0.024 sec/video, moving Prec@1 50.887 Prec@5 79.716</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.024 sec/video, moving Prec@1 50.559 Prec@5 79.720</span><br><span class="line">video 3600 <span class="keyword">done</span>, total 3600/11522, average 0.024 sec/video, moving Prec@1 50.497 Prec@5 79.586</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.023 sec/video, moving Prec@1 50.274 Prec@5 79.254</span><br><span class="line">video 4400 <span class="keyword">done</span>, total 4400/11522, average 0.023 sec/video, moving Prec@1 50.204 Prec@5 79.072</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.023 sec/video, moving Prec@1 50.083 Prec@5 78.963</span><br><span class="line">video 5200 <span class="keyword">done</span>, total 5200/11522, average 0.023 sec/video, moving Prec@1 50.057 Prec@5 78.812</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.023 sec/video, moving Prec@1 50.356 Prec@5 78.968</span><br><span class="line">video 6000 <span class="keyword">done</span>, total 6000/11522, average 0.023 sec/video, moving Prec@1 50.233 Prec@5 78.887</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.023 sec/video, moving Prec@1 50.327 Prec@5 79.065</span><br><span class="line">video 6800 <span class="keyword">done</span>, total 6800/11522, average 0.023 sec/video, moving Prec@1 50.249 Prec@5 78.974</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.023 sec/video, moving Prec@1 50.208 Prec@5 78.934</span><br><span class="line">video 7600 <span class="keyword">done</span>, total 7600/11522, average 0.023 sec/video, moving Prec@1 50.367 Prec@5 78.950</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.023 sec/video, moving Prec@1 50.274 Prec@5 79.077</span><br><span class="line">video 8400 <span class="keyword">done</span>, total 8400/11522, average 0.023 sec/video, moving Prec@1 50.226 Prec@5 79.062</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.023 sec/video, moving Prec@1 50.227 Prec@5 79.138</span><br><span class="line">video 9200 <span class="keyword">done</span>, total 9200/11522, average 0.023 sec/video, moving Prec@1 50.195 Prec@5 79.143</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.023 sec/video, moving Prec@1 50.364 Prec@5 79.179</span><br><span class="line">video 10000 <span class="keyword">done</span>, total 10000/11522, average 0.023 sec/video, moving Prec@1 50.379 Prec@5 79.232</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.023 sec/video, moving Prec@1 50.480 Prec@5 79.290</span><br><span class="line">video 10800 <span class="keyword">done</span>, total 10800/11522, average 0.023 sec/video, moving Prec@1 50.582 Prec@5 79.307</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.023 sec/video, moving Prec@1 50.606 Prec@5 79.269</span><br><span class="line">[0.89552239 0.3125     0.26666667 0.65671642 0.36842105 0.48275862</span><br><span class="line"> 0.70895522 0.38235294 0.62135922 0.70873786 0.44       0.40277778</span><br><span class="line"> 0.30851064 0.35483871 0.77070064 0.4        0.24096386 0.2625</span><br><span class="line"> 0.45528455 0.34666667 0.352      0.60344828 0.46296296 0.45098039</span><br><span class="line"> 0.51612903 0.41666667 0.43478261 0.4        0.6969697  0.61904762</span><br><span class="line"> 0.59090909 0.53846154 0.87037037 0.25274725 0.23913043 0.13888889</span><br><span class="line"> 0.7816092  0.79411765 0.07894737 0.59259259 0.68595041 0.64</span><br><span class="line"> 0.67692308 0.67346939 0.75       0.57377049 0.47794118 0.36842105</span><br><span class="line"> 0.15730337 0.68421053 0.61320755 0.         0.36       0.45</span><br><span class="line"> 0.19047619 0.25       0.45454545 0.5        0.         0.74489796</span><br><span class="line"> 0.75757576 0.13888889 0.64       0.1        0.1        0.46296296</span><br><span class="line"> 0.18518519 0.21212121 0.43661972 0.34615385 0.5483871  0.21428571</span><br><span class="line"> 0.55263158 0.48       0.83333333 0.41935484 0.35294118 0.58823529</span><br><span class="line"> 0.27272727 0.82926829 0.11428571 0.21428571 0.33333333 0.15789474</span><br><span class="line"> 0.6        0.39655172 0.60810811 0.6984127  0.27777778 0.07142857</span><br><span class="line"> 0.59459459 0.75609756 0.58139535 0.55555556 0.62616822 0.22580645</span><br><span class="line"> 0.03703704 0.11904762 0.57894737 0.45588235 0.32653061 0.51851852</span><br><span class="line"> 0.203125   0.53061224 0.68292683 0.63809524 0.52808989 0.73913043</span><br><span class="line"> 0.49122807 0.32967033 0.58823529 0.         0.66216216 0.28571429</span><br><span class="line"> 0.60377358 0.43333333 0.27272727 0.73404255 0.29268293 0.54166667</span><br><span class="line"> 0.80681818 0.60784314 0.35454545 0.5        0.33333333 0.44897959</span><br><span class="line"> 0.47169811 0.57407407 0.14482759 0.63461538 0.22       0.22222222</span><br><span class="line"> 0.23684211 0.36666667 0.68874172 0.44827586 0.         0.31666667</span><br><span class="line"> 0.13559322 0.56578947 0.66       0.39534884 0.45454545 0.43220339</span><br><span class="line"> 0.6        0.47183099 0.63207547 0.17910448 0.546875   0.8</span><br><span class="line"> 0.66666667 0.29032258 0.38333333 0.7962963  0.55952381 0.11764706</span><br><span class="line"> 0.29508197 0.3        0.47524752 0.34375    0.42592593 0.325</span><br><span class="line"> 0.3        0.37931034 0.69607843 0.77272727 0.9223301  0.87735849</span><br><span class="line"> 0.74074074 0.75675676 0.45714286 0.62589928 0.69343066 0.69736842]</span><br><span class="line">upper bound: 0.483756929950145</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.26%</span><br><span class="line">Overall Prec@1 50.53% Prec@5 79.23%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray   </span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-full-2"><a class="header-anchor" href="#pan-full-2">#</a>PAN Full</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something --VAP --batch_size=20 -j=4 --test_crops=3 --test_segments=8,8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar </span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/Full.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.469 sec/video, moving Prec@1 55.000 Prec@5 85.000</span><br><span class="line">video 400 <span class="keyword">done</span>, total 400/11522, average 0.083 sec/video, moving Prec@1 54.524 Prec@5 83.810</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.074 sec/video, moving Prec@1 52.317 Prec@5 80.366</span><br><span class="line">video 1200 <span class="keyword">done</span>, total 1200/11522, average 0.071 sec/video, moving Prec@1 52.377 Prec@5 80.902</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.069 sec/video, moving Prec@1 52.469 Prec@5 80.494</span><br><span class="line">video 2000 <span class="keyword">done</span>, total 2000/11522, average 0.069 sec/video, moving Prec@1 51.634 Prec@5 80.198</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.068 sec/video, moving Prec@1 51.488 Prec@5 80.248</span><br><span class="line">video 2800 <span class="keyword">done</span>, total 2800/11522, average 0.068 sec/video, moving Prec@1 51.596 Prec@5 80.319</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.067 sec/video, moving Prec@1 51.273 Prec@5 80.217</span><br><span class="line">video 3600 <span class="keyword">done</span>, total 3600/11522, average 0.067 sec/video, moving Prec@1 51.077 Prec@5 80.193</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.067 sec/video, moving Prec@1 50.821 Prec@5 79.801</span><br><span class="line">video 4400 <span class="keyword">done</span>, total 4400/11522, average 0.067 sec/video, moving Prec@1 50.814 Prec@5 79.570</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.067 sec/video, moving Prec@1 50.705 Prec@5 79.378</span><br><span class="line">video 5200 <span class="keyword">done</span>, total 5200/11522, average 0.067 sec/video, moving Prec@1 50.632 Prec@5 79.253</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.067 sec/video, moving Prec@1 50.925 Prec@5 79.253</span><br><span class="line">video 6000 <span class="keyword">done</span>, total 6000/11522, average 0.066 sec/video, moving Prec@1 50.831 Prec@5 79.236</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.066 sec/video, moving Prec@1 50.857 Prec@5 79.377</span><br><span class="line">video 6800 <span class="keyword">done</span>, total 6800/11522, average 0.066 sec/video, moving Prec@1 50.850 Prec@5 79.355</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.066 sec/video, moving Prec@1 50.748 Prec@5 79.224</span><br><span class="line">video 7600 <span class="keyword">done</span>, total 7600/11522, average 0.066 sec/video, moving Prec@1 50.853 Prec@5 79.265</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.066 sec/video, moving Prec@1 50.736 Prec@5 79.389</span><br><span class="line">video 8400 <span class="keyword">done</span>, total 8400/11522, average 0.066 sec/video, moving Prec@1 50.760 Prec@5 79.394</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.066 sec/video, moving Prec@1 50.873 Prec@5 79.433</span><br><span class="line">video 9200 <span class="keyword">done</span>, total 9200/11522, average 0.066 sec/video, moving Prec@1 50.824 Prec@5 79.425</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.066 sec/video, moving Prec@1 50.977 Prec@5 79.407</span><br><span class="line">video 10000 <span class="keyword">done</span>, total 10000/11522, average 0.066 sec/video, moving Prec@1 50.948 Prec@5 79.451</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.066 sec/video, moving Prec@1 51.046 Prec@5 79.472</span><br><span class="line">video 10800 <span class="keyword">done</span>, total 10800/11522, average 0.066 sec/video, moving Prec@1 51.063 Prec@5 79.547</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.066 sec/video, moving Prec@1 51.168 Prec@5 79.590</span><br><span class="line">[0.92537313 0.375      0.26666667 0.62686567 0.39473684 0.45689655</span><br><span class="line"> 0.67910448 0.44117647 0.59223301 0.70873786 0.48       0.40277778</span><br><span class="line"> 0.29787234 0.35483871 0.75159236 0.44       0.24698795 0.275</span><br><span class="line"> 0.47154472 0.37333333 0.352      0.56896552 0.57407407 0.45098039</span><br><span class="line"> 0.51612903 0.5        0.43478261 0.44       0.66666667 0.68253968</span><br><span class="line"> 0.63636364 0.53846154 0.87037037 0.18681319 0.26086957 0.13888889</span><br><span class="line"> 0.77011494 0.80392157 0.05263158 0.55555556 0.71900826 0.64</span><br><span class="line"> 0.71538462 0.69387755 0.76923077 0.60655738 0.5        0.36842105</span><br><span class="line"> 0.20224719 0.69924812 0.61320755 0.         0.4        0.45</span><br><span class="line"> 0.19047619 0.20833333 0.48484848 0.5        0.         0.81632653</span><br><span class="line"> 0.78787879 0.16666667 0.64       0.06363636 0.1        0.40740741</span><br><span class="line"> 0.16666667 0.21212121 0.46478873 0.30769231 0.5483871  0.25</span><br><span class="line"> 0.55263158 0.48       0.83333333 0.4516129  0.29411765 0.58823529</span><br><span class="line"> 0.22727273 0.80487805 0.17142857 0.26190476 0.36666667 0.15789474</span><br><span class="line"> 0.6        0.4137931  0.63513514 0.73015873 0.16666667 0.05357143</span><br><span class="line"> 0.59459459 0.73170732 0.46511628 0.55555556 0.6728972  0.29032258</span><br><span class="line"> 0.03703704 0.0952381  0.56725146 0.48529412 0.44897959 0.5462963</span><br><span class="line"> 0.25       0.53061224 0.67073171 0.67619048 0.51685393 0.72463768</span><br><span class="line"> 0.40350877 0.31868132 0.60784314 0.         0.66216216 0.28571429</span><br><span class="line"> 0.62264151 0.4        0.36363636 0.74468085 0.26829268 0.5625</span><br><span class="line"> 0.73863636 0.58823529 0.35454545 0.475      0.30555556 0.46938776</span><br><span class="line"> 0.39622642 0.62962963 0.13793103 0.64423077 0.22       0.18518519</span><br><span class="line"> 0.21052632 0.33333333 0.70198675 0.44827586 0.         0.31666667</span><br><span class="line"> 0.13559322 0.56578947 0.66       0.44186047 0.45454545 0.44915254</span><br><span class="line"> 0.65333333 0.47887324 0.59433962 0.19402985 0.578125   0.816</span><br><span class="line"> 0.64848485 0.29032258 0.38333333 0.81481481 0.51190476 0.17647059</span><br><span class="line"> 0.29508197 0.31428571 0.46534653 0.375      0.46296296 0.3</span><br><span class="line"> 0.34       0.31034483 0.69607843 0.8030303  0.9223301  0.88679245</span><br><span class="line"> 0.71296296 0.7027027  0.44761905 0.66906475 0.71532847 0.72368421]</span><br><span class="line">upper bound: 0.48772172111390605</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 46.72%</span><br><span class="line">Overall Prec@1 51.10% Prec@5 79.56%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray   </span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-en"><a class="header-anchor" href="#pan-en">#</a>PAN En</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python test_models.py something \</span></span><br><span class="line"><span class="comment"># --VAP --batch_size=16 -j=4 --test_crops=1 --test_segments=8,8,8 \</span></span><br><span class="line"><span class="comment"># --weights=pretrained/PAN_Lite_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar,pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar,pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar \</span></span><br><span class="line"><span class="comment"># --full_res --twice_sample</span></span><br><span class="line">$ bash scripts/<span class="built_in">test</span>/sthv1/En.sh </span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     Lite</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Converting the ImageNet model to a PAN_Lite init model</span><br><span class="line">=&gt; Done. PAN_lite model ready...</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">=&gt; Using twice sample <span class="keyword">for</span> the dataset...</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 0.991 sec/video, moving Prec@1 50.000 Prec@5 75.000</span><br><span class="line">video 320 <span class="keyword">done</span>, total 320/11522, average 0.151 sec/video, moving Prec@1 55.655 Prec@5 85.714</span><br><span class="line">video 640 <span class="keyword">done</span>, total 640/11522, average 0.148 sec/video, moving Prec@1 55.488 Prec@5 83.689</span><br><span class="line">video 960 <span class="keyword">done</span>, total 960/11522, average 0.146 sec/video, moving Prec@1 54.303 Prec@5 82.377</span><br><span class="line">video 1280 <span class="keyword">done</span>, total 1280/11522, average 0.143 sec/video, moving Prec@1 55.710 Prec@5 83.025</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.142 sec/video, moving Prec@1 55.941 Prec@5 82.735</span><br><span class="line">video 1920 <span class="keyword">done</span>, total 1920/11522, average 0.141 sec/video, moving Prec@1 55.269 Prec@5 82.386</span><br><span class="line">video 2240 <span class="keyword">done</span>, total 2240/11522, average 0.141 sec/video, moving Prec@1 55.186 Prec@5 82.225</span><br><span class="line">video 2560 <span class="keyword">done</span>, total 2560/11522, average 0.142 sec/video, moving Prec@1 54.891 Prec@5 81.793</span><br><span class="line">video 2880 <span class="keyword">done</span>, total 2880/11522, average 0.141 sec/video, moving Prec@1 54.454 Prec@5 81.872</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.141 sec/video, moving Prec@1 53.887 Prec@5 81.965</span><br><span class="line">video 3520 <span class="keyword">done</span>, total 3520/11522, average 0.141 sec/video, moving Prec@1 53.790 Prec@5 81.900</span><br><span class="line">video 3840 <span class="keyword">done</span>, total 3840/11522, average 0.141 sec/video, moving Prec@1 53.994 Prec@5 81.613</span><br><span class="line">video 4160 <span class="keyword">done</span>, total 4160/11522, average 0.141 sec/video, moving Prec@1 53.855 Prec@5 81.418</span><br><span class="line">video 4480 <span class="keyword">done</span>, total 4480/11522, average 0.140 sec/video, moving Prec@1 53.625 Prec@5 81.406</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.140 sec/video, moving Prec@1 53.488 Prec@5 81.146</span><br><span class="line">video 5120 <span class="keyword">done</span>, total 5120/11522, average 0.140 sec/video, moving Prec@1 53.154 Prec@5 80.880</span><br><span class="line">video 5440 <span class="keyword">done</span>, total 5440/11522, average 0.140 sec/video, moving Prec@1 53.372 Prec@5 81.067</span><br><span class="line">video 5760 <span class="keyword">done</span>, total 5760/11522, average 0.140 sec/video, moving Prec@1 53.307 Prec@5 80.956</span><br><span class="line">video 6080 <span class="keyword">done</span>, total 6080/11522, average 0.140 sec/video, moving Prec@1 53.264 Prec@5 81.053</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.140 sec/video, moving Prec@1 53.304 Prec@5 81.188</span><br><span class="line">video 6720 <span class="keyword">done</span>, total 6720/11522, average 0.140 sec/video, moving Prec@1 53.192 Prec@5 81.205</span><br><span class="line">video 7040 <span class="keyword">done</span>, total 7040/11522, average 0.140 sec/video, moving Prec@1 53.104 Prec@5 81.151</span><br><span class="line">video 7360 <span class="keyword">done</span>, total 7360/11522, average 0.140 sec/video, moving Prec@1 53.037 Prec@5 81.047</span><br><span class="line">video 7680 <span class="keyword">done</span>, total 7680/11522, average 0.140 sec/video, moving Prec@1 53.015 Prec@5 81.120</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.140 sec/video, moving Prec@1 53.031 Prec@5 81.125</span><br><span class="line">video 8320 <span class="keyword">done</span>, total 8320/11522, average 0.140 sec/video, moving Prec@1 53.071 Prec@5 81.214</span><br><span class="line">video 8640 <span class="keyword">done</span>, total 8640/11522, average 0.140 sec/video, moving Prec@1 52.830 Prec@5 81.134</span><br><span class="line">video 8960 <span class="keyword">done</span>, total 8960/11522, average 0.140 sec/video, moving Prec@1 52.852 Prec@5 81.116</span><br><span class="line">video 9280 <span class="keyword">done</span>, total 9280/11522, average 0.140 sec/video, moving Prec@1 52.829 Prec@5 81.142</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.140 sec/video, moving Prec@1 52.943 Prec@5 81.136</span><br><span class="line">video 9920 <span class="keyword">done</span>, total 9920/11522, average 0.140 sec/video, moving Prec@1 52.909 Prec@5 81.119</span><br><span class="line">video 10240 <span class="keyword">done</span>, total 10240/11522, average 0.140 sec/video, moving Prec@1 53.013 Prec@5 81.260</span><br><span class="line">video 10560 <span class="keyword">done</span>, total 10560/11522, average 0.140 sec/video, moving Prec@1 53.064 Prec@5 81.203</span><br><span class="line">video 10880 <span class="keyword">done</span>, total 10880/11522, average 0.140 sec/video, moving Prec@1 53.111 Prec@5 81.232</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.140 sec/video, moving Prec@1 53.174 Prec@5 81.232</span><br><span class="line">video 11520 <span class="keyword">done</span>, total 11520/11522, average 0.139 sec/video, moving Prec@1 53.203 Prec@5 81.236</span><br><span class="line">[0.91044776 0.4125     0.31428571 0.65671642 0.5        0.50862069</span><br><span class="line"> 0.69402985 0.47058824 0.72815534 0.75728155 0.50666667 0.54166667</span><br><span class="line"> 0.41489362 0.41935484 0.80254777 0.48       0.24096386 0.325</span><br><span class="line"> 0.4796748  0.38666667 0.408      0.63793103 0.5        0.43137255</span><br><span class="line"> 0.48387097 0.41666667 0.56521739 0.32       0.72727273 0.73015873</span><br><span class="line"> 0.63636364 0.53846154 0.85185185 0.25274725 0.26086957 0.22222222</span><br><span class="line"> 0.7816092  0.85294118 0.07894737 0.62962963 0.71900826 0.64</span><br><span class="line"> 0.70769231 0.71428571 0.71153846 0.67213115 0.47058824 0.41052632</span><br><span class="line"> 0.28089888 0.70676692 0.60377358 0.         0.36       0.55</span><br><span class="line"> 0.23809524 0.16666667 0.51515152 0.4375     0.         0.7755102</span><br><span class="line"> 0.81818182 0.25       0.6        0.1        0.16666667 0.5462963</span><br><span class="line"> 0.09259259 0.21212121 0.46478873 0.42307692 0.51612903 0.25</span><br><span class="line"> 0.52631579 0.52       0.83333333 0.58064516 0.23529412 0.58823529</span><br><span class="line"> 0.36363636 0.82926829 0.11428571 0.14285714 0.4        0.15789474</span><br><span class="line"> 0.57142857 0.4137931  0.63513514 0.79365079 0.16666667 0.08928571</span><br><span class="line"> 0.51351351 0.70731707 0.53488372 0.62037037 0.73831776 0.27419355</span><br><span class="line"> 0.03703704 0.19047619 0.59064327 0.5        0.3877551  0.58333333</span><br><span class="line"> 0.25       0.46938776 0.70731707 0.7047619  0.56179775 0.71014493</span><br><span class="line"> 0.49122807 0.36263736 0.64705882 0.         0.64864865 0.38095238</span><br><span class="line"> 0.66981132 0.46666667 0.32727273 0.75531915 0.34146341 0.625</span><br><span class="line"> 0.81818182 0.60784314 0.39090909 0.45       0.27777778 0.48979592</span><br><span class="line"> 0.47169811 0.62962963 0.16551724 0.70192308 0.3        0.22222222</span><br><span class="line"> 0.34210526 0.26666667 0.70198675 0.48275862 0.14285714 0.2</span><br><span class="line"> 0.13559322 0.64473684 0.67       0.27906977 0.54545455 0.48305085</span><br><span class="line"> 0.54666667 0.5        0.62264151 0.20895522 0.515625   0.744</span><br><span class="line"> 0.69090909 0.25806452 0.36666667 0.87037037 0.5952381  0.21568627</span><br><span class="line"> 0.24590164 0.37142857 0.5049505  0.34375    0.48148148 0.35</span><br><span class="line"> 0.34       0.34482759 0.70588235 0.81818182 0.9223301  0.93396226</span><br><span class="line"> 0.74074074 0.72972973 0.44761905 0.64028777 0.71532847 0.72368421]</span><br><span class="line">upper bound: 0.5058494457198016</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 48.66%</span><br><span class="line">Overall Prec@1 53.20% Prec@5 81.24%</span><br><span class="line">/home/hs/anaconda3/envs/dzl/lib/python3.7/site-packages/numpy/core/_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray</span><br><span class="line">  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-pa"><a class="header-anchor" href="#pan-pa">#</a>PAN PA</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">$ python test_models.py something --VAP --batch_size=10 -j=4 --test_crops=1 --test_segments=8 --weights=pretrained/PAN_PA_something_resnet50_shift8_blockres_avg_segment8_e80.pth.tar</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     PA</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 13.141 sec/video, moving Prec@1 50.000 Prec@5 80.000</span><br><span class="line">video 200 <span class="keyword">done</span>, total 200/11522, average 0.950 sec/video, moving Prec@1 48.095 Prec@5 82.857</span><br><span class="line">video 400 <span class="keyword">done</span>, total 400/11522, average 0.675 sec/video, moving Prec@1 47.805 Prec@5 80.244</span><br><span class="line">video 600 <span class="keyword">done</span>, total 600/11522, average 0.586 sec/video, moving Prec@1 49.836 Prec@5 80.164</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.537 sec/video, moving Prec@1 47.037 Prec@5 78.148</span><br><span class="line">video 1000 <span class="keyword">done</span>, total 1000/11522, average 0.480 sec/video, moving Prec@1 46.139 Prec@5 77.624</span><br><span class="line">video 1200 <span class="keyword">done</span>, total 1200/11522, average 0.449 sec/video, moving Prec@1 47.273 Prec@5 77.686</span><br><span class="line">video 1400 <span class="keyword">done</span>, total 1400/11522, average 0.440 sec/video, moving Prec@1 47.163 Prec@5 77.021</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.420 sec/video, moving Prec@1 46.957 Prec@5 76.522</span><br><span class="line">video 1800 <span class="keyword">done</span>, total 1800/11522, average 0.406 sec/video, moving Prec@1 46.188 Prec@5 76.133</span><br><span class="line">video 2000 <span class="keyword">done</span>, total 2000/11522, average 0.387 sec/video, moving Prec@1 46.070 Prec@5 76.070</span><br><span class="line">video 2200 <span class="keyword">done</span>, total 2200/11522, average 0.368 sec/video, moving Prec@1 46.018 Prec@5 75.928</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.358 sec/video, moving Prec@1 46.307 Prec@5 75.187</span><br><span class="line">video 2600 <span class="keyword">done</span>, total 2600/11522, average 0.350 sec/video, moving Prec@1 46.398 Prec@5 75.364</span><br><span class="line">video 2800 <span class="keyword">done</span>, total 2800/11522, average 0.336 sec/video, moving Prec@1 46.619 Prec@5 75.480</span><br><span class="line">video 3000 <span class="keyword">done</span>, total 3000/11522, average 0.330 sec/video, moving Prec@1 46.611 Prec@5 75.714</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.325 sec/video, moving Prec@1 46.386 Prec@5 75.607</span><br><span class="line">video 3400 <span class="keyword">done</span>, total 3400/11522, average 0.318 sec/video, moving Prec@1 46.305 Prec@5 75.630</span><br><span class="line">video 3600 <span class="keyword">done</span>, total 3600/11522, average 0.311 sec/video, moving Prec@1 46.260 Prec@5 75.208</span><br><span class="line">video 3800 <span class="keyword">done</span>, total 3800/11522, average 0.304 sec/video, moving Prec@1 46.194 Prec@5 75.144</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.297 sec/video, moving Prec@1 46.010 Prec@5 74.988</span><br><span class="line">video 4200 <span class="keyword">done</span>, total 4200/11522, average 0.293 sec/video, moving Prec@1 45.914 Prec@5 74.893</span><br><span class="line">video 4400 <span class="keyword">done</span>, total 4400/11522, average 0.288 sec/video, moving Prec@1 45.782 Prec@5 74.807</span><br><span class="line">video 4600 <span class="keyword">done</span>, total 4600/11522, average 0.290 sec/video, moving Prec@1 45.792 Prec@5 74.555</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.289 sec/video, moving Prec@1 45.530 Prec@5 74.470</span><br><span class="line">video 5000 <span class="keyword">done</span>, total 5000/11522, average 0.285 sec/video, moving Prec@1 45.389 Prec@5 74.311</span><br><span class="line">video 5200 <span class="keyword">done</span>, total 5200/11522, average 0.283 sec/video, moving Prec@1 45.528 Prec@5 74.299</span><br><span class="line">video 5400 <span class="keyword">done</span>, total 5400/11522, average 0.282 sec/video, moving Prec@1 45.564 Prec@5 74.251</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.279 sec/video, moving Prec@1 45.704 Prec@5 74.314</span><br><span class="line">video 5800 <span class="keyword">done</span>, total 5800/11522, average 0.276 sec/video, moving Prec@1 45.611 Prec@5 74.148</span><br><span class="line">video 6000 <span class="keyword">done</span>, total 6000/11522, average 0.273 sec/video, moving Prec@1 45.674 Prec@5 74.260</span><br><span class="line">video 6200 <span class="keyword">done</span>, total 6200/11522, average 0.270 sec/video, moving Prec@1 45.749 Prec@5 74.235</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.266 sec/video, moving Prec@1 45.803 Prec@5 74.368</span><br><span class="line">video 6600 <span class="keyword">done</span>, total 6600/11522, average 0.264 sec/video, moving Prec@1 45.719 Prec@5 74.433</span><br><span class="line">video 6800 <span class="keyword">done</span>, total 6800/11522, average 0.261 sec/video, moving Prec@1 45.551 Prec@5 74.347</span><br><span class="line">video 7000 <span class="keyword">done</span>, total 7000/11522, average 0.258 sec/video, moving Prec@1 45.578 Prec@5 74.508</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.255 sec/video, moving Prec@1 45.423 Prec@5 74.452</span><br><span class="line">video 7400 <span class="keyword">done</span>, total 7400/11522, average 0.252 sec/video, moving Prec@1 45.452 Prec@5 74.345</span><br><span class="line">video 7600 <span class="keyword">done</span>, total 7600/11522, average 0.250 sec/video, moving Prec@1 45.427 Prec@5 74.428</span><br><span class="line">video 7800 <span class="keyword">done</span>, total 7800/11522, average 0.249 sec/video, moving Prec@1 45.314 Prec@5 74.507</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.246 sec/video, moving Prec@1 45.268 Prec@5 74.469</span><br><span class="line">video 8200 <span class="keyword">done</span>, total 8200/11522, average 0.243 sec/video, moving Prec@1 45.311 Prec@5 74.531</span><br><span class="line">video 8400 <span class="keyword">done</span>, total 8400/11522, average 0.241 sec/video, moving Prec@1 45.268 Prec@5 74.530</span><br><span class="line">video 8600 <span class="keyword">done</span>, total 8600/11522, average 0.239 sec/video, moving Prec@1 45.203 Prec@5 74.553</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.237 sec/video, moving Prec@1 45.255 Prec@5 74.620</span><br><span class="line">video 9000 <span class="keyword">done</span>, total 9000/11522, average 0.236 sec/video, moving Prec@1 45.161 Prec@5 74.584</span><br><span class="line">video 9200 <span class="keyword">done</span>, total 9200/11522, average 0.234 sec/video, moving Prec@1 45.179 Prec@5 74.604</span><br><span class="line">video 9400 <span class="keyword">done</span>, total 9400/11522, average 0.232 sec/video, moving Prec@1 45.228 Prec@5 74.633</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.230 sec/video, moving Prec@1 45.265 Prec@5 74.631</span><br><span class="line">video 9800 <span class="keyword">done</span>, total 9800/11522, average 0.228 sec/video, moving Prec@1 45.301 Prec@5 74.699</span><br><span class="line">video 10000 <span class="keyword">done</span>, total 10000/11522, average 0.227 sec/video, moving Prec@1 45.305 Prec@5 74.715</span><br><span class="line">video 10200 <span class="keyword">done</span>, total 10200/11522, average 0.225 sec/video, moving Prec@1 45.260 Prec@5 74.760</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.224 sec/video, moving Prec@1 45.312 Prec@5 74.774</span><br><span class="line">video 10600 <span class="keyword">done</span>, total 10600/11522, average 0.223 sec/video, moving Prec@1 45.297 Prec@5 74.807</span><br><span class="line">video 10800 <span class="keyword">done</span>, total 10800/11522, average 0.225 sec/video, moving Prec@1 45.412 Prec@5 74.875</span><br><span class="line">video 11000 <span class="keyword">done</span>, total 11000/11522, average 0.223 sec/video, moving Prec@1 45.441 Prec@5 74.877</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.222 sec/video, moving Prec@1 45.468 Prec@5 74.844</span><br><span class="line">video 11400 <span class="keyword">done</span>, total 11400/11522, average 0.220 sec/video, moving Prec@1 45.451 Prec@5 74.812</span><br><span class="line">[0.86567164 0.25       0.24761905 0.59701493 0.39473684 0.45689655</span><br><span class="line"> 0.62686567 0.29411765 0.52427184 0.62135922 0.4        0.41666667</span><br><span class="line"> 0.25531915 0.32258065 0.61146497 0.42       0.23493976 0.25</span><br><span class="line"> 0.34146341 0.28       0.248      0.60344828 0.5        0.35294118</span><br><span class="line"> 0.5483871  0.33333333 0.43478261 0.4        0.66666667 0.61904762</span><br><span class="line"> 0.54545455 0.5        0.75925926 0.15384615 0.26086957 0.19444444</span><br><span class="line"> 0.81609195 0.7745098  0.13157895 0.55555556 0.69421488 0.66</span><br><span class="line"> 0.60769231 0.55102041 0.71153846 0.60655738 0.45588235 0.33684211</span><br><span class="line"> 0.21348315 0.59398496 0.48113208 0.         0.28       0.45</span><br><span class="line"> 0.19047619 0.16666667 0.36363636 0.46875    0.08333333 0.70408163</span><br><span class="line"> 0.81818182 0.13888889 0.56       0.13636364 0.16666667 0.34259259</span><br><span class="line"> 0.12962963 0.10606061 0.35211268 0.34615385 0.48387097 0.17857143</span><br><span class="line"> 0.39473684 0.48       0.75       0.32258065 0.23529412 0.47058824</span><br><span class="line"> 0.40909091 0.80487805 0.08571429 0.21428571 0.36666667 0.15789474</span><br><span class="line"> 0.6        0.34482759 0.63513514 0.63492063 0.05555556 0.03571429</span><br><span class="line"> 0.56756757 0.70731707 0.48837209 0.50925926 0.61682243 0.16129032</span><br><span class="line"> 0.         0.16666667 0.58479532 0.48529412 0.41836735 0.42592593</span><br><span class="line"> 0.15625    0.57142857 0.6097561  0.54285714 0.40449438 0.56521739</span><br><span class="line"> 0.31578947 0.34065934 0.58823529 0.         0.5        0.19047619</span><br><span class="line"> 0.38679245 0.43333333 0.25454545 0.61702128 0.26829268 0.54166667</span><br><span class="line"> 0.71590909 0.58823529 0.30909091 0.425      0.19444444 0.28571429</span><br><span class="line"> 0.43396226 0.46296296 0.11034483 0.60576923 0.24       0.11111111</span><br><span class="line"> 0.26315789 0.33333333 0.52317881 0.39655172 0.         0.11666667</span><br><span class="line"> 0.10169492 0.60526316 0.61       0.23255814 0.38636364 0.33050847</span><br><span class="line"> 0.49333333 0.45070423 0.52830189 0.14925373 0.4375     0.68</span><br><span class="line"> 0.65454545 0.33870968 0.4        0.77777778 0.48809524 0.07843137</span><br><span class="line"> 0.31147541 0.35714286 0.35643564 0.1875     0.48148148 0.275</span><br><span class="line"> 0.3        0.31034483 0.64705882 0.75757576 0.90291262 0.8490566</span><br><span class="line"> 0.69444444 0.72972973 0.31428571 0.56834532 0.62773723 0.55263158]</span><br><span class="line">upper bound: 0.4377580829893891</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 41.77%</span><br><span class="line">Overall Prec@1 45.42% Prec@5 74.83%</span><br><span class="line">E:\Program Files\Anaconda3\envs\tsm\lib\site-packages\numpy\core\_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>
<h2 id="pan-rgb"><a class="header-anchor" href="#pan-rgb">#</a>PAN RGB</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">$ python test_models.py something --VAP --batch_size=10 -j=4 --test_crops=1 --test_segments=8 --weights=pretrained/PAN_RGB_something_resnet50_shift8_blockres_avg_segment8_e50.pth.tar</span><br><span class="line">something: 174 classes</span><br><span class="line">=&gt; <span class="built_in">shift</span>: True, shift_div: 8, shift_place: blockres</span><br><span class="line"></span><br><span class="line">    Initializing PAN with base model: resnet50.</span><br><span class="line">    PAN Configurations:</span><br><span class="line">        input_modality:     RGB</span><br><span class="line">        num_segments:       8</span><br><span class="line">        new_length:         1</span><br><span class="line">        consensus_module:   avg</span><br><span class="line">        dropout_ratio:      0.8</span><br><span class="line">        img_feature_dim:    256</span><br><span class="line"></span><br><span class="line">=&gt; base model: resnet50</span><br><span class="line">Adding temporal <span class="built_in">shift</span>...</span><br><span class="line">=&gt; Using 3-level VAP</span><br><span class="line">video number:11522</span><br><span class="line">video 0 <span class="keyword">done</span>, total 0/11522, average 3.020 sec/video, moving Prec@1 30.000 Prec@5 70.000</span><br><span class="line">video 200 <span class="keyword">done</span>, total 200/11522, average 0.238 sec/video, moving Prec@1 48.571 Prec@5 77.143</span><br><span class="line">video 400 <span class="keyword">done</span>, total 400/11522, average 0.174 sec/video, moving Prec@1 47.805 Prec@5 77.073</span><br><span class="line">video 600 <span class="keyword">done</span>, total 600/11522, average 0.146 sec/video, moving Prec@1 47.377 Prec@5 77.213</span><br><span class="line">video 800 <span class="keyword">done</span>, total 800/11522, average 0.134 sec/video, moving Prec@1 45.556 Prec@5 75.309</span><br><span class="line">video 1000 <span class="keyword">done</span>, total 1000/11522, average 0.136 sec/video, moving Prec@1 46.139 Prec@5 74.554</span><br><span class="line">video 1200 <span class="keyword">done</span>, total 1200/11522, average 0.132 sec/video, moving Prec@1 45.785 Prec@5 75.124</span><br><span class="line">video 1400 <span class="keyword">done</span>, total 1400/11522, average 0.126 sec/video, moving Prec@1 46.596 Prec@5 74.894</span><br><span class="line">video 1600 <span class="keyword">done</span>, total 1600/11522, average 0.121 sec/video, moving Prec@1 46.770 Prec@5 74.845</span><br><span class="line">video 1800 <span class="keyword">done</span>, total 1800/11522, average 0.121 sec/video, moving Prec@1 45.691 Prec@5 74.088</span><br><span class="line">video 2000 <span class="keyword">done</span>, total 2000/11522, average 0.123 sec/video, moving Prec@1 45.821 Prec@5 74.577</span><br><span class="line">video 2200 <span class="keyword">done</span>, total 2200/11522, average 0.122 sec/video, moving Prec@1 45.520 Prec@5 74.253</span><br><span class="line">video 2400 <span class="keyword">done</span>, total 2400/11522, average 0.122 sec/video, moving Prec@1 45.270 Prec@5 74.191</span><br><span class="line">video 2600 <span class="keyword">done</span>, total 2600/11522, average 0.120 sec/video, moving Prec@1 45.057 Prec@5 74.215</span><br><span class="line">video 2800 <span class="keyword">done</span>, total 2800/11522, average 0.117 sec/video, moving Prec@1 45.089 Prec@5 74.377</span><br><span class="line">video 3000 <span class="keyword">done</span>, total 3000/11522, average 0.114 sec/video, moving Prec@1 45.083 Prec@5 74.319</span><br><span class="line">video 3200 <span class="keyword">done</span>, total 3200/11522, average 0.112 sec/video, moving Prec@1 44.517 Prec@5 74.050</span><br><span class="line">video 3400 <span class="keyword">done</span>, total 3400/11522, average 0.110 sec/video, moving Prec@1 44.516 Prec@5 74.164</span><br><span class="line">video 3600 <span class="keyword">done</span>, total 3600/11522, average 0.109 sec/video, moving Prec@1 44.515 Prec@5 74.072</span><br><span class="line">video 3800 <span class="keyword">done</span>, total 3800/11522, average 0.107 sec/video, moving Prec@1 44.514 Prec@5 73.858</span><br><span class="line">video 4000 <span class="keyword">done</span>, total 4000/11522, average 0.106 sec/video, moving Prec@1 44.214 Prec@5 73.791</span><br><span class="line">video 4200 <span class="keyword">done</span>, total 4200/11522, average 0.106 sec/video, moving Prec@1 44.228 Prec@5 73.753</span><br><span class="line">video 4400 <span class="keyword">done</span>, total 4400/11522, average 0.103 sec/video, moving Prec@1 44.331 Prec@5 73.651</span><br><span class="line">video 4600 <span class="keyword">done</span>, total 4600/11522, average 0.104 sec/video, moving Prec@1 44.555 Prec@5 73.557</span><br><span class="line">video 4800 <span class="keyword">done</span>, total 4800/11522, average 0.102 sec/video, moving Prec@1 44.470 Prec@5 73.451</span><br><span class="line">video 5000 <span class="keyword">done</span>, total 5000/11522, average 0.102 sec/video, moving Prec@1 44.311 Prec@5 73.234</span><br><span class="line">video 5200 <span class="keyword">done</span>, total 5200/11522, average 0.101 sec/video, moving Prec@1 44.376 Prec@5 73.378</span><br><span class="line">video 5400 <span class="keyword">done</span>, total 5400/11522, average 0.100 sec/video, moving Prec@1 44.455 Prec@5 73.420</span><br><span class="line">video 5600 <span class="keyword">done</span>, total 5600/11522, average 0.099 sec/video, moving Prec@1 44.439 Prec@5 73.512</span><br><span class="line">video 5800 <span class="keyword">done</span>, total 5800/11522, average 0.099 sec/video, moving Prec@1 44.389 Prec@5 73.339</span><br><span class="line">video 6000 <span class="keyword">done</span>, total 6000/11522, average 0.098 sec/video, moving Prec@1 44.476 Prec@5 73.494</span><br><span class="line">video 6200 <span class="keyword">done</span>, total 6200/11522, average 0.098 sec/video, moving Prec@1 44.477 Prec@5 73.333</span><br><span class="line">video 6400 <span class="keyword">done</span>, total 6400/11522, average 0.098 sec/video, moving Prec@1 44.524 Prec@5 73.526</span><br><span class="line">video 6600 <span class="keyword">done</span>, total 6600/11522, average 0.097 sec/video, moving Prec@1 44.493 Prec@5 73.510</span><br><span class="line">video 6800 <span class="keyword">done</span>, total 6800/11522, average 0.097 sec/video, moving Prec@1 44.508 Prec@5 73.465</span><br><span class="line">video 7000 <span class="keyword">done</span>, total 7000/11522, average 0.096 sec/video, moving Prec@1 44.479 Prec@5 73.466</span><br><span class="line">video 7200 <span class="keyword">done</span>, total 7200/11522, average 0.096 sec/video, moving Prec@1 44.466 Prec@5 73.412</span><br><span class="line">video 7400 <span class="keyword">done</span>, total 7400/11522, average 0.096 sec/video, moving Prec@1 44.467 Prec@5 73.387</span><br><span class="line">video 7600 <span class="keyword">done</span>, total 7600/11522, average 0.096 sec/video, moving Prec@1 44.507 Prec@5 73.443</span><br><span class="line">video 7800 <span class="keyword">done</span>, total 7800/11522, average 0.096 sec/video, moving Prec@1 44.469 Prec@5 73.444</span><br><span class="line">video 8000 <span class="keyword">done</span>, total 8000/11522, average 0.095 sec/video, moving Prec@1 44.444 Prec@5 73.496</span><br><span class="line">video 8200 <span class="keyword">done</span>, total 8200/11522, average 0.095 sec/video, moving Prec@1 44.434 Prec@5 73.423</span><br><span class="line">video 8400 <span class="keyword">done</span>, total 8400/11522, average 0.094 sec/video, moving Prec@1 44.566 Prec@5 73.508</span><br><span class="line">video 8600 <span class="keyword">done</span>, total 8600/11522, average 0.094 sec/video, moving Prec@1 44.390 Prec@5 73.473</span><br><span class="line">video 8800 <span class="keyword">done</span>, total 8800/11522, average 0.094 sec/video, moving Prec@1 44.563 Prec@5 73.496</span><br><span class="line">video 9000 <span class="keyword">done</span>, total 9000/11522, average 0.093 sec/video, moving Prec@1 44.584 Prec@5 73.496</span><br><span class="line">video 9200 <span class="keyword">done</span>, total 9200/11522, average 0.092 sec/video, moving Prec@1 44.680 Prec@5 73.496</span><br><span class="line">video 9400 <span class="keyword">done</span>, total 9400/11522, average 0.092 sec/video, moving Prec@1 44.644 Prec@5 73.464</span><br><span class="line">video 9600 <span class="keyword">done</span>, total 9600/11522, average 0.092 sec/video, moving Prec@1 44.776 Prec@5 73.569</span><br><span class="line">video 9800 <span class="keyword">done</span>, total 9800/11522, average 0.092 sec/video, moving Prec@1 44.801 Prec@5 73.649</span><br><span class="line">video 10000 <span class="keyword">done</span>, total 10000/11522, average 0.091 sec/video, moving Prec@1 44.775 Prec@5 73.666</span><br><span class="line">video 10200 <span class="keyword">done</span>, total 10200/11522, average 0.091 sec/video, moving Prec@1 44.848 Prec@5 73.761</span><br><span class="line">video 10400 <span class="keyword">done</span>, total 10400/11522, average 0.091 sec/video, moving Prec@1 44.861 Prec@5 73.737</span><br><span class="line">video 10600 <span class="keyword">done</span>, total 10600/11522, average 0.091 sec/video, moving Prec@1 44.882 Prec@5 73.723</span><br><span class="line">video 10800 <span class="keyword">done</span>, total 10800/11522, average 0.091 sec/video, moving Prec@1 44.986 Prec@5 73.747</span><br><span class="line">video 11000 <span class="keyword">done</span>, total 11000/11522, average 0.090 sec/video, moving Prec@1 44.932 Prec@5 73.706</span><br><span class="line">video 11200 <span class="keyword">done</span>, total 11200/11522, average 0.090 sec/video, moving Prec@1 44.996 Prec@5 73.747</span><br><span class="line">video 11400 <span class="keyword">done</span>, total 11400/11522, average 0.090 sec/video, moving Prec@1 44.978 Prec@5 73.699</span><br><span class="line">[0.7761194  0.275      0.19047619 0.62686567 0.23684211 0.40517241</span><br><span class="line"> 0.62686567 0.44117647 0.45631068 0.6407767  0.37333333 0.38888889</span><br><span class="line"> 0.24468085 0.32258065 0.7133758  0.36       0.19879518 0.225</span><br><span class="line"> 0.39837398 0.28       0.32       0.48275862 0.40740741 0.43137255</span><br><span class="line"> 0.32258065 0.33333333 0.39130435 0.28       0.60606061 0.53968254</span><br><span class="line"> 0.63636364 0.57692308 0.72222222 0.10989011 0.23913043 0.16666667</span><br><span class="line"> 0.7816092  0.78431373 0.05263158 0.48148148 0.62809917 0.54</span><br><span class="line"> 0.66923077 0.63265306 0.59615385 0.52459016 0.41176471 0.34736842</span><br><span class="line"> 0.15730337 0.66165414 0.56603774 0.         0.36       0.4</span><br><span class="line"> 0.19047619 0.29166667 0.39393939 0.40625    0.         0.73469388</span><br><span class="line"> 0.60606061 0.13888889 0.6        0.11818182 0.1        0.38888889</span><br><span class="line"> 0.11111111 0.15151515 0.43661972 0.30769231 0.48387097 0.25</span><br><span class="line"> 0.5        0.44       0.7        0.41935484 0.29411765 0.29411765</span><br><span class="line"> 0.13636364 0.63414634 0.11428571 0.14285714 0.33333333 0.10526316</span><br><span class="line"> 0.62857143 0.29310345 0.52702703 0.55555556 0.16666667 0.10714286</span><br><span class="line"> 0.48648649 0.68292683 0.41860465 0.46296296 0.57009346 0.27419355</span><br><span class="line"> 0.03703704 0.11904762 0.41520468 0.41176471 0.24489796 0.51851852</span><br><span class="line"> 0.21875    0.46938776 0.42682927 0.6        0.5505618  0.75362319</span><br><span class="line"> 0.47368421 0.2967033  0.54901961 0.11764706 0.60810811 0.38095238</span><br><span class="line"> 0.66037736 0.36666667 0.21818182 0.62765957 0.2195122  0.58333333</span><br><span class="line"> 0.79545455 0.54901961 0.35454545 0.425      0.36111111 0.44897959</span><br><span class="line"> 0.49056604 0.53703704 0.15862069 0.53846154 0.22       0.18518519</span><br><span class="line"> 0.13157895 0.23333333 0.64238411 0.29310345 0.07142857 0.45</span><br><span class="line"> 0.08474576 0.51315789 0.57       0.34883721 0.25       0.38135593</span><br><span class="line"> 0.56       0.33098592 0.6509434  0.17910448 0.484375   0.752</span><br><span class="line"> 0.56363636 0.12903226 0.28333333 0.7037037  0.5        0.15686275</span><br><span class="line"> 0.18032787 0.21428571 0.43564356 0.4375     0.24074074 0.25</span><br><span class="line"> 0.26       0.31034483 0.60784314 0.66666667 0.83495146 0.75471698</span><br><span class="line"> 0.68518519 0.45945946 0.44761905 0.61870504 0.59124088 0.71052632]</span><br><span class="line">upper bound: 0.42524204990350917</span><br><span class="line">-----Evaluation is finished------</span><br><span class="line">Class Accuracy 40.94%</span><br><span class="line">Overall Prec@1 44.97% Prec@5 73.69%</span><br><span class="line">E:\Program Files\Anaconda3\envs\tsm\lib\site-packages\numpy\core\_asarray.py:136: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (<span class="built_in">which</span> is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to <span class="keyword">do</span> this, you must specify <span class="string">'dtype=object'</span> when creating the ndarray  <span class="built_in">return</span> array(a, dtype, copy=False, order=order, subok=True)</span><br></pre></td></tr></table></figure>

      </div>
      
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/blog/tags/%E8%A1%8C%E4%B8%BA%E8%AF%86%E5%88%AB/">行为识别</a>
            <a href="/blog/tags/action-recognition/">action recognition</a>
            <a href="/blog/tags/pan/">pan</a>
            <a href="/blog/tags/pan-lite/">pan lite</a>
            <a href="/blog/tags/pan-full/">pan full</a>
            <a href="/blog/tags/pan-en/">pan en</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/blog/2020/10/08/bert-note-1/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">BERT相关笔记（一）</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/blog/2020/10/06/ubuntu-subsystem-in-windows/">
        <span class="next-text nav-default">Windows下的Ubuntu子系统</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"><div id="gitalk-container"></div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:onns@onns.xyz" class="iconfont icon-email" title="email"></a>
        <a href="https://facebook.com/onnsxyz" target="_blank" rel="noopener" class="iconfont icon-facebook" title="facebook"></a>
        <a href="https://github.com/onns" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        <a href="https://www.douban.com/people/onnsxyz/" target="_blank" rel="noopener" class="iconfont icon-douban" title="douban"></a>
        <a href="https://instagram.com/onnsxyz" target="_blank" rel="noopener" class="iconfont icon-instagram" title="instagram"></a>
        <a href="/blog/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2022<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Onns</span>
    <span class="licence"> <a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener">闽ICP备15022938号-2</a> </span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"/>


<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>

<script>
  var gitalk = new Gitalk({
    clientID: '7ebadcd52312c2b34f81',
    clientSecret: '052f4cb2121b344c1acd459e277d1bcdc53d1bce',
    repo: 'onns.xyz',
    owner: 'onns',
    admin: ['onns'],
    id: md5(location.pathname),
    
      language: window.navigator.language || window.navigator.userLanguage,
    
    distractionFreeMode: 'true'
  });
  gitalk.render('gitalk-container');
</script><script type="text/javascript" src="/blog/js/src/even.js?v=2.11.0"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
